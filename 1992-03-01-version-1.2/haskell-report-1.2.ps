%!PS-Adobe-2.0
%%Creator: dvips 5.47 Copyright 1986-91 Radical Eye Software
%%Title: haskell.dvi
%%Pages: 178 1
%%BoundingBox: 0 0 596 843
%%EndComments
%%BeginProcSet: tex.pro
/TeXDict 200 dict def TeXDict begin /N /def load def /B{bind def}N /S /exch
load def /X{S N}B /TR /translate load N /isls false N /vsize 10 N /@rigin{
isls{[0 1 -1 0 0 0]concat}if 72 Resolution div 72 VResolution div neg scale
Resolution VResolution vsize neg mul TR matrix currentmatrix dup dup 4 get
round 4 exch put dup dup 5 get round 5 exch put setmatrix}N /@letter{/vsize 10
N}B /@landscape{/isls true N /vsize -1 N}B /@a4{/vsize 10.6929133858 N}B /@a3{
/vsize 15.5531 N}B /@ledger{/vsize 16 N}B /@legal{/vsize 13 N}B /@manualfeed{
statusdict /manualfeed true put}B /@copies{/#copies X}B /FMat[1 0 0 -1 0 0]N
/FBB[0 0 0 0]N /nn 0 N /IE 0 N /ctr 0 N /df-tail{/nn 8 dict N nn begin
/FontType 3 N /FontMatrix fntrx N /FontBBox FBB N string /base X array
/BitMaps X /BuildChar{CharBuilder}N /Encoding IE N end dup{/foo setfont}2
array copy cvx N load 0 nn put /ctr 0 N[}B /df{/sf 1 N /fntrx FMat N df-tail}
B /dfs{div /sf X /fntrx[sf 0 0 sf neg 0 0]N df-tail}B /E{pop nn dup definefont
setfont}B /ch-width{ch-data dup length 5 sub get}B /ch-height{ch-data dup
length 4 sub get}B /ch-xoff{128 ch-data dup length 3 sub get sub}B /ch-yoff{
ch-data dup length 2 sub get 127 sub}B /ch-dx{ch-data dup length 1 sub get}B
/ch-image{ch-data dup type /stringtype ne{ctr get /ctr ctr 1 add N}if}B /id 0
N /rw 0 N /rc 0 N /gp 0 N /cp 0 N /G 0 N /sf 0 N /CharBuilder{save 3 1 roll S
dup /base get 2 index get S /BitMaps get S get /ch-data X pop /ctr 0 N ch-dx 0
ch-xoff ch-yoff ch-height sub ch-xoff ch-width add ch-yoff setcachedevice
ch-width ch-height true[1 0 0 -1 -.1 ch-xoff sub ch-yoff .1 add]{ch-image}
imagemask restore}B /D{/cc X dup type /stringtype ne{]}if nn /base get cc ctr
put nn /BitMaps get S ctr S sf 1 ne{dup dup length 1 sub dup 2 index S get sf
div put}if put /ctr ctr 1 add N}B /I{cc 1 add D}B /bop{userdict /bop-hook
known{bop-hook}if /SI save N @rigin 0 0 moveto}N /eop{clear SI restore
showpage userdict /eop-hook known{eop-hook}if}N /@start{userdict /start-hook
known{start-hook}if /VResolution X /Resolution X 1000 div /DVImag X /IE 256
array N 0 1 255{IE S 1 string dup 0 3 index put cvn put}for}N /p /show load N
/RMat[1 0 0 -1 0 0]N /BDot 260 string N /rulex 0 N /ruley 0 N /v{/ruley X
/rulex X V}B /V statusdict begin /product where{pop product dup length 7 ge{0
7 getinterval(Display)eq}{pop false}ifelse}{false}ifelse end{{gsave TR -.1 -.1
TR 1 1 scale rulex ruley false RMat{BDot}imagemask grestore}}{{gsave TR -.1
-.1 TR rulex ruley scale 1 1 false RMat{BDot}imagemask grestore}}ifelse B /a{
moveto}B /delta 0 N /tail{dup /delta X 0 rmoveto}B /M{S p delta add tail}B /b{
S p tail}B /c{-4 M}B /d{-3 M}B /e{-2 M}B /f{-1 M}B /g{0 M}B /h{1 M}B /i{2 M}B
/j{3 M}B /k{4 M}B /w{0 rmoveto}B /l{p -4 w}B /m{p -3 w}B /n{p -2 w}B /o{p -1 w
}B /q{p 1 w}B /r{p 2 w}B /s{p 3 w}B /t{p 4 w}B /x{0 S rmoveto}B /y{3 2 roll p
a}B /bos{/SS save N}B /eos{clear SS restore}B end
%%EndProcSet
TeXDict begin 1000 300 300 @start /Fa 6 116 df<001800001800001800003C00003C00
004E00004E00004E000087000087000187800103800103800201C00201C003FFC00400E00400E0
0800700800701800703C0078FE01FF18177F961C>97 D<FFFF801C03801C01801C00801C00C01C
00401C00401C10401C10001C10001C30001FF0001C30001C10001C10201C10201C00201C00601C
00401C00401C00C01C01C0FFFFC013177D9619>101 D<FF9FF01C03801C03801C03801C03801C
03801C03801C03801C03801C03801C03801FFF801C03801C03801C03801C03801C03801C03801C
03801C03801C03801C0380FF9FF014177D961C>104 D<FF81FC1C00F01C00C01C00801C01001C
02001C04001C08001C10001C30001C78001C98001D1C001E0E001C07001C07001C03801C01C01C
01C01C00E01C00F01C00F8FF81FE17177D961D>107 D<FFC01C001C001C001C001C001C001C00
1C001C001C001C001C001C001C011C011C011C011C031C021C061C0EFFFE10177D9617>I<0F84
306C601C400CC004C004C004E00070007F003FE01FF801FC001C000E0006800680068006C004E0
08D81087E00F177E9615>115 D E /Fb 27 122 df<003800007C00007C00006C0000EE0000EE
0000EE0000C60000C60001C70001C70001C70001C7000383800383800383800383800701C00701
C007FFC007FFC00FFFE00E00E00E00E00E00E00E00E01C00707F01FCFF83FE7F01FC171E7F9D1A
>65 D<FFFE00FFFF80FFFFC01C03E01C00E01C00F01C00701C00701C00701C00701C00E01C01E0
1C07C01FFF801FFF801FFFC01C01E01C00F01C00701C00381C00381C00381C00381C00381C0078
1C00F01C01F0FFFFE0FFFFC0FFFF00151E7E9D1A>I<007C3801FF3807FFF80F83F81E00F81C00
78380078380038700038700038700000E00000E00000E00000E00000E00000E00000E00000E000
007000007000387000383800383800381C00701E00F00F83E007FFC001FF80007C00151E7E9D1A
>I<FFFF80FFFF80FFFF8001C00001C00001C00001C00001C00001C00001C00001C00001C00001
C00001C00001C00001C00001C00001C00001C00001C00001C00001C00001C00001C00001C00001
C00001C000FFFF80FFFF80FFFF80111E7C9D1A>73 D<7FE000FFF0007FE0000E00000E00000E00
000E00000E00000E00000E00000E00000E00000E00000E00000E00000E00000E00000E00000E00
000E00000E00000E00000E001C0E001C0E001C0E001C0E001C7FFFFCFFFFFC7FFFFC161E7F9D1A
>76 D<0FFE003FFF807FFFC07C07C07001C0F001E0E000E0E000E0E000E0E000E0E000E0E000E0
E000E0E000E0E000E0E000E0E000E0E000E0E000E0E000E0E000E0E000E0E000E0F001E0F001E0
7001C07C07C07FFFC03FFF800FFE00131E7D9D1A>79 D<FFFE00FFFF80FFFFC01C03E01C00F01C
00701C00781C00381C00381C00381C00381C00781C00701C00F01C03E01FFFC01FFF801FFE001C
00001C00001C00001C00001C00001C00001C00001C00001C0000FF8000FF8000FF8000151E7E9D
1A>I<FFFC00FFFF00FFFF801C07C01C01E01C00F01C00701C00701C00701C00701C00F01C01E0
1C07C01FFF801FFF001FFF801C07C01C01C01C00E01C00E01C00E01C00E01C00E01C00E21C00E7
1C00E71C00E7FF807EFF807EFF8038181E7F9D1A>82 D<7FFFFEFFFFFEFFFFFEE0380EE0380EE0
380EE0380E00380000380000380000380000380000380000380000380000380000380000380000
380000380000380000380000380000380000380000380000380003FF8003FF8003FF80171E7F9D
1A>84 D<1FF0003FFC007FFE00780F00300700000380000380007F8007FF801FFF803F83807803
80700380E00380E00380E00380700780780F803FFFFC1FFDFC07F0FC16157D941A>97
D<00FF8003FFC00FFFE01F01E03C00C0780000700000700000E00000E00000E00000E00000E000
007000007000007800703C00701F01F00FFFE003FFC000FE0014157D941A>99
D<001FC0001FC0001FC00001C00001C00001C00001C00001C00001C001F1C007FDC00FFFC01E0F
C03C07C07803C07001C0E001C0E001C0E001C0E001C0E001C0E001C0E001C07003C07003C03807
C03E0FC01FFFFC07FDFC01F1FC161E7E9D1A>I<01F80007FF000FFF801E07C03C01C07800E070
00E0E00070E00070FFFFF0FFFFF0FFFFF0E000007000007000007800703C00701F01F00FFFE003
FFC000FE0014157D941A>I<FE0000FE0000FE00000E00000E00000E00000E00000E00000E0000
0E3E000EFF800FFFC00FC1C00F80E00F00E00E00E00E00E00E00E00E00E00E00E00E00E00E00E0
0E00E00E00E00E00E00E00E00E00E0FFE3FEFFE7FEFFE3FE171E7F9D1A>104
D<00C00001E00001E00000C0000000000000000000000000000000000000007FE0007FE0007FE0
0000E00000E00000E00000E00000E00000E00000E00000E00000E00000E00000E00000E00000E0
0000E00000E0007FFF80FFFFC07FFF80121F7C9E1A>I<FFE000FFE000FFE00000E00000E00000
E00000E00000E00000E00000E00000E00000E00000E00000E00000E00000E00000E00000E00000
E00000E00000E00000E00000E00000E00000E00000E00000E000FFFFE0FFFFE0FFFFE0131E7D9D
1A>108 D<7CE0E000FFFBF8007FFFF8001F1F1C001E1E1C001E1E1C001C1C1C001C1C1C001C1C
1C001C1C1C001C1C1C001C1C1C001C1C1C001C1C1C001C1C1C001C1C1C001C1C1C001C1C1C007F
1F1F00FF9F9F807F1F1F00191580941A>I<FE3E00FEFF80FFFFC00FC1C00F80E00F00E00E00E0
0E00E00E00E00E00E00E00E00E00E00E00E00E00E00E00E00E00E00E00E00E00E0FFE3FEFFE7FE
FFE3FE17157F941A>I<01F00007FC001FFF003E0F803C07807803C07001C0E000E0E000E0E000
E0E000E0E000E0E000E0F001E07001C07803C03C07803E0F801FFF0007FC0001F00013157D941A
>I<FE3E00FEFF80FFFFE00FC1F00F80700F00380E00380E001C0E001C0E001C0E001C0E001C0E
001C0E001C0F00380F00780F80F00FC1E00FFFC00EFF800E3E000E00000E00000E00000E00000E
00000E00000E00000E0000FFE000FFE000FFE00016207F941A>I<7F83F0FF8FF87FBFFC03FC3C
03F01803E00003C00003C000038000038000038000038000038000038000038000038000038000
0380007FFF00FFFF007FFF0016157E941A>114 D<07FB801FFF807FFF80780780E00380E00380
E003807800007FC0003FFC0007FE00003F800007806001C0E001C0E001C0F003C0FC0780FFFF00
EFFE00E3F80012157C941A>I<00C00001C00001C00001C00001C00001C00001C0007FFFE0FFFF
E0FFFFE001C00001C00001C00001C00001C00001C00001C00001C00001C00001C00001C07001C0
7001C07001C07000E0E000FFE0007FC0001F00141C7F9B1A>I<FE0FE0FE0FE0FE0FE00E00E00E
00E00E00E00E00E00E00E00E00E00E00E00E00E00E00E00E00E00E00E00E00E00E00E00E01E00F
03E007FFFE03FFFE00FCFE17157F941A>I<FF83FEFFC7FEFF83FE3800383800381C00701C0070
1C00701C38701C7C701C7C700E6CE00E6CE00EEEE00EEEE00EEEE00EC6E006C6C007C7C007C7C0
03838017157F941A>119 D<7FC7F87FCFFC7FC7F80703C003838003C70001EF0000FE00007C00
007800003800007C0000EE0001EE0001C7000383800783C00F01C07FC7FCFFC7FE7FC7FC17157F
941A>I<7FC3FCFFC7FE7FC3FC0E00E00E00E00700E00701C00781C00381C003838003C38001C3
8001C70000E70000E70000E600006600006E00003C00003C00003C000038000038000038000070
0000700030700078E00071E0007FC0003F80001E000017207F941A>I E
/Fc 3 84 df<00000000C000000001E000000003E000000003C000000007C00000000F80000000
1F000000001E000000003E000000007C00000000F800000000F000000001F000000003E0000000
07C000000007800000000F800000001F000000003E000000003C000000007C00000000F8000000
01F000000001E000000003E000000007C000000007800000000F800000001F000000003E000000
003C000000007C00000000F800000001F000000001E000000003E000000007C00000000F800000
000F000000001F000000003E000000007C000000007800000000F800000000F000000000600000
0000232E82AB1F>19 D<00000000001800000000003C0000000000FC0000000001F80000000003
F00000000007E0000000001F80000000003F00000000007E0000000001FC0000000003F0000000
0007E0000000000FC0000000003F00000000007E0000000000FC0000000001F80000000007E000
0000000FC0000000001F80000000007F0000000000FC0000000001F80000000003F0000000000F
C0000000001F80000000003F00000000007E0000000001F80000000003F00000000007E0000000
001FC0000000003F00000000007E0000000000FC0000000000F000000000006000000000002E25
82A22A>35 D<6000000000F000000000F80000000078000000007C000000003E000000001F0000
00000F000000000F8000000007C000000003E000000001E000000001F000000000F8000000007C
000000003C000000003E000000001F000000000F80000000078000000007C000000003E0000000
01E000000001F000000000F8000000007C000000003C000000003E000000001F000000000F8000
0000078000000007C000000003E000000001F000000000F000000000F8000000007C000000003E
000000001E000000001F000000000F8000000007C000000003C000000003E000000001E0000000
00C0232E82AB1F>83 D E /Fd 2 85 df<0007E040003C18C000E005C001C003C0038001800700
01800E0001801C0001803C000100380001007800000078000000F0000000F0000000F0000000F0
000000F0000400F0000400F0000400F00008007000100030001000380060001C00800007030000
01FC00001A1A7E991B>67 D<3FFFFF80380E0180200E0080400E0080401C0080801C0080801C00
80801C0080003800000038000000380000003800000070000000700000007000000070000000E0
000000E0000000E0000000E0000001C0000001C0000001C0000001C0000003C000007FFE000019
1A7F9916>84 D E /Fe 1 106 df<0808000000007098B0303060646870060F7D8E0B>105
D E /Ff 3 111 df<02061E2C0C0C0C1818181830FE070D7D8C0D>49 D<10100000000060B0E0
6060C0D0E0E0040F7D8E08>105 D<6F00B100B1806300630063006640C680C3000A097D880E>
110 D E /Fg 1 41 df<00001C00003C0000F80001E00003C0000780000F00000E00001E00003C
00003C00003C000078000078000078000078000078000078000078000078000078000078000078
000078000078000078000078000078000078000078000078000078000078000078000078000078
000078000078000078000078000078000078000078000078000078000078000078000078000078
0000780000F00000F00000F00001E00001E00003C0000380000700000E00001C0000780000E000
00E000007800001C00000E000007000003800003C00001E00001E00000F00000F00000F0000078
000078000078000078000078000078000078000078000078000078000078000078000078000078
000078000078000078000078000078000078000078000078000078000078000078000078000078
00007800007800007800007800007800007800007800007800007800007800007800003C00003C
00003C00001E00000E00000F000007800003C00001E00000F800003C00001C167C7B8121>40
D E /Fh 1 49 df<181818303030606060C0C0050B7E8B09>48 D E /Fi
7 107 df<FFFFC0FFFFC012027D871A>0 D<040E0E1C1C1C38383070706060C0C0070F7F8F0A>
48 D<00E00300060006000600060006000600060006000600060006001C00F0001C0006000600
060006000600060006000600060006000600030000E00B1D7E9511>102
D<F0001C0006000600060006000600060006000600060006000600030000E00300060006000600
060006000600060006000600060006001C00F0000B1D7E9511>I<040C0C181818303030306060
60C0C0C0C0606060303030301818180C0C04061E7D950D>I<C0C0C0606060303030301818180C
0C0C0C18181830303030606060C0C0C0061E7E950D>I<C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0
C0C0C0C0C0C0C0C0C0C0C0C0C0021D7D950A>I E /Fj 6 111 df<40E06020202040408003097D
820A>59 D<06070600000000384C4C8C98181830326262643808147F930C>105
D<0060007000600000000000000000038004C0046008C008C000C000C001800180018001800300
0300030003006600E600CC0078000C1A81930E>I<3E0006000C000C000C000C001800187018B8
19383230340038003E006300631063106310C320C1C00D147E9312>I<30F87C00590C86004E0D
06009C0E0600980C0600180C0600180C060030180C0030180C8030181880301818806030190060
300E00190D7F8C1D>109 D<30F8590C4E0C9C0C980C180C180C30183019303130316032601C10
0D7F8C15>I E /Fk 25 119 df<03C00C201830103030302030603060306030C060C060C060C0
40C0C080C08180C100C6003C000C137B9212>48 D<0020004000C003C00CC00180018001800180
030003000300030006000600060006000C00FFC00B137C9212>I<01F00618080C120C110C220C
220C240C181800300060018006000800100420047C18C7F081E00E137D9212>I<00F0030C0404
0A0609060A0C0C0C0018007003E00030003000300030C0308030806041C03F000F137D9212>I<
00F0030804180818100030006000678078C0E040E060C060C060C0C080C08080C10042003C000D
137B9212>54 D<27023F8C70784018801080200060004000C00080018001000300030006000600
06000C000C000F137B9212>I<000300000300000700000B00000B000013000033000023000041
8000418000818001018001FF800201800601800401800801C00800C01800C0FC07F014147E9319
>65 D<07C03F8000C00C0001600800016008000120080001300800023010000218100002181000
020C1000040C200004042000040620000402200008034000080340000801C0000801C000180080
00FE00800019147E9319>78 D<FE00F81800601800C00C01800C01000E02000604000608000310
0003200003C0000180000180000180000300000300000300000300000600003FC00015147A9319
>89 D<07B00C7010703060606060606060C0C0C0C8C0C841C862D03C700D0D7C8C12>97
D<7C000C00180018001800180030003700388030C060C060C060C060C0C180C180C10043006600
38000A147C9310>I<007C000C0018001800180018003007B00C7010703060606060606060C0C0
C0C8C0C841C862D03C700E147C9312>100 D<07800C401020304060407F8060004000C0004020
604021801E000B0D7C8C10>I<01D8023804380C3018301830183030603060306010E019C00EC0
00C000C00180C180C3007C000D137E8C10>103 D<02060000000000384C4C8C98181830326262
643807147D930B>105 D<0030002000000000000000000000038004C0046008C008C000C000C0
018001800180018003000300030003000600C600CC0078000C1A81930B>I<3E0006000C000C00
0C000C0018001870189819103200340038003E006300631063106310C320C1C00D147D9310>I<
30F878590D8C4E0E0C9C0E0C980C0C180C0C180C0C30181830181930183130183160303260301C
180D7D8C1C>109 D<30F05B184C189C189818181818183030303230623062606460380F0D7D8C
13>I<03800C6018203030603060306030C060C06040C0608023001E000C0D7C8C12>I<0C78168C
130426062606060606060C0C0C0C0C080C101A2019C018001800300030003000FC000F137F8C12
>I<31F05A184C109C009800180018003000300030003000600060000D0D7D8C0F>114
D<0700188018C0308038001E001F0003800180C180810082007C000A0D7D8C0E>I<04000C000C
000C001800FF8018001800300030003000300060006100610062006400380009127D910C>I<38
104C384C108C10981018101810302030203040304018800F000D0D7D8C10>118
D E /Fl 14 107 df<FFFFFFC0FFFFFFC01A027C8B23>0 D<70F8F8F87005057C8D0D>I<03C00F
F01FF83FFC7FFE7FFEFFFFFFFFFFFFFFFFFFFFFFFF7FFE7FFE3FFC1FF80FF003C010127D9317>
15 D<000000C0000003C000000F0000003C000000F0000003C00000070000001C000000780000
01E00000078000001E00000078000000E0000000780000001E0000000780000001E00000007800
00001C0000000700000003C0000000F00000003C0000000F00000003C0000000C0000000000000
000000000000000000000000000000000000000000007FFFFF80FFFFFFC01A247C9C23>20
D<C0000000F00000003C0000000F00000003C0000000F0000000380000000E0000000780000001
E0000000780000001E0000000780000001C00000078000001E00000078000001E0000007800000
0E00000038000000F0000003C000000F0000003C00000070000000C00000000000000000000000
00000000000000000000000000000000000000007FFFFF80FFFFFFC01A247C9C23>I<00000004
00000000020000000002000000000100000000008000000000400000000020FFFFFFFFFCFFFFFF
FFFC00000000200000000040000000008000000001000000000200000000020000000004002610
7D922D>33 D<0000020000000003000000000300000000018000000000C000000000C000000000
60007FFFFFF000FFFFFFFC000000000E00000000038000000001F0000000007C00000000F00000
0003C000000007000000000C00FFFFFFF8007FFFFFF0000000006000000000C000000001800000
00018000000003000000000300000000020000261A7D972D>41 D<400001C00003600006600006
60000630000C30000C30000C1800181800181800180FFFF00FFFF00C0030060060060060060060
0300C00300C001818001818001818000C30000C30000C300006600006600006600003C00003C00
003C000018000018001821809F19>56 D<00040000000C0000000C0000000C0000000C0000000C
0000000C0000000C0000000C0000000C0000000C0000000C0000000C0000000C0000000C000000
0C0000000C0000000C0000000C0000000C0000000C0000000C0000000C0000000C0000000C0000
000C0000FFFFFFE0FFFFFFE01B1C7C9B23>63 D<7FE0FFE0C000C000C000C000C000C000C000C0
00C000C000C000C000C000C000C000C000C000C000C000C000C000C000C000C000C000C000C000
C000C000C000C000C000C000C000C000C000C000C000C000C000C000C000C00040000B2E78A114
>100 D<FFE0FFE000600060006000600060006000600060006000600060006000600060006000
600060006000600060006000600060006000600060006000600060006000600060006000600060
0060006000600060006000600060006000200B2E80A114>I<000F0038006000E001C001C001C0
01C001C001C001C001C001C001C001C001C001C001C001C0038007001E00F8001E000700038001
C001C001C001C001C001C001C001C001C001C001C001C001C001C001C000E000600038000F102D
7DA117>I<F8001E000700038001C001C001C001C001C001C001C001C001C001C001C001C001C0
01C001C000E000600038000F0038006000E001C001C001C001C001C001C001C001C001C001C001
C001C001C001C001C0038007001E00F800102D7DA117>I<C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0
C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0022D7BA10D>106
D E /Fm 47 122 df<60C0F1E0F9F068D0081008100810102010202040C1800C0B7F9913>34
D<60F0F868080808101020C0050B7D990B>39 D<00800100020004000C00080018003000300030
006000600060006000E000E000E000E000E000E000E000E000E000E00060006000600060003000
30003000180008000C00040002000100008009267D9B0F>I<8000400020001000180008000C00
060006000600030003000300030003800380038003800380038003800380038003800300030003
0003000600060006000C0008001800100020004000800009267E9B0F>I<60F0F0701010102020
4080040B7D830B>44 D<60F0F06004047D830B>46 D<03000700FF000700070007000700070007
0007000700070007000700070007000700070007000700070007000700FFF00C187D9713>49
D<0F8010E02070607870382038007800700070006000C00F8000E000700038003C003CE03CE03C
C03C4038407030E00F800E187E9713>51 D<00300030007000F000F001700370027004700C7008
701070307020704070C070FFFF00700070007000700070007007FF10187F9713>I<30183FF03F
E03FC02000200020002000200027C03860203000380018001C001C401CE01CE01C801840384030
30E00F800E187E9713>I<000C0000000C0000000C0000001E0000001E0000003F000000270000
002700000043800000438000004380000081C0000081C0000081C0000100E0000100E00001FFE0
00020070000200700006007800040038000400380008001C0008001C001C001E00FF00FFC01A1A
7F991D>65 D<FFFFE00E00E00E00600E00200E00300E00100E00100E00100E04000E04000E0400
0E0C000FFC000E0C000E04000E04000E04000E00000E00000E00000E00000E00000E00000E0000
0E0000FFF000141A7E9919>70 D<FFE00E000E000E000E000E000E000E000E000E000E000E000E
000E000E000E000E000E000E000E000E000E000E000E000E00FFE00B1A7F990E>73
D<1FFC00E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E0
00E040E0E0E0E0E041C061801E000E1A7D9914>I<FFF0000E00000E00000E00000E00000E0000
0E00000E00000E00000E00000E00000E00000E00000E00000E00000E00000E00000E00200E0020
0E00200E00600E00400E00400E00C00E03C0FFFFC0131A7E9918>76 D<FF0003FC0F0003C00F00
03C00B8005C00B8005C00B8005C009C009C009C009C009C009C008E011C008E011C008E011C008
7021C0087021C0083841C0083841C0083841C0081C81C0081C81C0081C81C0080F01C0080F01C0
080F01C0080601C01C0601C0FF861FFC1E1A7E9923>I<FFFF000E03C00E00E00E00700E00700E
00780E00780E00780E00780E00700E00700E00E00E03C00FFF000E00000E00000E00000E00000E
00000E00000E00000E00000E00000E00000E0000FFE000151A7E991A>80
D<FFFC00000E0780000E01C0000E00E0000E00F0000E00F0000E00F0000E00F0000E00F0000E00
E0000E01C0000E0780000FFC00000E0600000E0300000E0180000E01C0000E01C0000E01C0000E
01E0000E01E0000E01E0000E01E0800E00F0800E007100FFE03E00191A7E991C>82
D<0FC21836200E6006C006C002C002C002E00070007E003FE01FF807FC003E000E000700038003
80038003C002C006E004D81887E0101A7E9915>I<7FFFFF00701C0700401C0100401C0100C01C
0180801C0080801C0080801C0080001C0000001C0000001C0000001C0000001C0000001C000000
1C0000001C0000001C0000001C0000001C0000001C0000001C0000001C0000001C0000001C0000
001C000003FFE000191A7F991C>I<FEFEC0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0
C0C0C0C0C0C0C0C0C0C0C0FEFE07257D9B0B>91 D<1830204040804080810081008100B160F9F0
78F030600C0B7B9913>I<FEFE0606060606060606060606060606060606060606060606060606
06060606060606FEFE0725809B0B>I<3F8070C070E020700070007007F01C7030707070E070E0
71E071E0F171FB1E3C10107E8F13>97 D<FC00001C00001C00001C00001C00001C00001C00001C
00001C00001C00001CF8001F0E001E07001C03801C01801C01C01C01C01C01C01C01C01C01C01C
01C01C03801C03001E07001B0C0010F000121A7F9915>I<07F80C1C381C30087000E000E000E0
00E000E000E0007000300438080C1807E00E107F8F11>I<007E00000E00000E00000E00000E00
000E00000E00000E00000E00000E0003CE000C3E00380E00300E00700E00E00E00E00E00E00E00
E00E00E00E00E00E00600E00700E00381E001C2E0007CFC0121A7F9915>I<07C01C3030187018
600CE00CFFFCE000E000E000E0006000300438080C1807E00E107F8F11>I<01F0031807380E10
0E000E000E000E000E000E00FFC00E000E000E000E000E000E000E000E000E000E000E000E000E
000E007FE00D1A80990C>I<0FCE187330307038703870387038303018602FC02000600070003F
F03FFC1FFE600FC003C003C003C0036006381C07E010187F8F13>I<FC00001C00001C00001C00
001C00001C00001C00001C00001C00001C00001CF8001D0C001E0E001E0E001C0E001C0E001C0E
001C0E001C0E001C0E001C0E001C0E001C0E001C0E001C0E00FF9FC0121A7F9915>I<18003C00
3C001800000000000000000000000000FC001C001C001C001C001C001C001C001C001C001C001C
001C001C001C00FF80091A80990A>I<FC00001C00001C00001C00001C00001C00001C00001C00
001C00001C00001C3F801C1E001C18001C10001C20001C40001DC0001FE0001CE0001C70001C78
001C38001C1C001C1E001C1F00FF3FC0121A7F9914>107 D<FC001C001C001C001C001C001C00
1C001C001C001C001C001C001C001C001C001C001C001C001C001C001C001C001C001C00FF8009
1A80990A>I<FC7C1F001D8E63801E0781C01E0781C01C0701C01C0701C01C0701C01C0701C01C
0701C01C0701C01C0701C01C0701C01C0701C01C0701C01C0701C0FF9FE7F81D107F8F20>I<FC
F8001D0C001E0E001E0E001C0E001C0E001C0E001C0E001C0E001C0E001C0E001C0E001C0E001C
0E001C0E00FF9FC012107F8F15>I<07E01C38300C700E6006E007E007E007E007E007E0076006
700E381C1C3807E010107F8F13>I<FCF8001F0E001E07001C03801C03801C01C01C01C01C01C0
1C01C01C01C01C01C01C03801C03001E07001F0C001CF0001C00001C00001C00001C00001C0000
1C0000FF800012177F8F15>I<03C2000C2600381E00300E00700E00E00E00E00E00E00E00E00E
00E00E00E00E00700E00700E00381E001C2E0007CE00000E00000E00000E00000E00000E00000E
00007FC012177F8F14>I<FCE01D701E701E201C001C001C001C001C001C001C001C001C001C00
1C00FFC00C107F8F0F>I<1F2060E04020C020C020F0007F003FC01FE000F080708030C030C020
F0408F800C107F8F0F>I<0400040004000C000C001C003C00FFC01C001C001C001C001C001C00
1C001C001C201C201C201C201C200E4003800B177F960F>I<FC7E001C0E001C0E001C0E001C0E
001C0E001C0E001C0E001C0E001C0E001C0E001C0E001C0E001C1E000C2E0007CFC012107F8F15
>I<FF1F803C06001C04001C04001E0C000E08000E080007100007100007900003A00003A00001
C00001C00001C00000800011107F8F14>I<FF3F9F803C0E0700380E06001C1604001C1704001E
170C000E2308000E2388000F239800074190000741D00003C1E0000380E0000380E0000180C000
0100400019107F8F1C>I<FF3F803C1C001C18000E100007200007600003C00001C00001E00003
E000027000043800083800181C00381E00FC3FC012107F8F14>I<FF1F803C06001C04001C0400
1E0C000E08000E080007100007100007900003A00003A00001C00001C00001C000008000008000
010000010000E10000E20000E4000078000011177F8F14>I E /Fn 4 53
df<0C003C00CC000C000C000C000C000C000C000C000C000C000C000C000C00FF8009107E8F0F>
49 D<1F00618040C08060C0600060006000C00180030006000C00102020207FC0FFC00B107F8F
0F>I<1F00218060C060C000C0008001800F00008000400060C060C060804060801F000B107F8F
0F>I<0300030007000F000B001300330023004300C300FFE003000300030003001FE00B107F8F
0F>I E /Fo 12 115 df<01020408103020606040C0C0C0C0C0C0C0C0C0C04060602030100804
0201081E7E950D>40 D<80402010080C0406060203030303030303030303020606040C08102040
80081E7E950D>I<006000006000006000006000006000006000006000006000006000006000FF
FFF0FFFFF000600000600000600000600000600000600000600000600000600000600014167E91
19>43 D<0F0030C0606060604020C030C030C030C030C030C030C030C030C03040206060606030
C00F000C137E9211>48 D<0C001C00EC000C000C000C000C000C000C000C000C000C000C000C00
0C000C000C000C00FFC00A137D9211>I<1F0060C06060F070F030603000700070006000C001C0
0180020004000810101020207FE0FFE00C137E9211>I<0FC030707038703870380038003000E0
0FC0007000380018001C601CF01CF018E03860701FC00E137F9211>I<006000E000E001600260
06600C600860106020606060C060FFFC0060006000600060006003FC0E137F9211>I<0F003080
60404060C020C030C030C0304030607030B00F30003000200060E040E08041003E000C137E9211
>57 D<F0303030303030303030303030303030303030FC06147F9309>108
D<F3E034303818301830183018301830183018301830183018FC7E0F0D7F8C12>110
D<F3C034E038E0304030003000300030003000300030003000FE000B0D7F8C0D>114
D E /Fp 63 123 df<00003F03E00000C386700001878CF00003879CF000030318600007003800
00070038000007003800000E003800000E007000000E007000000E00700000FFFFFF80001C0070
00001C00E000001C00E000001C00E000001C00E000003800E000003801C000003801C000003801
C000003801C000007001C0000070038000007003800000700380000070038000006003800000E0
07000000E007000000E007000000E007000000C006000001C00E000001C00E000031860C000079
8F180000F31E100000620C6000003C07C000002429829F1C>11 D<00003FE00000E01000018038
000380780003007800070030000700000007000000070000000E0000000E0000000E000000FFFF
E0000E00E0001C01C0001C01C0001C01C0001C01C0001C03800038038000380380003803800038
070000380700007007000070071000700E2000700E2000700E2000E00E2000E0064000E0038000
E0000000C0000001C0000001C000003180000079800000F3000000620000003C0000001D29829F
1A>I<00003FCE0000E0EE000181FC000381FC000300DC0007001C0007003800070038000E0038
000E0038000E0070000E007000FFFFF0001E0070001C00E0001C00E0001C00E0001C00E0001C01
C0003801C0003801C0003801C00038038000380380007003800070038800700710007007100070
071000E0071000E0032000E001C000E0000000C0000001C0000001C000003180000079800000F3
000000620000003C0000001F29829F1B>I<C0E0E060703010180508729F17>18
D<060F0E1C386040800808709F17>I<0E1F3F3F1D0102020404081020C0080E779F0E>39
D<1C3C3C3C3C040408081020204080060E7D840E>44 D<7FF0FFE07FE00C037D8A10>I<70F8F8
F0E005057B840E>I<00000040000000C000000180000001800000030000000300000006000000
060000000C0000001800000018000000300000003000000060000000C0000000C0000001800000
018000000300000003000000060000000C0000000C000000180000001800000030000000300000
0060000000C0000000C0000001800000018000000300000003000000060000000C0000000C0000
001800000018000000300000003000000060000000C0000000C0000000800000001A2D7FA117>
I<000F800030E000E07001C0700380300380380700380F00780F00780E00781E00781E00703C00
F03C00F03C00F03C00F07801E07801E07801E07801C07003C0F003C0F00380F00780F007007007
00700E00701C003038001870000FC000151F7C9D17>I<000200020006000E003C00DC031C001C
0038003800380038007000700070007000E000E000E000E001C001C001C001C003800380038003
800780FFF80F1E7B9D17>I<001F000061800080E00100E00200700220700420700410700820F0
0820F00820F00840E00881E00703C0000380000700000C00001800006000008000030000040000
0800401000401000802001807E030047FF0041FE0080FC00807800141F7C9D17>I<00C06000FF
C001FF8001FE00010000010000020000020000020000020000040000047800058C000606000C07
00080700000780000780000780000780000F00700F00F00F00F00E00E01E00801C008038008030
0040600061C0001F0000131F7B9D17>53 D<0007C0001C200030200060E000C1E00181E00380C0
0700000F00000E00001E00001E78001D84003E06003E07003C07007C0780780780780780780780
700F00700F00F00F00F00E00F01E00701C00601C0070380030700010C0000F8000131F7B9D17>
I<001F000061800080C00100600300600600600600600600600E00C00F00800F818007C30007E4
0003F80001F80003FC00047E00183F00300F00200700600700C00300C00300C003008006008006
00C00C00C008004030003060001F8000131F7B9D17>56 D<001F0000718000C0C00180C00380E0
0700E00F00E00F01E01E01E01E01E01E01E01E01C01C03C01C03C01C03C01C07C01C0F800C0F80
06378003C700000F00000E00000E00001C00601C00F03800F07000E0600080C0004380003E0000
131F7B9D17>I<070F1F1F0E0000000000000000000070F8F8F0E008147B930E>I<01C003C007C0
07C0038000000000000000000000000000000000000000001C003C003C003C003C000400040008
000800100020002000400080000A1D7D930E>I<00000200000006000000060000000E0000001E
0000001E0000003F0000002F0000004F0000004F0000008F0000010F0000010F0000020F000002
0F0000040F00000C0F0000080F0000100F0000100F0000200F80003FFF800040078000C0078000
80078001000780010007800200078002000780060007801E000F80FF807FF81D207E9F22>65
D<0000FE0200078186001C004C0038003C0060003C00C0001C01C0001803800018070000180F00
00181E0000101E0000103C0000003C00000078000000780000007800000078000000F0000000F0
000000F0000000F0000000F0000080700000807000008070000100380001003800020018000400
0C001800060020000381C00000FE00001F217A9F21>67 D<01FFFF80001E00E0001E0070001E00
38001E001C003C001C003C000E003C000E003C000E0078000E0078000E0078000E0078000E00F0
001E00F0001E00F0001E00F0001E01E0003C01E0003C01E0003C01E0007803C0007003C0007003
C000E003C001C0078001C00780038007800E0007801C000F007000FFFFC0001F1F7D9E22>I<01
FFFFFE001E001C001E000C001E0004001E0004003C0004003C0004003C0004003C000400780808
00780800007808000078180000F0300000FFF00000F0300000F0300001E0200001E0200001E020
0001E0001003C0002003C0002003C0004003C00040078000800780018007800100078007000F00
1F00FFFFFE001F1F7D9E1F>I<01FFFFFC001E0038001E0018001E0008001E0008003C0008003C
0008003C0008003C00080078001000780800007808000078080000F0100000F0300000FFF00000
F0300001E0200001E0200001E0200001E0200003C0000003C0000003C0000003C0000007800000
0780000007800000078000000F800000FFF800001E1F7D9E1E>I<0000FC040007030C001C0098
0030007800E0007801C000380380003003800030070000300E0000301E0000201E0000203C0000
003C00000078000000780000007800000078000000F0000000F000FFF0F0000780F0000780F000
0F0070000F0070000F0070000F0070001E0038001E0018003E001C002E000E00CC000383040000
FC00001E217A9F23>I<01FFF3FFE0001F003E00001E003C00001E003C00001E003C00003C0078
00003C007800003C007800003C007800007800F000007800F000007800F000007800F00000F001
E00000FFFFE00000F001E00000F001E00001E003C00001E003C00001E003C00001E003C00003C0
07800003C007800003C007800003C007800007800F000007800F000007800F000007800F00000F
801F0000FFF1FFE000231F7D9E22>I<01FFF0001F00001E00001E00001E00003C00003C00003C
00003C0000780000780000780000780000F00000F00000F00000F00001E00001E00001E00001E0
0003C00003C00003C00003C0000780000780000780000780000F8000FFF800141F7D9E12>I<01
FFF03FE0001F000F80001E000E00001E000800001E001000003C002000003C004000003C010000
003C020000007804000000780800000078100000007830000000F0F0000000F1F8000000F27800
0000F478000001E83C000001F03C000001E03C000001E01E000003C01E000003C01E000003C00F
000003C00F000007800F00000780078000078007800007800780000F8007C000FFF03FF800231F
7D9E23>75 D<01FFF800001F0000001E0000001E0000001E0000003C0000003C0000003C000000
3C00000078000000780000007800000078000000F0000000F0000000F0000000F0000001E00000
01E0000001E0000001E0008003C0010003C0010003C0030003C00200078006000780060007800C
0007801C000F007800FFFFF800191F7D9E1D>I<01FE00007FC0001E0000FC00001E0000F80000
170001780000170001780000270002F00000270004F00000270004F00000270008F00000470009
E00000470011E00000470021E00000470021E00000870043C00000838043C00000838083C00000
838083C0000103810780000103820780000103820780000103840780000203840F00000203880F
00000203900F00000203900F00000401E01E00000401E01E00000401C01E00000C01801E00001C
01803E0000FF8103FFC0002A1F7D9E29>I<01FF007FE0001F000F00001F000400001780040000
1780040000278008000023C008000023C008000023C008000041E010000041E010000041F01000
0040F010000080F0200000807820000080782000008078200001003C400001003C400001003C40
0001001E400002001E800002001E800002000F800002000F800004000F00000400070000040007
00000C000700001C00020000FF80020000231F7D9E22>I<0001FC0000070700001C01C0003000
E000E0006001C000700380007007800038070000380E0000381E0000381C0000383C0000383C00
003878000078780000787800007878000078F00000F0F00000F0F00000E0F00001E0F00001C0F0
0003C0700003807000070078000F0038001E0038003C001C0070000E00E0000783800001FC0000
1D217A9F23>I<01FFFF80001E00E0001E0070001E0038001E003C003C003C003C003C003C003C
003C003C0078007800780078007800F0007800E000F003C000F00F0000FFFC0000F0000001E000
0001E0000001E0000001E0000003C0000003C0000003C0000003C0000007800000078000000780
0000078000000F800000FFF000001E1F7D9E1F>I<01FFFF00001E03C0001E00E0001E0070001E
0078003C0078003C0078003C0078003C0078007800F0007800F0007801E0007801C000F0070000
F01E0000FFF00000F0380001E01C0001E01E0001E00E0001E00F0003C01E0003C01E0003C01E00
03C01E0007803C0007803C0807803C0807803C100F801C10FFF00C20000007C01D207D9E21>82
D<0007E040001C18C0003005800060038000C0038001C001800180010003800100038001000380
01000380000003C0000003C0000003F8000001FF800001FFE000007FF000001FF0000001F80000
00780000007800000038000000380020003800200038002000300060007000600060006000E000
7000C000E8038000C606000081F800001A217D9F1A>I<0FFFFFF01E0780E01807802010078020
20078020200F0020600F0020400F0020400F0020801E0040001E0000001E0000001E0000003C00
00003C0000003C0000003C00000078000000780000007800000078000000F0000000F0000000F0
000000F0000001E0000001E0000001E0000001E0000003E00000FFFF00001C1F789E21>I<FFF0
03FC1F8000E00F0000C00F800080078001000780020007C0040003C00C0003C0080003E0100003
E0200001E0400001F0400001F0800000F1000000FA000000FE0000007C00000078000000780000
0070000000F0000000F0000000F0000000E0000001E0000001E0000001E0000001E0000003C000
003FFC00001E1F779E22>89 D<00F1800389C00707800E03801C03803C03803807007807007807
00780700F00E00F00E00F00E00F00E20F01C40F01C40703C40705C40308C800F070013147C9317
>97 D<07803F8007000700070007000E000E000E000E001C001C001CF01D0C3A0E3C0E380F380F
700F700F700F700FE01EE01EE01EE01CE03CE038607060E031C01F0010207B9F15>I<007E0001
C1000300800E07801E07801C07003C0200780000780000780000F00000F00000F00000F00000F0
000070010070020030040018380007C00011147C9315>I<0000780003F8000070000070000070
0000700000E00000E00000E00000E00001C00001C000F1C00389C00707800E03801C03803C0380
380700780700780700780700F00E00F00E00F00E00F00E20F01C40F01C40703C40705C40308C80
0F070015207C9F17>I<007C01C207010E011C013C013802780C7BF07C00F000F000F000F00070
00700170023804183807C010147C9315>I<00007800019C00033C00033C000718000700000700
000E00000E00000E00000E00000E0001FFE0001C00001C00001C00001C00003800003800003800
00380000380000700000700000700000700000700000700000E00000E00000E00000E00000C000
01C00001C0000180003180007B0000F300006600003C00001629829F0E>I<003C6000E27001C1
E00380E00700E00F00E00E01C01E01C01E01C01E01C03C03803C03803C03803C03803C07003C07
001C0F001C17000C2E0003CE00000E00000E00001C00001C00301C00783800F0700060E0003F80
00141D7E9315>I<01E0000FE00001C00001C00001C00001C00003800003800003800003800007
0000070000071E000763000E81800F01C00E01C00E01C01C03801C03801C03801C038038070038
0700380700380E10700E20700C20701C20700C40E00CC060070014207D9F17>I<00C001E001E0
01C000000000000000000000000000000E003300230043804300470087000E000E000E001C001C
001C003840388030807080310033001C000B1F7C9E0E>I<0001800003C00003C0000380000000
000000000000000000000000000000000000003C00004600008700008700010700010700020E00
000E00000E00000E00001C00001C00001C00001C00003800003800003800003800007000007000
00700000700000E00000E00030E00079C000F180006300003C00001228829E0E>I<01E0000FE0
0001C00001C00001C00001C0000380000380000380000380000700000700000703C00704200E08
E00E11E00E21E00E40C01C80001D00001E00001FC00038E0003870003870003838407070807070
80707080703100E03100601E0013207D9F15>I<03C01FC0038003800380038007000700070007
000E000E000E000E001C001C001C001C0038003800380038007000700070007100E200E200E200
E200640038000A207C9F0C>I<1C0F80F0002630C318004740640C004780680E004700700E0047
00700E008E00E01C000E00E01C000E00E01C000E00E01C001C01C038001C01C038001C01C03800
1C01C0708038038071003803806100380380E10038038062007007006600300300380021147C93
25>I<1C0F802630C04740604780604700704700708E00E00E00E00E00E00E00E01C01C01C01C0
1C01C01C03843803883803083807083803107003303001C016147C931A>I<007C0001C3000301
800E01C01E01C01C01E03C01E07801E07801E07801E0F003C0F003C0F003C0F00780F00700700F
00700E0030180018700007C00013147C9317>I<01C1E002621804741C04781C04701E04701E08
E01E00E01E00E01E00E01E01C03C01C03C01C03C01C0380380780380700380E003C1C007238007
1E000700000700000E00000E00000E00000E00001C00001C0000FFC000171D809317>I<00F040
0388C00705800E03801C03803C0380380700780700780700780700F00E00F00E00F00E00F00E00
F01C00F01C00703C00705C0030B8000F380000380000380000700000700000700000700000E000
00E0000FFE00121D7C9315>I<1C1E002661004783804787804707804703008E00000E00000E00
000E00001C00001C00001C00001C000038000038000038000038000070000030000011147C9313
>I<00FC030206010C030C070C060C000F800FF007F803FC003E000E700EF00CF00CE008401020
601F8010147D9313>I<018001C0038003800380038007000700FFF007000E000E000E000E001C
001C001C001C003800380038003820704070407080708031001E000C1C7C9B0F>I<0E00C03300
E02301C04381C04301C04701C08703800E03800E03800E03801C07001C07001C07001C07101C0E
20180E20180E201C1E200C264007C38014147C9318>I<0E03803307802307C04383C04301C047
00C08700800E00800E00800E00801C01001C01001C01001C02001C02001C04001C04001C08000E
300003C00012147C9315>I<0E00C1C03300E3C02301C3E04381C1E04301C0E04701C060870380
400E0380400E0380400E0380401C0700801C0700801C0700801C0701001C0701001C0602001C0F
02000C0F04000E13080003E1F0001B147C931E>I<0383800CC4401068E01071E02071E02070C0
40E00000E00000E00000E00001C00001C00001C00001C040638080F38080F38100E5810084C600
78780013147D9315>I<0E00C03300E02301C04381C04301C04701C08703800E03800E03800E03
801C07001C07001C07001C07001C0E00180E00180E001C1E000C3C0007DC00001C00001C000038
00F03800F07000E06000C0C0004380003E0000131D7C9316>I<01C04003E08007F1800C1F0008
02000004000008000010000020000040000080000100000200000401000802001002003E0C0063
FC0041F80080E00012147D9313>I E /Fq 93 127 df<70F8F8F8F8F8F8F8F8F8F8F8F8F8F8F8
F870000000000070F8F8F870051C779B18>33 D<4010E038F078E038E038E038E038E038E038E0
38E038E038E03860300D0E7B9C18>I<030600078F00078F00078F00078F00078F00078F007FFF
C0FFFFE0FFFFE07FFFC00F1E000F1E000F1E000F1E000F1E000F1E007FFFC0FFFFE0FFFFE07FFF
C01E3C001E3C001E3C001E3C001E3C001E3C000C1800131C7E9B18>I<00C00001C00001C00001
C00003F0000FFC003FFE007DCF0071C700E1C380E1C780E1C780E1C780F1C00079C0003DC0001F
E0000FF80003FC0001DE0001CF0001C70061C380F1C380F1C380E1C380E1C70071C70079DE003F
FE001FF80007E00001C00001C00001C00000C00011247D9F18>I<3803007C07807C0780EE0F80
EE0F00EE0F00EE1F00EE1E00EE1E00EE3E007C3C007C3C00387C0000780000780000F80000F000
01F00001E00001E00003E00003C00003C00007C0000783800787C00F87C00F0EE00F0EE01F0EE0
1E0EE01E0EE03E0EE03C07C03C07C018038013247E9F18>I<01C00007E0000FF0000E70001C38
001C38001C38001C38001C73F01C73F01CE3F00FE3800FC7000F87000F07001F0E003F0E007B8E
0073DC00E1DC00E0F800E0F800E07070E0787070FC707FFFE03FCFE00F03C0141C7F9B18>I<38
7C7C7E3E0E0E0E1C1C38F8F0C0070E789B18>I<007000F001E003C007800F001E001C00380038
007000700070007000E000E000E000E000E000E000E000E0007000700070007000380038001C00
1E000F00078003C001F000F000700C24799F18>I<6000F00078003C001E000F000780038001C0
01C000E000E000E000E00070007000700070007000700070007000E000E000E000E001C001C003
8007800F001E003C007800F00060000C247C9F18>I<01C00001C00001C00001C000C1C180F1C7
80F9CF807FFF001FFC0007F00007F0001FFC007FFF00F9CF80F1C780C1C18001C00001C00001C0
0001C00011147D9718>I<00600000F00000F00000F00000F00000F00000F00000F0007FFFC0FF
FFE0FFFFE07FFFC000F00000F00000F00000F00000F00000F00000F00000600013147E9718>I<
1C3E7E7F3F1F070E1E7CF860080C788518>I<7FFF00FFFF80FFFF807FFF0011047D8F18>I<3078
FCFC78300606778518>I<000300000780000780000F80000F00001F00001E00001E00003E0000
3C00007C0000780000780000F80000F00001F00001E00003E00003C00003C00007C0000780000F
80000F00000F00001F00001E00003E00003C00003C00007C0000780000F80000F00000F0000060
000011247D9F18>I<01F00007FC000FFE001F1F001C07003803807803C07001C07001C0E000E0
E000E0E000E0E000E0E000E0E000E0E000E0E000E0E000E0F001E07001C07001C07803C0380380
1C07001F1F000FFE0007FC0001F000131C7E9B18>I<01800380038007800F803F80FF80FB8043
8003800380038003800380038003800380038003800380038003800380038003807FFCFFFE7FFC
0F1C7B9B18>I<03F0000FFE003FFF007C0F807003C0E001C0F000E0F000E06000E00000E00000
E00001C00001C00003C0000780000F00001E00003C0000780000F00001E00007C0000F80001E00
E03C00E07FFFE0FFFFE07FFFE0131C7E9B18>I<07F8001FFE003FFF007807807803C07801C030
01C00001C00003C0000380000F0003FF0003FE0003FF000007800003C00001C00000E00000E000
00E0F000E0F000E0F001C0F003C07C07803FFF001FFE0003F800131C7E9B18>I<001F00003F00
00770000770000E70001E70001C7000387000787000707000E07001E07003C0700380700780700
F00700FFFFF8FFFFF8FFFFF8000700000700000700000700000700000700007FF000FFF8007FF0
151C7F9B18>I<1FFF803FFF803FFF803800003800003800003800003800003800003800003800
003BF8003FFE003FFF003C07801803C00001C00000E00000E06000E0F000E0F000E0E001C07003
C07C0F803FFF001FFC0003F000131C7E9B18>I<007E0001FF0007FF800F83C01E03C01C03C038
0180380000700000700000E1F800E7FE00FFFF00FE0780F803C0F001C0F000E0E000E0F000E070
00E07000E07000E03801C03C03C01E07800FFF0007FE0001F800131C7E9B18>I<E00000FFFFE0
FFFFE0FFFFE0E003C0E00780000700000E00001E00001C0000380000380000700000700000E000
00E00000E00001C00001C00001C00001C00003C000038000038000038000038000038000038000
038000131D7E9C18>I<03F8000FFE001FFF003E0F803803807001C07001C07001C07001C03803
803C07801FFF0007FC000FFE001F1F003C07807001C0F001E0E000E0E000E0E000E0E000E07001
C07803C03E0F801FFF000FFE0003F800131C7E9B18>I<03F0000FFC001FFE003C0F0078078070
0380E001C0E001C0E001C0E001E0E001E07001E07803E03C0FE01FFFE00FFEE003F0E00000E000
01C00001C00001C0300380780780780F00783E003FFC001FF00007C000131C7E9B18>I<3078FC
FC783000000000000000003078FCFC78300614779318>I<183C7E7E3C18000000000000000018
3C7E7E3E1E0E1C3C78F060071A789318>I<000300000780001F80003F00007E0001FC0003F000
07E0001FC0003F00007E0000FC0000FC00007E00003F00001FC00007E00003F00001FC00007E00
003F00001F8000078000030011187D9918>I<7FFFC0FFFFE0FFFFE0FFFFE00000000000000000
00000000FFFFE0FFFFE0FFFFE07FFFC0130C7E9318>I<600000F00000FC00007E00003F00001F
C00007E00003F00001FC00007E00003F00001F80001F80003F00007E0001FC0003F00007E0001F
C0003F00007E0000FC0000F0000060000011187D9918>I<0FF0003FFC007FFF00700F00F00380
F00380600780000F00003E00007C0001F00001E00003C00003C00003C00003C00003C000038000
00000000000000000000000000000003800007C00007C00007C000038000111C7D9B18>I<007C
0001FE0007FF000F87801E03C03C1DC0387FC070FFE071E3E071C1E0E1C1E0E380E0E380E0E380
E0E380E0E380E0E380E0E1C1C071C1C071E3C070FF80387F003C1C001E00E00F83E007FFC001FF
80007E00131C7E9B18>I<00700000F80000F80000D80000D80001DC0001DC0001DC00018C0003
8E00038E00038E00038E000306000707000707000707000707000FFF800FFF800FFF800E03800E
03801C01C01C01C07F07F0FF8FF87F07F0151C7F9B18>I<FFFC00FFFF00FFFF801C03C01C01C0
1C00E01C00E01C00E01C00E01C01E01C01C01C07C01FFF801FFF001FFFC01C03C01C00E01C00F0
1C00701C00701C00701C00701C00F01C00E01C03E0FFFFC0FFFF80FFFE00141C7F9B18>I<00F8
E003FEE007FFE00F07E01E03E03C01E03800E07000E07000E0700000E00000E00000E00000E000
00E00000E00000E00000E000007000007000E07000E03800E03C00E01E01C00F07C007FF8003FE
0000F800131C7E9B18>I<7FF800FFFE007FFF001C0F801C03C01C03C01C01E01C00E01C00E01C
00F01C00701C00701C00701C00701C00701C00701C00701C00701C00F01C00E01C00E01C01E01C
01C01C03C01C0F807FFF00FFFE007FF800141C7F9B18>I<FFFFF0FFFFF0FFFFF01C00701C0070
1C00701C00701C00001C00001C0E001C0E001C0E001FFE001FFE001FFE001C0E001C0E001C0E00
1C00001C00001C00381C00381C00381C00381C0038FFFFF8FFFFF8FFFFF8151C7F9B18>I<FFFF
E0FFFFE0FFFFE01C00E01C00E01C00E01C00E01C00001C00001C1C001C1C001C1C001FFC001FFC
001FFC001C1C001C1C001C1C001C00001C00001C00001C00001C00001C00001C0000FFC000FFC0
00FFC000131C7E9B18>I<01F1C003FDC00FFFC01F0FC01C03C03803C03801C07001C07001C070
0000E00000E00000E00000E00000E00000E00FF0E01FF0E00FF07001C07001C07003C03803C038
03C01C07C01F0FC00FFFC003FDC001F1C0141C7E9B18>I<7F07F0FF8FF87F07F01C01C01C01C0
1C01C01C01C01C01C01C01C01C01C01C01C01C01C01FFFC01FFFC01FFFC01C01C01C01C01C01C0
1C01C01C01C01C01C01C01C01C01C01C01C01C01C07F07F0FF8FF87F07F0151C7F9B18>I<7FFF
00FFFF807FFF0001C00001C00001C00001C00001C00001C00001C00001C00001C00001C00001C0
0001C00001C00001C00001C00001C00001C00001C00001C00001C00001C00001C0007FFF00FFFF
807FFF00111C7D9B18>I<7F07F0FF87F87F07F01C03C01C07801C07001C0E001C1E001C3C001C
38001C70001CF0001DF0001DF0001FB8001FB8001F1C001E1C001C0E001C0E001C07001C07001C
03801C03801C01C07F03F0FF87F87F03F0151C7F9B18>75 D<7FE000FFE0007FE0000E00000E00
000E00000E00000E00000E00000E00000E00000E00000E00000E00000E00000E00000E00000E00
000E00000E00000E00700E00700E00700E00700E00707FFFF0FFFFF07FFFF0141C7F9B18>I<FC
01F8FE03F8FE03F83B06E03B06E03B06E03B06E03B8EE03B8EE0398CE0398CE039DCE039DCE039
DCE038D8E038D8E038F8E03870E03870E03800E03800E03800E03800E03800E03800E0FE03F8FE
03F8FE03F8151C7F9B18>I<7E07F0FF0FF87F07F01D81C01D81C01D81C01DC1C01CC1C01CC1C0
1CE1C01CE1C01CE1C01C61C01C71C01C71C01C31C01C39C01C39C01C39C01C19C01C19C01C1DC0
1C0DC01C0DC01C0DC07F07C0FF87C07F03C0151C7F9B18>I<0FF8003FFE007FFF00780F007007
00F00780E00380E00380E00380E00380E00380E00380E00380E00380E00380E00380E00380E003
80E00380E00380E00380E00380F00780700700780F007FFF003FFE000FF800111C7D9B18>I<FF
FE00FFFF80FFFFC01C03C01C01E01C00E01C00701C00701C00701C00701C00701C00E01C01E01C
03C01FFFC01FFF801FFE001C00001C00001C00001C00001C00001C00001C00001C0000FF8000FF
8000FF8000141C7F9B18>I<0FF8003FFE007FFF00780F00700700F00780E00380E00380E00380
E00380E00380E00380E00380E00380E00380E00380E00380E00380E00380E00380E1E380E1E380
F0E78070F700787F007FFF003FFE000FFC00001C00001E00000E00000F0000070000070011227D
9B18>I<7FF800FFFE007FFF001C0F801C03801C03C01C01C01C01C01C01C01C03C01C03801C0F
801FFF001FFE001FFE001C0F001C07001C03801C03801C03801C03801C03801C039C1C039C1C03
9C7F01F8FF81F87F00F0161C7F9B18>I<03F3801FFF803FFF807C0F80700780E00380E00380E0
0380E000007000007800003F00001FF00007FE0000FF00000F800003C00001C00000E00000E060
00E0E000E0E001E0F001C0F80780FFFF80FFFE00E7F800131C7E9B18>I<7FFFF8FFFFF8FFFFF8
E07038E07038E07038E07038007000007000007000007000007000007000007000007000007000
00700000700000700000700000700000700000700000700000700007FF0007FF0007FF00151C7F
9B18>I<FF83FEFF83FEFF83FE1C00701C00701C00701C00701C00701C00701C00701C00701C00
701C00701C00701C00701C00701C00701C00701C00701C00701C00701C00700E00E00F01E00783
C003FF8001FF00007C00171C809B18>I<FF07F8FF07F8FF07F81C01C01C01C01C01C01C01C00E
03800E03800E03800E03800F0780070700070700070700070700038E00038E00038E00038E0001
8C0001DC0001DC0001DC0000D80000F80000F800007000151C7F9B18>I<FE03F8FE03F8FE03F8
7000707000707000703800E03800E03800E03800E03800E038F8E038F8E039DCE039DCE019DCC0
19DCC019DCC0198CC01D8DC01D8DC01D8DC01D8DC00D8D800D05800F07800F07800E0380151C7F
9B18>I<7F8FE07F9FE07F8FE00E07000F0700070E00078E00039C0003DC0001F80001F80000F0
0000F00000700000F00000F80001F80001DC00039E00038E00070F000707000E07800E03801E03
C07F07F0FF8FF87F07F0151C7F9B18>I<FF07F8FF07F8FF07F81C01C01E03C00E03800F078007
0700070700038E00038E0001DC0001DC0001DC0000F80000F80000700000700000700000700000
700000700000700000700000700001FC0003FE0001FC00151C7F9B18>I<3FFFE07FFFE07FFFE0
7001C07003C0700780700700000F00001E00001C00003C0000780000700000F00001E00001C000
03C0000780000700000F00001E00E01C00E03C00E07800E07000E0FFFFE0FFFFE0FFFFE0131C7E
9B18>I<FFF8FFF8FFF8E000E000E000E000E000E000E000E000E000E000E000E000E000E000E0
00E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000FFF8FFF8FFF80D24
779F18>I<600000F00000F00000F800007800007C00003C00003C00003E00001E00001F00000F
00000F00000F800007800007C00003C00003C00003E00001E00001F00000F00000F80000780000
7800007C00003C00003E00001E00001E00001F00000F00000F8000078000078000030011247D9F
18>I<FFF8FFF8FFF8003800380038003800380038003800380038003800380038003800380038
003800380038003800380038003800380038003800380038003800380038FFF8FFF8FFF80D247F
9F18>I<018007C01FF07EFCF83EE00E0F067C9B18>I<7FFF00FFFF80FFFF807FFF0011047D7F18
>I<061E3E387070E0E0E0F8FC7C7C38070E789E18>I<1FE0003FF8007FFC00781E00300E000007
0000070000FF0007FF001FFF007F0700780700E00700E00700E00700F00F00781F003FFFF01FFB
F007E1F014147D9318>I<7E0000FE00007E00000E00000E00000E00000E00000E00000E3E000E
FF800FFFC00FC1E00F80E00F00700E00700E00380E00380E00380E00380E00380E00380F00700F
00700F80E00FC1E00FFFC00EFF80063E00151C809B18>I<01FE0007FF001FFF803E0780380300
700000700000E00000E00000E00000E00000E00000E000007000007001C03801C03E03C01FFF80
07FF0001FC0012147D9318>I<001F80003F80001F8000038000038000038000038000038003E3
800FFB801FFF803C1F80380F80700780700380E00380E00380E00380E00380E00380E003807007
80700780380F803C1F801FFFF00FFBF803E3F0151C7E9B18>I<01F00007FC001FFE003E0F0038
0780700380700380E001C0E001C0FFFFC0FFFFC0FFFFC0E000007000007001C03801C03E03C01F
FF8007FF0001FC0012147D9318>I<001F80007FC000FFE000E1E001C0C001C00001C00001C000
7FFFC0FFFFC0FFFFC001C00001C00001C00001C00001C00001C00001C00001C00001C00001C000
01C00001C00001C00001C0007FFF007FFF007FFF00131C7F9B18>I<01E1F007FFF80FFFF81E1E
301C0E003807003807003807003807003807001C0E001E1E001FFC001FF80039E0003800001C00
001FFE001FFFC03FFFE07801F0700070E00038E00038E00038E000387800F07E03F01FFFC00FFF
8001FC00151F7F9318>I<7E0000FE00007E00000E00000E00000E00000E00000E00000E3E000E
FF800FFFC00FC1C00F80E00F00E00E00E00E00E00E00E00E00E00E00E00E00E00E00E00E00E00E
00E00E00E00E00E07FC3FCFFE7FE7FC3FC171C809B18>I<03800007C00007C00007C000038000
0000000000000000000000007FC000FFC0007FC00001C00001C00001C00001C00001C00001C000
01C00001C00001C00001C00001C00001C00001C00001C000FFFF00FFFF80FFFF00111D7C9C18>
I<0038007C007C007C003800000000000000000FFC1FFC0FFC001C001C001C001C001C001C001C
001C001C001C001C001C001C001C001C001C001C001C001C001C001C001C6038F078FFF07FE03F
800E277E9C18>I<FE0000FE0000FE00000E00000E00000E00000E00000E00000E3FF00E7FF00E
3FF00E07800E0F000E1E000E3C000E78000EF0000FF8000FFC000F9C000F0E000E0F000E07000E
03800E03C0FFC7F8FFC7F8FFC7F8151C7F9B18>I<7FE000FFE0007FE00000E00000E00000E000
00E00000E00000E00000E00000E00000E00000E00000E00000E00000E00000E00000E00000E000
00E00000E00000E00000E00000E00000E0007FFFC0FFFFE07FFFC0131C7E9B18>I<7CE0E000FF
FBF8007FFFF8001F1F1C001E1E1C001E1E1C001C1C1C001C1C1C001C1C1C001C1C1C001C1C1C00
1C1C1C001C1C1C001C1C1C001C1C1C001C1C1C001C1C1C007F1F1F00FFBFBF807F1F1F00191481
9318>I<7E3E00FEFF807FFFC00FC1C00F80E00F00E00E00E00E00E00E00E00E00E00E00E00E00
E00E00E00E00E00E00E00E00E00E00E07FC3FCFFE7FE7FC3FC1714809318>I<01F0000FFE001F
FF003E0F803803807001C07001C0E000E0E000E0E000E0E000E0E000E0F001E07001C07803C03C
07803E0F801FFF000FFE0001F00013147E9318>I<7E3E00FEFF807FFFC00FC1E00F80E00F0070
0E00700E00380E00380E00380E00380E00380E00380F00700F00700F80E00FC1E00FFFC00EFF80
0E3E000E00000E00000E00000E00000E00000E00000E00007FC000FFE0007FC000151E809318>
I<01E38007FB801FFF803E1F80380F80700780700780E00380E00380E00380E00380E00380E003
80700780700780380F803C1F801FFF800FFB8003E3800003800003800003800003800003800003
80000380003FF8003FF8003FF8151E7E9318>I<7F87E0FF9FF07FBFF803F87803F03003E00003
C00003C0000380000380000380000380000380000380000380000380000380007FFE00FFFF007F
FE0015147F9318>I<07F7003FFF007FFF00780F00E00700E00700E007007C00007FE0001FFC00
03FE00001F00600780E00380E00380F00380F80F00FFFF00FFFC00E7F00011147D9318>I<0180
000380000380000380000380007FFFC0FFFFC0FFFFC00380000380000380000380000380000380
000380000380000380000380400380E00380E00380E001C1C001FFC000FF80003E0013197F9818
>I<7E07E0FE0FE07E07E00E00E00E00E00E00E00E00E00E00E00E00E00E00E00E00E00E00E00E
00E00E00E00E00E00E01E00F03E007FFFC03FFFE01FCFC1714809318>I<7F8FF0FF8FF87F8FF0
1E03C00E03800E03800E0380070700070700070700038E00038E00038E00038E0001DC0001DC00
01DC0000F80000F80000700015147F9318>I<FF8FF8FF8FF8FF8FF83800E03800E03800E01C01
C01C01C01C71C01CF9C01CF9C01CD9C01CD9C00DDD800DDD800DDD800D8D800F8F800F8F800707
0015147F9318>I<7F8FF07F9FF07F8FF0070700078E00039E0001DC0001F80000F80000700000
F00000F80001DC00039E00038E000707000F07807F8FF0FF8FF87F8FF015147F9318>I<7F8FF0
FF8FF87F8FF00E01C00E03800E0380070380070700070700038700038600038E0001CE0001CE00
00CC0000CC0000DC0000780000780000780000700000700000700000F00000E00079E0007BC000
7F80003F00001E0000151E7F9318>I<3FFFF07FFFF07FFFF07001E07003C0700780000F00001E
00003C0000F80001F00003C0000780000F00701E00703C0070780070FFFFF0FFFFF0FFFFF01414
7F9318>I<0007E0001FE0007FE000780000E00000E00000E00000E00000E00000E00000E00000
E00000E00000E00000E00001E0007FC000FF8000FF80007FC00001E00000E00000E00000E00000
E00000E00000E00000E00000E00000E00000E00000E000007800007FE0001FE00007E013247E9F
18>I<60F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F060
0424769F18>I<7C0000FF0000FFC00003C00000E00000E00000E00000E00000E00000E00000E0
0000E00000E00000E00000E00000F000007FC0003FE0003FE0007FC000F00000E00000E00000E0
0000E00000E00000E00000E00000E00000E00000E00000E00003C000FFC000FF00007C00001324
7E9F18>I<060C1F1E3FBEFBF8F1F060C00F067C9B18>I E /Fr 38 123
df<007E01C007000E001C003C003800780078007FF0F000F000F000700070007000300018000C
1807E00F147E9312>15 D<0FFFFC1FFFFC3FFFFC608200C08400808400018400010400010C0003
0C00030C00020C00060C00060C000E0C000C0E001C0E001C0E00380F0018060016147E931A>25
D<70F8F8F87005057C840D>58 D<70F8FCFC74040404080810102040060E7C840D>I<000001C0
0000078000001E00000078000001E00000078000000E00000038000000F0000003C000000F0000
003C000000F0000000F00000003C0000000F00000003C0000000F0000000380000000E00000007
80000001E0000000780000001E0000000780000001C01A1A7C9723>I<00010003000300060006
0006000C000C000C00180018001800300030003000600060006000C000C000C001800180018003
00030003000600060006000C000C000C00180018001800300030003000600060006000C000C000
C000102D7DA117>I<E0000000780000001E0000000780000001E0000000780000001C00000007
00000003C0000000F00000003C0000000F00000003C0000003C000000F0000003C000000F00000
03C00000070000001C00000078000001E00000078000001E00000078000000E00000001A1A7C97
23>I<0000FE0200078186001C004C0038003C0060003C00C0001C01C000180380001807000018
0F0000181E0000101E0000103C0000003C00000078000000780000007800000078000000F00000
00F0000000F0000000F0000000F000008070000080700000807000010038000100380002001800
04000C001800060020000381C00000FE00001F217E9F21>67 D<00FFF80FF8000F8003E0000F00
0380000F000200000F000400001E000800001E002000001E004000001E008000003C010000003C
040000003C080000003C180000007838000000787C000000793C0000007A3C000000F41E000000
F81E000000F01E000000F00F000001E00F000001E00F000001E007800001E007800003C0078000
03C003C00003C003C00003C003C00007C003E000FFFC3FFC00251F7E9E27>75
D<00FF00001FF0000F00003F00000B80003E00000B80005E00000B80005E0000138000BC000013
80013C00001380013C00001380023C000023800278000023800478000023800878000021C00878
000041C010F0000041C020F0000041C020F0000041C040F0000081C041E0000081C081E0000081
C101E0000081C101E0000100E203C0000100E203C0000100E403C0000100E803C0000200E80780
000200F00780000200F00780000600E00780000F00C00F8000FFE0C1FFF8002C1F7E9E2C>77
D<0FFFFFFC1E03C0381803C0181003C0082003C00820078008600780084007800840078008800F
0010000F0000000F0000000F0000001E0000001E0000001E0000001E0000003C0000003C000000
3C0000003C00000078000000780000007800000078000000F0000000F0000000F0000000F00000
01F000007FFFC0001E1F7F9E1B>84 D<00FFF83FF8000FC00F80000F80060000078004000007C0
08000003C010000003C020000003E040000001E080000001F100000000F300000000F600000000
FC0000000078000000007C000000007C000000007C00000000BE000000011E000000021E000000
061F0000000C0F000000080F800000100780000020078000004007C000008003C000010003E000
030003E0000F0007E000FFE01FFE00251F7F9E26>88 D<00F1800389C00707800E03801C03803C
0380380700780700780700780700F00E00F00E00F00E00F00E10F01C20F01C20703C20705C4030
8C400F078014147E9318>97 D<07803F8007000700070007000E000E000E000E001C001C001CF0
1D0C3A0E3C0E380F380F700F700F700F700FE01EE01EE01EE01CE03CE038607060E031C01F0010
207E9F14>I<007C01C207010E0F1E0F1C0E3C04780078007800F000F000F000F000F000700170
02300418380FC010147E9314>I<0000780003F80000700000700000700000700000E00000E000
00E00000E00001C00001C000F1C00389C00707800E03801C03803C038038070078070078070078
0700F00E00F00E00F00E00F00E10F01C20F01C20703C20705C40308C400F078015207E9F18>I<
007C01C207010E011C013C013802780C7BF07C00F000F000F000F0007000700170023004183807
C010147E9315>I<00007C0000CE00019E00039E00030C000700000700000700000700000E0000
0E00000E0000FFF0000E00000E00001C00001C00001C00001C00001C0000380000380000380000
380000380000700000700000700000700000700000E00000E00000E00000E00000C00001C00031
8000798000F300006200003C000017297E9F16>I<001E3000713800E0F001C070038070078070
0700E00F00E00F00E00F00E01E01C01E01C01E01C01E01C01E03801E03800E07800E0B80061700
01E700000700000700000E00000E00300E00781C00F038006070003FC000151D809316>I<01E0
000FE00001C00001C00001C00001C000038000038000038000038000070000070000071F000761
800E80C00F00C00E00E00E00E01C01C01C01C01C01C01C01C03803803803803803803807047007
08700E08700E10700610E006206003C016207E9F1A>I<00E001E001E000C00000000000000000
0000000000000E00130023804380438043808700070007000E000E001C001C001C203840384038
40388019000E000B1F7E9E10>I<0000C00001E00001E00001C000000000000000000000000000
0000000000000000001E0000630000438000838001038001038002070000070000070000070000
0E00000E00000E00000E00001C00001C00001C00001C0000380000380000380000380000700000
700030700078E000F1C0006380003E00001328819E13>I<01E0000FE00001C00001C00001C000
01C0000380000380000380000380000700000700000701E00706100E08700E10F00E20F00E4060
1C80001D00001E00001FC000387000383800383800381C20703840703840703840701880E01880
600F0014207E9F18>I<03C01FC0038003800380038007000700070007000E000E000E000E001C
001C001C001C0038003800380038007000700070007100E200E200E200E200640038000A207E9F
0E>I<1E07C07C00231861860023A032030043C034030043803803804380380380870070070007
00700700070070070007007007000E00E00E000E00E00E000E00E00E000E00E01C101C01C01C20
1C01C038201C01C038401C01C0184038038018801801800F0024147E9328>I<1E07802318C023
A06043C0704380704380708700E00700E00700E00700E00E01C00E01C00E01C00E03821C03841C
07041C07081C03083803101801E017147E931B>I<007C0001C3000301800E01C01E01C01C01E0
3C01E07801E07801E07801E0F003C0F003C0F003C0F00780F00700700F00700E00301800187000
07C00013147E9316>I<03C1E004621804741C08781C08701E08701E10E01E00E01E00E01E00E0
1E01C03C01C03C01C03C01C0380380780380700380E003C1C0072380071E000700000700000E00
000E00000E00000E00001C00001C0000FFC000171D819317>I<00F0400388C00705800E03801C
03803C0380380700780700780700780700F00E00F00E00F00E00F00E00F01C00F01C00703C0070
5C0030B8000F380000380000380000700000700000700000700000E00000E0000FFE00121D7E93
14>I<1E1E0023210023C38043C7804387804383008700000700000700000700000E00000E0000
0E00000E00001C00001C00001C00001C000038000018000011147E9315>I<007C018203010603
060706060E00078007F803FC01FE001F00077007F006F006E004400820301FC010147E9315>I<
00C000E001C001C001C001C003800380FFF8038007000700070007000E000E000E000E001C001C
001C001C10382038203820384018800F000D1C7F9B10>I<0F00601180702180E021C0E041C0E0
4380E08381C00701C00701C00701C00E03800E03800E03800E03840E07080C07080C07080E0F10
06131003E1E016147E931A>I<0F01801183C02183E021C1E041C0E04380608380400700400700
400700400E00800E00800E00800E01000E01000C02000E04000E040006180001E00013147E9316
>I<0F006060118070F02180E0F821C0E07841C0E0384380E0188381C0100701C0100701C01007
01C0100E0380200E0380200E0380200E0380400E0380400E0380800E0780800607810007098600
01F078001D147E9321>I<03C1C00C62201034701038F02038F020386040700000700000700000
700000E00000E00000E00000E02061C040F1C040F1C080E2C080446300383C0014147E931A>I<
0F00601180702180E021C0E041C0E04380E08381C00701C00701C00701C00E03800E03800E0380
0E03800E07000C07000C07000E0F00061E0003EE00000E00000E00001C00781800783800707000
60600021C0001F0000141D7E9316>I<01E02003F04007F8C00C1F800801000002000004000008
0000100000600000C0000100000200000400800801001003003F060061FC0040F8008070001314
7E9315>I E /Fs 57 122 df<000FE000007FF80000F81C0001E07C0003E07C0007C07C0007C0
7C0007C0380007C0000007C0000007C0000007C1FE00FFFFFE00FFFFFE0007C03E0007C03E0007
C03E0007C03E0007C03E0007C03E0007C03E0007C03E0007C03E0007C03E0007C03E0007C03E00
07C03E0007C03E0007C03E0007C03E003FF9FFC03FF9FFC01A20809F1D>12
D<0018007000E001C00380038007000E000E001E001C003C003C007800780078007800F800F000
F000F000F000F000F000F000F000F000F80078007800780078003C003C001C001E000E000E0007
000380038001C000E0007000180D2D7DA114>40 D<C000700038001C000E000E00070003800380
03C001C001E001E000F000F000F000F000F800780078007800780078007800780078007800F800
F000F000F000F001E001E001C003C00380038007000E000E001C0038007000C0000D2D7DA114>
I<FFF0FFF0FFF0FFF00C047F8B11>45 D<387CFEFEFE7C3807077C860F>I<0000600000E00000
E00001C00001C0000380000380000380000700000700000700000E00000E00001C00001C00001C
0000380000380000380000700000700000E00000E00000E00001C00001C0000380000380000380
000700000700000700000E00000E00001C00001C00001C00003800003800003800007000007000
00E00000E00000C00000132D7DA11A>I<01FC0007FF001F07C01E03C03E03E07C01F07C01F07C
01F0FC01F8FC01F8FC01F8FC01F8FC01F8FC01F8FC01F8FC01F8FC01F8FC01F8FC01F8FC01F8FC
01F87C01F07C01F07C01F03E03E01E03C01F8FC007FF0001FC00151D7E9C1A>I<00E00001E000
0FE000FFE000F3E00003E00003E00003E00003E00003E00003E00003E00003E00003E00003E000
03E00003E00003E00003E00003E00003E00003E00003E00003E00003E00003E00003E000FFFF80
FFFF80111D7C9C1A>I<07F0001FFE00383F007C1F80FE0FC0FE0FC0FE0FE0FE07E07C07E03807
E0000FE0000FC0000FC0001F80001F00003E0000780000F00000E00001C0000380600700600E00
601C00E01FFFC03FFFC07FFFC0FFFFC0FFFFC0131D7D9C1A>I<01FC0007FF000E0F801E0FC03F
07E03F07E03F07E03F07E01E0FC0000FC0000F80001F0001FC0001FC00000F800007C00003E000
03F00003F83803F87C03F8FE03F8FE03F8FE03F0FC03F07807E03C0FC01FFF8003FC00151D7E9C
1A>I<0001C00003C00007C00007C0000FC0001FC0003BC00073C00063C000C3C00183C00383C0
0703C00E03C00C03C01803C03803C07003C0E003C0FFFFFEFFFFFE0007C00007C00007C00007C0
0007C00007C000FFFE00FFFE171D7F9C1A>I<3803803FFF803FFF003FFE003FFC003FF0003F80
0030000030000030000030000033F80037FE003C1F00380F801007C00007C00007E00007E07807
E0FC07E0FC07E0FC07E0FC07C0780FC0600F80381F001FFC0007F000131D7D9C1A>I<003F0001
FFC007E0E00F81E01F03F01E03F03E03F07C03F07C01E07C0000FC1000FCFF00FDFFC0FD03E0FE
01F0FE01F0FC01F8FC01F8FC01F8FC01F87C01F87C01F87C01F83C01F03E01F01E03E00F07C007
FF8001FE00151D7E9C1A>I<6000007FFFF87FFFF87FFFF07FFFE07FFFC0E00180C00300C00300
C00600000C0000180000380000380000780000700000F00000F00001F00001F00001F00001F000
03F00003F00003F00003F00003F00003F00001E00000C000151E7D9D1A>I<01FC0007FF000F07
801E03C01C01E03C01E03C01E03E01E03F01E03FC3C01FE3801FFF000FFE0007FF8007FFC01FFF
E03C3FF0780FF07803F8F001F8F000F8F00078F00078F000707800707C00E03E03C00FFF8003FC
00151D7E9C1A>I<01FC000FFF001F07803E03C07C03E07C01E0FC01F0FC01F0FC01F0FC01F8FC
01F8FC01F8FC01F87C03F87C03F83E05F81FFDF807F9F80041F80001F03C01F07E01F07E03E07E
03E07E07C03C0780381F001FFC0007F000151D7E9C1A>I<387CFEFEFE7C38000000000000387C
FEFEFE7C3807147C930F>I<0000E000000000E000000001F000000001F000000001F000000003
F800000003F800000006FC00000006FC0000000EFE0000000C7E0000000C7E000000183F000000
183F000000303F800000301F800000701FC00000600FC00000600FC00000C007E00000FFFFE000
01FFFFF000018003F000018003F000030001F800030001F800060001FC00060000FC000E0000FE
00FFE00FFFE0FFE00FFFE0231F7E9E28>65 D<FFFFFE00FFFFFFC007C007E007C003F007C001F8
07C001FC07C001FC07C001FC07C001FC07C001FC07C001F807C003F807C007F007C00FE007FFFF
8007FFFFC007C003F007C001F807C001FC07C000FC07C000FE07C000FE07C000FE07C000FE07C0
00FE07C000FC07C001FC07C003F807C007F0FFFFFFE0FFFFFF001F1F7E9E25>I<0007FC02003F
FF0E00FE03DE03F000FE07E0003E0FC0001E1F80001E3F00000E3F00000E7F0000067E0000067E
000006FE000000FE000000FE000000FE000000FE000000FE000000FE0000007E0000007E000006
7F0000063F0000063F00000C1F80000C0FC0001807E0003803F0007000FE01C0003FFF800007FC
001F1F7D9E26>I<FFFFFE0000FFFFFFC00007E007F00007E001F80007E000FC0007E0007E0007
E0003F0007E0003F0007E0001F8007E0001F8007E0001F8007E0001FC007E0001FC007E0001FC0
07E0001FC007E0001FC007E0001FC007E0001FC007E0001FC007E0001FC007E0001F8007E0001F
8007E0001F8007E0003F0007E0003F0007E0007E0007E000FC0007E001F80007E007F000FFFFFF
C000FFFFFE0000221F7E9E28>I<FFFFFFE0FFFFFFE007E007E007E001E007E000E007E0006007
E0007007E0003007E0003007E0603007E0603007E0600007E0E00007E1E00007FFE00007FFE000
07E1E00007E0E00007E0600007E0600C07E0600C07E0000C07E0001807E0001807E0001807E000
3807E0007807E000F807E003F0FFFFFFF0FFFFFFF01E1F7E9E22>I<FFFFFFE0FFFFFFE007E007
E007E001E007E000E007E0006007E0007007E0003007E0003007E0603007E0603007E0600007E0
E00007E1E00007FFE00007FFE00007E1E00007E0E00007E0600007E0600007E0600007E0000007
E0000007E0000007E0000007E0000007E0000007E0000007E00000FFFF8000FFFF80001C1F7E9E
21>I<0007FC0200003FFF0E0000FE03DE0003F000FE0007E0003E000FC0001E001F80001E003F
00000E003F00000E007F000006007E000006007E00000600FE00000000FE00000000FE00000000
FE00000000FE00000000FE003FFFE0FE003FFFE07E00007E007E00007E007F00007E003F00007E
003F00007E001F80007E000FC0007E0007E0007E0003F000FE0000FE01FE00003FFF8E000007FC
0600231F7D9E29>I<FFFFFFFF07E007E007E007E007E007E007E007E007E007E007E007E007E0
07E007E007E007E007E007E007E007E007E007E007E007E007E007E0FFFFFFFF101F7E9E14>73
D<FFFF8000FFFF800007E0000007E0000007E0000007E0000007E0000007E0000007E0000007E0
000007E0000007E0000007E0000007E0000007E0000007E0000007E0000007E0000007E0000007
E000C007E000C007E000C007E001C007E001C007E001C007E0038007E0038007E00F8007E01F80
FFFFFF80FFFFFF801A1F7E9E1F>76 D<FFE000003FF8FFF000007FF807F000007F0006F80000DF
0006F80000DF0006F80000DF00067C00019F00067C00019F00063E00031F00063E00031F00061F
00061F00061F00061F00060F800C1F00060F800C1F000607C0181F000607C0181F000607C0181F
000603E0301F000603E0301F000601F0601F000601F0601F000600F8C01F000600F8C01F000600
7D801F0006007D801F0006003F001F0006003F001F0006003F001F0006001E001F00FFF01E03FF
F8FFF00C03FFF82D1F7E9E32>I<FFE000FFF0FFF000FFF007F000060007F800060006FC000600
067E000600063F000600063F800600061F800600060FC006000607E006000603F006000601F806
000601FC06000600FC060006007E060006003F060006001F860006001FC60006000FE600060007
E600060003F600060001FE00060000FE00060000FE000600007E000600003E000600001E000600
000E00FFF0000600FFF0000600241F7E9E29>I<001FF80000FFFF0001F81F8007E007E00FC003
F01F8001F81F0000F83F0000FC7F0000FE7E00007E7E00007EFE00007FFE00007FFE00007FFE00
007FFE00007FFE00007FFE00007FFE00007FFE00007F7E00007E7F0000FE7F0000FE3F0000FC3F
8001FC1F8001F80FC003F007E007E001F81F8000FFFF00001FF800201F7D9E27>I<FFFFFE00FF
FFFF8007E00FE007E003F007E001F807E001F807E001FC07E001FC07E001FC07E001FC07E001FC
07E001F807E001F807E003F007E00FE007FFFF8007FFFE0007E0000007E0000007E0000007E000
0007E0000007E0000007E0000007E0000007E0000007E0000007E0000007E00000FFFF0000FFFF
00001E1F7E9E24>I<FFFFF80000FFFFFF000007E01FC00007E007E00007E003F00007E003F000
07E003F80007E003F80007E003F80007E003F80007E003F00007E003F00007E007E00007E01FC0
0007FFFF000007FFFC000007E03E000007E01F000007E00F800007E00F800007E00FC00007E00F
C00007E00FC00007E00FE00007E00FE00007E00FE00007E00FE03007E007F03007E003F860FFFF
01FFC0FFFF007F80241F7E9E27>82 D<03FC080FFF381E03F83800F8700078700038F00038F000
18F00018F80000FC00007FC0007FFE003FFF801FFFE00FFFF007FFF000FFF80007F80000FC0000
7C00003CC0003CC0003CC0003CE00038E00078F80070FE01E0E7FFC081FF00161F7D9E1D>I<7F
FFFFFC7FFFFFFC7C07E07C7007E01C6007E00C6007E00CE007E00EC007E006C007E006C007E006
C007E0060007E0000007E0000007E0000007E0000007E0000007E0000007E0000007E0000007E0
000007E0000007E0000007E0000007E0000007E0000007E0000007E0000007E00003FFFFC003FF
FFC01F1E7E9D24>I<FFFF01FFE0FFFF01FFE007E0000C0007E0000C0007E0000C0007E0000C00
07E0000C0007E0000C0007E0000C0007E0000C0007E0000C0007E0000C0007E0000C0007E0000C
0007E0000C0007E0000C0007E0000C0007E0000C0007E0000C0007E0000C0007E0000C0007E000
0C0007E0000C0007E0000C0003E000180001F000180001F000300000F8006000007E03C000001F
FF80000003FC0000231F7E9E28>I<FFFE003FF8FFFE003FF807E000038007E000030007F00007
0003F000060003F8000E0001F8000C0001FC000C0000FC00180000FC001800007E003000007E00
3000003F006000003F006000003F80E000001F80C000001FC1C000000FC18000000FE180000007
E300000007E300000003F600000003F600000003FE00000001FC00000001FC00000000F8000000
00F8000000007000000000700000251F7F9E28>I<07FC001FFF003F0F803F07C03F03E03F03E0
0C03E00003E0007FE007FBE01F03E03C03E07C03E0F803E0F803E0F803E0FC05E07E0DE03FF8FE
0FE07E17147F9319>97 D<FF0000FF00001F00001F00001F00001F00001F00001F00001F00001F
00001F00001F00001F1FC01F7FF01FE0F81F807C1F007E1F003E1F003E1F003F1F003F1F003F1F
003F1F003F1F003F1F003E1F003E1F007C1F807C1EC1F81C7FE0181F8018207E9F1D>I<01FE00
07FF801F0FC03E0FC03E0FC07C0FC07C0300FC0000FC0000FC0000FC0000FC0000FC00007C0000
7E00003E00603F00C01F81C007FF0001FC0013147E9317>I<0007F80007F80000F80000F80000
F80000F80000F80000F80000F80000F80000F80000F801F8F80FFEF81F83F83E01F87E00F87C00
F87C00F8FC00F8FC00F8FC00F8FC00F8FC00F8FC00F87C00F87C00F87E00F83E01F81F07F80FFE
FF03F8FF18207E9F1D>I<01FE0007FF800F83C01E01E03E00F07C00F07C00F8FC00F8FFFFF8FF
FFF8FC0000FC0000FC00007C00007C00003E00181E00180F807007FFE000FF8015147F9318>I<
001F8000FFC001F3E003E7E003C7E007C7E007C3C007C00007C00007C00007C00007C000FFFC00
FFFC0007C00007C00007C00007C00007C00007C00007C00007C00007C00007C00007C00007C000
07C00007C00007C00007C0003FFC003FFC0013207F9F10>I<01FC3C07FFFE0F079E1E03DE3E03
E03E03E03E03E03E03E03E03E01E03C00F07800FFF0009FC001800001800001C00001FFF800FFF
F007FFF81FFFFC3C007C70003EF0001EF0001EF0001E78003C78003C3F01F80FFFE001FF00171E
7F931A>I<FF0000FF00001F00001F00001F00001F00001F00001F00001F00001F00001F00001F
00001F0FC01F3FE01F61F01FC0F81F80F81F00F81F00F81F00F81F00F81F00F81F00F81F00F81F
00F81F00F81F00F81F00F81F00F81F00F8FFE3FFFFE3FF18207D9F1D>I<1C003E007F007F007F
003E001C00000000000000000000000000FF00FF001F001F001F001F001F001F001F001F001F00
1F001F001F001F001F001F001F00FFE0FFE00B217EA00E>I<FF00FF001F001F001F001F001F00
1F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F
001F001F001F00FFE0FFE00B207E9F0E>108 D<FE0FE03F80FE1FF07FC01E70F9C3E01E407D01
F01E807E01F01F807E01F01F007C01F01F007C01F01F007C01F01F007C01F01F007C01F01F007C
01F01F007C01F01F007C01F01F007C01F01F007C01F01F007C01F01F007C01F0FFE3FF8FFEFFE3
FF8FFE27147D932C>I<FE0FC0FE3FE01E61F01EC0F81E80F81F00F81F00F81F00F81F00F81F00
F81F00F81F00F81F00F81F00F81F00F81F00F81F00F81F00F8FFE3FFFFE3FF18147D931D>I<01
FF0007FFC01F83F03E00F83E00F87C007C7C007CFC007EFC007EFC007EFC007EFC007EFC007E7C
007C7C007C3E00F83E00F81F83F007FFC001FF0017147F931A>I<FF1FC0FF7FF01FE1F81F80FC
1F007E1F007E1F003E1F003F1F003F1F003F1F003F1F003F1F003F1F003E1F007E1F007C1F80FC
1FC1F81F7FE01F1F801F00001F00001F00001F00001F00001F00001F0000FFE000FFE000181D7E
931D>I<FE3E00FE7F801ECFC01E8FC01E8FC01F8FC01F03001F00001F00001F00001F00001F00
001F00001F00001F00001F00001F00001F0000FFF000FFF00012147E9316>114
D<0FE63FFE701E600EE006E006F800FFC07FF83FFC1FFE03FE001FC007C007E007F006F81EFFFC
C7F010147E9315>I<01800180018003800380038007800F803F80FFFCFFFC0F800F800F800F80
0F800F800F800F800F800F800F860F860F860F860F8607CC03F801F00F1D7F9C14>I<FF07F8FF
07F81F00F81F00F81F00F81F00F81F00F81F00F81F00F81F00F81F00F81F00F81F00F81F00F81F
00F81F01F81F01F80F06F807FCFF03F8FF18147D931D>I<FFE07F80FFE07F801F001C000F8018
000F80180007C0300007C0300003E0600003E0600001F0C00001F0C00001F9C00000F9800000FF
8000007F0000007F0000003E0000003E0000001C0000001C000019147F931C>I<FFE7FE1FE0FF
E7FE1FE01F00F003001F00F803000F80F806000F80F8060007C1BC0C0007C1BC0C0007C1BE0C00
03E31E180003E31E180001F60F300001F60F300001F60FB00000FC07E00000FC07E000007803C0
00007803C000007803C000003001800023147F9326>I<FFE1FF00FFE1FF000F80700007C0E000
07E0C00003E1800001F3800000FF0000007E0000003E0000003F0000007F8000006F800000C7C0
000183E0000381F0000701F8000E00FC00FF81FF80FF81FF8019147F931C>I<FFE07F80FFE07F
801F001C000F8018000F80180007C0300007C0300003E0600003E0600001F0C00001F0C00001F9
C00000F9800000FF8000007F0000007F0000003E0000003E0000001C0000001C00000018000000
18000078300000FC300000FC600000C0E00000E1C000007F8000001E000000191D7F931C>I
E /Ft 56 122 df<0003E0001C1800381800703C00E03C00E03801C00001C00001C00001C00001
C0000380007FFFF00380700380700380700380700700E00700E00700E00700E00700E00700E00E
01C00E01C00E01C00E01C00E01C00E01C01C03801E03C0FF0FF816207E9F19>12
D<FFC0FFC00A027D8A0F>45 D<3078F8787005057C840D>I<00000400000C00000C0000180000
180000300000300000600000600000C00000C0000180000180000300000300000600000600000C
00000C0000180000180000300000300000600000600000C00000C0000180000180000300000300
000600000600000600000C00000C0000180000180000300000300000600000600000C00000C000
00800000162D7EA117>I<000C001C00FC0F380038003800380038003800700070007000700070
007000E000E000E000E000E000E001C001C001C001C001C001C0038003C0FFFE0F1E7C9D17>49
D<003F8000C1E00100F00200780400780400780F007C0F807C0F807C0F00780600780000F80000
F00001E00001C0000380000700000E00001C0000380000600000C0000180000300200600200800
401000403FFFC07FFF80FFFF80161E7E9D17>I<007F000183C00201E00400F00700F00F00F00F
01F00F01F00001E00001E00003C0000380000700000E0000F800000E000007000007800007C000
03C00007C03007C07807C0F807C0F807C0F00780800F00400E00201C0018780007E000141F7D9D
17>I<0000600000600000E00001C00003C00005C0000DC00009C00011C000238000438000C380
008380010380020380040700080700180700100700200700400700FFFFF0000E00000E00000E00
000E00000E00001C00001E0001FFE0141E7E9D17>I<01803001FFE003FFC003FF0003FC000200
00020000020000040000040000040000047C000587000603800C01800801C00001C00001E00001
E00001E00001E07003C0F803C0F003C0E00380800780400700400E00201C0018700007C000141F
7D9D17>I<000F8000704000C0200180E00301E00701E00E00C01E00001C00003C000038000078
F800790E007A07007C0300F80380F80380F003C0F003C0F003C0F003C0F00780E00780E00780E0
0700E00F00600E00701C0030180018700007C000131F7C9D17>I<2000003FFFE07FFFC07FFF80
400100C00200800200800400000800001000002000004000004000008000018000030000030000
0700000600000E00000E00001E00001C00001C00003C00003C00003C0000780000780000780000
300000131F799D17>I<003F0000C1C00100600200600400300C00300C00300C00300C00600E00
600F80C00FC18007F60003FC0001FC0001FF00063F800C0F801007C03003C06001C06000C0C000
C0C000C0C000C0C00080C0010060030030040018180007E000141F7D9D17>I<007E0001C30003
01800601C00E01C01C00C03C00E03C00E03C01E07801E07801E07801E07801E07803E07803E038
03C03807C01C0BC00C13C003E380000780000780000700000E00600E00F01C00F01800E0300080
600041C0003F0000131F7C9D17>I<000010000000180000003800000038000000780000007800
0000FC000001BC0000013C0000033C0000023C0000063C0000043E0000081E0000081E0000101E
0000101E0000201E0000200F0000400F0000400F0000FFFF0000800F0001000F80010007800200
07800200078004000780040007800C0007C03E0007C0FF807FFC1E207E9F22>65
D<07FFFF00007C01C0003C01E0003C00F0007800F8007800F8007800F8007800F8007800F80078
00F000F001F000F001E000F003C000F00F8000FFFE0000F00F0001E007C001E003C001E003E001
E001E001E001E001E001E003C001E003C003E003C003E003C003C003C007C003C00F8007800F00
07803E00FFFFF0001D1F7E9E20>I<0001F808000E061800380138007000F801E0007803C00070
07800030078000300F0000301F0000301E0000303E0000203C0000007C0000007C0000007C0000
007C000000F8000000F8000000F8000000F8000000F80000007800004078000080780000803C00
00803C0001001C0002000E00020006000C000300100001C0E000003F00001D217B9F21>I<07FF
FF00007C01E0003C00F0003C00780078003C0078003C0078001E0078001E0078001E0078001F00
F0001F00F0001F00F0001F00F0001F00F0001F00F0001F01E0001E01E0003E01E0003E01E0003E
01E0003C01E0007C03C0007803C000F003C000F003C001E003C003C003C0078007800F0007803C
00FFFFE000201F7E9E23>I<07FFFFF8007C0078003C0038003C00180078001800780008007800
0800780008007800080078080800F0100000F0100000F0100000F0300000FFF00000F0700001E0
200001E0200001E0200001E0200001E0000801E0001003C0001003C0001003C0002003C0002003
C0006003C000C0078001C0078007C0FFFFFF801D1F7E9E1F>I<07FFFFF8007C0078003C003800
3C001800780018007800080078000800780008007800080078000800F0100000F0100000F01000
00F0300000F0700000FFF00001E0600001E0200001E0200001E0200001E0200001E0000003C000
0003C0000003C0000003C0000003C0000003C000000780000007C00000FFFE00001D1F7E9E1E>
I<0001FC04000F030C003C009C0070007C00E0003C01C0003803800018078000180F0000181F00
00181E0000183E0000103C0000007C0000007C0000007C0000007C000000F8000000F8000000F8
007FFCF80003E0780001E0780001E0780003C0780003C03C0003C03C0003C01C0003C00E0007C0
07000B800380118001E06080003F80001E217B9F24>I<07FFE0007C00003C00003C0000780000
780000780000780000780000780000F00000F00000F00000F00000F00000F00001E00001E00001
E00001E00001E00001E00003C00003C00003C00003C00003C00003C00007800007C000FFFC0013
1F7F9E10>73 D<07FFF000007E0000003C0000003C000000780000007800000078000000780000
007800000078000000F0000000F0000000F0000000F0000000F0000000F0000001E0000001E000
0001E0000001E0000001E0008001E0010003C0010003C0010003C0030003C0020003C0060003C0
060007801E0007807C00FFFFFC00191F7E9E1C>76 D<07FC0000FFC0007C0000F800003C000178
00003C00017800004E0002F000004E0002F000004E0004F000004E0004F000004E0008F000004E
0008F00000870011E00000870011E00000870021E00000870021E00000870041E00000838041E0
0001038083C00001038083C00001038103C00001038203C0000101C203C0000101C403C0000201
C40780000201C80780000201C80780000201D00780000200F00780000600E00780000600E00F00
000F00C00F8000FFE0C1FFF8002A1F7E9E2A>I<07FC01FFC0003E003E00003E001800003E0018
00004F001000004F001000004780100000478010000043C010000043C010000083C020000081E0
20000081E020000080F020000080F020000080782000010078400001007C400001003C40000100
3C400001001E400001001E400002000F800002000F800002000F80000200078000020007800006
0003800006000300000F00010000FFE0010000221F7E9E22>I<0003F800001E0E000038070000
E0038001C001C003C001E0078000E00F0000F00F0000F01E0000F01E0000F83E0000F83C0000F8
7C0000F87C0000F87C0000F87C0000F8F80001F0F80001F0F80001F0F80001F0F80003E0780003
E0780003C0780007C07C0007803C000F003C001E001E001C000E0038000700F00003C3C00000FE
00001D217B9F23>I<07FFFF00007C03C0003C01E0003C00F0007800F0007800F8007800F80078
00F8007800F8007800F000F001F000F001E000F003C000F0078000F00F0000FFF80001E0000001
E0000001E0000001E0000001E0000001E0000003C0000003C0000003C0000003C0000003C00000
03C000000780000007C00000FFFC00001D1F7E9E1F>I<07FFFC00007C0700003C03C0003C01E0
007801E0007801F0007801F0007801F0007801F0007801E000F003E000F003C000F0078000F00F
0000F03C0000FFF00001E0300001E0380001E01C0001E01C0001E01C0001E01E0003C03E0003C0
3E0003C03E0003C03E0003C03E0003C03E0207803E0407C01F04FFFC0F18000003E01F207E9E21
>82 D<003F040060CC01803C03801C03001C0700180600080E00080E00080E00080E00000F0000
0F80000FE00007FE0003FF8001FFC0007FE00007E00001E00000E00000F00000F04000E04000E0
4000E04000E06000C0600180E00380F80300C60C0081F80016217D9F19>I<3FFFFFF03C0780F0
3007803060078030400F0010400F0010C00F0010800F0010800F0010800F0010001E0000001E00
00001E0000001E0000001E0000001E0000003C0000003C0000003C0000003C0000003C0000003C
000000780000007800000078000000780000007800000078000000F0000001F800007FFFE0001C
1F7A9E21>I<FFFC3FF80F8007C007800300078003000F0002000F0002000F0002000F0002000F
0002000F0002001E0004001E0004001E0004001E0004001E0004001E0004003C0008003C000800
3C0008003C0008003C0008003C000800380010003800100038001000380020003C0040001C0040
001C0080000E0100000706000001F800001D20799E22>I<FFF003FE1F8000F80F0000600F0000
400F0000400F8000800780018007800100078002000780020007C0040003C0040003C0080003C0
080003C0100003E0100001E0200001E0200001E0400001E0400001F0800000F1000000F1000000
F2000000F2000000FC0000007C000000780000007800000070000000700000002000001F207A9E
22>I<03FFC0FFC0007F007E00003E003800001E003000001E002000000F004000000F00800000
0F81000000078200000007C600000003C400000003E800000001F000000001F000000000F00000
0000F800000000F8000000017C000000023C000000043C0000000C1E000000081E000000101F00
0000200F000000400F800000C0078000008007C000010003C000070003E0001F8007E000FFE01F
FE00221F7F9E22>88 D<FFF003FF1F8000F80F0000600F8000400780008007C0018003C0010003
E0020001E0040001F00C0001F0080000F0100000F8200000786000007C4000003C8000003F0000
001F0000001E0000001E0000001E0000001C0000003C0000003C0000003C0000003C0000003C00
000038000000780000007C00000FFFC000201F7A9E22>I<07F8000C0C001E06001E07001C0700
00070000070000070000FF0007C7001E07003C0E00780E00F00E10F00E10F00E10F01E10F02E20
784F401F878014147D9317>97 D<0700003F00000F00000700000700000E00000E00000E00000E
00000E00000E00001C00001C7C001D87001E03801C01C01C01C03801C03801E03801E03801E038
01E03801E07003C07003C0700380700780700700700E00E81C00C4380083E00013207B9F19>I<
01FC07060E0F1C0F380E78007000F000F000F000F000E000E000E000E000F0027004300818300F
C010147C9314>I<0000700003F00000F00000700000700000E00000E00000E00000E00000E000
00E00001C000F9C00305C00E03C01C03C03801C0780380700380F00380F00380F00380F00380E0
0700E00700E00700E00700E00700700F00301E00186F000F8FE014207C9F19>I<00F800070E00
0E07001C0700380380780380700380F00380F00380FFFF80F00000E00000E00000E00000E00000
F001007002003004001C180007E00011147D9314>I<0007800018C00031E00061E000E1C000C0
0001C00001C00001C00001C00001C0000380007FF8000380000380000380000380000700000700
000700000700000700000700000E00000E00000E00000E00000E00000E00001C00001E0000FFE0
0013207E9F0E>I<00000E003E1100E1A301C1C20381E00780E00701E00F01E00F01E00F01E007
03C007038007870004FC000800000800001800001C00000FFF000FFFC007FFE01800F030003060
0030C00030C00030C000306000603000C01C070007FC00181F809417>I<00E00007E00001E000
00E00000E00001C00001C00001C00001C00001C00001C000038000038F800390E003A0E003C060
0380600780E00700E00700E00700E00700E00700E00E01C00E01C00E01C00E01C00E01C00E01C0
1C03801E03C0FFCFF815207E9F19>I<01C003E003E003C0018000000000000000000000000003
801F800780038003800700070007000700070007000E000E000E000E000E000E001C001E00FF80
0B1F7F9E0C>I<00E007E001E000E000E001C001C001C001C001C001C003800380038003800380
03800700070007000700070007000E000E000E000E000E000E001C001E00FFC00B207F9F0C>
108 D<0387C07C001F9861860007A072070003C034030003803803000780780700070070070007
007007000700700700070070070007007007000E00E00E000E00E00E000E00E00E000E00E00E00
0E00E00E000E00E00E001C01C01C001E01E01E00FFCFFCFFC022147E9326>I<038F801F90E007
A0E003C0600380600780E00700E00700E00700E00700E00700E00E01C00E01C00E01C00E01C00E
01C00E01C01C03801E03C0FFCFF815147E9319>I<00FC000387000E01801C00C03800E03800E0
7000F0F000F0F000F0F000F0F000F0E001E0E001E0E001C0E003C0F00380700700380E001C1C00
07E00014147D9317>I<00E3E007EC3800F01C00E01E00E00E01C00E01C00F01C00F01C00F01C0
0F01C00F03801E03801E03801C03803C0380380380700740E00721C0071F000700000700000700
000E00000E00000E00000E00001E0000FFC000181D809319>I<00F040038CC00E04C01C03C03C
03C0780380780380F00380F00380F00380F00380E00700E00700E00700F00700F00F00700F0030
1E00186E000F8E00000E00000E00000E00001C00001C00001C00001C00003C0001FF80121D7C93
18>I<038E001FB38007C78003C7800383000780000700000700000700000700000700000E0000
0E00000E00000E00000E00000E00001C00001E0000FFE00011147E9312>I<01F2060E08061806
1802380438001E001FE00FF003F8003C401C400C400C600C6018E010D0608FC00F147E9312>I<
0080010001000100030007000F001E00FFF80E000E000E000E001C001C001C001C001C001C0038
0038203820382038203840384018800F000D1C7C9B12>I<1C0380FC1F803C07801C03801C0380
380700380700380700380700380700380700700E00700E00700E00700E00701E00701E00703C00
305E001F9FC012147B9319>I<FF83F81E00E01C00C01C00800E00800E01000E02000E02000F04
0007040007080007080007100003900003A00003E00003C00003800001800001000015147C9318
>I<FF9FE1FC3E0780701C0300601C0300401C0380401C0380800E0780800E0581000E0981000E
09C2000E11C2000731C4000721C4000760C8000740C8000780F0000780F0000300E00003006000
020040001E147C9321>I<1FF0FF03C07801C06001C04000E08000E180007300007600003C0000
3C00001C00002E00004E000087000107000203800603800C01C03E03E0FF07FC18147F9318>I<
0FF83F8001E00E0001C00C0001C0080000E0180000E0100000E0200000E0200000F04000007040
0000708000007080000071000000390000003A0000003E0000003C000000380000001800000010
00000010000000200000002000000040000070C00000F0800000F1000000E20000007C00000019
1D809318>I E /Fu 85 125 df<001F83E000F06E3001C078780380F8780300F0300700700007
0070000700700007007000070070000700700007007000FFFFFF80070070000700700007007000
070070000700700007007000070070000700700007007000070070000700700007007000070070
0007007000070070000700700007007000070070007FE3FF001D20809F1B>11
D<003F0000E0C001C0C00381E00701E00701E0070000070000070000070000070000070000FFFF
E00700E00700E00700E00700E00700E00700E00700E00700E00700E00700E00700E00700E00700
E00700E00700E00700E00700E00700E07FC3FE1720809F19>I<003FE000E0E001C1E00381E007
00E00700E00700E00700E00700E00700E00700E00700E0FFFFE00700E00700E00700E00700E007
00E00700E00700E00700E00700E00700E00700E00700E00700E00700E00700E00700E00700E007
00E07FE7FE1720809F19>I<001F81F80000F04F040001C07C06000380F80F000300F00F000700
F00F00070070000007007000000700700000070070000007007000000700700000FFFFFFFF0007
007007000700700700070070070007007007000700700700070070070007007007000700700700
070070070007007007000700700700070070070007007007000700700700070070070007007007
00070070070007007007007FE3FE3FF02420809F26>I<7038F87CFC7EFC7E743A040204020402
0804080410081008201040200F0E7E9F17>34 D<70F8FCFC74040404080810102040060E7C9F0D
>39 D<0020004000800100020006000C000C00180018003000300030007000600060006000E000
E000E000E000E000E000E000E000E000E000E000E0006000600060007000300030003000180018
000C000C000600020001000080004000200B2E7DA112>I<800040002000100008000C00060006
000300030001800180018001C000C000C000C000E000E000E000E000E000E000E000E000E000E0
00E000E000C000C000C001C001800180018003000300060006000C00080010002000400080000B
2E7DA112>I<000600000006000000060000000600000006000000060000000600000006000000
060000000600000006000000060000000600000006000000060000FFFFFFF0FFFFFFF000060000
000600000006000000060000000600000006000000060000000600000006000000060000000600
00000600000006000000060000000600001C207D9A23>43 D<70F8FCFC74040404080810102040
060E7C840D>I<FFC0FFC00A027F8A0F>I<70F8F8F87005057C840D>I<00010003000300060006
0006000C000C000C00180018001800300030003000600060006000C000C000C001800180018003
00030003000600060006000C000C000C00180018001800300030003000600060006000C000C000
C000102D7DA117>I<03F0000E1C001C0E00180600380700700380700380700380700380F003C0
F003C0F003C0F003C0F003C0F003C0F003C0F003C0F003C0F003C0F003C0F003C0F003C0700380
7003807003807807803807001806001C0E000E1C0003F000121F7E9D17>I<018003800F80F380
038003800380038003800380038003800380038003800380038003800380038003800380038003
80038003800380038007C0FFFE0F1E7C9D17>I<03F0000C1C00100E00200700400780800780F0
07C0F803C0F803C0F803C02007C00007C0000780000780000F00000E00001C0000380000700000
600000C0000180000300000600400C00401800401000803FFF807FFF80FFFF80121E7E9D17>I<
03F0000C1C00100E00200F00780F80780780780780380F80000F80000F00000F00000E00001C00
00380003F000003C00000E00000F000007800007800007C02007C0F807C0F807C0F807C0F00780
400780400F00200E001C3C0003F000121F7E9D17>I<000600000600000E00000E00001E00002E
00002E00004E00008E00008E00010E00020E00020E00040E00080E00080E00100E00200E00200E
00400E00C00E00FFFFF0000E00000E00000E00000E00000E00000E00000E0000FFE0141E7F9D17
>I<1803001FFE001FFC001FF8001FE00010000010000010000010000010000010000011F00016
1C00180E001007001007800003800003800003C00003C00003C07003C0F003C0F003C0E0038040
0380400700200600100E000C380003E000121F7E9D17>I<007C000182000701000E03800C0780
1C0780380300380000780000700000700000F1F000F21C00F40600F80700F80380F80380F003C0
F003C0F003C0F003C0F003C07003C07003C07003803803803807001807000C0E00061C0001F000
121F7E9D17>I<4000007FFFC07FFF807FFF804001008002008002008004000008000008000010
0000200000200000400000400000C00000C00001C0000180000380000380000380000380000780
00078000078000078000078000078000078000030000121F7D9D17>I<03F0000C0C0010060030
03002001806001806001806001807001807803003E03003F06001FC8000FF00003F80007FC000C
7E00103F00300F806003804001C0C001C0C000C0C000C0C000C0C000806001802001001002000C
0C0003F000121F7E9D17>I<03F0000E18001C0C00380600380700700700700380F00380F00380
F003C0F003C0F003C0F003C0F003C07007C07007C03807C0180BC00E13C003E3C0000380000380
000380000700300700780600780E00700C002018001070000FC000121F7E9D17>I<70F8F8F870
0000000000000000000070F8F8F87005147C930D>I<70F8F8F8700000000000000000000070F0
F8F878080808101010202040051D7C930D>I<7FFFFFE0FFFFFFF0000000000000000000000000
0000000000000000000000000000000000000000FFFFFFF07FFFFFE01C0C7D9023>61
D<0FC0307040384038E03CF03CF03C603C0038007000E000C00180018001000300020002000200
0200020002000000000000000000000007000F800F800F8007000E207D9F15>63
D<001F800000E0700001000800060006000800010008000100100F00802030C0402060404040C0
202041C01C2041C01C2081801C1083801C1083801C1083801C1083801C1083801C1083801C1081
801C1041C01C1041C01C1040C03C2020605C202030CC40100F0780080000000800000006000070
010001C000E01F00001FF0001C207D9F23>I<000100000003800000038000000380000007C000
0007C0000007C0000009E0000009E0000009E0000010F0000010F0000010F00000207800002078
000020780000403C0000403C0000403C0000801E0000801E0000FFFE0001000F0001000F000100
0F00020007800200078002000780040003C00E0003C01F0007E0FFC03FFE1F207F9F22>I<FFFF
E0000F80380007801E0007801F0007800F0007800F8007800F8007800F8007800F8007800F8007
800F0007801F0007801E0007803C0007FFF00007803C0007801E0007800F0007800F8007800780
078007C0078007C0078007C0078007C0078007C00780078007800F8007800F0007801F000F803C
00FFFFF0001A1F7E9E20>I<000FC040007030C001C009C0038005C0070003C00E0001C01E0000
C01C0000C03C0000C07C0000407C00004078000040F8000000F8000000F8000000F8000000F800
0000F8000000F8000000F8000000F8000000780000007C0000407C0000403C0000401C0000401E
0000800E000080070001000380020001C0040000703800000FC0001A217D9F21>I<FFFFE0000F
803C0007801E000780070007800380078003C0078001E0078001E0078001F0078000F0078000F0
078000F8078000F8078000F8078000F8078000F8078000F8078000F8078000F8078000F8078000
F0078000F0078000F0078001E0078001E0078003C0078003800780070007800E000F803C00FFFF
E0001D1F7E9E23>I<FFFFFF000F800F0007800300078003000780010007800180078000800780
008007800080078080800780800007808000078080000781800007FF8000078180000780800007
8080000780800007808000078000200780002007800020078000400780004007800040078000C0
078000C0078001800F800F80FFFFFF801B1F7E9E1F>I<FFFFFF000F800F000780030007800300
078001000780018007800080078000800780008007800080078080000780800007808000078080
000781800007FF8000078180000780800007808000078080000780800007800000078000000780
000007800000078000000780000007800000078000000FC00000FFFE0000191F7E9E1E>I<000F
E0200078186000E004E0038002E0070001E00F0000E01E0000601E0000603C0000603C0000207C
00002078000020F8000000F8000000F8000000F8000000F8000000F8000000F8000000F8007FFC
F80003E0780001E07C0001E03C0001E03C0001E01E0001E01E0001E00F0001E0070001E0038002
E000E0046000781820000FE0001E217D9F24>I<FFF8FFF80F800F8007800F0007800F0007800F
0007800F0007800F0007800F0007800F0007800F0007800F0007800F0007800F0007800F0007FF
FF0007800F0007800F0007800F0007800F0007800F0007800F0007800F0007800F0007800F0007
800F0007800F0007800F0007800F0007800F000F800F80FFF8FFF81D1F7E9E22>I<FFFC0FC007
800780078007800780078007800780078007800780078007800780078007800780078007800780
07800780078007800780078007800FC0FFFC0E1F7F9E10>I<0FFFC0007C00003C00003C00003C
00003C00003C00003C00003C00003C00003C00003C00003C00003C00003C00003C00003C00003C
00003C00003C00003C00003C00003C00203C00F83C00F83C00F83C00F0380040780040700030E0
000F800012207E9E17>I<FFFC0FFC0FC003E00780018007800100078002000780040007800800
07801000078020000780400007808000078100000783000007878000078F80000793C0000791E0
0007A1E00007C0F0000780F0000780780007803C0007803C0007801E0007801E0007800F000780
078007800780078007C00FC007E0FFFC3FFC1E1F7E9E23>I<FFFE000FC0000780000780000780
000780000780000780000780000780000780000780000780000780000780000780000780000780
0007800007800007800207800207800207800207800607800407800407800C07801C0F807CFFFF
FC171F7E9E1C>I<FF80001FF80F80001F800780001F0005C0002F0005C0002F0005C0002F0004
E0004F0004E0004F000470008F000470008F000470008F000438010F000438010F000438010F00
041C020F00041C020F00041C020F00040E040F00040E040F00040E040F000407080F000407080F
000407080F000403900F000403900F000401E00F000401E00F000401E00F000E00C00F001F00C0
1F80FFE0C1FFF8251F7E9E2A>I<FF803FF807C007C007C0038005E0010005E0010004F0010004
78010004780100043C0100043C0100041E0100040F0100040F010004078100040781000403C100
0401E1000401E1000400F1000400F1000400790004003D0004003D0004001F0004001F0004000F
0004000700040007000E0003001F000300FFE001001D1F7E9E22>I<001F800000F0F00001C038
0007801E000F000F000E0007001E0007803C0003C03C0003C07C0003E0780001E0780001E0F800
01F0F80001F0F80001F0F80001F0F80001F0F80001F0F80001F0F80001F0F80001F0780001E07C
0003E07C0003E03C0003C03C0003C01E0007800E0007000F000F0007801E0001C0380000F0F000
001F80001C217D9F23>I<FFFFE0000F80780007801C0007801E0007800F0007800F8007800F80
07800F8007800F8007800F8007800F8007800F0007801E0007801C000780780007FFE000078000
000780000007800000078000000780000007800000078000000780000007800000078000000780
000007800000078000000FC00000FFFC0000191F7E9E1F>I<001F800000F0F00001C038000780
1E000F000F000E0007001E0007803C0003C03C0003C07C0003E07C0003E0780001E0F80001F0F8
0001F0F80001F0F80001F0F80001F0F80001F0F80001F0F80001F0F80001F0780001E0780001E0
7C0003E03C0003C03C0F03C01E1087800E2047000F204F0007A03E0001E0380000F0F010001FB0
1000003010000038300000387000003FF000001FE000001FE000000FC0000007801C297D9F23>
I<FFFF80000F80F0000780780007803C0007801E0007801E0007801F0007801F0007801F000780
1F0007801E0007801E0007803C00078078000780F00007FF80000781C0000780E0000780F00007
80700007807800078078000780780007807C0007807C0007807C0007807C0407807E0407803E04
0FC01E08FFFC0F10000003E01E207E9E21>I<07E0800C1980100780300380600180600180E001
80E00080E00080E00080F00000F000007800007F00003FF0001FFC000FFE0003FF00001F800007
800003C00003C00001C08001C08001C08001C08001C0C00180C00380E00300F00600CE0C0081F8
0012217D9F19>I<7FFFFFE0780F01E0600F0060400F0020400F0020C00F0030800F0010800F00
10800F0010800F0010000F0000000F0000000F0000000F0000000F0000000F0000000F0000000F
0000000F0000000F0000000F0000000F0000000F0000000F0000000F0000000F0000000F000000
0F0000000F0000001F800007FFFE001C1F7E9E21>I<FFFC3FF80FC007C0078003800780010007
800100078001000780010007800100078001000780010007800100078001000780010007800100
078001000780010007800100078001000780010007800100078001000780010007800100078001
00038002000380020001C0020001C0040000E008000070180000382000000FC0001D207E9E22>
I<FFF003FE1F8000F80F0000600F800060078000400780004003C0008003C0008003C0008001E0
010001E0010001F0010000F0020000F0020000F806000078040000780400003C0800003C080000
3C0800001E1000001E1000001F3000000F2000000F20000007C0000007C0000007C00000038000
0003800000038000000100001F207F9E22>I<FFF07FF81FF01F800FC007C00F00078003800F00
078001000F0007C00100078007C00200078007C00200078007C0020003C009E0040003C009E004
0003C009E0040003E010F00C0001E010F0080001E010F0080001F02078080000F02078100000F0
2078100000F0403C10000078403C20000078403C20000078C03E2000003C801E4000003C801E40
00003C801E4000001F000F8000001F000F8000001F000F8000001E00078000000E00070000000E
00070000000C000300000004000200002C207F9E2F>I<7FF83FF80FE00FC007C0070003C00200
01E0040001F00C0000F0080000781000007C1000003C2000003E4000001E4000000F8000000F80
00000780000003C0000007E0000005E0000009F0000018F8000010780000207C0000603C000040
1E0000801F0001800F0001000780020007C0070003C01F8007E0FFE01FFE1F1F7F9E22>I<FFF0
03FF1F8000F80F8000600780004007C0004003E0008001E0008001F0010000F0030000F8020000
7C0400003C0400003E0800001E0800001F1000000FB0000007A0000007C0000003C0000003C000
0003C0000003C0000003C0000003C0000003C0000003C0000003C0000003C0000003C0000007C0
00007FFE00201F7F9E22>I<FEFEC0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0
C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0FEFE072D7CA10D>91 D<08041008201020104020402080
4080408040B85CFC7EFC7E7C3E381C0F0E7B9F17>I<FEFE060606060606060606060606060606
0606060606060606060606060606060606060606060606060606FEFE072D7FA10D>I<08102020
4040808080B8FCFC7C38060E7D9F0D>96 D<1FE000303000781800781C00300E00000E00000E00
000E0000FE00078E001E0E00380E00780E00F00E10F00E10F00E10F01E10781E103867200F83C0
14147E9317>I<0E0000FE00000E00000E00000E00000E00000E00000E00000E00000E00000E00
000E00000E3E000EC3800F01C00F00E00E00E00E00700E00700E00780E00780E00780E00780E00
780E00780E00700E00700E00E00F00E00D01C00CC300083E0015207F9F19>I<03F80E0C1C1E38
1E380C70007000F000F000F000F000F000F00070007000380138011C020E0C03F010147E9314>
I<000380003F8000038000038000038000038000038000038000038000038000038000038003E3
80061B801C0780380380380380700380700380F00380F00380F00380F00380F00380F003807003
807003803803803807801C07800E1B8003E3F815207E9F19>I<03F0000E1C001C0E0038070038
0700700700700380F00380F00380FFFF80F00000F00000F000007000007000003800801800800C
010007060001F80011147F9314>I<007C00C6018F038F07060700070007000700070007000700
FFF00700070007000700070007000700070007000700070007000700070007000700070007007F
F01020809F0E>I<0000E003E3300E3C301C1C30380E00780F00780F00780F00780F00780F0038
0E001C1C001E380033E0002000002000003000003000003FFE001FFF800FFFC03001E0600070C0
0030C00030C00030C000306000603000C01C038003FC00141F7F9417>I<0E0000FE00000E0000
0E00000E00000E00000E00000E00000E00000E00000E00000E00000E3E000E43000E81800F01C0
0F01C00E01C00E01C00E01C00E01C00E01C00E01C00E01C00E01C00E01C00E01C00E01C00E01C0
0E01C00E01C0FFE7FC16207F9F19>I<1C001E003E001E001C000000000000000000000000000E
007E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E00FFC0
0A1F809E0C>I<00E001F001F001F000E0000000000000000000000000007007F000F000700070
007000700070007000700070007000700070007000700070007000700070007000700070007060
70F060F0C061803F000C28829E0E>I<0E0000FE00000E00000E00000E00000E00000E00000E00
000E00000E00000E00000E00000E0FF00E03C00E03000E02000E04000E08000E10000E30000E70
000EF8000F38000E1C000E1E000E0E000E07000E07800E03800E03C00E03E0FFCFF815207F9F18
>I<0E00FE000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E
000E000E000E000E000E000E000E000E000E000E000E000E00FFE00B20809F0C>I<0E1F01F000
FE618618000E81C81C000F00F00E000F00F00E000E00E00E000E00E00E000E00E00E000E00E00E
000E00E00E000E00E00E000E00E00E000E00E00E000E00E00E000E00E00E000E00E00E000E00E0
0E000E00E00E000E00E00E00FFE7FE7FE023147F9326>I<0E3E00FE43000E81800F01C00F01C0
0E01C00E01C00E01C00E01C00E01C00E01C00E01C00E01C00E01C00E01C00E01C00E01C00E01C0
0E01C0FFE7FC16147F9319>I<01F800070E001C03803801C03801C07000E07000E0F000F0F000
F0F000F0F000F0F000F0F000F07000E07000E03801C03801C01C0380070E0001F80014147F9317
>I<0E3E00FEC3800F01C00F00E00E00E00E00F00E00700E00780E00780E00780E00780E00780E
00780E00700E00F00E00E00F01E00F01C00EC3000E3E000E00000E00000E00000E00000E00000E
00000E00000E0000FFE000151D7F9319>I<03E0800619801C05803C0780380380780380700380
F00380F00380F00380F00380F00380F003807003807803803803803807801C0B800E138003E380
000380000380000380000380000380000380000380000380003FF8151D7E9318>I<0E78FE8C0F
1E0F1E0F0C0E000E000E000E000E000E000E000E000E000E000E000E000E000E00FFE00F147F93
12>I<1F9030704030C010C010C010E00078007F803FE00FF00070803880188018C018C018E030
D0608F800D147E9312>I<020002000200060006000E000E003E00FFF80E000E000E000E000E00
0E000E000E000E000E000E000E080E080E080E080E080610031001E00D1C7F9B12>I<0E01C0FE
1FC00E01C00E01C00E01C00E01C00E01C00E01C00E01C00E01C00E01C00E01C00E01C00E01C00E
01C00E01C00E03C00603C0030DC001F1FC16147F9319>I<FF83F81E01E01C00C00E00800E0080
0E008007010007010003820003820003820001C40001C40001EC0000E80000E800007000007000
00700000200015147F9318>I<FF9FE1FC3C0780701C0300601C0380200E0380400E0380400E03
C0400707C0800704C0800704E080038861000388710003C8730001D0320001D03A0000F03C0000
E01C0000E01C0000601800004008001E147F9321>I<7FC3FC0F01E00701C007018003810001C2
0000E40000EC00007800003800003C00007C00004E000087000107000303800201C00601E01E01
E0FF07FE1714809318>I<FF83F81E01E01C00C00E00800E00800E008007010007010003820003
820003820001C40001C40001EC0000E80000E80000700000700000700000200000200000400000
4000004000F08000F08000F100006200003C0000151D7F9318>I<3FFF380E200E201C40384078
407000E001E001C00380078007010E011E011C0338027006700EFFFE10147F9314>I<FFFFFC16
01808C17>I<FFFFFFFFFFF02C01808C2D>I E /Fv 8 57 df<03000700FF000700070007000700
07000700070007000700070007000700070007000700070007007FF00C157E9412>49
D<0F8030E040708030C038E0384038003800700070006000C00180030006000C08080810183FF0
7FF0FFF00D157E9412>I<0FE030306018701C701C001C00180038006007E000300018000C000E
000EE00EE00EC00C401830300FE00F157F9412>I<00300030007000F001F00170027004700870
1870107020704070C070FFFE0070007000700070007003FE0F157F9412>I<20303FE03FC02400
20002000200020002F8030E020700030003800384038E038E0388030406020C01F000D157E9412
>I<01F00608080C181C301C70006000E000E3E0EC30F018F00CE00EE00EE00E600E600E300C30
18183007C00F157F9412>I<40007FFE7FFC7FF8C0088010802000400080008001000100030002
00060006000E000E000E000E000E0004000F167E9512>I<07E018302018600C600C700C78183E
101F600FC00FF018F8607C601EC00EC006C006C004600C38300FE00F157F9412>I
E /Fw 40 123 df<0E00FE001E000E000E000E000E000E000E000E000E000E000E000E000E000E
000E000E000E000E00FFC00A157F940E>16 D<07070F1E1C38604080080976A218>19
D<70F8F8F87005057C840E>46 D<FFFFF8000F800E0007800780078003C0078003E0078001E007
8001F0078001F0078001F0078001F0078001F0078001E0078003E0078007C007800F8007803E00
07FFFE0007800780078003C0078001E0078001F0078000F0078000F8078000F8078000F8078000
F8078000F8078000F8078001F0078001F0078003E0078007C00F800F00FFFFFC001D227EA123>
66 D<FFFFF0000F801E0007800700078003C0078001C0078000E0078000F00780007807800078
0780007C0780003C0780003C0780003C0780003E0780003E0780003E0780003E0780003E078000
3E0780003E0780003E0780003E0780003C0780003C0780007C0780007807800078078000F00780
00E0078001E0078003C0078007000F801E00FFFFF8001F227EA125>68 D<FFFFFFC00F8007C007
8001C0078000C00780004007800040078000600780002007800020078000200780202007802000
0780200007802000078060000780E00007FFE0000780E000078060000780200007802000078020
000780200007800000078000000780000007800000078000000780000007800000078000000780
00000FC00000FFFE00001B227EA120>70 D<0007F008003C0C1800E0021801C001B8038000F807
0000780F0000381E0000381E0000183C0000183C0000187C0000087800000878000008F8000000
F8000000F8000000F8000000F8000000F8000000F8000000F8001FFF780000F8780000787C0000
783C0000783C0000781E0000781E0000780F00007807000078038000B801C000B800E00318003C
0C080007F00020247DA226>I<FFFC3FFF0FC003F0078001E0078001E0078001E0078001E00780
01E0078001E0078001E0078001E0078001E0078001E0078001E0078001E0078001E0078001E007
FFFFE0078001E0078001E0078001E0078001E0078001E0078001E0078001E0078001E0078001E0
078001E0078001E0078001E0078001E0078001E0078001E00FC003F0FFFC3FFF20227EA125>I<
03FFF0001F00000F00000F00000F00000F00000F00000F00000F00000F00000F00000F00000F00
000F00000F00000F00000F00000F00000F00000F00000F00000F00000F00000F00000F00000F00
700F00F80F00F80F00F80E00F01E00401C0020380018700007C00014237EA119>74
D<FFFC03FF000FC000F80007800060000780004000078000800007800100000780020000078004
00000780080000078010000007802000000780400000078080000007818000000783C000000787
E000000789E000000788F000000790F0000007A078000007C03C000007803C000007801E000007
800F000007800F00000780078000078007C000078003C000078001E000078001E000078000F000
078000F8000FC000FC00FFFC07FF8021227EA126>I<FFC00003FF0FC00003F007C00003E005E0
0005E005E00005E004F00009E004F00009E004F00009E004780011E004780011E004780011E004
3C0021E0043C0021E0043C0021E0041E0041E0041E0041E0040F0081E0040F0081E0040F0081E0
04078101E004078101E004078101E00403C201E00403C201E00401E401E00401E401E00401E401
E00400F801E00400F801E00400F801E004007001E00E007001E01F007003F0FFE0203FFF28227E
A12D>77 D<FF8007FF07C000F807C0007005E0002004F0002004F0002004780020047C0020043C
0020041E0020041F0020040F002004078020040780200403C0200401E0200401E0200400F02004
00F8200400782004003C2004003E2004001E2004000F2004000F20040007A0040003E0040003E0
040001E0040001E0040000E00E0000601F000060FFE0002020227EA125>I<FFFFF0000F803C00
07800F0007800780078007C0078003C0078003E0078003E0078003E0078003E0078003E0078003
E0078003C0078007C00780078007800F0007803C0007FFF0000780000007800000078000000780
000007800000078000000780000007800000078000000780000007800000078000000780000007
8000000FC00000FFFC00001B227EA121>80 D<FFFFE000000F803C000007800E00000780078000
078007C000078003C000078003E000078003E000078003E000078003E000078003E000078003C0
00078007C000078007800007800E000007803C000007FFE000000780700000078038000007801C
000007801E000007800E000007800F000007800F000007800F000007800F000007800F80000780
0F800007800F800007800F808007800FC080078007C0800FC003C100FFFC01E2000000007C0021
237EA124>82 D<03F0200C0C601802603001E07000E0600060E00060E00060E00020E00020E000
20F00000F000007800007F00003FF0001FFE000FFF0003FF80003FC00007E00001E00000F00000
F0000070800070800070800070800070C00060C00060E000C0F000C0C80180C6070081FC001424
7DA21B>I<7FFFFFF87807807860078018400780084007800840078008C007800C800780048007
800480078004800780040007800000078000000780000007800000078000000780000007800000
078000000780000007800000078000000780000007800000078000000780000007800000078000
00078000000780000007800000078000000FC00003FFFF001E227EA123>I<FFF03FFC03FE1F80
07E000F80F0003C000700F0003C000200F0003C00020078001E00040078001E00040078001E000
4003C002F0008003C002F0008003C002F0008001E00478010001E00478010001E00478010000F0
083C020000F0083C020000F0083C020000F8183E06000078101E04000078101E0400007C101E04
00003C200F0800003C200F0800003C200F0800001E40079000001E40079000001E40079000000F
8003E000000F8003E000000F8003E00000070001C00000070001C00000070001C0000003000180
000002000080002F237FA132>87 D<FEFEC0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0
C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0FEFE07317BA40E>91
D<FEFE060606060606060606060606060606060606060606060606060606060606060606060606
060606060606060606FEFE07317FA40E>93 D<0FE0001838003C0C003C0E001807000007000007
0000070000FF0007C7001E07003C0700780700700700F00708F00708F00708F00F087817083C23
900FC1E015157E9418>97 D<0E0000FE00001E00000E00000E00000E00000E00000E00000E0000
0E00000E00000E00000E00000E00000E1F000E61C00E80600F00300E00380E003C0E001C0E001E
0E001E0E001E0E001E0E001E0E001E0E001E0E001C0E003C0E00380F00700C80600C41C0083F00
17237FA21B>I<01FE000703000C07801C0780380300780000700000F00000F00000F00000F000
00F00000F00000F000007000007800403800401C00800C010007060001F80012157E9416>I<00
00E0000FE00001E00000E00000E00000E00000E00000E00000E00000E00000E00000E00000E000
00E001F8E00704E00C02E01C01E03800E07800E07000E0F000E0F000E0F000E0F000E0F000E0F0
00E0F000E07000E07800E03800E01801E00C02E0070CF001F0FE17237EA21B>I<01FC00070700
0C03801C01C03801C07801E07000E0F000E0FFFFE0F00000F00000F00000F00000F00000700000
7800203800201C00400E008007030000FC0013157F9416>I<00007001F198071E180E0E181C07
001C07003C07803C07803C07803C07801C07001C07000E0E000F1C0019F0001000001000001800
001800001FFE000FFFC00FFFE03800F0600030400018C00018C00018C000186000306000303800
E00E038003FE0015217F9518>103 D<0E0000FE00001E00000E00000E00000E00000E00000E00
000E00000E00000E00000E00000E00000E00000E1F800E60C00E80E00F00700F00700E00700E00
700E00700E00700E00700E00700E00700E00700E00700E00700E00700E00700E00700E00700E00
70FFE7FF18237FA21B>I<1C001E003E001E001C00000000000000000000000000000000000E00
FE001E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E00FF
C00A227FA10E>I<0E0000FE00001E00000E00000E00000E00000E00000E00000E00000E00000E
00000E00000E00000E00000E03FC0E01F00E01C00E01800E02000E04000E08000E10000E38000E
F8000F1C000E1E000E0E000E07000E07800E03C00E01C00E01E00E00F00E00F8FFE3FE17237FA2
1A>107 D<0E00FE001E000E000E000E000E000E000E000E000E000E000E000E000E000E000E00
0E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E00FFE00B237F
A20E>I<0E1FC07F00FE60E183801E807201C00F003C00E00F003C00E00E003800E00E003800E0
0E003800E00E003800E00E003800E00E003800E00E003800E00E003800E00E003800E00E003800
E00E003800E00E003800E00E003800E00E003800E00E003800E0FFE3FF8FFE27157F942A>I<0E
1F80FE60C01E80E00F00700F00700E00700E00700E00700E00700E00700E00700E00700E00700E
00700E00700E00700E00700E00700E00700E0070FFE7FF18157F941B>I<01FC000707000C0180
1800C03800E0700070700070F00078F00078F00078F00078F00078F00078F000787000707800F0
3800E01C01C00E038007070001FC0015157F9418>I<0E1F00FE61C00E80600F00700E00380E00
3C0E001C0E001E0E001E0E001E0E001E0E001E0E001E0E001E0E003C0E003C0E00380F00700E80
E00E41C00E3F000E00000E00000E00000E00000E00000E00000E00000E00000E0000FFE000171F
7F941B>I<0E3CFE461E8F0F0F0F060F000E000E000E000E000E000E000E000E000E000E000E00
0E000E000F00FFF010157F9413>114 D<0F8830786018C018C008C008E008F0007F803FE00FF0
01F8003C801C800C800CC00CC008E018D0308FC00E157E9413>I<020002000200020006000600
06000E001E003E00FFF80E000E000E000E000E000E000E000E000E000E000E000E040E040E040E
040E040E040708030801F00E1F7F9E13>I<0E0070FE07F01E00F00E00700E00700E00700E0070
0E00700E00700E00700E00700E00700E00700E00700E00700E00700E00F00E00F0060170038278
00FC7F18157F941B>I<FFC1FE1E00780E00300E00200E00200700400700400380800380800380
8001C10001C10000E20000E20000E20000740000740000380000380000380000100017157F941A
>I<FFC1FE1E00780E00300E00200E002007004007004003808003808003808001C10001C10000
E20000E20000E20000740000740000380000380000380000100000100000200000200000200000
4000F04000F08000F180004300003C0000171F7F941A>121 D<3FFFC038038030078020070060
0E00401C00403C0040380000700000E00001E00001C0000380400700400F00400E00C01C008038
0080780180700780FFFF8012157F9416>I E /Fx 59 122 df<000FF000007FFC0001F80E0003
E01F0007C03F000F803F000F803F000F801E000F800C000F8000000F8000000F8000000F800000
FFFFFF00FFFFFF000F801F000F801F000F801F000F801F000F801F000F801F000F801F000F801F
000F801F000F801F000F801F000F801F000F801F000F801F000F801F000F801F000F801F000F80
1F007FF0FFE07FF0FFE01B237FA21F>12 D<387CFEFFFF7F3B03030706060C1C18702008117C86
10>44 D<FFFCFFFCFFFCFFFC0E047F8C13>I<387CFEFEFE7C3807077C8610>I<00001800003800
00380000700000700000E00000E00000E00001C00001C000038000038000038000070000070000
0700000E00000E00001C00001C00001C0000380000380000700000700000700000E00000E00001
C00001C00001C0000380000380000700000700000700000E00000E00000E00001C00001C000038
0000380000380000700000700000E00000E00000C0000015317DA41C>I<00FE0007FFC00F83E0
1F01F03E00F83E00F87C007C7C007C7C007CFC007CFC007EFC007EFC007EFC007EFC007EFC007E
FC007EFC007EFC007EFC007EFC007EFC007EFC007E7C007C7C007C7C007C3E00F83E00F81F01F0
0F83E007FFC000FE0017207E9F1C>I<00180000780001F800FFF800FFF80001F80001F80001F8
0001F80001F80001F80001F80001F80001F80001F80001F80001F80001F80001F80001F80001F8
0001F80001F80001F80001F80001F80001F80001F80001F80001F8007FFFE07FFFE013207C9F1C
>I<03FC000FFF003C1FC07007E07C07F0FE03F0FE03F8FE03F8FE01F87C01F83803F80003F800
03F00003F00007E00007C0000F80001F00003E0000380000700000E01801C0180380180700180E
00380FFFF01FFFF03FFFF07FFFF0FFFFF0FFFFF015207D9F1C>I<00FE0007FFC00F07E01E03F0
3F03F03F81F83F81F83F81F81F03F81F03F00003F00003E00007C0001F8001FE0001FF000007C0
0001F00001F80000FC0000FC3C00FE7E00FEFF00FEFF00FEFF00FEFF00FC7E01FC7801F81E07F0
0FFFC001FE0017207E9F1C>I<0000E00001E00003E00003E00007E0000FE0001FE0001FE00037
E00077E000E7E001C7E00187E00307E00707E00E07E00C07E01807E03807E07007E0E007E0FFFF
FEFFFFFE0007E00007E00007E00007E00007E00007E00007E000FFFE00FFFE17207E9F1C>I<10
00201E01E01FFFC01FFF801FFF001FFE001FF8001BC00018000018000018000018000019FC001F
FF001E0FC01807E01803E00003F00003F00003F80003F83803F87C03F8FE03F8FE03F8FC03F0FC
03F07007E03007C01C1F800FFF0003F80015207D9F1C>I<001F8000FFE003F07007C0F00F01F8
1F01F83E01F83E01F87E00F07C00007C0000FC0800FC7FC0FCFFE0FD80F0FF00F8FE007CFE007C
FC007EFC007EFC007EFC007E7C007E7C007E7C007E3C007C3E007C1E00F80F00F00783E003FFC0
00FF0017207E9F1C>I<6000007800007FFFFE7FFFFE7FFFFC7FFFF87FFFF87FFFF0E00060E000
C0C00180C00300C00300000600000C00001C0000180000380000780000780000F00000F00000F0
0001F00001F00001F00003F00003F00003F00003F00003F00003F00003F00001E00017227DA11C
>I<00FE0003FFC00703E00E00F01C00F01C00783C00783E00783F00783F80783FE0F01FF9E01F
FFC00FFF8007FFC003FFE007FFF01E7FF83C1FFC7807FC7801FEF000FEF0003EF0001EF0001EF0
001CF8001C7800383C00381F01F00FFFC001FF0017207E9F1C>I<01FE0007FF800F83E01E01F0
3E00F07C00F87C0078FC007CFC007CFC007CFC007EFC007EFC007EFC007E7C00FE7C00FE3E01FE
1E037E0FFE7E07FC7E00207E00007C00007C1E007C3F00F83F00F83F00F03F01E01E03C01C0F80
0FFE0003F80017207E9F1C>I<000070000000007000000000F800000000F800000000F8000000
01FC00000001FC00000003FE00000003FE00000003FE00000006FF000000067F0000000E7F8000
000C3F8000000C3F800000183FC00000181FC00000381FE00000300FE00000300FE00000600FF0
00006007F00000E007F80000FFFFF80000FFFFF800018001FC00018001FC00038001FE00030000
FE00030000FE000600007F000600007F00FFE00FFFF8FFE00FFFF825227EA12A>65
D<FFFFFF8000FFFFFFE00007F001F80007F000FC0007F0007E0007F0007E0007F0007F0007F000
7F0007F0007F0007F0007F0007F0007F0007F0007E0007F000FE0007F000FC0007F003F80007FF
FFF00007FFFFF00007F001FC0007F0007E0007F0003F0007F0003F8007F0001F8007F0001FC007
F0001FC007F0001FC007F0001FC007F0001FC007F0001FC007F0003F8007F0003F8007F0007F00
07F001FE00FFFFFFF800FFFFFFC00022227EA128>I<0003FE0080001FFF818000FF01E38001F8
003F8003E0001F8007C0000F800F800007801F800007803F000003803F000003807F000001807E
000001807E00000180FE00000000FE00000000FE00000000FE00000000FE00000000FE00000000
FE00000000FE000000007E000000007E000001807F000001803F000001803F000003801F800003
000F8000030007C000060003F0000C0001F800380000FF00F000001FFFC0000003FE000021227D
A128>I<FFFFFF8000FFFFFFF00007F003FC0007F0007E0007F0003F0007F0001F8007F0000FC0
07F00007E007F00007E007F00007F007F00003F007F00003F007F00003F007F00003F807F00003
F807F00003F807F00003F807F00003F807F00003F807F00003F807F00003F807F00003F807F000
03F007F00003F007F00003F007F00007E007F00007E007F0000FC007F0001F8007F0003F0007F0
007E0007F003FC00FFFFFFF000FFFFFF800025227EA12B>I<FFFFFFFCFFFFFFFC07F000FC07F0
003C07F0001C07F0000C07F0000E07F0000E07F0000607F0180607F0180607F0180607F0180007
F0380007F0780007FFF80007FFF80007F0780007F0380007F0180007F0180007F0180307F01803
07F0000307F0000607F0000607F0000607F0000E07F0000E07F0001E07F0003E07F001FCFFFFFF
FCFFFFFFFC20227EA125>I<FFFFFFF8FFFFFFF807F001F807F0007807F0003807F0001807F000
1C07F0001C07F0000C07F0000C07F0180C07F0180C07F0180007F0180007F0380007F0780007FF
F80007FFF80007F0780007F0380007F0180007F0180007F0180007F0180007F0000007F0000007
F0000007F0000007F0000007F0000007F0000007F00000FFFFE000FFFFE0001E227EA123>I<00
03FE0040001FFFC0C0007F00F1C001F8003FC003F0000FC007C00007C00FC00003C01F800003C0
3F000001C03F000001C07F000000C07E000000C07E000000C0FE00000000FE00000000FE000000
00FE00000000FE00000000FE00000000FE00000000FE000FFFFC7E000FFFFC7F00001FC07F0000
1FC03F00001FC03F00001FC01F80001FC00FC0001FC007E0001FC003F0001FC001FC003FC0007F
80E7C0001FFFC3C00003FF00C026227DA12C>I<FFFF83FFFEFFFF83FFFE07F0001FC007F0001F
C007F0001FC007F0001FC007F0001FC007F0001FC007F0001FC007F0001FC007F0001FC007F000
1FC007F0001FC007F0001FC007F0001FC007FFFFFFC007FFFFFFC007F0001FC007F0001FC007F0
001FC007F0001FC007F0001FC007F0001FC007F0001FC007F0001FC007F0001FC007F0001FC007
F0001FC007F0001FC007F0001FC007F0001FC007F0001FC0FFFF83FFFEFFFF83FFFE27227EA12C
>I<FFFFE0FFFFE003F80003F80003F80003F80003F80003F80003F80003F80003F80003F80003
F80003F80003F80003F80003F80003F80003F80003F80003F80003F80003F80003F80003F80003
F80003F80003F80003F80003F80003F80003F800FFFFE0FFFFE013227FA115>I<FFFF803FFCFF
FF803FFC07F000038007F000070007F0000E0007F000180007F000300007F000E00007F001C000
07F003800007F007000007F00E000007F018000007F038000007F0FC000007F1FE000007F3FE00
0007F77F000007FE7F800007F83F800007F01FC00007F01FE00007F00FE00007F007F00007F007
F80007F003F80007F001FC0007F001FE0007F000FF0007F0007F0007F0007F8007F0003FC0FFFF
83FFFCFFFF83FFFC26227EA12C>75 D<FFFFE000FFFFE00007F0000007F0000007F0000007F000
0007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F0
000007F0000007F0000007F0000007F0000007F0000007F0001807F0001807F0001807F0001807
F0003807F0003807F0007007F0007007F000F007F001F007F007F0FFFFFFF0FFFFFFF01D227EA1
22>I<FFF000000FFFFFF800001FFF07F800001FE006FC000037E006FC000037E006FC000037E0
067E000067E0067E000067E0063F0000C7E0063F0000C7E0061F800187E0061F800187E0060FC0
0307E0060FC00307E0060FC00307E00607E00607E00607E00607E00603F00C07E00603F00C07E0
0601F81807E00601F81807E00601F81807E00600FC3007E00600FC3007E006007E6007E006007E
6007E006003FC007E006003FC007E006001F8007E006001F8007E006001F8007E006000F0007E0
FFF00F00FFFFFFF00600FFFF30227EA135>I<FFF8001FFEFFFC001FFE07FC0000C007FE0000C0
06FF0000C0067F8000C0063FC000C0061FE000C0060FE000C0060FF000C00607F800C00603FC00
C00601FE00C00600FE00C00600FF00C006007F80C006003FC0C006001FE0C006000FF0C0060007
F0C0060007F8C0060003FCC0060001FEC0060000FFC00600007FC00600007FC00600003FC00600
001FC00600000FC006000007C006000003C006000003C0FFF00001C0FFF00000C027227EA12C>
I<0007FC0000003FFF800000FC07E00003F001F80007E000FC000FC0007E001F80003F001F8000
3F003F00001F803F00001F807F00001FC07E00000FC07E00000FC0FE00000FE0FE00000FE0FE00
000FE0FE00000FE0FE00000FE0FE00000FE0FE00000FE0FE00000FE0FE00000FE07E00000FC07F
00001FC07F00001FC03F00001F803F80003F801F80003F000FC0007E0007E000FC0003F001F800
00FC07E000003FFF80000007FC000023227DA12A>I<FFFFFF00FFFFFFE007F007F007F001FC07
F000FC07F0007E07F0007E07F0007F07F0007F07F0007F07F0007F07F0007F07F0007E07F0007E
07F000FC07F001FC07F007F007FFFFE007FFFF0007F0000007F0000007F0000007F0000007F000
0007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F00000FFFF8000FFFF
800020227EA126>I<FFFFFE0000FFFFFFC00007F007F00007F001F80007F000FC0007F0007E00
07F0007F0007F0007F0007F0007F0007F0007F0007F0007F0007F0007F0007F0007E0007F000FC
0007F001F80007F007F00007FFFFC00007FFFF800007F00FE00007F007F00007F003F80007F001
FC0007F001FC0007F001FC0007F001FC0007F001FC0007F001FC0007F001FC0007F001FC0007F0
01FC0607F000FE0607F000FF0CFFFF803FF8FFFF800FF027227EA12A>82
D<01FC0407FF8C1F03FC3C007C7C003C78001C78001CF8000CF8000CFC000CFC0000FF0000FFE0
007FFF007FFFC03FFFF01FFFF80FFFFC03FFFE003FFE0003FF00007F00003F00003FC0001FC000
1FC0001FE0001EE0001EF0003CFC003CFF00F8C7FFE080FF8018227DA11F>I<7FFFFFFF807FFF
FFFF807E03F80F807803F807807003F803806003F80180E003F801C0E003F801C0C003F800C0C0
03F800C0C003F800C0C003F800C00003F800000003F800000003F800000003F800000003F80000
0003F800000003F800000003F800000003F800000003F800000003F800000003F800000003F800
000003F800000003F800000003F800000003F800000003F800000003F800000003F8000003FFFF
F80003FFFFF80022227EA127>I<FFFF803FFCFFFF803FFC07F000018007F000018007F0000180
07F000018007F000018007F000018007F000018007F000018007F000018007F000018007F00001
8007F000018007F000018007F000018007F000018007F000018007F000018007F000018007F000
018007F000018007F000018007F000018007F000018007F000018003F000030003F800030001F8
00060000FC000E00007E001C00003F80F800000FFFE0000001FF000026227EA12B>I<FFFF800F
FEFFFF800FFE07F00000C007F80000C003F800018003F800018001FC00030001FC00030001FE00
070000FE00060000FF000600007F000C00007F800C00003F801800003F801800003FC03800001F
C03000001FE03000000FE06000000FF060000007F0C0000007F0C0000007F9C0000003F9800000
03FD80000001FF00000001FF00000000FE00000000FE00000000FE000000007C000000007C0000
0000380000000038000027227FA12A>I<07FC001FFF803F07C03F03E03F01E03F01F01E01F000
01F00001F0003FF003FDF01FC1F03F01F07E01F0FC01F0FC01F0FC01F0FC01F07E02F07E0CF81F
F87F07E03F18167E951B>97 D<FF000000FF0000001F0000001F0000001F0000001F0000001F00
00001F0000001F0000001F0000001F0000001F0000001F0000001F0FE0001F3FF8001FF07C001F
801E001F001F001F000F801F000F801F000FC01F000FC01F000FC01F000FC01F000FC01F000FC0
1F000FC01F000FC01F000F801F001F801F801F001FC03E001EE07C001C3FF800180FC0001A237E
A21F>I<00FF8007FFE00F83F01F03F03E03F07E03F07C01E07C0000FC0000FC0000FC0000FC00
00FC0000FC00007C00007E00007E00003E00301F00600FC0E007FF8000FE0014167E9519>I<00
01FE000001FE0000003E0000003E0000003E0000003E0000003E0000003E0000003E0000003E00
00003E0000003E0000003E0001FC3E0007FFBE000F81FE001F007E003E003E007E003E007C003E
00FC003E00FC003E00FC003E00FC003E00FC003E00FC003E00FC003E00FC003E007C003E007C00
3E003E007E001E00FE000F83BE0007FF3FC001FC3FC01A237EA21F>I<00FE0007FF800F87C01E
01E03E01F07C00F07C00F8FC00F8FC00F8FFFFF8FFFFF8FC0000FC0000FC00007C00007C00007E
00003E00181F00300FC07003FFC000FF0015167E951A>I<003F8000FFC001E3E003C7E007C7E0
0F87E00F83C00F80000F80000F80000F80000F80000F8000FFFC00FFFC000F80000F80000F8000
0F80000F80000F80000F80000F80000F80000F80000F80000F80000F80000F80000F80000F8000
0F80000F80007FF8007FF80013237FA211>I<03FC1E0FFF7F1F0F8F3E07CF3C03C07C03E07C03
E07C03E07C03E07C03E03C03C03E07C01F0F801FFF0013FC003000003000003800003FFF801FFF
F00FFFF81FFFFC3800FC70003EF0001EF0001EF0001EF0001E78003C7C007C3F01F80FFFE001FF
0018217E951C>I<FF000000FF0000001F0000001F0000001F0000001F0000001F0000001F0000
001F0000001F0000001F0000001F0000001F0000001F07E0001F1FF8001F307C001F403C001F80
3E001F803E001F003E001F003E001F003E001F003E001F003E001F003E001F003E001F003E001F
003E001F003E001F003E001F003E001F003E001F003E00FFE1FFC0FFE1FFC01A237EA21F>I<1C
003E007F007F007F003E001C000000000000000000000000000000FF00FF001F001F001F001F00
1F001F001F001F001F001F001F001F001F001F001F001F001F001F00FFE0FFE00B247EA310>I<
FF000000FF0000001F0000001F0000001F0000001F0000001F0000001F0000001F0000001F0000
001F0000001F0000001F0000001F00FF801F00FF801F0038001F0060001F01C0001F0380001F07
00001F0E00001F1C00001F7E00001FFF00001FCF00001F0F80001F07C0001F03E0001F01E0001F
01F0001F00F8001F007C001F003C00FFE0FFC0FFE0FFC01A237EA21E>107
D<FF00FF001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F00
1F001F001F001F001F001F001F001F001F001F001F001F001F001F00FFE0FFE00B237EA210>I<
FF07F007F000FF1FFC1FFC001F303E303E001F403E403E001F801F801F001F801F801F001F001F
001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F00
1F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F
001F00FFE0FFE0FFE0FFE0FFE0FFE02B167E9530>I<FF07E000FF1FF8001F307C001F403C001F
803E001F803E001F003E001F003E001F003E001F003E001F003E001F003E001F003E001F003E00
1F003E001F003E001F003E001F003E001F003E001F003E00FFE1FFC0FFE1FFC01A167E951F>I<
00FE0007FFC00F83E01E00F03E00F87C007C7C007C7C007CFC007EFC007EFC007EFC007EFC007E
FC007EFC007E7C007C7C007C3E00F81F01F00F83E007FFC000FE0017167E951C>I<FF0FE000FF
3FF8001FF07C001F803E001F001F001F001F801F001F801F000FC01F000FC01F000FC01F000FC0
1F000FC01F000FC01F000FC01F000FC01F001F801F001F801F803F001FC03E001FE0FC001F3FF8
001F0FC0001F0000001F0000001F0000001F0000001F0000001F0000001F0000001F000000FFE0
0000FFE000001A207E951F>I<00FE030007FF87000FC1C7001F006F003F003F007E003F007E00
1F007C001F00FC001F00FC001F00FC001F00FC001F00FC001F00FC001F00FC001F007E001F007E
001F003E003F001F007F000FC1DF0007FF9F0001FC1F0000001F0000001F0000001F0000001F00
00001F0000001F0000001F0000001F000000FFE00000FFE01B207E951E>I<FE1F00FE3FC01E67
E01EC7E01E87E01E87E01F83C01F00001F00001F00001F00001F00001F00001F00001F00001F00
001F00001F00001F00001F0000FFF000FFF00013167E9517>I<0FF3003FFF00781F00600700E0
0300E00300F00300FC00007FE0007FF8003FFE000FFF0001FF00000F80C00780C00380E00380E0
0380F00700FC0E00EFFC00C7F00011167E9516>I<018000018000018000018000038000038000
0780000780000F80003F8000FFFF00FFFF000F80000F80000F80000F80000F80000F80000F8000
0F80000F80000F80000F80000F81800F81800F81800F81800F81800F830007C30003FE0000F800
11207F9F16>I<FF01FE00FF01FE001F003E001F003E001F003E001F003E001F003E001F003E00
1F003E001F003E001F003E001F003E001F003E001F003E001F003E001F003E001F003E001F007E
001F00FE000F81BE0007FF3FC001FC3FC01A167E951F>I<FFE01FE0FFE01FE00F8006000F8006
000FC00E0007C00C0007E01C0003E0180003E0180001F0300001F0300000F8600000F86000007C
C000007CC000007FC000003F8000003F8000001F0000001F0000000E0000000E00001B167F951E
>I<FFE7FF07F8FFE7FF07F81F007800C00F807801800F807C01800F807C018007C07E030007C0
DE030007E0DE070003E0DF060003E18F060001F18F0C0001F38F8C0001FB079C0000FB07D80000
FE03D800007E03F000007E03F000007C01F000003C01E000003800E000001800C00025167F9528
>I<FFE07FC0FFE07FC00F801C0007C0380003E0700003F0600001F8C00000F98000007F800000
3F0000001F0000001F8000003FC0000037C0000063E00000C1F00001C0F8000380FC0007007E00
0E003E00FF80FFE0FF80FFE01B167F951E>I<FFE01FE0FFE01FE00F8006000F8006000FC00E00
07C00C0007E01C0003E0180003E0180001F0300001F0300000F8600000F86000007CC000007CC0
00007FC000003F8000003F8000001F0000001F0000000E0000000E0000000C0000000C00000018
000078180000FC380000FC300000FC60000069C000007F8000001F0000001B207F951E>I
E /Fy 53 122 df<0001FF0000001FFFC000007F81E00000FC01E00001F807F00003F807F00007
F007F00007F007F00007F007F00007F007F00007F001C00007F000000007F000000007F0000000
07F03FF800FFFFFFF800FFFFFFF800FFFFFFF80007F003F80007F003F80007F003F80007F003F8
0007F003F80007F003F80007F003F80007F003F80007F003F80007F003F80007F003F80007F003
F80007F003F80007F003F80007F003F80007F003F80007F003F80007F003F80007F003F80007F0
03F80007F003F8007FFF3FFF807FFF3FFF807FFF3FFF80212A7FA925>12
D<00030006001C0038007800F000E001E003C003C007800F800F801F001F001F003E003E003E00
7E007E007E007C00FC00FC00FC00FC00FC00FC00FC00FC00FC00FC00FC00FC00FC00FC007C007E
007E007E003E003E003E001F001F001F000F800F80078003C003C001E000E000F000780038001C
00060003103C7BAC1A>40 D<C000600038001C001E000F000700078003C003C001E001F001F000
F800F800F8007C007C007C007E007E007E003E003F003F003F003F003F003F003F003F003F003F
003F003F003F003F003E007E007E007E007C007C007C00F800F800F801F001F001E003C003C007
8007000F001E001C0038006000C000103C7CAC1A>I<3C007F00FF80FF80FFC0FFC0FFC07FC03E
C000C000C00180018001800300030006000E001C00380030000A157B8813>44
D<FFFFFFFFFFFFFFFFFFFFFFFF10067F9016>I<1C007F007F00FF80FF80FF807F007F001C0009
097B8813>I<00000300000007800000078000000F8000000F0000000F0000001F0000001E0000
003E0000003C0000003C0000007C0000007800000078000000F8000000F0000001F0000001E000
0001E0000003E0000003C0000003C0000007C00000078000000F8000000F0000000F0000001F00
00001E0000003E0000003C0000003C0000007C0000007800000078000000F8000000F0000001F0
000001E0000001E0000003E0000003C0000003C0000007C00000078000000F8000000F0000000F
0000001F0000001E0000001E0000003E0000003C0000007C0000007800000078000000F8000000
F0000000F000000060000000193C7CAC22>I<003F800001FFF00007E0FC000FC07E001F803F00
1F001F003F001F803E000F807E000FC07E000FC07E000FC07E000FC0FE000FE0FE000FE0FE000F
E0FE000FE0FE000FE0FE000FE0FE000FE0FE000FE0FE000FE0FE000FE0FE000FE0FE000FE0FE00
0FE0FE000FE0FE000FE07E000FC07E000FC07E000FC07E000FC03F001F803F001F801F001F001F
803F000FC07E0007E0FC0001FFF000003F80001B277DA622>I<000E00001E00007E0007FE00FF
FE00FFFE00F8FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000
FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000
FE0000FE0000FE0000FE0000FE0000FE007FFFFE7FFFFE7FFFFE17277BA622>I<00FF800007FF
F0000FFFFC001E03FE003800FF807C003F80FE003FC0FF001FC0FF001FE0FF000FE0FF000FE07E
000FE03C001FE000001FE000001FC000001FC000003F8000003F0000007E000000FC000000F800
0001F0000003E00000078000000F0000001E0000003C00E0007000E000E000E001C001C0038001
C0060001C00FFFFFC01FFFFFC03FFFFFC07FFFFFC0FFFFFF80FFFFFF80FFFFFF801B277DA622>
I<007F800003FFF00007FFFC000F80FE001F007F003F807F003F803F803F803F803F803F801F80
3F801F003F8000007F0000007F0000007E000000FC000001F8000007F00000FFC00000FFC00000
01F80000007E0000003F0000003F8000001FC000001FC000001FE000001FE03C001FE07E001FE0
FF001FE0FF001FE0FF001FC0FF003FC0FE003F807C007F003F00FE001FFFFC0007FFF00000FF80
001B277DA622>I<00000E0000001E0000003E0000007E000000FE000000FE000001FE000003FE
0000077E00000E7E00000E7E00001C7E0000387E0000707E0000E07E0000E07E0001C07E000380
7E0007007E000E007E000E007E001C007E0038007E0070007E00E0007E00FFFFFFF8FFFFFFF8FF
FFFFF80000FE000000FE000000FE000000FE000000FE000000FE000000FE000000FE00007FFFF8
007FFFF8007FFFF81D277EA622>I<180003001F801F001FFFFE001FFFFC001FFFF8001FFFF000
1FFFC0001FFF00001C0000001C0000001C0000001C0000001C0000001C0000001C0000001C7FC0
001DFFF8001F80FC001E003F0008003F0000001F8000001FC000001FC000001FE000001FE01800
1FE07C001FE0FE001FE0FE001FE0FE001FE0FE001FC0FC001FC078003F8078003F803C007F001F
01FE000FFFFC0003FFF00000FF80001B277DA622>I<0007F800003FFE0000FFFF0001FC078003
F00FC007C01FC00F801FC01F801FC01F001FC03F000F803F0000007E0000007E0000007E000000
FE020000FE1FF000FE3FFC00FE603E00FE801F00FF801F80FF000FC0FF000FC0FE000FE0FE000F
E0FE000FE0FE000FE07E000FE07E000FE07E000FE07E000FE03E000FE03F000FC01F000FC01F00
1F800F801F0007E07E0003FFFC0001FFF800003FC0001B277DA622>I<380000003E0000003FFF
FFF03FFFFFF03FFFFFF07FFFFFE07FFFFFC07FFFFF807FFFFF0070000E0070000E0070001C00E0
003800E0007000E000E0000001E0000001C000000380000007800000070000000F0000001F0000
001E0000003E0000003E0000007E0000007C0000007C000000FC000000FC000000FC000000FC00
0001FC000001FC000001FC000001FC000001FC000001FC000001FC000000F80000007000001C29
7CA822>I<007F800001FFF00007FFF8000FC0FC001F803E003F001F007E001F807E001F807E00
0F80FE000FC0FE000FC0FE000FC0FE000FE0FE000FE0FE000FE0FE000FE0FE000FE07E001FE07E
001FE03F003FE01F002FE00F80CFE007FF8FE001FF0FE000080FE000000FC000000FC000000FC0
00001F803E001F807F001F807F003F007F003E007F007E007E00FC003E03F8001FFFE0000FFF80
0001FE00001B277DA622>57 D<1C007F007F00FF80FF80FF807F007F001C000000000000000000
000000000000000000003C007E00FF00FF00FF80FF80FF807F803F800180018001800300030007
0006000E000C0018003000200009277B9A13>59 D<00000780000000000780000000000FC00000
00000FC0000000000FC0000000001FE0000000001FE0000000003FF0000000003FF0000000003F
F00000000077F80000000077F800000000F7FC00000000E3FC00000000E3FC00000001C1FE0000
0001C1FE00000003C1FF0000000380FF0000000380FF00000007007F80000007007F8000000F00
7FC000000E003FC000000E003FC000001C001FE000001C001FE000003FFFFFF000003FFFFFF000
003FFFFFF00000700007F80000700007F80000F00007FC0000E00003FC0000E00003FC0001C000
01FE0001C00001FE0003C00001FF00FFFE003FFFFCFFFE003FFFFCFFFE003FFFFC2E297EA833>
65 D<FFFFFFF800FFFFFFFF00FFFFFFFFC003F8001FE003F8000FF003F80007F803F80003F803
F80003FC03F80003FC03F80001FC03F80001FC03F80001FC03F80003FC03F80003F803F80003F8
03F80007F003F8000FF003F8001FC003F800FF8003FFFFFE0003FFFFFFC003F8000FF003F80003
F803F80001FC03F80001FE03F80000FE03F80000FE03F80000FF03F80000FF03F80000FF03F800
00FF03F80000FF03F80000FF03F80000FE03F80001FE03F80003FC03F80007FC03F8001FF8FFFF
FFFFE0FFFFFFFFC0FFFFFFFE0028297DA830>I<00007FE0030007FFFC07001FFFFF0F007FF00F
9F00FF0001FF01FC0000FF03F800007F07F000003F0FE000001F1FC000001F1FC000000F3F8000
000F3F800000077F800000077F800000077F00000000FF00000000FF00000000FF00000000FF00
000000FF00000000FF00000000FF00000000FF00000000FF000000007F000000007F800000007F
800000073F800000073F800000071FC00000071FC000000E0FE000000E07F000001C03F800003C
01FC00007800FF0001F0007FF007C0001FFFFF800007FFFE0000007FF00028297CA831>I<FFFF
FFFC0000FFFFFFFF8000FFFFFFFFE00003FC001FF80003FC0003FC0003FC0000FE0003FC00007F
0003FC00003F8003FC00001FC003FC00001FC003FC00000FE003FC00000FE003FC000007F003FC
000007F003FC000007F003FC000007F003FC000007F803FC000007F803FC000007F803FC000007
F803FC000007F803FC000007F803FC000007F803FC000007F803FC000007F803FC000007F803FC
000007F003FC000007F003FC000007F003FC00000FE003FC00000FE003FC00000FC003FC00001F
C003FC00003F8003FC00007F0003FC0000FF0003FC0003FC0003FC001FF800FFFFFFFFF000FFFF
FFFF8000FFFFFFFC00002D297EA834>I<FFFFFFFFE0FFFFFFFFE0FFFFFFFFE003FC001FE003FC
0007F003FC0001F003FC0001F003FC0000F003FC00007003FC00007003FC00007003FC01C07803
FC01C03803FC01C03803FC01C03803FC03C00003FC03C00003FC0FC00003FFFFC00003FFFFC000
03FFFFC00003FC0FC00003FC03C00003FC03C00003FC01C00E03FC01C00E03FC01C00E03FC01C0
1C03FC00001C03FC00001C03FC00001C03FC00003C03FC00003803FC00007803FC0000F803FC00
01F803FC0003F803FC001FF8FFFFFFFFF0FFFFFFFFF0FFFFFFFFF027297EA82C>I<FFFFFFFFC0
FFFFFFFFC0FFFFFFFFC003FC003FC003FC000FE003FC0003E003FC0001E003FC0001E003FC0000
E003FC0000E003FC0000E003FC0000F003FC01C07003FC01C07003FC01C07003FC01C00003FC03
C00003FC03C00003FC0FC00003FFFFC00003FFFFC00003FFFFC00003FC0FC00003FC03C00003FC
03C00003FC01C00003FC01C00003FC01C00003FC01C00003FC00000003FC00000003FC00000003
FC00000003FC00000003FC00000003FC00000003FC00000003FC000000FFFFFC0000FFFFFC0000
FFFFFC000024297EA82A>I<FFFFFCFFFFFCFFFFFC01FE0001FE0001FE0001FE0001FE0001FE00
01FE0001FE0001FE0001FE0001FE0001FE0001FE0001FE0001FE0001FE0001FE0001FE0001FE00
01FE0001FE0001FE0001FE0001FE0001FE0001FE0001FE0001FE0001FE0001FE0001FE0001FE00
01FE0001FE0001FE00FFFFFCFFFFFCFFFFFC16297FA819>73 D<FFFFFC0000FFFFFC0000FFFFFC
000003FC00000003FC00000003FC00000003FC00000003FC00000003FC00000003FC00000003FC
00000003FC00000003FC00000003FC00000003FC00000003FC00000003FC00000003FC00000003
FC00000003FC00000003FC00000003FC00000003FC00000003FC00000003FC0001C003FC0001C0
03FC0001C003FC0001C003FC0003C003FC00038003FC00038003FC00078003FC00078003FC000F
8003FC000F8003FC001F8003FC007F8003FC01FF00FFFFFFFF00FFFFFFFF00FFFFFFFF0022297E
A828>76 D<FFFE0000003FFF80FFFE0000003FFF80FFFF0000007FFF8003FF0000007FE00003FF
0000007FE00003BF800000EFE00003BF800000EFE000039FC00001CFE000039FC00001CFE00003
8FE000038FE000038FE000038FE000038FE000038FE0000387F000070FE0000387F000070FE000
0383F8000E0FE0000383F8000E0FE0000381FC001C0FE0000381FC001C0FE0000381FC001C0FE0
000380FE00380FE0000380FE00380FE00003807F00700FE00003807F00700FE00003803F80E00F
E00003803F80E00FE00003803F80E00FE00003801FC1C00FE00003801FC1C00FE00003800FE380
0FE00003800FE3800FE000038007F7000FE000038007F7000FE000038007F7000FE000038003FE
000FE000038003FE000FE000038001FC000FE000038001FC000FE000038000F8000FE000FFFE00
F803FFFF80FFFE00F803FFFF80FFFE007003FFFF8039297DA840>I<FFFC00007FFFFFFE00007F
FFFFFF00007FFF03FF800001C003FFC00001C003BFE00001C0039FE00001C0039FF00001C0038F
F80001C00387FC0001C00383FE0001C00381FF0001C00380FF8001C003807F8001C003807FC001
C003803FE001C003801FF001C003800FF801C0038007FC01C0038003FC01C0038003FE01C00380
01FF01C0038000FF81C00380007FC1C00380003FE1C00380001FF1C00380000FF1C00380000FF9
C003800007FDC003800003FFC003800001FFC003800000FFC0038000007FC0038000007FC00380
00003FC0038000001FC0038000000FC00380000007C0FFFE000003C0FFFE000001C0FFFE000001
C030297EA835>I<0000FFC00000000FFFFC0000003F807F000000FE001FC00001F80007E00003
F00003F00007E00001F8000FE00001FC001FC00000FE001FC00000FE003F8000007F003F800000
7F007F8000007F807F0000003F807F0000003F807F0000003F80FF0000003FC0FF0000003FC0FF
0000003FC0FF0000003FC0FF0000003FC0FF0000003FC0FF0000003FC0FF0000003FC0FF000000
3FC0FF0000003FC07F0000003F807F8000007F807F8000007F803F8000007F003F8000007F001F
C00000FE001FC00000FE000FE00001FC0007F00003F80003F80007F00001FC000FE00000FE001F
C000003FC0FF0000000FFFFC00000000FFC000002A297CA833>I<FFFFFFF800FFFFFFFF00FFFF
FFFFC003FC003FE003FC0007F003FC0003F803FC0003FC03FC0001FC03FC0001FE03FC0001FE03
FC0001FE03FC0001FE03FC0001FE03FC0001FE03FC0001FE03FC0001FC03FC0003FC03FC0003F8
03FC0007F003FC003FE003FFFFFF8003FFFFFE0003FC00000003FC00000003FC00000003FC0000
0003FC00000003FC00000003FC00000003FC00000003FC00000003FC00000003FC00000003FC00
000003FC00000003FC00000003FC00000003FC000000FFFFF00000FFFFF00000FFFFF000002729
7EA82E>I<FFFFFFE00000FFFFFFFE0000FFFFFFFF800003FC003FE00003FC000FF00003FC0007
F80003FC0003FC0003FC0001FC0003FC0001FE0003FC0001FE0003FC0001FE0003FC0001FE0003
FC0001FE0003FC0001FE0003FC0001FC0003FC0003F80003FC0007F80003FC000FE00003FC003F
C00003FFFFFE000003FFFFFE000003FC00FF800003FC003FC00003FC001FE00003FC000FF00003
FC0007F80003FC0007F80003FC0007F80003FC0007F80003FC0007F80003FC0007F80003FC0007
F80003FC0007F80003FC0007F80003FC0007F80E03FC0007F80E03FC0003F80E03FC0001FC1CFF
FFF000FE1CFFFFF0007FF8FFFFF0000FE02F297EA832>82 D<00FF00C003FFE1C00FFFF9C01F80
FFC03F003FC03E000FC07C0007C07C0007C0FC0003C0FC0003C0FC0001C0FE0001C0FE0001C0FF
000000FFC000007FFC00007FFFE0003FFFF8001FFFFE001FFFFF0007FFFF8003FFFFC000FFFFC0
000FFFE000007FE000001FF000000FF0000007F0E00003F0E00003F0E00003F0E00003F0F00003
E0F00003E0F80007E0FC0007C0FF000F80FFE01F80E3FFFF00E1FFFC00C01FF0001C297CA825>
I<7FFFFFFFFF807FFFFFFFFF807FFFFFFFFF807F807F807F807C007F800F8078007F8007807800
7F80078070007F800380F0007F8003C0F0007F8003C0E0007F8001C0E0007F8001C0E0007F8001
C0E0007F8001C0E0007F8001C000007F80000000007F80000000007F80000000007F8000000000
7F80000000007F80000000007F80000000007F80000000007F80000000007F80000000007F8000
0000007F80000000007F80000000007F80000000007F80000000007F80000000007F8000000000
7F80000000007F80000000007F80000000007F80000000007F80000000FFFFFFC00000FFFFFFC0
0000FFFFFFC0002A287EA72F>I<FFFFF0007FFFFFFFF0007FFFFFFFF0007FFF03FE000001C001
FE0000038001FE0000038000FF0000070000FF0000070000FF80000F00007F80000E00007FC000
0E00003FC0001C00003FE0001C00001FE0003800001FE0003800001FF0007800000FF000700000
0FF800F0000007F800E0000007FC00E0000003FC01C0000003FC01C0000003FE03C0000001FE03
80000001FF0780000000FF0700000000FF87000000007F8E000000007F8E000000007FDE000000
003FDC000000003FFC000000001FF8000000001FF8000000000FF0000000000FF0000000000FF0
0000000007E00000000007E00000000003C00000000003C0000030297FA833>86
D<03FF80000FFFF0001F01FC003F80FE003F807F003F803F003F803F801F003F8000003F800000
3F8000003F8000003F80003FFF8001FC3F800FE03F801F803F803F003F807E003F80FC003F80FC
003F80FC003F80FC003F80FC005F807E00DF803F839FFC1FFE0FFC03F803FC1E1B7E9A21>97
D<003FF00001FFFC0003F03E000FC07F001F807F003F007F003F007F007F003E007E0000007E00
0000FE000000FE000000FE000000FE000000FE000000FE000000FE0000007E0000007E0000007F
0000003F0003803F8003801F8007000FE00E0003F83C0001FFF800003FC000191B7E9A1E>99
D<00007FF000007FF000007FF0000007F0000007F0000007F0000007F0000007F0000007F00000
07F0000007F0000007F0000007F0000007F0000007F0003F87F001FFF7F007F03FF00FC00FF01F
8007F03F0007F03F0007F07E0007F07E0007F07E0007F0FE0007F0FE0007F0FE0007F0FE0007F0
FE0007F0FE0007F0FE0007F0FE0007F07E0007F07E0007F03F0007F03F0007F01F800FF00FC01F
F007E07FFF01FFE7FF007F87FF202A7EA925>I<003FC00001FFF00003E07C000F803E001F801F
001F001F003F000F807E000F807E000FC07E000FC0FE0007C0FE0007C0FFFFFFC0FFFFFFC0FE00
0000FE000000FE0000007E0000007E0000007F0000003F0001C01F0001C00F80038007C0070003
F01E0000FFFC00003FE0001A1B7E9A1F>I<0007F8003FFC007E3E01FC7F03F87F03F07F07F07F
07F03E07F00007F00007F00007F00007F00007F00007F000FFFFC0FFFFC0FFFFC007F00007F000
07F00007F00007F00007F00007F00007F00007F00007F00007F00007F00007F00007F00007F000
07F00007F00007F00007F00007F00007F0007FFF807FFF807FFF80182A7EA915>I<007F80F001
FFE3F807C0FE1C0F807C7C1F003E7C1F003E103F003F003F003F003F003F003F003F003F003F00
3F003F001F003E001F003E000F807C0007C0F80005FFE0000C7F8000180000001C0000001C0000
001E0000001FFFF8001FFFFF000FFFFFC007FFFFE003FFFFF00FFFFFF03E0007F07C0001F8F800
00F8F80000F8F80000F8F80000F87C0001F07C0001F03F0007E00FC01F8007FFFF00007FF0001E
287E9A22>I<FFE00000FFE00000FFE000000FE000000FE000000FE000000FE000000FE000000F
E000000FE000000FE000000FE000000FE000000FE000000FE000000FE07E000FE1FF800FE30FC0
0FE40FE00FE807E00FF807F00FF007F00FF007F00FE007F00FE007F00FE007F00FE007F00FE007
F00FE007F00FE007F00FE007F00FE007F00FE007F00FE007F00FE007F00FE007F00FE007F00FE0
07F00FE007F0FFFE3FFFFFFE3FFFFFFE3FFF202A7DA925>I<07000F801FC03FE03FE03FE01FC0
0F8007000000000000000000000000000000FFE0FFE0FFE00FE00FE00FE00FE00FE00FE00FE00F
E00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE0FFFEFFFEFFFE0F2B7EAA12>
I<FFE0FFE0FFE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE0
0FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00F
E0FFFEFFFEFFFE0F2A7EA912>108 D<FFC07F001FC000FFC1FFC07FF000FFC307E0C1F8000FC4
07F101FC000FC803F200FC000FD803FE00FE000FD003FC00FE000FD003FC00FE000FE003F800FE
000FE003F800FE000FE003F800FE000FE003F800FE000FE003F800FE000FE003F800FE000FE003
F800FE000FE003F800FE000FE003F800FE000FE003F800FE000FE003F800FE000FE003F800FE00
0FE003F800FE000FE003F800FE000FE003F800FE000FE003F800FE00FFFE3FFF8FFFE0FFFE3FFF
8FFFE0FFFE3FFF8FFFE0331B7D9A38>I<FFC07E00FFC1FF80FFC30FC00FC40FE00FC807E00FD8
07F00FD007F00FD007F00FE007F00FE007F00FE007F00FE007F00FE007F00FE007F00FE007F00F
E007F00FE007F00FE007F00FE007F00FE007F00FE007F00FE007F00FE007F00FE007F0FFFE3FFF
FFFE3FFFFFFE3FFF201B7D9A25>I<003FE00001FFFC0003F07E000FC01F801F800FC03F0007E0
3F0007E07E0003F07E0003F07E0003F0FE0003F8FE0003F8FE0003F8FE0003F8FE0003F8FE0003
F8FE0003F8FE0003F87E0003F07E0003F03F0007E03F0007E01F800FC00FC01F8007F07F0001FF
FC00003FE0001D1B7E9A22>I<FFE1FE00FFE7FF80FFFE0FE00FF803F00FF001F80FE001FC0FE0
00FC0FE000FE0FE000FE0FE0007F0FE0007F0FE0007F0FE0007F0FE0007F0FE0007F0FE0007F0F
E0007F0FE0007E0FE000FE0FE000FE0FE000FC0FE001FC0FF001F80FF803F00FFC0FE00FEFFF80
0FE1FC000FE000000FE000000FE000000FE000000FE000000FE000000FE000000FE000000FE000
00FFFE0000FFFE0000FFFE000020277E9A25>I<FFC3E0FFC7F8FFCC7C0FD8FE0FD0FE0FD0FE0F
F0FE0FE07C0FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000F
E0000FE0000FE0000FE0000FE000FFFF00FFFF00FFFF00171B7E9A1B>114
D<03FE300FFFF03E03F07800F07000F0F00070F00070F80070FE0000FFE0007FFF007FFFC03FFF
E01FFFF007FFF800FFF80007FC0000FCE0007CE0003CF0003CF00038F80038FC0070FF01E0E7FF
C0C1FF00161B7E9A1B>I<00700000700000700000700000F00000F00000F00001F00003F00003
F00007F0001FFFE0FFFFE0FFFFE007F00007F00007F00007F00007F00007F00007F00007F00007
F00007F00007F00007F00007F00007F07007F07007F07007F07007F07007F07007F07003F0E001
F8C000FFC0003F0014267FA51A>I<FFE07FF0FFE07FF0FFE07FF00FE007F00FE007F00FE007F0
0FE007F00FE007F00FE007F00FE007F00FE007F00FE007F00FE007F00FE007F00FE007F00FE007
F00FE007F00FE007F00FE007F00FE007F00FE007F00FE00FF00FE00FF007E017F003F067FF01FF
C7FF007F87FF201B7D9A25>I<FFFE07FFFFFE07FFFFFE07FF07F000E007F000E007F801E003F8
01C003F801C001FC038001FC038001FE078000FE070000FF0F00007F0E00007F0E00003F9C0000
3F9C00003FFC00001FF800001FF800000FF000000FF000000FF0000007E0000007E0000003C000
0003C000201B7F9A23>I<FFFC1FFEFFFC1FFEFFFC1FFE07F0078003F8070001FC0F0001FE1E00
00FE3C00007F7800003FF800003FF000001FE000000FE0000007F0000007F800000FF800001FFC
00003DFE000038FF0000787F0000F03F8001E03FC003C01FE003800FE0FFF03FFFFFF03FFFFFF0
3FFF201B7F9A23>120 D<FFFE07FFFFFE07FFFFFE07FF07F000E007F000E007F801E003F801C0
03F801C001FC038001FC038001FE078000FE070000FF0F00007F0E00007F0E00003F9C00003F9C
00003FFC00001FF800001FF800000FF000000FF0000007F0000007E0000007E0000003C0000003
C000000380000003800000078000380700007C070000FE0E0000FE0E0000FE1C0000FE3800007C
7000003FE000000F80000020277F9A23>I E /Fz 6 116 df<FFFFFFF803FFFFFFE0FFFFFFF803
FFFFFFE0FFFFFFF803FFFFFFE0FFFFFFF803FFFFFFE0007FF0000001FFC000007FF0000001FFC0
00007FF0000001FFC000007FF0000001FFC000007FF0000001FFC000007FF0000001FFC000007F
F0000001FFC000007FF0000001FFC000007FF0000001FFC000007FF0000001FFC000007FF00000
01FFC000007FF0000001FFC000007FF0000001FFC000007FF0000001FFC000007FF0000001FFC0
00007FF0000001FFC000007FF0000001FFC000007FF0000001FFC000007FF0000001FFC000007F
F0000001FFC000007FF0000001FFC000007FF0000001FFC000007FFFFFFFFFFFC000007FFFFFFF
FFFFC000007FFFFFFFFFFFC000007FFFFFFFFFFFC000007FF0000001FFC000007FF0000001FFC0
00007FF0000001FFC000007FF0000001FFC000007FF0000001FFC000007FF0000001FFC000007F
F0000001FFC000007FF0000001FFC000007FF0000001FFC000007FF0000001FFC000007FF00000
01FFC000007FF0000001FFC000007FF0000001FFC000007FF0000001FFC000007FF0000001FFC0
00007FF0000001FFC000007FF0000001FFC000007FF0000001FFC000007FF0000001FFC000007F
F0000001FFC000007FF0000001FFC000007FF0000001FFC000007FF0000001FFC000007FF00000
01FFC000007FF0000001FFC000FFFFFFF803FFFFFFE0FFFFFFF803FFFFFFE0FFFFFFF803FFFFFF
E0FFFFFFF803FFFFFFE0433B7CBA4C>72 D<003FFE00000001FFFFE0000007FFFFF800000FE007
FC00000FF001FE00001FF800FF00001FF8007F80001FF8007FC0001FF8003FC0000FF0003FE000
07E0003FE00003C0003FE0000000003FE0000000003FE0000000003FE0000000003FE0000000FF
FFE000001FFFFFE000007FF83FE00003FF803FE00007FC003FE0000FF0003FE0001FE0003FE000
3FE0003FE0007FC0003FE0007FC0003FE000FF80003FE000FF80003FE000FF80003FE000FF8000
3FE000FF80007FE0007FC0007FE0007FC000DFE0003FE0039FF0001FF80F0FFFE007FFFE0FFFE0
01FFF807FFE0003FE000FFE02B267DA52F>97 D<0001FF8000000FFFF000003FFFFC0000FF81FE
0003FE007F8007F8003F800FF8001FC00FF0000FE01FE0000FE03FE0000FF03FE00007F07FC000
07F07FC00007F87FC00007F8FFC00007F8FFC00007F8FFFFFFFFF8FFFFFFFFF8FFFFFFFFF8FFC0
000000FFC0000000FFC0000000FFC00000007FC00000007FC00000007FC00000003FE00000003F
E00000781FE00000781FF00000780FF00000F007F80001F003FC0003E001FE000FC000FFC07F80
003FFFFE00000FFFF8000000FFC00025267DA52C>101 D<00FE00000000FFFE00000000FFFE00
000000FFFE00000000FFFE0000000007FE0000000003FE0000000003FE0000000003FE00000000
03FE0000000003FE0000000003FE0000000003FE0000000003FE0000000003FE0000000003FE00
00000003FE0000000003FE0000000003FE0000000003FE0000000003FE0000000003FE00000000
03FE001FFFF003FE001FFFF003FE001FFFF003FE001FFFF003FE0003FC0003FE0003F00003FE00
07E00003FE001F800003FE003F000003FE007E000003FE00FC000003FE03F8000003FE07E00000
03FE0FC0000003FE1F80000003FE3FC0000003FEFFE0000003FFFFF0000003FFFFF0000003FFFF
F8000003FFCFFC000003FF07FE000003FE03FF000003FC03FF000003FC01FF800003FC00FFC000
03FC007FE00003FC003FE00003FC003FF00003FC001FF80003FC000FFC0003FC0007FC0003FC00
07FE0003FC0003FF00FFFFF01FFFFCFFFFF01FFFFCFFFFF01FFFFCFFFFF01FFFFC2E3C7DBB33>
107 D<00FE00FFFE00FFFE00FFFE00FFFE0007FE0003FE0003FE0003FE0003FE0003FE0003FE00
03FE0003FE0003FE0003FE0003FE0003FE0003FE0003FE0003FE0003FE0003FE0003FE0003FE00
03FE0003FE0003FE0003FE0003FE0003FE0003FE0003FE0003FE0003FE0003FE0003FE0003FE00
03FE0003FE0003FE0003FE0003FE0003FE0003FE0003FE0003FE0003FE0003FE0003FE0003FE00
03FE0003FE0003FE0003FE0003FE00FFFFF8FFFFF8FFFFF8FFFFF8153C7DBB1A>I<003FF07003
FFFEF007FFFFF01FC01FF03F0003F03E0001F07C0001F07C0000F0FC0000F0FC0000F0FE0000F0
FF000000FFC00000FFFC00007FFFF0003FFFFE003FFFFF801FFFFFC00FFFFFE003FFFFF000FFFF
F8001FFFFC00007FFC000007FE700001FEF00000FEF000007EF800007EF800007EFC00007EFC00
007CFE0000FCFF0000F8FF8001F0FFF00FE0F9FFFFC0F07FFF00C01FF8001F267DA526>115
D E /FA 15 118 df<FFFFFFE00000FFFFFFE00000FFFFFFE0000000FF8000000000FF80000000
00FF8000000000FF8000000000FF8000000000FF8000000000FF8000000000FF8000000000FF80
00000000FF8000000000FF8000000000FF8000000000FF8000000000FF8000000000FF80000000
00FF8000000000FF8000000000FF8000000000FF8000000000FF8000000000FF8000000000FF80
00000000FF8000000000FF8000000000FF8000000000FF8000000000FF8000000000FF800001C0
00FF800001C000FF800001C000FF800001C000FF800003C000FF8000038000FF8000038000FF80
00078000FF8000078000FF8000078000FF80000F8000FF80001F8000FF80003F8000FF80007F80
00FF8000FF0000FF8007FF00FFFFFFFFFF00FFFFFFFFFF00FFFFFFFFFF002A317EB030>76
D<FFFFFFFFE000FFFFFFFFFE00FFFFFFFFFF8000FF8000FFE000FF80003FF000FF80000FF800FF
800007FC00FF800007FC00FF800003FE00FF800003FE00FF800003FF00FF800003FF00FF800003
FF00FF800003FF00FF800003FF00FF800003FF00FF800003FF00FF800003FE00FF800003FE00FF
800007FC00FF800007F800FF80000FF800FF80003FE000FF8000FFC000FFFFFFFF0000FFFFFFF8
0000FF8000000000FF8000000000FF8000000000FF8000000000FF8000000000FF8000000000FF
8000000000FF8000000000FF8000000000FF8000000000FF8000000000FF8000000000FF800000
0000FF8000000000FF8000000000FF8000000000FF8000000000FF8000000000FF8000000000FF
80000000FFFFFF800000FFFFFF800000FFFFFF80000030317EB037>80 D<FFFFFFFF80000000FF
FFFFFFF8000000FFFFFFFFFE00000000FF8003FF80000000FF80007FE0000000FF80001FF00000
00FF80000FF8000000FF80000FF8000000FF80000FFC000000FF800007FC000000FF800007FE00
0000FF800007FE000000FF800007FE000000FF800007FE000000FF800007FE000000FF800007FE
000000FF800007FC000000FF80000FFC000000FF80000FF8000000FF80001FF0000000FF80003F
E0000000FF80007FC0000000FF8003FF00000000FFFFFFF800000000FFFFFFE000000000FF8007
F800000000FF8001FC00000000FF8000FE00000000FF80007F00000000FF80007F80000000FF80
003FC0000000FF80003FC0000000FF80003FE0000000FF80003FE0000000FF80003FE0000000FF
80003FE0000000FF80003FE0000000FF80003FF0000000FF80003FF0000000FF80003FF0000000
FF80003FF0000000FF80003FF0038000FF80003FF8038000FF80001FF8038000FF80001FF80300
00FF80000FFC0700FFFFFF8003FE0E00FFFFFF8001FFFC00FFFFFF80001FF00039317EB03C>82
D<00FFF0000003FFFE00000F803F80000FC00FE0001FE007F0001FE007F0001FE003F8000FC003
FC00078003FC00000003FC00000003FC00000003FC00000003FC000000FFFC00001FFFFC0000FF
E3FC0003FC03FC000FF003FC001FC003FC003FC003FC007F8003FC007F8003FC00FF0003FC00FF
0003FC00FF0003FC00FF0007FC00FF0007FC007F800DFC003FC019FE001FE070FFF007FFE07FF0
00FF803FF024207E9F27>97 D<000FFC00007FFF8001FC0FC003F003E007E001F00FE001F81FC0
00FC3FC000FE3FC000FE7F80007E7F80007F7F80007FFF80007FFF80007FFFFFFFFFFFFFFFFFFF
800000FF800000FF800000FF8000007F8000007F8000007F8000003FC000071FC000071FC0000E
0FE0000E07F0001C03F8007800FE03E0003FFFC00007FE0020207E9F25>101
D<001FF007C000FFFE3FE001F83F79F007E00FC3F00FE00FE1F00FC007E0E01FC007F0001FC007
F0003FC007F8003FC007F8003FC007F8003FC007F8003FC007F8001FC007F0001FC007F0000FC0
07E0000FE00FE00007E00FC00003F83F000006FFFE00000E1FF000000E000000001E000000001E
000000001F000000001F800000001FFFFF80000FFFFFF0000FFFFFFC0007FFFFFE0003FFFFFF00
03FFFFFF800FFFFFFFC01F00007FC07E00001FE07C00000FE0FC000007E0FC000007E0FC000007
E0FC000007E07E00000FC03E00000F803F00001F800FC0007E0007F803FC0001FFFFF000001FFF
0000242F7E9F28>103 D<01F8000000FFF8000000FFF8000000FFF80000000FF800000007F800
000007F800000007F800000007F800000007F800000007F800000007F800000007F800000007F8
00000007F800000007F800000007F800000007F800000007F807F80007F83FFE0007F8783F0007
F8C03F8007F9801FC007FB001FC007FE001FE007FC001FE007FC001FE007FC001FE007F8001FE0
07F8001FE007F8001FE007F8001FE007F8001FE007F8001FE007F8001FE007F8001FE007F8001F
E007F8001FE007F8001FE007F8001FE007F8001FE007F8001FE007F8001FE007F8001FE007F800
1FE007F8001FE007F8001FE0FFFFC3FFFFFFFFC3FFFFFFFFC3FFFF28327DB12D>I<03C00007E0
000FF0001FF8001FF8001FF8001FF8000FF00007E00003C0000000000000000000000000000000
0000000000000000000000000001F800FFF800FFF800FFF8000FF80007F80007F80007F80007F8
0007F80007F80007F80007F80007F80007F80007F80007F80007F80007F80007F80007F80007F8
0007F80007F80007F80007F80007F80007F80007F800FFFF80FFFF80FFFF8011337DB217>I<03
F007F8001FE000FFF03FFE00FFF800FFF0783F01E0FC00FFF0C03F8300FE000FF1801FC6007F00
07F3001FCC007F0007F6001FF8007F8007FC001FF0007F8007FC001FF0007F8007FC001FF0007F
8007F8001FE0007F8007F8001FE0007F8007F8001FE0007F8007F8001FE0007F8007F8001FE000
7F8007F8001FE0007F8007F8001FE0007F8007F8001FE0007F8007F8001FE0007F8007F8001FE0
007F8007F8001FE0007F8007F8001FE0007F8007F8001FE0007F8007F8001FE0007F8007F8001F
E0007F8007F8001FE0007F8007F8001FE0007F8007F8001FE0007F8007F8001FE0007F80FFFFC3
FFFF0FFFFCFFFFC3FFFF0FFFFCFFFFC3FFFF0FFFFC3E207D9F43>109 D<03F007F800FFF03FFE
00FFF0783F00FFF0C03F800FF1801FC007F3001FC007F6001FE007FC001FE007FC001FE007FC00
1FE007F8001FE007F8001FE007F8001FE007F8001FE007F8001FE007F8001FE007F8001FE007F8
001FE007F8001FE007F8001FE007F8001FE007F8001FE007F8001FE007F8001FE007F8001FE007
F8001FE007F8001FE007F8001FE007F8001FE0FFFFC3FFFFFFFFC3FFFFFFFFC3FFFF28207D9F2D
>I<0007FC0000007FFFC00001FC07F00003F001F80007E000FC000FC0007E001FC0007F003FC0
007F803F80003F807F80003FC07F80003FC07F80003FC0FF80003FE0FF80003FE0FF80003FE0FF
80003FE0FF80003FE0FF80003FE0FF80003FE0FF80003FE07F80003FC07F80003FC07F80003FC0
3FC0007F803FC0007F801FC0007F000FE000FE0007E000FC0003F803F80001FE0FF000007FFFC0
000007FC000023207E9F28>I<01F83FE000FFF8FFFC00FFFBE07F00FFFF003F8007FE001FC007
FC000FE007F8000FF007F80007F807F80007F807F80007FC07F80003FC07F80003FC07F80003FE
07F80003FE07F80003FE07F80003FE07F80003FE07F80003FE07F80003FE07F80003FE07F80003
FC07F80007FC07F80007FC07F80007F807F80007F807F8000FF007FC000FE007FE001FC007FF00
3F8007FBC0FE0007F8FFF80007F83FC00007F800000007F800000007F800000007F800000007F8
00000007F800000007F800000007F800000007F800000007F800000007F8000000FFFFC00000FF
FFC00000FFFFC00000272E7E9F2D>I<03F03F00FFF07FC0FFF1C3E0FFF187E00FF30FF007F60F
F007F60FF007FC07E007FC03C007FC000007FC000007F8000007F8000007F8000007F8000007F8
000007F8000007F8000007F8000007F8000007F8000007F8000007F8000007F8000007F8000007
F8000007F8000007F8000007F80000FFFFE000FFFFE000FFFFE0001C207E9F21>114
D<001C0000001C0000001C0000001C0000001C0000003C0000003C0000003C0000007C0000007C
000000FC000001FC000003FC000007FC00001FFFFE00FFFFFE00FFFFFE0003FC000003FC000003
FC000003FC000003FC000003FC000003FC000003FC000003FC000003FC000003FC000003FC0000
03FC000003FC000003FC000003FC000003FC038003FC038003FC038003FC038003FC038003FC03
8003FC038001FC038001FC070000FE0700007F0E00003FFC000007F000192E7FAD1F>116
D<01F80007E0FFF803FFE0FFF803FFE0FFF803FFE00FF8003FE007F8001FE007F8001FE007F800
1FE007F8001FE007F8001FE007F8001FE007F8001FE007F8001FE007F8001FE007F8001FE007F8
001FE007F8001FE007F8001FE007F8001FE007F8001FE007F8001FE007F8001FE007F8001FE007
F8001FE007F8003FE007F8003FE003F8007FE003F8007FE001FC00DFF000FE039FFF007FFF1FFF
000FFC1FFF28207D9F2D>I E end
%%EndProlog
%%BeginSetup
%%Feature: *Resolution 300
TeXDict begin @a4
%%EndSetup
%%Page: 0 1
bop 2 155 1782 2 v 2 2489 2 2334 v 642 327 a FA(Rep)r(ort)28
b(on)f(the)470 425 y(Programming)h(Language)739 593 y Fz(Hask)m(ell)271
739 y Fy(A)22 b(Non-strict,)h(Purely)h(F)-6 b(unctional)25
b(Language)728 886 y(V)-6 b(ersion)23 b(1.2)703 972 y Fx(1st)18
b(Marc)n(h)i(1992)672 1175 y Fw(P)o(aul)c(Hudak)926 1157 y
Fv(1)962 1175 y Fw([editor])582 1233 y(Simon)f(P)o(eyton)h(Jones)1014
1215 y Fv(2)1051 1233 y Fw([editor])651 1291 y(Philip)f(W)l(adler)947
1273 y Fv(2)983 1291 y Fw([editor])745 1349 y(Brian)h(Boutel)1021
1331 y Fv(3)738 1407 y Fw(Jon)h(F)l(airbairn)1027 1389 y Fv(4)749
1466 y Fw(Joseph)g(F)l(asel)1017 1447 y Fv(5)685 1524 y Fw(Mar)-5
b(\023)-19 b(\020a)16 b(M.)f(Guzm\023)-24 b(an)1081 1506 y
Fv(1)701 1582 y Fw(Kevin)15 b(Hammond)1066 1564 y Fv(2)745
1640 y Fw(John)h(Hughes)1020 1622 y Fv(2)692 1698 y Fw(Thomas)g(Johnsson)1071
1680 y Fv(6)733 1756 y Fw(Dic)o(k)f(Kieburtz)1034 1738 y Fv(7)719
1814 y Fw(Rishiyur)g(Nikhil)1048 1796 y Fv(8)749 1872 y Fw(Will)g(P)o(artain)
1015 1854 y Fv(2)731 1930 y Fw(John)i(P)o(eterson)1035 1912
y Fv(1)145 2132 y Fu(Authors')11 b(a\016liations:)20 b(\(1\))11
b(Y)l(ale)i(Univ)o(ersit)o(y)l(,)h(\(2\))d(Univ)o(ersit)o(y)i(of)f(Glasgo)o
(w,)g(\(3\))f(Vic-)145 2188 y(toria)18 b(Univ)o(ersit)o(y)i(of)e(W)l
(ellington,)k(\(4\))c(Cam)o(bridge)h(Univ)o(ersit)o(y)l(,)h(\(5\))e(Los)h
(Alamos)145 2244 y(National)i(Lab)q(oratory)l(,)h(\(6\))e(Chalmers)i(Univ)o
(ersit)o(y)g(of)f(T)l(ec)o(hnology)l(,)i(\(7\))d(Oregon)145
2301 y(Graduate)c(Institute)j(of)e(Science)i(and)f(T)l(ec)o(hnology)l(,)g
(\(8\))e(Massac)o(h)o(usetts)g(Institute)145 2357 y(of)e(T)l(ec)o(hnology)l
(.)p 1781 2489 V 2 2491 1782 2 v eop
%%Page: 1 2
bop eop
%%Page: 1 3
bop 150 50 a Ft(CONTENTS)1529 b Fu(i)150 199 y Fy(Con)n(ten)n(ts)150
301 y Fs(1)42 b(In)o(tro)q(duction)1419 b(1)218 358 y Fu(1.1)46
b(Program)13 b(Structure)30 b Fr(:)22 b(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h
(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g
(:)h(:)f(:)91 b Fu(1)218 414 y(1.2)46 b(The)15 b(Hask)o(ell)h(Kernel)23
b Fr(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g
(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)91 b
Fu(2)218 471 y(1.3)46 b(V)l(alues)16 b(and)f(T)o(yp)q(es)i
Fr(:)22 b(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f
(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)91
b Fu(2)218 527 y(1.4)46 b(Namespaces)24 b Fr(:)e(:)g(:)h(:)f(:)g(:)h(:)f(:)g
(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f
(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)91 b Fu(3)218 583 y(1.5)46
b(La)o(y)o(out)18 b Fr(:)k(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)
g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f
(:)h(:)f(:)g(:)h(:)f(:)91 b Fu(3)150 685 y Fs(2)42 b(Lexical)19
b(Structure)1310 b(6)218 742 y Fu(2.1)46 b(Notational)15 b(Con)o(v)o(en)o
(tions)41 b Fr(:)22 b(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g
(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)91 b
Fu(6)218 798 y(2.2)46 b(Lexical)17 b(Program)c(Structure)i
Fr(:)23 b(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h
(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)91 b Fu(6)218 855 y(2.3)46
b(Iden)o(ti\014ers)16 b(and)g(Op)q(erators)45 b Fr(:)23 b(:)f(:)g(:)h(:)f(:)h
(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g
(:)h(:)f(:)91 b Fu(7)218 911 y(2.4)46 b(Numeric)16 b(Literals)37
b Fr(:)22 b(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h
(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)91
b Fu(8)218 968 y(2.5)46 b(Character)14 b(and)h(String)h(Literals)30
b Fr(:)22 b(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f
(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)91 b Fu(8)150 1070 y Fs(3)42
b(Expressions)1411 b(10)218 1126 y Fu(3.1)46 b(V)l(ariables,)16
b(Constructors,)d(and)j(Op)q(erators)c Fr(:)22 b(:)h(:)f(:)g(:)h(:)f(:)g(:)h
(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)69 b Fu(12)218
1182 y(3.2)46 b(Curried)16 b(Applications)h(and)e(Lam)o(b)q(da)h
(Abstractions)21 b Fr(:)h(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h
(:)f(:)69 b Fu(12)218 1239 y(3.3)46 b(Op)q(erator)15 b(Applications)32
b Fr(:)22 b(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h
(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)69 b Fu(13)218
1295 y(3.4)46 b(Sections)31 b Fr(:)22 b(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g
(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f
(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)69 b Fu(13)218 1352 y(3.5)46
b(Conditionals)14 b Fr(:)22 b(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f
(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f
(:)g(:)h(:)f(:)69 b Fu(14)218 1408 y(3.6)46 b(Lists)27 b Fr(:)c(:)f(:)g(:)h
(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g
(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)69
b Fu(14)218 1465 y(3.7)46 b(T)l(uples)28 b Fr(:)22 b(:)g(:)h(:)f(:)g(:)h(:)f
(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h
(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)69 b Fu(14)218
1521 y(3.8)46 b(Unit)16 b(Expressions)f(and)h(P)o(aren)o(thesised)f
(Expressions)46 b Fr(:)22 b(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h
(:)f(:)69 b Fu(15)218 1578 y(3.9)46 b(Arithmetic)16 b(Sequences)47
b Fr(:)22 b(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h
(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)69 b Fu(15)218
1634 y(3.10)23 b(List)16 b(Comprehensions)24 b Fr(:)f(:)f(:)g(:)h(:)f(:)g(:)h
(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h
(:)f(:)g(:)h(:)f(:)69 b Fu(16)218 1691 y(3.11)23 b(Let)15 b(Expressions)20
b Fr(:)j(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h
(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)69
b Fu(16)218 1747 y(3.12)23 b(Case)15 b(Expressions)28 b Fr(:)22
b(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h
(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)69 b Fu(17)218
1803 y(3.13)23 b(Expression)16 b(T)o(yp)q(e-Signatures)27 b
Fr(:)22 b(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f
(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)69 b Fu(18)218 1860 y(3.14)23
b(P)o(attern-Matc)o(hing)15 b Fr(:)22 b(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f
(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f
(:)g(:)h(:)f(:)69 b Fu(18)150 1962 y Fs(4)42 b(Declarations)19
b(and)f(Bindings)1078 b(24)218 2018 y Fu(4.1)46 b(Ov)o(erview)16
b(of)e(T)o(yp)q(es)i(and)f(Classes)33 b Fr(:)23 b(:)f(:)h(:)f(:)g(:)h(:)f(:)g
(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)69
b Fu(24)218 2075 y(4.2)46 b(User-De\014ned)16 b(Datat)o(yp)q(es)35
b Fr(:)22 b(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f
(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)69 b Fu(27)218
2131 y(4.3)46 b(T)o(yp)q(e)15 b(Classes)g(and)h(Ov)o(erloading)e
Fr(:)22 b(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g
(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)69 b Fu(29)218 2188 y(4.4)46
b(Nested)15 b(Declarations)42 b Fr(:)23 b(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f
(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h
(:)f(:)69 b Fu(35)218 2244 y(4.5)46 b(Static)15 b(seman)o(tics)g(of)g
(function)h(and)g(pattern)e(bindings)23 b Fr(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h
(:)f(:)h(:)f(:)g(:)h(:)f(:)69 b Fu(37)150 2346 y Fs(5)42 b(Mo)q(dules)1486
b(42)218 2402 y Fu(5.1)46 b(Ov)o(erview)c Fr(:)23 b(:)f(:)g(:)h(:)f(:)g(:)h
(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g
(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)69 b Fu(42)218 2459
y(5.2)46 b(Mo)q(dule)16 b(Implemen)o(tations)g Fr(:)22 b(:)h(:)f(:)g(:)h(:)f
(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f
(:)g(:)h(:)f(:)69 b Fu(44)218 2515 y(5.3)46 b(Mo)q(dule)16
b(In)o(terfaces)e Fr(:)22 b(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g
(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f
(:)69 b Fu(47)218 2572 y(5.4)46 b(Standard)15 b(Prelude)21
b Fr(:)h(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f
(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)69
b Fu(50)218 2628 y(5.5)46 b(Example)19 b Fr(:)j(:)h(:)f(:)g(:)h(:)f(:)g(:)h
(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g
(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)69 b Fu(52)218 2685
y(5.6)46 b(Abstract)14 b(Datat)o(yp)q(es)e Fr(:)22 b(:)h(:)f(:)g(:)h(:)f(:)g
(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f
(:)h(:)f(:)g(:)h(:)f(:)69 b Fu(53)p eop
%%Page: 2 4
bop 0 50 a Fu(ii)1518 b Ft(CONTENTS)68 199 y Fu(5.7)46 b(Fixit)o(y)15
b(Declarations)23 b Fr(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)
f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)69
b Fu(53)0 301 y Fs(6)42 b(Basic)19 b(T)o(yp)q(es)1403 b(56)68
358 y Fu(6.1)46 b(Bo)q(oleans)15 b Fr(:)22 b(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f
(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h
(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)69 b Fu(56)68 414 y(6.2)46
b(Characters)14 b(and)h(Strings)j Fr(:)k(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g
(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f
(:)69 b Fu(56)68 471 y(6.3)46 b(F)l(unctions)35 b Fr(:)23 b(:)f(:)g(:)h(:)f
(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h
(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)69 b Fu(57)68
527 y(6.4)46 b(Lists)27 b Fr(:)c(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g
(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f
(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)69 b Fu(57)68 583 y(6.5)46
b(T)l(uples)28 b Fr(:)22 b(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)
g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f
(:)h(:)f(:)g(:)h(:)f(:)69 b Fu(57)68 640 y(6.6)46 b(Unit)16
b(Datat)o(yp)q(e)42 b Fr(:)23 b(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h
(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g
(:)h(:)f(:)69 b Fu(57)68 696 y(6.7)46 b(Binary)15 b(Datat)o(yp)q(e)34
b Fr(:)22 b(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h
(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)69
b Fu(57)68 753 y(6.8)46 b(Num)o(b)q(ers)14 b Fr(:)22 b(:)h(:)f(:)g(:)h(:)f(:)
g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f
(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)69 b Fu(58)68
809 y(6.9)46 b(Arra)o(ys)23 b Fr(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g
(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f
(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)69 b Fu(64)68 866 y(6.10)23
b(Errors)31 b Fr(:)22 b(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g
(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f
(:)h(:)f(:)g(:)h(:)f(:)69 b Fu(68)0 968 y Fs(7)42 b(Input/Output)1361
b(69)68 1024 y Fu(7.1)46 b(I/O)15 b(Mo)q(des)45 b Fr(:)22 b(:)g(:)h(:)f(:)g
(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f
(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)69 b Fu(71)68
1081 y(7.2)46 b(File)16 b(System)f(Requests)g Fr(:)23 b(:)f(:)g(:)h(:)f(:)g
(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f
(:)h(:)f(:)g(:)h(:)f(:)69 b Fu(74)68 1137 y(7.3)46 b(Channel)16
b(System)f(Requests)32 b Fr(:)23 b(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)
h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)69
b Fu(75)68 1193 y(7.4)46 b(En)o(vironmen)o(t)15 b(Requests)27
b Fr(:)22 b(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h
(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)69 b Fu(76)68
1250 y(7.5)46 b(Con)o(tin)o(uation-based)15 b(I/O)35 b Fr(:)22
b(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f
(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)69 b Fu(77)68 1306 y(7.6)46
b(A)15 b(Small)h(Example)21 b Fr(:)h(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h
(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g
(:)h(:)f(:)69 b Fu(80)68 1363 y(7.7)46 b(An)15 b(Example)h(In)o(v)o(olving)g
(Sync)o(hronisation)h Fr(:)22 b(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f
(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)69 b Fu(81)0 1465 y Fs(A)28
b(Standard)18 b(Prelude)1276 b(82)68 1521 y Fu(A.1)35 b(Prelude)16
b Fq(PreludeBuiltin)42 b Fr(:)23 b(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)
h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)69
b Fu(86)68 1578 y(A.2)35 b(Prelude)16 b Fq(PreludeCore)44 b
Fr(:)22 b(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f
(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)69 b Fu(89)68
1634 y(A.3)35 b(Prelude)16 b Fq(PreludeRatio)k Fr(:)i(:)g(:)h(:)f(:)g(:)h(:)f
(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f
(:)g(:)h(:)f(:)46 b Fu(101)68 1691 y(A.4)35 b(Prelude)16 b
Fq(PreludeComplex)42 b Fr(:)23 b(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h
(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)46
b Fu(103)68 1747 y(A.5)35 b(Prelude)16 b Fq(PreludeList)44
b Fr(:)22 b(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h
(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)46 b Fu(106)68
1803 y(A.6)35 b(Prelude)16 b Fq(PreludeArray)k Fr(:)i(:)g(:)h(:)f(:)g(:)h(:)f
(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f
(:)g(:)h(:)f(:)46 b Fu(115)68 1860 y(A.7)35 b(Prelude)16 b
Fq(PreludeText)44 b Fr(:)22 b(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g
(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)46
b Fu(117)68 1916 y(A.8)35 b(Prelude)16 b Fq(PreludeIO)21 b
Fr(:)h(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)
h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)46 b Fu(124)0
2018 y Fs(B)31 b(Syn)o(tax)1496 b(128)68 2075 y Fu(B.1)37 b(Notational)15
b(Con)o(v)o(en)o(tions)41 b Fr(:)22 b(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f
(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)46
b Fu(128)68 2131 y(B.2)37 b(Syn)o(tax)15 b(Changes)e Fr(:)23
b(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g
(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)46 b
Fu(128)68 2188 y(B.3)37 b(Lexical)17 b(Syn)o(tax)39 b Fr(:)23
b(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g
(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)46 b
Fu(129)68 2244 y(B.4)37 b(La)o(y)o(out)18 b Fr(:)k(:)g(:)h(:)f(:)g(:)h(:)f(:)
g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f
(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)46 b Fu(131)68
2301 y(B.5)37 b(Con)o(text-F)l(ree)14 b(Syn)o(tax)28 b Fr(:)23
b(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g
(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)46 b Fu(132)68 2357
y(B.6)37 b(In)o(terface)15 b(Syn)o(tax)43 b Fr(:)22 b(:)g(:)h(:)f(:)g(:)h(:)f
(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h
(:)f(:)h(:)f(:)g(:)h(:)f(:)46 b Fu(135)0 2459 y Fs(C)30 b(Literate)19
b(commen)o(ts)1225 b(137)0 2561 y(D)28 b(Input/Output)19 b(Seman)o(tics)1088
b(139)68 2617 y Fu(D.1)34 b(Optional)16 b(Requests)39 b Fr(:)22
b(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f
(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)46 b Fu(143)p
eop
%%Page: 3 5
bop 150 50 a Ft(CONTENTS)1504 b Fu(iii)150 199 y Fs(E)34 b(Sp)q
(eci\014cation)21 b(of)c(Deriv)o(ed)g(Instances)879 b(145)218
256 y Fu(E.1)38 b(Sp)q(eci\014cation)17 b(of)e Fq(showsPrec)c
Fr(:)23 b(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h
(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)46 b Fu(148)218 312
y(E.2)38 b(Sp)q(eci\014cation)17 b(of)e Fq(readsPrec)c Fr(:)23
b(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g
(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)46 b Fu(149)218 369 y(E.3)38
b(An)15 b(example)27 b Fr(:)22 b(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h
(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h
(:)f(:)g(:)h(:)f(:)46 b Fu(151)150 471 y Fs(References)1476
b(153)150 572 y(Index)1592 b(155)p eop
%%Page: 4 6
bop 0 50 a Fu(iv)1506 b Ft(CONTENTS)p eop
%%Page: 5 7
bop 150 50 a Ft(CONTENTS)1518 b Fu(v)725 199 y Fy(Preface)21
b(to)h(V)-6 b(ersion)23 b(1.0)549 274 y(\(April)i(1990;)20
b(revised)k(August)e(1991\))264 468 y Fu(\\)p Fp(Some)e(half)h(dozen)g(p)n
(ersons)f(have)i(written)f(te)n(chnic)n(al)r(ly)f(on)g(c)n(ombinatory)i(lo)n
(gic,)f(and)264 524 y(most)e(of)g(these,)g(including)f(ourselves,)h(have)h
(publishe)n(d)e(something)h(err)n(one)n(ous.)29 b(Sinc)n(e)264
581 y(some)16 b(of)h(our)g(fel)r(low)g(sinners)e(ar)n(e)h(among)h(the)g(most)
g(c)n(ar)n(eful)f(and)h(c)n(omp)n(etent)f(lo)n(gicians)264
637 y(on)21 b(the)g(c)n(ontemp)n(or)n(ary)g(sc)n(ene,)g(we)h(r)n(e)n(gar)n(d)
e(this)h(as)g(evidenc)n(e)g(that)h(the)f(subje)n(ct)g(is)f(r)n(e-)264
694 y(fr)n(actory.)34 b(Thus)20 b(ful)r(lness)f(of)h(exp)n(osition)g(is)g(ne)
n(c)n(essary)f(for)i(ac)n(cur)n(acy;)h(and)f(exc)n(essive)264
750 y(c)n(ondensation)15 b(would)i(b)n(e)e(false)h(e)n(c)n(onomy)g(her)n(e,)g
(even)f(mor)n(e)i(than)f(it)g(is)g(or)n(dinarily.)p Fu(")1156
845 y(Hask)o(ell)g(B.)f(Curry)f(and)i(Rob)q(ert)f(F)l(eys)756
901 y(in)h(the)f(Preface)g(to)g Fp(Combinatory)h(L)n(o)n(gic)e
Fu([3],)g(Ma)o(y)g(31,)g(1956)150 1066 y(In)20 b(Septem)o(b)q(er)f(of)g(1987)
f(a)h(meeting)g(w)o(as)g(held)h(at)e(the)i(conference)g(on)f(F)l(unctional)h
(Programming)150 1123 y(Languages)15 b(and)h(Computer)f(Arc)o(hitecture)h(in)
g(P)o(ortland,)e(Oregon,)h(to)g(discuss)h(an)g(unfortunate)f(sit-)150
1179 y(uation)h(in)g(the)f(functional)i(programming)d(comm)o(unit)o(y:)20
b(there)c(had)f(come)g(in)o(to)h(b)q(eing)g(more)f(than)g(a)150
1235 y(dozen)h(non-strict,)f(purely)h(functional)g(programming)f(languages,)g
(all)h(similar)g(in)g(expressiv)o(e)g(p)q(o)o(w)o(er)150 1292
y(and)22 b(seman)o(tic)g(underpinnings.)42 b(There)23 b(w)o(as)e(a)g(strong)g
(consensus)h(at)g(this)g(meeting)g(that)f(more)150 1348 y(widespread)e(use)f
(of)f(this)h(class)g(of)f(functional)i(languages)f(w)o(as)f(b)q(eing)h(hamp)q
(ered)h(b)o(y)e(the)h(lac)o(k)g(of)f(a)150 1405 y(common)i(language.)34
b(It)20 b(w)o(as)f(decided)j(that)d(a)g(committee)h(should)h(b)q(e)f(formed)f
(to)g(design)i(suc)o(h)f(a)150 1461 y(language,)h(pro)o(viding)g(faster)f
(comm)o(unication)h(of)f(new)g(ideas,)i(a)e(stable)g(foundation)h(for)e(real)
i(ap-)150 1518 y(plications)g(dev)o(elopmen)o(t,)g(and)f(a)f(v)o(ehicle)j
(through)d(whic)o(h)h(others)g(w)o(ould)f(b)q(e)i(encouraged)f(to)f(use)150
1574 y(functional)i(languages.)35 b(This)20 b(do)q(cumen)o(t)h(describ)q(es)h
(the)e(result)g(of)g(that)f(committee's)h(e\013orts:)28 b(a)150
1631 y(purely)20 b(functional)g(programming)d(language)i(called)i(Hask)o
(ell,)f(named)e(after)g(the)h(logician)h(Hask)o(ell)150 1687
y(B.)15 b(Curry)g(whose)g(w)o(ork)f(pro)o(vides)i(the)f(logical)i(basis)e
(for)g(m)o(uc)o(h)g(of)g(ours.)150 1825 y Fx(Goals)150 1930
y Fu(The)g(committee's)g(primary)g(goal)g(w)o(as)g(to)f(design)i(a)f
(language)h(that)e(satis\014ed)i(these)f(constrain)o(ts:)206
2028 y(1.)22 b(It)14 b(should)g(b)q(e)h(suitable)g(for)f(teac)o(hing,)g
(researc)o(h,)f(and)h(applications,)i(including)g(building)h(large)264
2084 y(systems.)206 2172 y(2.)22 b(It)10 b(should)i(b)q(e)f(completely)h
(describ)q(ed)h(via)e(the)g(publication)i(of)d(a)g(formal)g(syn)o(tax)g(and)h
(seman)o(tics.)206 2260 y(3.)22 b(It)14 b(should)h(b)q(e)g(freely)g(a)o(v)m
(ailable.)21 b(An)o(y)o(one)15 b(should)g(b)q(e)g(p)q(ermitted)g(to)f
(implemen)o(t)h(the)g(language)264 2317 y(and)g(distribute)h(it)g(to)e
(whomev)o(er)h(they)h(please.)206 2405 y(4.)22 b(It)15 b(should)h(b)q(e)g
(based)f(on)h(ideas)f(that)g(enjo)o(y)g(a)g(wide)h(consensus.)206
2493 y(5.)22 b(It)15 b(should)h(reduce)g(unnecessary)g(div)o(ersit)o(y)g(in)g
(functional)g(programming)f(languages.)150 2591 y(The)22 b(committee)f(hop)q
(es)i(that)d(Hask)o(ell)j(can)f(serv)o(e)f(as)g(a)g(basis)h(for)f(future)h
(researc)o(h)f(in)i(language)150 2647 y(design.)34 b(W)l(e)20
b(hop)q(e)g(that)f(extensions)h(or)f(v)m(arian)o(ts)g(of)h(the)f(language)h
(ma)o(y)f(app)q(ear,)h(incorp)q(orating)150 2704 y(exp)q(erimen)o(tal)d
(features.)p eop
%%Page: 6 8
bop 0 50 a Fu(vi)1506 b Ft(CONTENTS)0 199 y Fx(This)18 b(Rep)r(ort)0
310 y Fu(This)g(rep)q(ort)g(is)g(the)g(o\016cial)g(sp)q(eci\014cation)i(of)d
(the)h(Hask)o(ell)h(language)f(and)f(should)i(b)q(e)g(suitable)g(for)0
366 y(writing)h(programs)e(and)i(building)i(implemen)o(tations.)34
b(It)20 b(is)g Fp(not)f Fu(a)g(tutorial)h(on)f(programming)g(in)0
423 y(Hask)o(ell,)25 b(so)d(some)g(familiarit)o(y)h(with)g(functional)h
(languages)e(is)h(assumed.)42 b(As)22 b(this)h(is)g(the)f(\014rst)0
479 y(edition)17 b(of)d(the)i(sp)q(eci\014cation,)g(there)g(ma)o(y)e(b)q(e)i
(some)f(errors)f(and)i(inconsistencies;)h(b)q(ew)o(are.)0 626
y Fx(The)h(Next)g(Stage)0 737 y Fu(Hask)o(ell)k(is)f(a)f(large)h(and)g
(complex)g(language,)h(designed)g(for)f(a)f(wide)i(sp)q(ectrum)f(of)f(purp)q
(oses.)37 b(It)0 793 y(also)22 b(in)o(tro)q(duces)i(a)e(ma)s(jor)f(new)h(tec)
o(hnical)i(inno)o(v)m(ation,)h(namely)e(using)g(t)o(yp)q(e)g(classes)g(to)f
(handle)0 850 y(o)o(v)o(erloading)15 b(in)h(a)f(systematic)g(w)o(a)o(y)l(.)k
(This)d(inno)o(v)m(ation)g(p)q(ermeates)g(ev)o(ery)f(asp)q(ect)g(of)g(the)g
(language.)71 931 y(Hask)o(ell)23 b(is)g(b)q(ound)g(to)e(con)o(tain)i
(infelicities)j(and)c(errors)g(of)f(judgemen)o(t.)41 b(W)l(e)23
b(w)o(elcome)f(y)o(our)0 987 y(commen)o(ts,)e(suggestions,)g(and)g
(criticisms)h(on)f(the)g(language)g(or)f(its)h(presen)o(tation)f(in)i(the)f
(rep)q(ort.)0 1044 y(T)l(ogether)c(with)h(y)o(our)g(input)g(and)g(our)g(o)o
(wn)f(exp)q(erience)j(of)d(using)i(the)f(language,)g(w)o(e)f(plan)i(to)e
(meet)0 1100 y(at)f(some)f(future)i(time)f(to)g(resolv)o(e)g(di\016culties)j
(and)d(further)g(stabilise)i(the)e(design.)71 1182 y(A)22 b(common)h(mailing)
h(list)f(for)f(tec)o(hnical)j(discussion)f(of)e(Hask)o(ell)i(can)f(b)q(e)g
(reac)o(hed)g(at)f(either)0 1238 y Fq(haskell@cs.yale.edu)10
b Fu(or)i Fq(haskell@dcs.glasgow.ac.uk)m Fu(.)38 b(Errata)11
b(sheets)i(for)f(this)h(rep)q(ort)f(will)0 1295 y(b)q(e)19
b(p)q(osted)g(there.)30 b(T)l(o)18 b(subscrib)q(e,)j(send)e(a)f(request)h(to)
f Fq(haskell-request@dcs.gla)o(sgow.ac)o(.uk)0 1351 y Fu(\(Europ)q(ean)d
(residen)o(ts\))h(or)e Fq(haskell-request@cs.yale.edu)e Fu(\(residen)o(ts)j
(elsewhere\).)71 1432 y(W)l(e)21 b(though)o(t)g(it)h(w)o(ould)g(b)q(e)h
(helpful)g(to)f(iden)o(tify)g(the)g(asp)q(ects)g(of)f(the)h(language)g
(design)h(that)0 1489 y(seem)14 b(to)g(b)q(e)h(most)f(\014nely)h(balanced,)h
(and)e(hence)h(are)f(the)h(most)e(lik)o(ely)j(candidates)f(for)f(c)o(hange)g
(when)0 1545 y(w)o(e)19 b(review)g(the)g(language.)31 b(The)19
b(follo)o(wing)g(list)h(summarises)f(these)g(areas.)30 b(It)18
b(will)j(only)e(b)q(e)h(fully)0 1602 y(comprehensible)e(after)c(y)o(ou)h(ha)o
(v)o(e)g(read)g(the)g(rep)q(ort.)0 1747 y Fs(Mutually)i(recursiv)o(e)e(mo)q
(dules.)45 b Fu(Mutual)14 b(recursion)h(among)f(mo)q(dules)h(is)f
(unrestricted)h(at)f(pre-)0 1803 y(sen)o(t,)19 b(whic)o(h)g(is)g(ob)o
(viously)h(desirable)g(from)d(the)i(programmer's)e(p)q(oin)o(t)i(of)f(view,)i
(but)e(whic)o(h)i(p)q(oses)0 1860 y(signi\014can)o(t)e(c)o(hallenges)h(to)d
(the)i(compilation)g(system.)26 b(In)17 b(particular,)h(it)g(is)g
Fp(not)f Fu(su\016cien)o(t)h(to)e(start)0 1916 y(with)g(trivial)g(in)o
(terfaces)f(for)g(eac)o(h)g(mo)q(dule)h(and)g(iterate)f(to)f(a)h(\014xp)q
(oin)o(t,)h(as)f(this)g(example)h(sho)o(ws:)71 1994 y Fq(module)23
b(F\()g(f)h(\))g(where)261 2050 y(import)g(G)261 2106 y(f)g([x])g(=)f(g)h(x)
71 2186 y(module)f(G\()g(g)h(\))g(where)261 2243 y(import)g(F)261
2299 y(g)g(=)g(f)0 2377 y Fu(If)15 b(a)f(compilation)h(system)f(starts)g
(o\013)f(b)o(y)i(giving)g Fq(F)f Fu(and)h Fq(G)f Fu(in)o(terfaces)h(that)e
(giv)o(e)i(the)f(t)o(yp)q(e)h(signatures)0 2433 y Fq(f::a)j
Fu(and)g Fq(g::b)g Fu(resp)q(ectiv)o(ely)l(,)j(then)e(compiling)h(the)e(t)o
(w)o(o)g(mo)q(dules)h(alternately)g(will)h(not)e(reac)o(h)g(a)0
2490 y(\014xed)j(p)q(oin)o(t.)35 b(\(This)21 b(only)f(happ)q(ens)h(if)g
(there)f(is)h(a)f(t)o(yp)q(e)g(error,)g(but)h(it)f(is)h(ob)o(viously)g
(undesirable)0 2546 y(b)q(eha)o(viour.\))f(In)14 b(general,)g(a)f(compiler)i
(ma)o(y)e(need)i(to)d(analyse)i(a)g(set)f(of)g(m)o(utually)i(recursiv)o(e)f
(mo)q(dules)0 2602 y(as)h(a)g(whole,)g(rather)g(than)g(separately)l(.)p
eop
%%Page: 7 9
bop 150 50 a Ft(CONTENTS)1493 b Fu(vii)150 199 y Fs(Generalising)26
b(t)o(yp)q(e)e(classes.)45 b Fu(A)21 b(n)o(um)o(b)q(er)h(of)e(restrictions)i
(are)f(placed)h(on)g(the)f(class)g(system)150 256 y(in)f(Hask)o(ell.)35
b(Curren)o(tly)l(,)20 b(instances)h(are)e(attac)o(hed)g(to)g(the)h(top)f(lev)
o(el)i(t)o(yp)q(e)f(of)f(an)g(ob)s(ject)g(and)h(are)150 312
y(exp)q(orted)i(implicitly)i(with)d(classes)h(and)f(t)o(yp)q(es.)38
b(A)22 b(n)o(um)o(b)q(er)f(of)g(prop)q(osals)g(for)g(generalising)i(the)150
369 y(class)15 b(system)g(ha)o(v)o(e)f(b)q(een)i(discussed,)h(among)d(them)h
(attac)o(hing)f(instances)i(to)e(more)h(complex)g(t)o(yp)q(es,)150
425 y(parameterising)d(classes)g(o)o(v)o(er)f(t)o(yp)q(e)g(constructors,)g
(allo)o(wing)i(rede\014nition)g(of)e(instances,)i(and)f(making)150
482 y(instances)f(explicit)i(in)e(imp)q(ort)f(and)h(exp)q(ort)f(lists.)19
b(Some)11 b(of)f(these)g(prop)q(osals)h(ha)o(v)o(e)f(b)q(een)h(implemen)o
(ted)150 538 y(and)17 b(are)g(part)g(of)g(the)g(a)o(v)m(ailable)i(Hask)o(ell)
f(systems.)25 b(As)17 b(w)o(e)g(gain)h(more)e(exp)q(erience)k(with)d(the)h
(class)150 594 y(system)d(w)o(e)g(hop)q(e)h(to)e(impro)o(v)o(e)h(it)h(in)g
(the)f(future.)150 739 y Fs(Default)22 b(metho)q(ds.)45 b Fu(Section)19
b(4.3.1)e(describ)q(es)j(ho)o(w)e(a)g(class)g(declaration)h(ma)o(y)f(include)
i(default)150 796 y(metho)q(ds)13 b(for)e(some)h(of)g(its)h(op)q(erations.)19
b(W)l(e)12 b(considered)i(extending)g(this)f(so)f(that)f(a)h(class)h
(declaration)150 852 y(could)k(include)i(default)e(metho)q(ds)f
Fp(for)h(op)n(er)n(ations)g(of)h(its)e(sup)n(er)n(classes)p
Fu(,)f(whic)o(h)i(o)o(v)o(erride)f(the)g(sup)q(er-)150 909
y(class's)d(default)g(metho)q(d.)19 b(This)14 b(lo)q(oks)f(lik)o(e)h(an)f
(attractiv)o(e)e(idea,)j(whic)o(h)g(will)g(certainly)g(b)q(e)g(considered)150
965 y(for)h(a)f(future)i(revision.)150 1110 y Fs(Defaults)j(for)e(am)o
(biguous)g(t)o(yp)q(es.)45 b Fu(Section)16 b(4.3.4)e(describ)q(es)j(ho)o(w)e
(am)o(biguous)g(t)o(ypings,)g(whic)o(h)150 1167 y(arise)e(due)h(to)e(the)h(t)
o(yp)q(e-class)g(system,)g(are)f(resolv)o(ed.)20 b(Ideally)l(,)15
b(the)e(c)o(hoice)g(made)g(should)h(not)e(matter.)150 1223
y(F)l(or)19 b(example,)i(consider)g(the)f(expression)g Fq(if)k(round)f(x)h(>)
f(0)h(then)f(E1)h(else)f(E2)p Fu(.)33 b(It)20 b(should)g(not)150
1280 y(matter)15 b(whether)i Fq(round)e Fu(returns)h Fq(Int)g
Fu(or)g Fq(Integer)o Fu(;)h(a)f(bad)g(c)o(hoice)h(could)h(result)e(in)i(o)o
(v)o(er\015o)o(w,)c(or)i(a)150 1336 y(less)g(e\016cien)o(t)g(program,)d(but)j
(if)f(a)g(result)h(is)g(pro)q(duced)g(it)g(will)g(b)q(e)g(correct.)221
1417 y(Our)f(resolution)h(rules)f(striv)o(e)g(only)h(to)e(resolv)o(e)h(am)o
(biguous)g(t)o(yp)q(es)g(where)g(the)g(t)o(yp)q(e)g(c)o(hosen)h(do)q(es)150
1474 y(not)j(\\matter")f(in)i(this)g(sense,)h(but)f(w)o(e)f(ha)o(v)o(e)g(not)
g(b)q(een)i(en)o(tirely)g(successful,)g(for)e(example)i(where)150
1530 y(\015oating)14 b(p)q(oin)o(t)g(is)h(concerned.)21 b(F)l(urther)13
b(researc)o(h)h(and)g(practical)h(exp)q(erience)h(ma)o(y)e(suggest)f(a)h(b)q
(etter)150 1587 y(set)h(of)g(rules.)150 1732 y Fs(Static)23
b(seman)o(tics)e(of)h Fq(let)f Fs(and)h Fq(where)f Fs(bindings.)45
b Fu(The)19 b(rules)h(at)e(the)h(end)g(of)f(Section)i(4.4.2)150
1788 y(comprise)c(the)f(\\monomorphism)g(restriction")g(in)h(Hask)o(ell.)21
b(The)16 b(restriction)f(solv)o(es)h(t)o(w)o(o)e(problems,)150
1845 y(whic)o(h)h(are)f(summarised)h(b)q(elo)o(w,)f(but)h(at)e(the)i(cost)e
(of)h(restricting)h(expressiv)o(eness.)20 b(Only)c(exp)q(erience)150
1901 y(will)h(tell)f(ho)o(w)f(m)o(uc)o(h)g(of)g(a)g(problem)h(this)f(is)h
(for)f(the)g(programmer.)221 1982 y(These)e(are)g(the)g(t)o(w)o(o)f
(problems.)19 b(First,)13 b(the)g(expression)h Fq(let)24 b(x)f(=)h(factorial)
f(1000)g(in)h(\(x,x\))150 2039 y Fu(lo)q(oks)16 b(as)g(though)g
Fq(x)f Fu(should)i(only)g(b)q(e)g(computed)f(once.)22 b(If)17
b Fq(x)f Fu(w)o(ere)f(used)i(at)e(di\013eren)o(t)h(o)o(v)o(erloadings,)150
2095 y(ho)o(w)o(ev)o(er,)j Fq(factorial)j(1000)c Fu(w)o(ould)i(b)q(e)f
(computed)g(t)o(wice,)h(once)f(at)f(eac)o(h)h(t)o(yp)q(e.)31
b(W)l(e)19 b(ha)o(v)o(e)g(found)150 2152 y(examples)i(where)f(the)g(loss)g
(of)g(e\016ciency)h(is)g(exp)q(onen)o(tial)g(in)g(the)f(size)h(of)f(the)g
(program.)33 b(Mo)q(dest)150 2208 y(compiler)12 b(optimisations)g(can)e
(often)h(eliminate)i(the)d(problem,)j(but)d(w)o(e)h(ha)o(v)o(e)f(found)i(no)e
(simple)j(sc)o(heme)150 2265 y(that)h(can)g Fp(guar)n(ante)n(e)g
Fu(to)g(do)g(so.)19 b(The)c(restriction)g(solv)o(es)f(the)g(problem)h(b)o(y)g
(ensuring)g(that)f(all)h(uses)f(of)150 2321 y Fq(x)h Fu(are)g(at)f(the)i
(same)f(o)o(v)o(erloading,)g(and)g(hence)h(that)f(its)g(ev)m(aluation)h(can)g
(b)q(e)g(shared)f(as)g(usual.)221 2403 y(Second,)23 b(a)e(rather)g(subtle)h
(form)f(of)g(t)o(yp)q(e)g(am)o(biguit)o(y)h(\(Section)g(4.3.4\))d(is)j
(eliminated)i(b)o(y)d(the)150 2459 y(restriction)16 b(to)e(non-o)o(v)o
(erloaded)i(pattern)e(bindings.)22 b(An)16 b(example)g(is:)221
2540 y Fq(readNum)22 b(s)i(r)g(=)g(\(n*r,s'\))e(where)i([\(n,s'\)])e(=)i
(reads)f(s)150 2622 y Fu(Here)14 b Fq(n::\(Num)23 b(a,)h(Text)f(a\))h(=>)f(a)
p Fu(,)14 b Fq(s'::Text)23 b(a)g(=>)h(String)o Fu(.)c(If)14
b(the)g(de\014nition)i(of)e Fq([\(n,s'\)])e Fu(is)150 2678
y(p)q(olymorphic,)k(the)g Fq(a)p Fu('s)e(ma)o(y)h(b)q(e)h(resolv)o(ed)f(as)g
(di\013eren)o(t)g(t)o(yp)q(es.)p eop
%%Page: 8 10
bop 0 50 a Fu(viii)1482 b Ft(CONTENTS)71 199 y Fu(\(Note:)19
b(As)d(of)f(the)g(v)o(ersion)h(1.1)f(rep)q(ort,)f(the)i(monomorphism)f
(restriction)h(is)g(relaxed,)g(pro)o(vided)0 256 y(that)d(the)i(programmer)d
(giv)o(es)j(an)f(explicit)i(t)o(yp)q(e)e(signature.)20 b(See)14
b(Section)h(4.5.4)e(for)g(precise)j(details.\))0 401 y Fs(Ov)o(erloaded)j
(constan)o(ts.)45 b Fu(Ov)o(erloaded)17 b(constan)o(ts)f(\(e.g.)f
Fq(1)p Fu(,)h(whic)o(h)h(has)f(t)o(yp)q(e)h Fq(Num)23 b(a)h(=>)f(a)p
Fu(\))16 b(are)0 457 y(extraordinarily)i(con)o(v)o(enien)o(t)h(when)f
(programming,)f(but)h(are)f(the)h(source)g(of)f(sev)o(eral)h(serious)g(tec)o
(h-)0 514 y(nical)g(problems,)g(including)h(b)q(oth)e(of)g(those)f(men)o
(tioned)i(in)g(the)e(t)o(w)o(o)g(preceding)i(items.)25 b(One)18
b(could)0 570 y(eliminate)f(o)o(v)o(erloaded)d(constan)o(ts)g(altogether;)g
(w)o(e)h(considered)h(this)f(at)f(length,)i(and)f(w)o(e)f(are)h(sure)g(to)0
626 y(reconsider)h(it)g(when)f(w)o(e)g(review)h(the)f(language.)0
771 y Fs(P)o(olymorphism)h(in)h Fq(case)g Fs(expressions.)43
b Fu(The)16 b(t)o(yp)q(e)f(of)f(a)h(v)m(ariable)h(b)q(ound)g(b)o(y)f(a)f
(Standard)h(ML)0 828 y(case-expression)d(is)f(monomorphic;)i(w)o(e)d(ha)o(v)o
(e)h(made)f(the)h(same)g(decision)i(in)e(Hask)o(ell)h(\(Section)g(3.14.3\).)0
884 y(The)g(question)h(of)f(whether)g(suc)o(h)g(t)o(yp)q(es)g(can)h(b)q(e)f
(made)g(p)q(olymorphic)i(in)o(teracts)e(with)g(the)h(restrictions)0
941 y(on)j(p)q(olymorphism)h(for)f(pattern-b)q(ound)g(v)m(ariables,)h(men)o
(tioned)g(ab)q(o)o(v)o(e.)22 b(F)l(or)16 b(the)g(presen)o(t,)g(w)o(e)f(ha)o
(v)o(e)0 997 y(erred)g(on)h(the)f(side)h(of)f(conserv)m(atism,)g(but)g(this)h
(decision)h(should)f(b)q(e)g(review)o(ed.)0 1144 y Fx(Ac)n(kno)n(wledgemen)n
(ts)0 1255 y Fu(W)l(e)i(heartily)g(thank)f(these)h(p)q(eople)h(for)e(their)h
(useful)h(con)o(tributions)f(to)f(this)h(rep)q(ort:)24 b(Lennart)18
b(Au-)0 1311 y(gustsson,)25 b(Ric)o(hard)g(Bird,)h(Stephen)f(Blott,)h(T)l(om)
d(Blenk)o(o,)k(Duk)o(e)c(Brisco)q(e,)k(Chris)d(Clac)o(k,)i(Guy)0
1368 y(Cousineau,)17 b(T)l(on)o(y)g(Da)o(vie,)f(Chris)h(F)l(asel,)g(P)o(at)f
(F)l(asel,)h(Bob)g(Hiromoto,)f(Nic)h(Holt,)g(Simon)g(B.)g(Jones,)0
1424 y(Stef)c(Jo)q(osten,)g(Mik)o(e)h(Jo)o(y)l(,)f(Ric)o(hard)h(Kelsey)l(,)g
(Siau-Cheng)h(Kho)q(o,)e(Amir)g(Kishon,)i(John)e(Launc)o(h)o(bury)l(,)0
1480 y(Olaf)18 b(Lub)q(ec)o(k,)g(Randy)g(Mic)o(helsen,)h(Ric)o(k)f(Mohr,)f
(Arth)o(ur)f(Norman,)h(P)o(aul)g(Otto,)g(Larne)g(P)o(ek)o(o)o(wsky)l(,)0
1537 y(John)j(P)o(eterson,)f(Rin)o(us)h(Plasmeijer,)h(John)e(Robson,)h(Colin)
h(Runciman,)g(Lauren)f(Smith,)g(Raman)0 1593 y(Sundaresh,)15
b(T)l(om)e(Thomson,)h(Pradeep)g(V)l(arma,)f(T)l(on)o(y)h(W)l(arno)q(c)o(k,)g
(Stuart)f(W)l(ra)o(y)l(,)g(and)h(Bonnie)i(Y)l(an-)0 1650 y(tis.)k(W)l(e)13
b(also)h(thank)f(those)h(who)f(participated)i(in)f(the)g(liv)o(ely)h
(discussions)g(ab)q(out)f(Hask)o(ell)g(on)g(the)f(FP)0 1706
y(mailing)k(list)f(during)g(an)f(in)o(terim)h(p)q(erio)q(d)g(of)f(the)g
(design.)71 1788 y(Finally)l(,)g(aside)f(from)e(the)i(imp)q(ortan)o(t)f
(foundational)h(w)o(ork)f(laid)h(b)o(y)g(Ch)o(urc)o(h,)f(Rosser,)h(Curry)l(,)
f(and)0 1844 y(others)j(on)h(the)g(lam)o(b)q(da)g(calculus,)i(w)o(e)d(wish)i
(to)e(ac)o(kno)o(wledge)h(the)g(in\015uence)i(of)d(man)o(y)g(notew)o(orth)o
(y)0 1901 y(programming)h(languages)g(dev)o(elop)q(ed)j(o)o(v)o(er)c(the)i(y)
o(ears.)26 b(Although)18 b(it)g(is)g(di\016cult)h(to)e(pinp)q(oin)o(t)i(the)0
1957 y(origin)c(of)e(man)o(y)h(ideas,)g(w)o(e)g(particularly)h(wish)g(to)e
(ac)o(kno)o(wledge)i(the)f(in\015uence)i(of)d(McCarth)o(y's)g(Lisp)0
2013 y([11)o(])j(\(and)g(its)h(mo)q(dern-da)o(y)f(incarnation,)i(Sc)o(heme)f
([16)o(]\);)f(Landin's)h(ISWIM)g([9)o(];)f(Bac)o(kus's)g(FP)g([1];)0
2070 y(Gordon,)i(Milner,)i(and)f(W)l(adsw)o(orth's)e(ML)h([5];)h(Burstall,)h
(MacQueen,)f(and)g(Sannella's)g(Hop)q(e)g([2];)0 2126 y(and)e(T)l(urner's)f
(series)h(of)f(languages)h(culminating)i(in)e(Miranda)f([19].)1232
2110 y Fo(1)1274 2126 y Fu(Without)g(these)h(forerunners)0
2183 y(Hask)o(ell)f(w)o(ould)g(not)e(ha)o(v)o(e)h(b)q(een)i(p)q(ossible.)p
0 2661 720 2 v 52 2688 a Fn(1)69 2704 y Fm(Miranda)e(is)e(a)g(trademark)h(of)
f(Researc)o(h)h(Soft)o(w)o(are)f(Ltd.)p eop
%%Page: 9 11
bop 150 50 a Ft(CONTENTS)1505 b Fu(ix)458 199 y Fy(Preface)22
b(to)g(V)-6 b(ersion)23 b(1.1)e(\(19)h(August)g(1991\))150
376 y Fu(F)l(ollo)o(wing)12 b(the)g(V)l(ersion)h(1.0)e(Hask)o(ell)h(rep)q
(ort,)g(sev)o(eral)g(sites)g(ha)o(v)o(e)f(implemen)o(ted)j(Hask)o(ell)e(\(or)
f(a)h(subset)150 432 y(thereof)t(\))h(and)g(p)q(eople)j(ha)o(v)o(e)d(started)
g(to)g(use)h(these)f(implemen)o(tations.)21 b(Based)14 b(on)g(this)g(exp)q
(erience)h(of)150 489 y(implemen)o(tation)h(and)f(use,)g(it)h(b)q(ecame)f
(apparen)o(t)g(that)f(a)h(mo)q(dest)g(revision)h(of)e(the)h(language)h(w)o
(ould)150 545 y(b)q(e)k(desirable,)h(in)e(whic)o(h)h(some)f(impro)o(v)o(emen)
o(ts)f(in)i(syn)o(tax)e(could)i(b)q(e)g(made)f(and)g(certain)g(features)150
602 y(generalised.)i(This)16 b(V)l(ersion)g(1.1)e(rep)q(ort)h(is)h(the)f
(result.)221 680 y(This)j(revision)g(w)o(as)f(sp)q(eci\014cally)k
Fp(not)c Fu(in)o(tended)i(to)e(add)h(an)o(y)f(substan)o(tial)h(new)g
(features)f(to)g(the)150 736 y(language,)e(but)g(rather)g(to)f(\\tidy)i(up")f
(the)h(existing)g(language.)k(Despite)c(this)f(narro)o(w)f(fo)q(cus,)h(a)g
(wide)150 793 y(debate)h(ensued,)g(conducted)h(on)f(the)f(Hask)o(ell)i
(mailing)g(list)g(\(see)e(page)h(vi\))g(rather)f(than)g(just)h(among)150
849 y(mem)o(b)q(ers)f(of)g(the)g(original)i(committee.)221
927 y(In)f(this)h(minor)f(revision,)h(the)f(tric)o(ky)g(issues)h(iden)o
(ti\014ed)h(in)e(the)h(preface)f(to)f(V)l(ersion)i(1.0)e(remain,)150
984 y(so)g(that)f(preface)i(should)g(b)q(e)g(read)f(in)h(conjunction)g(with)g
(this)f(one.)150 1125 y Fx(Summary)h(of)j(c)n(hanges)150 1233
y Fu(The)c(main)h(c)o(hanges)f(\(other)g(than)g(concrete)g(syn)o(tax\))f(are)
h(as)g(follo)o(ws.)218 1349 y Fl(\017)23 b Fu(Class)16 b(metho)q(ds)h(ma)o(y)
e(b)q(e)i(p)q(olymorphic)h(and)f(o)o(v)o(erloaded)f(in)h(t)o(yp)q(e)g(v)m
(ariables)h(other)e(than)g(the)264 1406 y(class)f(v)m(ariable)i(\(Section)f
(4.3.1\).)218 1496 y Fl(\017)23 b Fu(The)12 b(\\monomorphism)g(restriction")g
(has)g(b)q(een)i(made)e(more)g(precise,)h(and)g(relaxed)g(in)g(the)f(case)264
1553 y(where)j(the)g(programmer)f(supplies)k(a)c(t)o(yp)q(e)i(signature)f
(\(Section)h(4.4.2\).)218 1643 y Fl(\017)23 b Fu(The)16 b(meaning)h(of)f(con)
o(texts)g(in)h Fq(data)f Fu(declarations)h(has)f(b)q(een)i(clari\014ed)g
(\(Section)e(4.2.1\),)f(and)264 1700 y Fq(type)e Fu(synon)o(ym)g
(declarations)i(are)f(no)f(longer)i(p)q(ermitted)f(to)f(ha)o(v)o(e)h(con)o
(texts)f(\(Section)i(4.2.2\).)218 1791 y Fl(\017)23 b Fu(If)11
b(the)f Fq(deriving)g Fu(clause)i(on)e(a)h Fq(data)f Fu(declaration)h(is)h
(omitted,)f(no)g(instances)g(are)g(automatically)264 1847 y(deriv)o(ed)16
b(\(Section)g(4.3.3\).)218 1938 y Fl(\017)23 b Fu(A)16 b(mo)q(dule)h
Fp(m)j Fu(ma)o(y)c(refer)g(to)g(all)h(of)f(its)g(o)o(wn)g(lo)q(cal)h
(de\014nitions)h(in)f(an)f(exp)q(ort)h(list)g(using)g Fp(m)s
Fq(..)264 1994 y Fu(\(Section)e(5.2.1\).)150 2111 y(The)g(main)h(syn)o
(tactic)f(c)o(hanges)g(are)g(as)g(follo)o(ws:)218 2218 y Fl(\017)23
b Fu(A)15 b(new)h(form)f(of)g(expression,)h(a)f Fq(let)p Fu(-expression,)h
(has)g(b)q(een)g(added,)g(whic)o(h)h(replaces)f(and)g(has)264
2274 y(the)g(same)g(seman)o(tics)g(as)g(a)g Fq(where)g Fu(expression.)24
b(\(In)16 b(particular,)h(the)f(bindings)j(it)d(in)o(tro)q(duces)264
2331 y(are)i(m)o(utually)h(recursiv)o(e;)h(Hask)o(ell)g(has)e(no)h
(non-recursiv)o(e)g Fq(let)f Fu(construct.\))29 b(Bindings)21
b(ma)o(y)264 2387 y(also)16 b(b)q(e)h(in)o(tro)q(duced)g(b)o(y)g(a)f
Fq(where)f Fu(clause,)i(but)g(suc)o(h)f Fq(where)g Fu(clauses)h(are)f(no)o(w)
g(attac)o(hed)g(to)f(a)264 2444 y(group)f(of)h(guarded)g(righ)o(t-hand)g
(sides,)g(and)g(scop)q(e)h(o)o(v)o(er)e(the)h(guards.)k(The)c(previous)h
(inabilit)o(y)264 2500 y(to)e(scop)q(e)i(de\014nitions)h(o)o(v)o(er)d(guards)
h(w)o(as)f(a)h(signi\014can)o(t)h(shortcoming)f(of)g(the)g(language.)218
2591 y Fl(\017)23 b Fu(Sections)g(ha)o(v)o(e)e(b)q(een)i(in)o(tro)q(duced)h
(for)d(binary)i(op)q(erators.)39 b(F)l(or)22 b(example,)i(the)e(expression)
264 2647 y Fq(\(/)h(2\))d Fu(is)i(the)e(function)i(whic)o(h)f(divides)h(its)f
(argumen)o(t)f(b)o(y)h(2,)g(and)g Fq(\(2)i(/\))d Fu(is)h(the)g(function)264
2704 y(whic)o(h)16 b(divides)h(2)e(b)o(y)g(its)g(argumen)o(t.)p
eop
%%Page: 10 12
bop 0 50 a Fu(x)1518 b Ft(CONTENTS)68 199 y Fl(\017)23 b Fu(The)15
b(standard)g(prelude)i(has)e(b)q(een)h(debugged)g(and)f(revised.)0
318 y(A)g(few)g(other)g(non)o(trivial)h(c)o(hanges)g(to)e(the)h(syn)o(tax)g
(are)g(listed)h(in)g(App)q(endix)i(B.2.)0 465 y Fx(Impleme)o(n)n(tations)0
575 y Fu(Sev)o(eral)j(groups)g(are)f(w)o(orking)g(on)h(implemen)o(tations)h
(of)e(Hask)o(ell,)j(including)g(those)e(at)f(Chalmers)0 632
y(\(con)o(tact:)e Fq(hbc@cs.chalmers.se)m Fu(\),)13 b(Glasgo)o(w)e(\()p
Fq(haskell-request@dcs.glasgo)o(w.ac.uk)m Fu(\),)h(Syra-)0
688 y(cuse)18 b(\()p Fq(polar@top.cis.syr.edu)l Fu(\),)f(and)g(Y)l(ale)h(\()p
Fq(haskell-request@cs.yale.ed)o(u)m Fu(\).)25 b(O\016cial)19
b(an-)0 745 y(nouncemen)o(ts)c(ab)q(out)f(these)h(implemen)o(tations)g(will)h
(app)q(ear)f(on)f(the)g(Hask)o(ell)i(tec)o(hnical)f(mailing)h(list)0
801 y(\(see)f(page)g(vi\).)0 948 y Fx(F)-5 b(ormal)18 b(Seman)n(tics)0
1058 y Fu(W)l(ork)e(has)h(also)g(b)q(een)h(undertak)o(en)f(at)f(Glasgo)o(w)g
(on)h(a)g(formal)f(static)h(and)g(dynamic)h(seman)o(tics)f(for)0
1115 y(Hask)o(ell)f([6)o(,)f(15].)k(These)d(e\013orts)e(are)h(w)o(ell)h(adv)m
(anced)g(but)f(as)g(y)o(et)g(incomplete.)0 1262 y Fx(Ac)n(kno)n(wledgemen)n
(ts)0 1372 y Fu(Language)k(design)h(is)g(an)f(ev)o(olutionary)g(pro)q(cess,)h
(and)f(the)g(group)g(of)g(p)q(eople)h(in)o(v)o(olv)o(ed)g(undergo)q(es)0
1429 y(ev)o(olution)13 b(as)e(w)o(ell.)20 b(W)l(e)12 b(wish)h(to)e(thank)h
(past)g(mem)o(b)q(ers)g(of)f(the)h(Hask)o(ell)h(Committee|Arvind,)h(Mik)o(e)0
1485 y(Reev)o(e,)k(Da)o(vid)f(Wise,)h(and)f(Jonathan)g(Y)l(oung|for)g(their)h
(previous)g(con)o(tributions)g(and)f(con)o(tin)o(ued)0 1542
y(supp)q(ort.)i(W)l(e)11 b(also)g(thank)g(those)g(who)f(bra)o(v)o(ed)h(the)g
(storm)f(of)h(electronic)i(mail)e(on)g(the)h(Hask)o(ell)g(mailing)0
1598 y(list,)19 b(and)e(resp)q(onded)i(with)f(constructiv)o(e)g(suggestions)f
(for)g(the)h(revised)g(language.)27 b(The)18 b(follo)o(wing)0
1655 y(w)o(ere)11 b(esp)q(ecially)k(helpful)e(and)f(activ)o(e:)19
b(Lennart)11 b(Augustsson,)h(Cordelia)h(Hall,)g(Ken)o(t)f(Karlsson,)g(Mark)0
1711 y(Jones,)j(Mark)g(Lillibridge,)j(and)e(Satish)f(Thatte.)71
1792 y(Numerous)g(others)g(con)o(tributed)g(to)g(the)g(debate,)g(and)h(w)o(e)
f(thank)g(them)g(also.)p eop
%%Page: 11 13
bop 150 50 a Ft(CONTENTS)1505 b Fu(xi)460 199 y Fy(Preface)21
b(to)h(V)-6 b(ersion)23 b(1.2)f(\(1st)g(Marc)n(h)g(1992\))221
390 y Fu(V)l(ersion)15 b(1.2)e(of)g(the)i(rep)q(ort)e(w)o(as)h(prepared)g
(for)g(publication)i(in)f Fp(SIGPLAN)f(Notic)n(es)p Fu(.)k(It)c(corrects)150
447 y(some)i(t)o(yp)q(ographical)g(errors)f(in)i(the)f(1.1)f(rep)q(ort,)h
(and)g(clari\014es)h(the)g(presen)o(tation)f(in)g(places,)h(some-)150
503 y(times)i(b)o(y)f(giving)h(new)g(examples.)30 b(A)18 b(few)g(minor)h(c)o
(hanges)f(ha)o(v)o(e)g(also)h(b)q(een)g(made)g(to)e(the)i(syn)o(tax)150
560 y(and)c(standard)g(prelude.)150 706 y Fx(Syn)n(tax)k(Changes)150
817 y Fu(This)e(is)f(the)g(list)h(of)e(all)i(syn)o(tax)e(c)o(hanges)h(made)g
(b)q(et)o(w)o(een)g(v)o(ersions)g(1.1)f(and)i(1.2.)k(See)16
b(Section)h(3)f(for)150 874 y(full)h(details.)218 1005 y Fl(\017)23
b Fu(Left-hand)16 b(sides)g(of)e(de\014nitions)j(ha)o(v)o(e)e(b)q(een)i
(simpli\014ed.)218 1099 y Fl(\017)23 b Fu(The)17 b(precedence)h(of)e
Fq(let)p Fu(,)h Fq(case)o Fu(,)g(lam)o(b)q(da)g(and)g(conditional)i
(expressions)e(has)g(b)q(een)h(c)o(hanged)264 1155 y(to)c(lie)j(b)q(et)o(w)o
(een)e(in\014x)i(op)q(erator)d(application)j(and)e(normal)g(function)h
(application.)218 1249 y Fl(\017)23 b Fu(The)14 b(righ)o(t-hand)g(op)q(erand)
g(of)g(an)f(in\014x)i(op)q(erator)e(application)j(ma)o(y)d(no)o(w)g(b)q(e)i
(an)f(\(unparen)o(the-)264 1305 y(sised\))h Fq(let)p Fu(,)g
Fq(case)o Fu(,)g(lam)o(b)q(da,)g(or)g(conditional)i(expression.)218
1399 y Fl(\017)23 b Fu(Precedences)16 b(in)g(in\014x)g(op)q(erator)f
(applications)i(ha)o(v)o(e)d(b)q(een)j(clari\014ed.)218 1493
y Fl(\017)23 b Fu(T)o(yp)q(es)c(in)h(expression)g(t)o(yp)q(e)f(signatures)g
(are)g(no)o(w)f Fr(ty)r(pes)i Fu(rather)e(than)h Fr(aty)r(pes)p
Fu(.)32 b(Expression)264 1549 y(t)o(yp)q(e)15 b(signatures)g(cannot)g(o)q
(ccur)h(at)e(the)i(top)e(lev)o(el)j(in)f Fq(case)f Fu(expression)h(guards.)
218 1643 y Fl(\017)23 b Fu(The)15 b(in\014x)h(t)o(yp)q(e)g(op)q(erator)e(\()p
Fq(->)o Fu(\))h(is)h(no)o(w)f(explicitly)j(righ)o(t-asso)q(ciativ)o(e.)218
1737 y Fl(\017)23 b Fu(Some)15 b(problems)h(with)f(optional)h(semicolons)g
(ha)o(v)o(e)f(b)q(een)h(eliminated.)218 1831 y Fl(\017)23 b
Fu(Empt)o(y)14 b(in)o(terfaces)i(and)f(class)h(b)q(o)q(dies)g(are)f(no)o(w)g
(p)q(ermitted)h(in)g(in)o(terface)f(\014les.)218 1925 y Fl(\017)23
b Fu(The)16 b(rules)h(for)e(quoting)h(names)g(to)g(form)f(op)q(erators,)g(or)
g(quoting)i(op)q(erators)e(to)g(form)g(names,)264 1981 y(ha)o(v)o(e)f(b)q
(een)j(relaxed)f(sligh)o(tly)l(.)218 2075 y Fl(\017)23 b Fu(Successor)15
b(patterns)g(ha)o(v)o(e)g(b)q(een)h(limited)h(to)e(v)m(ariables)h(and)g
(wildcards.)218 2169 y Fl(\017)23 b Fu(Negativ)o(e)15 b(literals)h(in)g
(patterns)f(ha)o(v)o(e)g(b)q(een)h(corrected.)150 2315 y Fx(Standard)j
(Prelude)150 2426 y Fu(Sev)o(eral)c(c)o(hanges)f(ha)o(v)o(e)g(b)q(een)h(made)
g(to)e(the)i(standard)e(prelude,)j(mainly)f(to)f(I/O)h(and)f(n)o(umeric)h
(func-)150 2483 y(tions.)218 2601 y Fl(\017)23 b Fu(New)12
b(Prelude)h(functions)f(ha)o(v)o(e)f(b)q(een)i(in)o(tro)q(duced:)20
b Fq($)p Fu(,)12 b Fq(id)o Fu(,)g Fq(const)p Fu(,)g Fq(minChar)o
Fu(,)g Fq(maxChar)o Fu(,)g Fq(unzip)o Fu(,)264 2658 y Fq(unzip3)o
Fu(,)j Fr(:)8 b(:)g(:)d Fu(,)15 b Fq(unzip7)o Fu(.)p eop
%%Page: 12 14
bop 0 50 a Fu(xii)1494 b Ft(CONTENTS)68 199 y Fl(\017)23 b
Fu(F)l(unctions)16 b Fq(approximants)d Fu(and)i Fq(partialQuotients)e
Fu(ha)o(v)o(e)i(b)q(een)i(deleted.)68 293 y Fl(\017)23 b Fu(The)g(functions)h
Fq(truncate)o Fu(,)g Fq(round)p Fu(,)g Fq(floor)f Fu(and)g
Fq(ceiling)f Fu(are)h(no)o(w)g(op)q(erations)g(of)g(class)114
350 y Fq(RealFrac)o Fu(.)68 443 y Fl(\017)g Fu(A)15 b(new)g(op)q(eration)h
Fq(recip)e Fu(has)h(b)q(een)i(in)o(tro)q(duced)f(in)g(class)g
Fq(Fractional)n Fu(.)68 537 y Fl(\017)23 b Fu(Some)13 b(functions)h(ha)o(v)o
(e)f(b)q(een)i(renamed:)k Fq(floatingToRational)11 b Fu(to)i
Fq(realFloatToRational)m Fu(;)114 594 y Fq(rationalToFloating)7
b Fu(to)j Fq(rationalToRealFloat)d Fu(and)k Fq(floatProperFraction)c
Fu(to)j Fq(floatApproxRational)m Fu(.)68 687 y Fl(\017)23 b
Fu(Sev)o(eral)g(c)o(hanges)f(ha)o(v)o(e)g(b)q(een)i(made)e(to)g(class)h
Fq(Integral)o Fu(.)42 b(Op)q(eration)23 b Fq(divRem)e Fu(has)i(b)q(een)114
744 y(deleted.)e(New)15 b(op)q(erations)h Fq(quot)o Fu(,)f
Fq(quotRem)o Fu(,)g Fq(divMod)f Fu(ha)o(v)o(e)h(b)q(een)h(in)o(tro)q(duced.)
21 b Fq(quot)15 b Fu(has)g(the)114 800 y(same)g(seman)o(tics)g(as)g(the)g
(previous)h Fq(div)f Fu(op)q(eration.)68 894 y Fl(\017)23 b
Fu(The)13 b(incremen)o(tal)g(arra)o(y)f(up)q(date)h(op)q(erator)f
Fq(//)g Fu(no)o(w)g(tak)o(es)g(a)h(list)g(of)f(indep)q(enden)o(t)j(index-v)m
(alue)114 951 y(asso)q(ciations)g(as)g(its)g(righ)o(t)g(argumen)o(t,)f
(rather)h(than)g(a)g(single)h(asso)q(ciation)g(\(Section)g(6.9.4\).)68
1044 y Fl(\017)23 b Fu(The)17 b(function)h Fq(exit)e Fu(no)o(w)h(writes)g(to)
f Fq(stderr)g Fu(rather)h(than)g Fq(stdout)o Fu(.)25 b(All)19
b(prelude)f(functions)114 1101 y(whic)o(h)e(previously)g(used)g
Fq(abort)e Fu(no)o(w)h(use)h Fq(exit)o Fu(.)68 1195 y Fl(\017)23
b Fu(A)15 b(new)g(request)h Fq(GetProgName)d Fu(has)i(b)q(een)i(in)o(tro)q
(duced.)68 1289 y Fl(\017)23 b Fu(Some)15 b(c)o(hanges)g(ha)o(v)o(e)g(b)q
(een)h(made)f(to)g Fq(Text)g Fu(instances.)68 1382 y Fl(\017)23
b Fu(Class)15 b Fq(Text)f Fu(has)h(mo)o(v)o(ed)g(to)g Fq(PreludeCore)n
Fu(.)68 1476 y Fl(\017)23 b Fu(F)l(unction)16 b Fq(error)e
Fu(has)h(mo)o(v)o(ed)g(to)f Fq(PreludeBuiltin)o Fu(.)68 1570
y Fl(\017)23 b Fq(PreludeComplex)13 b Fu(no)o(w)i(exp)q(orts)g(all)h
(de\014nitions.)68 1664 y Fl(\017)23 b Fu(Some)18 b(bugs)g(in)g(the)g
(de\014nitions)i(of)d Fq(cos)p Fu(,)h Fq(tan)g Fu(and)g Fq(tanh)f
Fu(for)g Fq(Complex)g Fu(n)o(um)o(b)q(ers)h(ha)o(v)o(e)g(b)q(een)114
1720 y(corrected.)0 1867 y Fx(Other)g(Changes)0 1978 y Fu(The)d(other)g(main)
h(c)o(hanges)f(are)g(as)g(follo)o(ws.)68 2096 y Fl(\017)23
b Fu(The)16 b(standard)h(class)g(hierarc)o(h)o(y)g(has)f(b)q(een)i(c)o
(hanged)f(sligh)o(tly)l(.)25 b Fq(Enum)16 b Fu(is)h(no)o(w)f(a)h(sup)q
(erclass)g(of)114 2153 y Fq(Real)d Fu(and)i Fq(Ix)f Fu(is)g(a)g(sup)q
(erclass)h(of)f Fq(Integral)o Fu(.)68 2247 y Fl(\017)23 b Fu(The)f(smallest)g
(\014xed-precision)i Fq(Int)o Fu(,)f Fq(minInt)e Fu(m)o(ust)g(b)q(e)i
Fq(-maxInt)o Fu(.)39 b(It)22 b(ma)o(y)f(no)g(longer)h(b)q(e)114
2303 y Fq(-maxInt-1)n Fu(.)68 2397 y Fl(\017)h Fu(Certainly)11
b(silly)i(cases)e(in)h(exp)q(ort/hiding)h(lists)f(ha)o(v)o(e)e(b)q(een)j
(eliminated;)h(for)c(example,)j(attempt-)114 2453 y(ing)i(to)g(hide)h(a)f
Fq(data)g Fu(t)o(yp)q(e)g(without)g(hiding)i(its)f(constructors)e(\(Section)i
(5.2.2\).)i(The)d(form)g(for)114 2510 y(a)g(t)o(yp)q(e)g(synon)o(ym)g(in)h
(an)f(exp)q(ort)g(list)h(is)g(no)o(w)e Fp(T)6 b Fq(\(..\))15
b Fu(\(Section)g(5.2.1\).)p eop
%%Page: 1 15
bop 1927 50 a Fu(1)150 199 y Fy(1)67 b(In)n(tro)r(duction)150
326 y Fu(Hask)o(ell)16 b(is)h(a)e(general)h(purp)q(ose,)g(purely)h
(functional)f(programming)f(language)h(incorp)q(orating)g(man)o(y)150
382 y(recen)o(t)23 b(inno)o(v)m(ations)h(in)g(programming)e(language)i
(researc)o(h,)g(including)i(higher-order)e(functions,)150 439
y(non-strict)16 b(seman)o(tics,)g(static)f(p)q(olymorphic)j(t)o(yping,)d
(user-de\014ned)j(algebraic)e(datat)o(yp)q(es,)f(pattern-)150
495 y(matc)o(hing,)22 b(list)g(comprehensions,)h(a)e(mo)q(dule)h(system,)f
(and)g(a)g(ric)o(h)g(set)g(of)g(primitiv)o(e)h(datat)o(yp)q(es,)150
551 y(including)f(lists,)e(arra)o(ys,)f(arbitrary)f(and)i(\014xed)f
(precision)i(in)o(tegers,)f(and)f(\015oating-p)q(oin)o(t)h(n)o(um)o(b)q(ers.)
150 608 y(Hask)o(ell)f(is)g(b)q(oth)f(the)g(culmination)i(and)f
(solidi\014cation)h(of)e(man)o(y)f(y)o(ears)h(of)g(researc)o(h)g(on)g
(functional)150 664 y(languages|the)i(design)g(has)g(b)q(een)g(in\015uenced)i
(b)o(y)d(languages)h(as)f(old)h(as)e(ISWIM)i(and)g(as)f(new)g(as)150
721 y(Miranda.)221 802 y(Although)23 b(the)f(initial)j(emphasis)e(w)o(as)f
(on)g(standardisation,)i(Hask)o(ell)f(also)g(has)f(sev)o(eral)h(new)150
859 y(features)15 b(that)f(b)q(oth)i(simplify)h(and)e(generalise)h(the)g
(design.)21 b(F)l(or)14 b(example,)206 977 y(1.)22 b(Rather)g(than)f(using)i
Fp(ad)g(ho)n(c)e Fu(tec)o(hniques)j(for)d(o)o(v)o(erloading,)i(Hask)o(ell)g
(pro)o(vides)f(an)g(explicit)264 1034 y(o)o(v)o(erloading)f(facilit)o(y)l(,)i
(in)o(tegrated)e(with)h(the)f(p)q(olymorphic)i(t)o(yp)q(e)e(system,)h(that)f
(allo)o(ws)g(the)264 1090 y(precise)16 b(de\014nition)h(of)e(o)o(v)o
(erloading)g(b)q(eha)o(viour)h(for)f(an)o(y)f(op)q(erator)h(or)g(function.)
206 1184 y(2.)22 b(The)13 b(con)o(v)o(en)o(tional)g(notion)h(of)e(\\abstract)
g(data)h(t)o(yp)q(e")g(has)g(b)q(een)h(un)o(bundled)h(in)o(to)e(t)o(w)o(o)f
(orthog-)264 1241 y(onal)j(comp)q(onen)o(ts:)20 b(data)15 b(abstraction)f
(and)i(information)f(hiding.)206 1334 y(3.)22 b(Hask)o(ell)16
b(has)g(a)f(\015exible)j(I/O)e(facilit)o(y)g(that)f(uni\014es)i(t)o(w)o(o)e
(p)q(opular)h(st)o(yles)g(of)f(purely)i(functional)264 1391
y(I/O|the)h Fp(str)n(e)n(am)g Fu(mo)q(del)g(and)g(the)g Fp(c)n(ontinuation)f
Fu(mo)q(del|and)j(b)q(oth)e(st)o(yles)g(can)g(b)q(e)g(mixed)264
1447 y(within)23 b(the)e(same)h(program.)38 b(The)22 b(system)g(supp)q(orts)f
(most)g(of)h(the)f(standard)h(op)q(erations)264 1504 y(pro)o(vided)c(b)o(y)g
(con)o(v)o(en)o(tional)g(op)q(erating)f(systems)g(while)i(retaining)g
(referen)o(tial)f(transparency)264 1560 y(within)e(a)f(program.)206
1654 y(4.)22 b(Recognising)17 b(the)f(imp)q(ortance)g(of)f(arra)o(ys,)g(Hask)
o(ell)h(has)g(a)f(family)i(of)e(m)o(ultidimensional)k(non-)264
1710 y(strict)13 b(imm)o(utable)i(arra)o(ys)d(whose)i(sp)q(ecial)h(in)o
(teraction)g(with)f(list)g(comprehensions)h(pro)o(vides)f(a)264
1767 y(con)o(v)o(enien)o(t)h(\\arra)o(y)f(comprehension")i(syn)o(tax)f(for)f
(de\014ning)j(arra)o(ys)d(monolithically)l(.)221 1886 y(This)g(rep)q(ort)g
(de\014nes)h(the)f(syn)o(tax)g(for)f(Hask)o(ell)i(programs)e(and)h(an)g
(informal)h(abstract)e(seman)o(tics)150 1942 y(for)f(the)g(meaning)h(of)f
(suc)o(h)g(programs;)g(the)g(formal)g(abstract)f(seman)o(tics)i(is)f(in)i
(preparation.)k(W)l(e)13 b(lea)o(v)o(e)150 1999 y(as)j(implemen)o(tation)i
(dep)q(enden)o(t)g(the)f(w)o(a)o(ys)e(in)j(whic)o(h)f(Hask)o(ell)h(programs)d
(are)i(to)f(b)q(e)h(manipulated,)150 2055 y(in)o(terpreted,)f(compiled,)h
(etc.)22 b(This)16 b(includes)i(suc)o(h)e(issues)h(as)e(the)h(nature)f(of)h
(batc)o(h)f(v)o(ersus)h(in)o(terac-)150 2111 y(tiv)o(e)i(programming)f(en)o
(vironmen)o(ts,)h(and)f(the)h(nature)f(of)g(error)g(messages)g(returned)h
(for)f(unde\014ned)150 2168 y(programs)d(\(i.e.)h(programs)f(that)g(formally)
i(ev)m(aluate)g(to)e Fl(?)p Fu(\).)150 2315 y Fx(1.1)56 b(Program)17
b(Structure)150 2425 y Fu(In)d(this)f(section,)h(w)o(e)f(describ)q(e)i(the)e
(abstract)f(syn)o(tactic)i(and)f(seman)o(tic)g(structure)g(of)g(Hask)o(ell,)h
(as)f(w)o(ell)150 2482 y(as)i(ho)o(w)g(it)g(relates)g(to)g(the)g
(organisation)g(of)g(the)g(rest)g(of)g(the)g(rep)q(ort.)206
2600 y(1.)22 b(A)o(t)16 b(the)g(topmost)g(lev)o(el)i(a)e(Hask)o(ell)i
(program)d(is)i(a)g(set)f(of)g Fp(mo)n(dules)h Fu(\(describ)q(ed)h(in)f
(Section)h(5\).)264 2657 y(Mo)q(dules)11 b(pro)o(vide)h(a)e(w)o(a)o(y)g(to)g
(con)o(trol)h(namespaces)g(and)g(to)f(re-use)h(soft)o(w)o(are)e(in)j(large)f
(programs.)p eop
%%Page: 2 16
bop 0 50 a Fu(2)1338 b Ft(1)45 b(INTR)o(ODUCTION)56 199 y Fu(2.)22
b(The)17 b(top)f(lev)o(el)j(of)d(a)h(mo)q(dule)h(consists)f(of)g(a)f
(collection)j(of)e Fp(de)n(clar)n(ations)p Fu(,)f(of)g(whic)o(h)i(there)f
(are)114 256 y(sev)o(eral)f(kinds,)h(all)g(describ)q(ed)i(in)e(Section)g(4.)
23 b(Declarations)16 b(de\014ne)i(things)e(suc)o(h)h(as)f(ordinary)114
312 y(v)m(alues,)g(datat)o(yp)q(es,)e(t)o(yp)q(e)h(classes,)g(and)h(\014xit)o
(y)f(information.)56 398 y(3.)22 b(A)o(t)13 b(the)g(next)h(lo)o(w)o(er)f(lev)
o(el)i(are)f Fp(expr)n(essions)p Fu(,)e(describ)q(ed)j(in)g(Section)f(3.)19
b(An)14 b(expression)h(denotes)114 454 y(a)e Fp(value)h Fu(and)g(has)f(a)h
Fp(static)g(typ)n(e)p Fu(;)g(expressions)h(are)e(at)g(the)h(heart)f(of)h
(Hask)o(ell)g(programming)f(\\in)114 511 y(the)i(small.")56
596 y(4.)22 b(A)o(t)c(the)i(b)q(ottom)e(lev)o(el)j(is)e(Hask)o(ell's)h
Fp(lexic)n(al)f(structur)n(e)p Fu(,)h(de\014ned)h(in)f(Section)g(2.)32
b(The)19 b(lexical)114 653 y(structure)c(captures)g(the)g(concrete)g
(represen)o(tation)h(of)e(Hask)o(ell)j(programs)d(in)i(text)e(\014les.)0
743 y(This)i(rep)q(ort)f(pro)q(ceeds)h(b)q(ottom-up)f(with)g(resp)q(ect)h(to)
e(Hask)o(ell's)i(syn)o(tactic)f(structure.)71 816 y(The)h(sections)h(not)e
(men)o(tioned)i(ab)q(o)o(v)o(e)f(are)g(Section)h(6,)f(whic)o(h)h(describ)q
(es)h(the)e(standard)g(built-in)0 872 y(datat)o(yp)q(es)i(in)h(Hask)o(ell,)h
(and)f(Section)h(7,)e(whic)o(h)i(discusses)g(the)e(I/O)i(facilit)o(y)f(in)h
(Hask)o(ell)f(\(i.e.)f(ho)o(w)0 929 y(Hask)o(ell)k(programs)d(comm)o(unicate)
i(with)h(the)f(outside)g(w)o(orld\).)36 b(Also,)22 b(there)f(are)g(sev)o
(eral)g(app)q(en-)0 985 y(dices)d(describing)h(the)e(standard)g(prelude,)i
(the)e(concrete)g(syn)o(tax,)f(the)i(seman)o(tics)f(of)f(I/O,)i(and)f(the)0
1042 y(sp)q(eci\014cation)g(of)e(deriv)o(ed)h(instances.)71
1115 y(Examples)f(of)g(Hask)o(ell)h(program)e(fragmen)o(ts)g(in)i(running)h
(text)d(are)h(giv)o(en)h(in)g(t)o(yp)q(ewriter)f(fon)o(t:)94
1184 y Fq(let)24 b(x)g(=)f(1)190 1240 y(z)h(=)f(x+y)94 1297
y(in)48 b(z+1)0 1366 y Fu(\\Holes")17 b(in)g(program)f(fragmen)o(ts)f
(represen)o(ting)i(arbitrary)f(pieces)i(of)e(Hask)o(ell)i(co)q(de)f(are)f
(written)h(in)0 1423 y(italics,)e(as)e(in)h Fq(if)i Fp(e)333
1430 y Fk(1)373 1423 y Fq(then)g Fp(e)506 1430 y Fk(2)545 1423
y Fq(else)g Fp(e)678 1430 y Fk(3)701 1423 y Fu(.)j(Generally)c(the)f
(italicised)h(names)f(will)h(b)q(e)f(mnemonic,)h(suc)o(h)0
1479 y(as)g Fp(e)j Fu(for)d(expressions,)g Fp(d)21 b Fu(for)14
b(declarations,)i Fp(t)j Fu(for)c(t)o(yp)q(es,)g(etc.)0 1614
y Fx(1.2)56 b(The)18 b(Hask)n(ell)g(Kernel)0 1716 y Fu(Hask)o(ell)d(has)e
(adopted)h(man)o(y)g(of)f(the)h(con)o(v)o(enien)o(t)h(syn)o(tactic)e
(structures)h(that)f(ha)o(v)o(e)h(b)q(ecome)g(p)q(opular)0
1772 y(in)g(functional)h(programming.)j(In)c(all)h(cases,)e(their)h(formal)f
(seman)o(tics)g(can)h(b)q(e)g(giv)o(en)f(via)h(translation)0
1829 y(in)o(to)h(a)g(prop)q(er)g(subset)g(of)f(Hask)o(ell)i(called)h(the)e
(Hask)o(ell)h Fp(kernel)p Fu(.)i(It)d(is)h(essen)o(tially)g(a)f(sligh)o(tly)h
(sugared)0 1885 y(v)m(arian)o(t)h(of)g(the)g(lam)o(b)q(da)g(calculus)i(with)e
(a)g(straigh)o(tforw)o(ard)e(denotational)j(seman)o(tics.)25
b(The)17 b(trans-)0 1942 y(lation)f(of)f(eac)o(h)g(syn)o(tactic)h(structure)f
(in)o(to)g(the)g(k)o(ernel)h(is)g(giv)o(en)g(as)f(the)g(syn)o(tax)g(is)h(in)o
(tro)q(duced.)21 b(This)0 1998 y(mo)q(dular)15 b(design)g(facilitates)g
(reasoning)f(ab)q(out)h(Hask)o(ell)g(programs)e(and)h(pro)o(vides)h(useful)g
(guidelines)0 2055 y(for)g(implemen)o(tors)h(of)e(the)i(language.)0
2189 y Fx(1.3)56 b(V)-5 b(alues)19 b(and)g(T)n(yp)r(es)0 2292
y Fu(An)14 b(expression)h(ev)m(aluates)f(to)f(a)g Fp(value)h
Fu(and)g(has)f(a)h(static)f Fp(typ)n(e)p Fu(.)20 b(V)l(alues)14
b(and)g(t)o(yp)q(es)g(are)f(not)h(mixed)g(in)0 2348 y(Hask)o(ell.)21
b(Ho)o(w)o(ev)o(er,)14 b(the)i(t)o(yp)q(e)f(system)g(allo)o(ws)h
(user-de\014ned)h(datat)o(yp)q(es)e(of)g(v)m(arious)h(sorts,)e(and)h(p)q(er-)
0 2405 y(mits)e(not)f(only)i(parametric)e(p)q(olymorphism)i(\(using)g(a)e
(traditional)i(Hindley-Milner)i(t)o(yp)q(e)d(structure\))0
2461 y(but)i(also)g Fp(ad)i(ho)n(c)e Fu(p)q(olymorphism,)h(or)f
Fp(overlo)n(ading)g Fu(\(using)g Fp(typ)n(e)i(classes)p Fu(\).)71
2534 y(Errors)11 b(in)i(Hask)o(ell)g(are)e(seman)o(tically)j(equiv)m(alen)o
(t)f(to)f Fl(?)p Fu(.)19 b(T)l(ec)o(hnically)l(,)c(they)d(are)g(not)g
(distinguish-)0 2591 y(able)18 b(from)f(non)o(termination,)h(so)e(the)i
(language)f(includes)j(no)d(mec)o(hanism)h(for)f(detecting)h(or)f(acting)0
2647 y(up)q(on)j(errors.)30 b(Of)19 b(course,)h(implemen)o(tations)g(will)g
(probably)g(try)e(to)g(pro)o(vide)i(useful)g(information)0
2704 y(ab)q(out)15 b(errors.)p eop
%%Page: 3 17
bop 150 50 a Ft(1.4)45 b(Namespaces)1434 b Fu(3)150 199 y Fx(1.4)56
b(Namespaces)150 310 y Fu(There)14 b(are)g(six)g(kinds)h(of)f(names)f(in)i
(Hask)o(ell:)20 b(those)14 b(for)f Fp(variables)g Fu(and)i
Fp(c)n(onstructors)e Fu(denote)h(v)m(alues;)150 366 y(those)j(for)g
Fp(typ)n(e)h(variables)p Fu(,)f Fp(typ)n(e)h(c)n(onstructors)p
Fu(,)g(and)f Fp(typ)n(e)h(classes)e Fu(refer)h(to)g(en)o(tities)h(related)g
(to)f(the)150 423 y(t)o(yp)q(e)e(system;)g(and)g Fp(mo)n(dule)i(names)d
Fu(refer)h(to)g(mo)q(dules.)21 b(There)15 b(are)g(three)g(constrain)o(ts)g
(on)g(naming:)206 542 y(1.)22 b(Names)12 b(for)g(v)m(ariables)i(and)f(t)o(yp)
q(e)g(v)m(ariables)h(are)e(iden)o(ti\014ers)i(b)q(eginning)h(with)e(small)h
(letters;)f(the)264 598 y(other)h(four)h(kinds)h(of)f(names)g(are)g(iden)o
(ti\014ers)i(b)q(eginning)g(with)f(capitals.)206 692 y(2.)22
b(Constructor)13 b(op)q(erators)h(are)h(op)q(erators)e(b)q(eginning)k(with)e
(\\)p Fq(:)p Fu(";)f(v)m(ariable)i(op)q(erators)e(are)h(op)q(er-)264
748 y(ators)f(not)g(b)q(eginning)k(with)d(\\)p Fq(:)p Fu(".)206
842 y(3.)22 b(An)17 b(iden)o(ti\014er)h(m)o(ust)e(not)g(b)q(e)i(used)f(as)f
(the)h(name)g(of)f(a)g(t)o(yp)q(e)h(constructor)f(and)h(a)f(class)h(in)h(the)
264 899 y(same)d(scop)q(e.)150 1017 y(These)21 b(are)f(the)h(only)g
(constrain)o(ts;)i(for)d(example,)i Fq(Int)e Fu(ma)o(y)g(sim)o(ultaneously)i
(b)q(e)g(the)e(name)h(of)f(a)150 1074 y(mo)q(dule,)c(class,)f(and)h
(constructor)e(within)i(a)f(single)i(scop)q(e.)221 1155 y(Hask)o(ell)12
b(pro)o(vides)g(a)f(lexical)i(syn)o(tax)e(for)f(in\014x)j Fp(op)n(er)n(ators)
e Fu(\(either)h(functions)g(or)f(constructors\).)17 b(T)l(o)150
1212 y(emphasise)f(that)e(op)q(erators)g(are)h(b)q(ound)h(to)e(the)h(same)g
(things)h(as)e(iden)o(ti\014ers,)i(and)g(to)e(allo)o(w)h(the)g(t)o(w)o(o)150
1268 y(to)f(b)q(e)h(used)f(in)o(terc)o(hangeably)l(,)i(there)e(is)h(a)f
(simple)i(w)o(a)o(y)d(to)h(con)o(v)o(ert)f(b)q(et)o(w)o(een)i(the)f(t)o(w)o
(o:)k(an)o(y)c(function)150 1324 y(or)f(constructor)g(iden)o(ti\014er)i(ma)o
(y)e(b)q(e)h(con)o(v)o(erted)f(in)o(to)g(an)h(op)q(erator)f(b)o(y)g
(enclosing)i(it)f(in)g(gra)o(v)o(e)e(accen)o(ts,)150 1381 y(and)18
b(an)o(y)g(op)q(erator)f(ma)o(y)g(b)q(e)i(con)o(v)o(erted)f(in)o(to)g(an)g
(iden)o(ti\014er)h(b)o(y)f(enclosing)i(it)e(in)h(paren)o(theses.)29
b(F)l(or)150 1437 y(example,)16 b Fq(x)24 b(+)g(y)15 b Fu(is)i(equiv)m(alen)o
(t)g(to)e Fq(\(+\))24 b(x)f(y)p Fu(,)16 b(and)g Fq(f)23 b(x)h(y)16
b Fu(is)g(the)g(same)f(as)g Fq(x)g Fp(\022)q Fq(f)-10 b Fp(\022)25
b Fq(y)o Fu(.)d(These)16 b(lexical)150 1494 y(matters)e(are)h(discussed)i
(further)e(in)h(Section)g(2.)150 1640 y Fx(1.5)56 b(La)n(y)n(out)150
1751 y Fu(In)18 b(the)g(syn)o(tax)f(giv)o(en)h(in)g(the)g(rest)f(of)g(the)h
(rep)q(ort,)f Fp(de)n(clar)n(ation)h(lists)e Fu(are)i(alw)o(a)o(ys)e
(preceded)j(b)o(y)f(the)150 1808 y(k)o(eyw)o(ord)d Fq(where)p
Fu(,)h Fq(let)f Fu(or)h Fq(of)p Fu(,)g(and)g(are)g(enclosed)h(within)h(curly)
f(braces)f(\()p Fq({)23 b(})p Fu(\))16 b(with)h(the)f(individual)150
1864 y(declarations)g(separated)f(b)o(y)g(semicolons)h(\()p
Fq(;)p Fu(\).)j(F)l(or)c(example,)g(the)h(syn)o(tax)e(of)h(a)g
Fq(let)g Fu(expression)h(is:)606 1966 y Fq(let)23 b({)15 b
Fr(decl)819 1973 y Fo(1)852 1966 y Fq(;)g Fr(decl)970 1973
y Fo(2)1003 1966 y Fq(;)g Fr(:::)f Fq(;)h Fr(decl)1213 1973
y Fj(n)1250 1966 y Fu([)p Fq(;)o Fu(])g Fq(})24 b(in)14 b Fr(exp)221
2093 y Fu(Hask)o(ell)g(p)q(ermits)g(the)f(omission)h(of)f(the)h(braces)f(and)
h(semicolons)g(b)o(y)g(using)g Fp(layout)g Fu(to)f(con)o(v)o(ey)g(the)150
2150 y(same)g(information.)20 b(This)14 b(allo)o(ws)g(b)q(oth)f(la)o(y)o
(out-sensitiv)o(e)h(and)g(-insensitiv)o(e)i(st)o(yles)d(of)h(co)q(ding,)g
(whic)o(h)150 2206 y(can)h(b)q(e)h(freely)g(mixed)g(within)g(one)g(program.)i
(Because)e(la)o(y)o(out)f(is)g(not)g(required,)h(Hask)o(ell)g(programs)150
2263 y(can)f(b)q(e)h(straigh)o(tforw)o(ardly)e(pro)q(duced)i(b)o(y)f(other)g
(programs.)221 2344 y(The)f(la)o(y)o(out)f(\(or)h(\\o\013-side"\))f(rule)i
(tak)o(es)e(e\013ect)h(whenev)o(er)h(the)f(op)q(en)h(brace)f(is)g(omitted)h
(after)e(the)150 2400 y(k)o(eyw)o(ord)e Fq(where)p Fu(,)h Fq(let)f
Fu(or)h Fq(of)p Fu(.)19 b(When)12 b(this)g(happ)q(ens,)i(the)e(inden)o
(tation)h(of)f(the)g(next)g(lexeme)h(\(whether)150 2457 y(or)g(not)f(on)h(a)g
(new)g(line\))i(is)e(remem)o(b)q(ered)h(and)f(the)h(omitted)f(op)q(en)g
(brace)h(is)f(inserted)h(\(the)f(whitespace)150 2513 y(preceding)j(the)g
(lexeme)g(ma)o(y)e(include)j(commen)o(ts\).)i(F)l(or)c(eac)o(h)g(subsequen)o
(t)g(line,)i(if)e(it)g(con)o(tains)g(only)150 2570 y(whitespace)j(or)e(is)h
(inden)o(ted)h(more,)e(then)h(the)g(previous)h(item)f(is)g(con)o(tin)o(ued)h
(\(nothing)f(is)g(inserted\);)150 2626 y(if)f(it)g(is)g(inden)o(ted)h(the)f
(same)f(amoun)o(t,)f(then)i(a)g(new)f(item)h(b)q(egins)h(\(a)e(semicolon)i
(is)f(inserted\);)g(and)f(if)150 2683 y(it)i(is)g(inden)o(ted)h(less,)g(then)
f(the)f(declaration)i(list)f(ends)h(\(a)e(close)h(brace)g(is)g(inserted\).)25
b(A)16 b(close)i(brace)p eop
%%Page: 4 18
bop 0 50 a Fu(4)1338 b Ft(1)45 b(INTR)o(ODUCTION)0 199 y Fu(is)18
b(also)f(inserted)i(whenev)o(er)e(the)h(syn)o(tactic)f(category)g(con)o
(taining)h(the)f(declaration)i(list)f(ends;)h(that)0 256 y(is,)c(if)h(an)f
(illegal)i(lexeme)g(is)e(encoun)o(tered)h(at)f(a)f(p)q(oin)o(t)i(where)f(a)g
(close)h(brace)f(w)o(ould)h(b)q(e)g(legal,)f(a)g(close)0 312
y(brace)i(is)h(inserted.)27 b(The)18 b(la)o(y)o(out)e(rule)i(will)h(matc)o(h)
e(only)h(those)f(op)q(en)h(braces)f(that)g(it)g(has)g(inserted;)0
369 y(an)e(op)q(en)g(brace)g(that)f(the)h(user)g(has)f(inserted)i(m)o(ust)e
(b)q(e)i(matc)o(hed)e(b)o(y)h(a)f(close)i(brace)f(inserted)g(b)o(y)g(the)0
425 y(user.)71 506 y(Giv)o(en)c(these)h(rules,)g(a)f(single)i(newline)g(ma)o
(y)e(actually)h(terminate)f(sev)o(eral)h(declaration)g(lists.)19
b(Also,)0 563 y(these)c(rules)h(p)q(ermit:)71 640 y Fq(f)23
b(x)h(=)g(let)f(a)h(=)g(1;)f(b)h(=)g(2)309 697 y(g)g(y)g(=)f(exp2)h(in)f
(exp1)0 774 y Fu(making)15 b Fq(a)p Fu(,)g Fq(b)g Fu(and)g
Fq(g)g Fu(all)i(part)d(of)h(the)g(same)g(declaration)h(list.)71
856 y(T)l(o)f(facilitate)h(the)f(use)h(of)f(la)o(y)o(out)g(at)f(the)i(top)f
(lev)o(el)h(of)f(a)g(mo)q(dule)i(\(sev)o(eral)e(mo)q(dules)h(ma)o(y)f(reside)
0 912 y(in)21 b(one)f(\014le\),)h(the)g(k)o(eyw)o(ords)e Fq(module)g
Fu(and)h Fq(interface)f Fu(and)h(the)g(end-of-\014le)i(tok)o(en)d(are)h
(assumed)0 969 y(to)g(o)q(ccur)g(in)h(column)g(0)f(\(whereas)g(normally)h
(the)f(\014rst)g(column)h(is)g(1\).)34 b(Otherwise,)22 b(all)f(top-lev)o(el)0
1025 y(declarations)16 b(w)o(ould)f(ha)o(v)o(e)g(to)g(b)q(e)h(inden)o(ted.)71
1106 y(See)f(also)h(Section)g(B.4.)71 1188 y(As)e(an)g(example,)h(Figure)g(1)
f(sho)o(ws)g(a)g(\(somewhat)f(con)o(triv)o(ed\))h(mo)q(dule)i(and)e(Figure)h
(2)f(sho)o(ws)g(the)0 1244 y(result)j(of)e(applying)j(the)e(la)o(y)o(out)g
(rule)h(to)f(it.)23 b(Note)16 b(in)h(particular:)22 b(\(a\))16
b(the)g(line)i(b)q(eginning)g Fq(}};pop)o Fu(,)0 1301 y(where)i(the)g
(termination)h(of)e(the)h(previous)h(line)h(in)o(v)o(ok)o(es)e(three)g
(applications)h(of)f(the)g(la)o(y)o(out)f(rule,)0 1357 y(corresp)q(onding)j
(to)e(the)g(depth)i(\(3\))d(of)h(the)h(nested)g Fq(where)f
Fu(clauses,)j(\(b\))d(the)g(close)i(braces)e(in)i(the)0 1414
y Fq(where)15 b Fu(clause)h(nested)g(within)h(the)e(tuple)i(and)e
Fq(case)g Fu(expression,)h(inserted)h(b)q(ecause)f(the)g(end)g(of)f(the)0
1470 y(tuple)g(w)o(as)f(detected,)h(and)f(\(c\))g(the)h(close)g(brace)g(at)e
(the)i(v)o(ery)f(end,)h(inserted)g(b)q(ecause)h(of)e(the)g(column)0
1526 y(0)h(inden)o(tation)h(of)f(the)g(end-of-\014le)i(tok)o(en.)71
1608 y(When)h(comparing)g(inden)o(tations)g(for)g(standard)f(Hask)o(ell)i
(programs,)e(a)g(\014xed-width)j(fon)o(t)d(with)0 1664 y(this)e(tab)g(con)o
(v)o(en)o(tion)g(is)h(assumed:)k(tab)14 b(stops)h(are)g(8)f(c)o(haracters)h
(apart)f(\(with)h(the)g(\014rst)g(tab)g(stop)f(in)0 1721 y(column)i(9\),)e
(and)h(a)g(tab)f(c)o(haracter)g(causes)i(the)f(insertion)h(of)e(enough)h
(spaces)h(\(alw)o(a)o(ys)d Fl(\025)g Fu(1\))i(to)f(align)0
1777 y(the)g(curren)o(t)g(p)q(osition)h(with)f(the)g(next)g(tab)f(stop.)19
b(P)o(articular)14 b(implemen)o(tations)h(ma)o(y)e(alter)h(this)g(rule)0
1834 y(to)i(accommo)q(date)g(v)m(ariable-width)i(fon)o(ts)e(and)g(alternate)g
(tab)g(con)o(v)o(en)o(tions,)h(but)f(standard)g(Hask)o(ell)0
1890 y(\(i.e.,)f(p)q(ortable\))g(programs)f(m)o(ust)h(observ)o(e)g(this)g
(rule.)p eop
%%Page: 5 19
bop 150 50 a Ft(1.5)45 b(La)o(y)o(out)1534 b Fu(5)p 159 331
1767 2 v 159 1244 2 914 v 189 395 a Fq(module)23 b(AStack\()g(Stack,)g(push,)
g(pop,)g(top,)g(size)h(\))f(where)189 451 y(data)g(Stack)g(a)h(=)g(Empty)499
508 y(|)g(MkStack)f(a)g(\(Stack)g(a\))189 587 y(push)g(::)h(a)f(->)h(Stack)f
(a)h(->)f(Stack)h(a)189 644 y(push)f(x)h(s)f(=)h(MkStack)f(x)h(s)189
724 y(size)f(::)h(Stack)f(a)g(->)h(Integer)189 780 y(size)f(s)h(=)f(length)g
(\(stkToLst)g(s\))48 b(where)451 837 y(stkToLst)f(Empty)214
b(=)24 b([])451 893 y(stkToLst)f(\(MkStack)g(x)g(s\))48 b(=)24
b(x:xs)f(where)g(xs)h(=)f(stkToLst)g(s)189 973 y(pop)g(::)h(Stack)f(a)h(->)f
(\(a,)h(Stack)f(a\))189 1029 y(pop)g(\(MkStack)g(x)h(s\))236
1086 y(=)g(\(x,)g(case)f(s)h(of)f(r)h(->)g(i)f(r)h(where)f(i)h(x)g(=)f(x\))h
(--)f(\(pop)h(Empty\))f(is)g(an)h(error)189 1165 y(top)f(::)h(Stack)f(a)h(->)
f(a)189 1222 y(top)g(\(MkStack)g(x)h(s\))f(=)h(x)501 b(--)23
b(\(top)h(Empty\))f(is)g(an)h(error)p 1924 1244 V 159 1246
1767 2 v 767 1373 a Fu(Figure)15 b(1:)20 b(A)15 b(sample)h(program)p
159 1457 V 159 2420 2 964 v 189 1521 a Fq(module)23 b(AStack\()g(Stack,)g
(push,)g(pop,)g(top,)g(size)h(\))f(where)189 1577 y({data)g(Stack)g(a)h(=)f
(Empty)499 1634 y(|)h(MkStack)f(a)g(\(Stack)g(a\))189 1713
y(;push)g(::)g(a)h(->)g(Stack)f(a)h(->)f(Stack)g(a)189 1770
y(;push)g(x)h(s)f(=)h(MkStack)f(x)h(s)189 1849 y(;size)f(::)g(Stack)h(a)f(->)
h(Integer)189 1906 y(;size)f(s)h(=)f(length)g(\(stkToLst)g(s\))47
b(where)451 1962 y({stkToLst)g(Empty)214 b(=)23 b([])451 2019
y(;stkToLst)g(\(MkStack)g(x)g(s\))48 b(=)23 b(x:xs)h(where)f({xs)g(=)h
(stkToLst)f(s)189 2098 y(}};pop)g(::)g(Stack)g(a)h(->)g(\(a,)f(Stack)g(a\))
189 2155 y(;pop)g(\(MkStack)g(x)g(s\))236 2211 y(=)h(\(x,)g(case)f(s)h(of)f
({r)h(->)f(i)h(r)g(where)f({i)h(x)f(=)h(x}}\))f(--)h(\(pop)f(Empty\))g(is)h
(an)f(error)189 2291 y(;top)g(::)h(Stack)f(a)g(->)h(a)189 2348
y(;top)f(\(MkStack)g(x)g(s\))h(=)g(x)572 b(--)24 b(\(top)f(Empty\))g(is)h(an)
f(error)189 2404 y(})p 1924 2420 V 159 2422 1767 2 v 565 2549
a Fu(Figure)16 b(2:)j(Sample)d(program)e(with)i(la)o(y)o(out)f(expanded)p
eop
%%Page: 6 20
bop 0 50 a Fu(6)1200 b Ft(2)45 b(LEXICAL)16 b(STR)o(UCTURE)0
199 y Fy(2)67 b(Lexical)24 b(Structure)0 326 y Fu(In)19 b(this)f(section,)h
(w)o(e)f(describ)q(e)i(the)e(lo)o(w-lev)o(el)h(lexical)h(structure)e(of)g
(Hask)o(ell.)29 b(Most)17 b(of)h(the)g(details)0 382 y(ma)o(y)c(b)q(e)i
(skipp)q(ed)h(in)f(a)f(\014rst)g(reading)h(of)f(the)g(rep)q(ort.)0
529 y Fx(2.1)56 b(Notational)18 b(Con)n(v)n(en)n(tions)0 639
y Fu(These)e(notational)f(con)o(v)o(en)o(tions)g(are)g(used)h(for)e(presen)o
(ting)i(syn)o(tax:)418 762 y([)p Fp(p)n(attern)s Fu(])64 b(optional)408
819 y Fl(f)p Fp(p)n(attern)s Fl(g)54 b Fu(zero)15 b(or)g(more)g(rep)q
(etitions)413 875 y(\()p Fp(p)n(attern)s Fu(\))59 b(grouping)397
932 y Fp(p)n(at)456 939 y Fk(1)496 932 y Fl(j)16 b Fp(p)n(at)584
939 y Fk(2)651 932 y Fu(c)o(hoice)429 988 y Fp(p)n(at)488 995
y Fi(h)p Fk(p)n(at)550 987 y Fh(0)561 995 y Fi(i)651 988 y
Fu(di\013erence|elemen)o(ts)i(generated)d(b)o(y)g Fp(p)n(at)651
1045 y Fu(except)h(those)f(generated)g(b)o(y)g Fp(p)n(at)1246
1028 y Fi(0)395 1101 y Fq(fibonacci)40 b Fu(terminal)16 b(syn)o(tax)f(in)h(t)
o(yp)q(ewriter)f(fon)o(t)71 1224 y(Because)i(the)g(syn)o(tax)g(in)h(this)f
(section)h(describ)q(es)g Fp(lexic)n(al)e Fu(syn)o(tax,)h(all)h(whitespace)g
(is)f(expressed)0 1281 y(explicitly;)h(there)e(is)g(no)f(implicit)j(space)e
(b)q(et)o(w)o(een)g(juxtap)q(osed)g(sym)o(b)q(ols.)21 b(BNF-lik)o(e)c(syn)o
(tax)d(is)i(used)0 1337 y(throughout,)e(with)i(pro)q(ductions)g(ha)o(ving)f
(the)h(form:)0 1456 y Fp(nonterm)42 b Fl(!)59 b Fp(alt)363
1463 y Fk(1)402 1456 y Fl(j)16 b Fp(alt)481 1463 y Fk(2)521
1456 y Fl(j)23 b Fr(:)8 b(:)g(:)22 b Fl(j)16 b Fp(alt)713 1463
y Fk(n)71 1574 y Fu(Care)11 b(m)o(ust)g(b)q(e)i(tak)o(en)e(in)i
(distinguishing)i(metalogical)d(syn)o(tax)f(suc)o(h)h(as)g
Fl(j)f Fu(and)h([)p Fr(:)c(:)g(:)n Fu(])k(from)f(concrete)0
1631 y(terminal)h(syn)o(tax)f(\(giv)o(en)h(in)g(t)o(yp)q(ewriter)f(fon)o(t\))
g(suc)o(h)g(as)h Fq(|)f Fu(and)g Fq([...])p Fu(,)h(although)f(usually)i(the)f
(con)o(text)0 1687 y(mak)o(es)j(the)g(distinction)i(clear.)71
1769 y(Hask)o(ell)e(source)g(programs)e(are)i(curren)o(tly)g(biased)h(to)o(w)
o(ard)d(the)i(ASCI)q(I)h(c)o(haracter)e(set,)g(although)0 1825
y(future)h(Hask)o(ell)h(standardisation)g(e\013orts)e(will)j(lik)o(ely)f
(address)g(broader)f(c)o(haracter)f(standards.)0 1972 y Fx(2.2)56
b(Lexical)16 b(Program)i(Structure)0 2082 y Fp(pr)n(o)n(gr)n(am)50
b Fl(!)59 b(f)16 b Fp(lexeme)j Fl(j)d Fp(whitesp)n(ac)n(e)j
Fl(g)0 2139 y Fp(lexeme)76 b Fl(!)59 b Fp(varid)21 b Fl(j)16
b Fp(c)n(onid)k Fl(j)c Fp(varsym)k Fl(j)c Fp(c)n(onsym)j Fl(j)d
Fp(liter)n(al)k Fl(j)c Fp(sp)n(e)n(cial)k Fl(j)c Fp(r)n(eserve)n(dop)i
Fl(j)e Fp(r)n(eserve)n(did)0 2195 y(liter)n(al)95 b Fl(!)59
b Fp(inte)n(ger)20 b Fl(j)c Fp(\015o)n(at)k Fl(j)c Fp(char)22
b Fl(j)16 b Fp(string)0 2252 y(sp)n(e)n(cial)80 b Fl(!)59 b
Fq(\()16 b Fl(j)g Fq(\))g Fl(j)g Fq(,)g Fl(j)g Fq(;)g Fl(j)g
Fq([)g Fl(j)g Fq(])g Fl(j)g Fq(_)g Fl(j)g Fp(\022)g Fl(j)g
Fq({)g Fl(j)g Fq(})0 2365 y Fp(whitesp)n(ac)n(e)s Fl(!)59 b
Fp(whitestu\013)26 b Fl(f)p Fp(whitestu\013)10 b Fl(g)0 2421
y Fp(whitestu\013)20 b Fl(!)59 b Fp(white)n(char)21 b Fl(j)16
b Fp(c)n(omment)21 b Fl(j)15 b Fp(nc)n(omment)0 2477 y(white)n(char)22
b Fl(!)59 b Fp(new)r(line)18 b Fl(j)e Fp(sp)n(ac)n(e)j Fl(j)d
Fp(tab)j Fl(j)d Fp(vertab)k Fl(j)15 b Fp(formfe)n(e)n(d)0 2534
y(new)r(line)57 b Fl(!)i Fu(a)15 b(newline)i(\(system)d(dep)q(enden)o(t\))0
2590 y Fp(sp)n(ac)n(e)106 b Fl(!)59 b Fu(a)15 b(space)0 2647
y Fp(tab)150 b Fl(!)59 b Fu(a)15 b(horizon)o(tal)g(tab)0 2703
y Fp(vertab)89 b Fl(!)59 b Fu(a)15 b(v)o(ertical)g(tab)p eop
%%Page: 7 21
bop 150 50 a Ft(2.3)45 b(Iden)o(ti\014ers)16 b(and)f(Op)q(erators)1174
b Fu(7)150 199 y Fp(formfe)n(e)n(d)41 b Fl(!)59 b Fu(a)15 b(form)f(feed)150
256 y Fp(c)n(omment)31 b Fl(!)59 b Fq(--)16 b Fl(f)p Fp(any)t
Fl(g)f Fp(new)r(line)150 312 y(nc)n(omment)5 b Fl(!)59 b Fq({-)16
b Fp(ANYse)n(q)i Fl(f)p Fp(nc)n(omment)i(ANYse)n(q)t Fl(g)14
b Fq(-})150 369 y Fp(ANYse)n(q)48 b Fl(!)59 b(f)p Fp(ANY)8
b Fl(g)619 385 y Fi(hf)p Fk(ANY)e Fi(g)16 b Fo(\()g Fq({-)g
Fi(j)h Fq(-})f Fo(\))g Fi(f)p Fk(ANY)6 b Fi(gi)150 431 y Fp(ANY)107
b Fl(!)59 b Fp(any)20 b Fl(j)c Fp(new)r(line)i Fl(j)e Fp(vertab)k
Fl(j)15 b Fp(formfe)n(e)n(d)150 488 y(any)138 b Fl(!)59 b Fp(gr)n(aphic)19
b Fl(j)d Fp(sp)n(ac)n(e)j Fl(j)c Fp(tab)150 544 y(gr)n(aphic)67
b Fl(!)59 b Fp(lar)n(ge)19 b Fl(j)d Fp(smal)r(l)k Fl(j)c Fp(digit)375
601 y Fl(j)75 b Fq(!)16 b Fl(j)g Fq(")g Fl(j)g Fq(#)g Fl(j)g
Fq($)g Fl(j)g Fq(\045)g Fl(j)g Fq(&)g Fl(j)g Fp(\023)g Fl(j)g
Fq(\()g Fl(j)g Fq(\))g Fl(j)g Fq(*)g Fl(j)g Fq(+)375 657 y
Fl(j)75 b Fq(,)16 b Fl(j)g Fq(-)g Fl(j)g Fq(.)g Fl(j)g Fq(/)g
Fl(j)g Fq(:)g Fl(j)g Fq(;)g Fl(j)g Fq(<)g Fl(j)g Fq(=)g Fl(j)g
Fq(>)g Fl(j)g Fq(?)g Fl(j)g Fu(@)375 714 y Fl(j)75 b Fq([)16
b Fl(j)g Fq(\\)g Fl(j)g Fq(])g Fl(j)g Fq(^)g Fl(j)g Fq(_)g
Fl(j)g Fp(\022)g Fl(j)g Fq({)g Fl(j)g Fq(|)g Fl(j)g Fq(})g
Fl(j)g Fq(~)150 826 y Fp(smal)r(l)104 b Fl(!)59 b Fq(a)16 b
Fl(j)g Fq(b)g Fl(j)23 b Fr(:)8 b(:)g(:)22 b Fl(j)16 b Fq(z)150
883 y Fp(lar)n(ge)115 b Fl(!)59 b Fq(A)16 b Fl(j)g Fq(B)g Fl(j)23
b Fr(:)8 b(:)g(:)22 b Fl(j)16 b Fq(Z)150 939 y Fp(digit)122
b Fl(!)59 b Fq(0)16 b Fl(j)g Fq(1)g Fl(j)23 b Fr(:)8 b(:)g(:)22
b Fl(j)16 b Fq(9)221 1071 y Fu(Characters)f(not)g(in)i(the)g(category)e
Fp(gr)n(aphic)k Fu(or)c Fp(whitestu\013)26 b Fu(are)16 b(not)g(v)m(alid)h(in)
g(Hask)o(ell)g(programs)150 1127 y(and)e(should)i(result)e(in)h(a)f(lexing)i
(error.)221 1208 y(Commen)o(ts)i(are)i(v)m(alid)h Fp(whitesp)n(ac)n(e)s
Fu(.)37 b(An)21 b(ordinary)g(commen)o(t)f(b)q(egins)i(with)g(t)o(w)o(o)d
(consecutiv)o(e)150 1265 y(dashes)e(\()p Fq(--)p Fu(\))f(and)i(extends)f(to)f
(the)h(follo)o(wing)h(newline.)27 b(A)17 b(nested)h(commen)o(t)f(b)q(egins)h
(with)f Fq({-)g Fu(and)150 1321 y(ends)c(with)g Fq(-})p Fu(;)g(it)g(can)g(b)q
(e)g(b)q(et)o(w)o(een)g(an)o(y)f(t)o(w)o(o)g(lexemes.)20 b(All)14
b(c)o(haracter)e(sequences)i(not)e(con)o(taining)h Fq({-)150
1378 y Fu(nor)e Fq(-})h Fu(are)f(ignored)i(within)g(a)e(nested)h(commen)o(t.)
18 b(Nested)12 b(commen)o(ts)g(ma)o(y)f(b)q(e)h(nested)g(to)f(an)o(y)h
(depth:)150 1434 y(an)o(y)i(o)q(ccurrence)i(of)e Fq({-)g Fu(within)i(the)e
(nested)h(commen)o(t)f(starts)f(a)h(new)h(nested)g(commen)o(t,)f(terminated)
150 1491 y(b)o(y)g Fq(-})p Fu(.)20 b(Within)15 b(a)f(nested)h(commen)o(t,)e
(eac)o(h)i Fq({-)f Fu(is)h(matc)o(hed)f(b)o(y)g(a)g(corresp)q(onding)h(o)q
(ccurrence)h(of)e Fq(-})o Fu(.)150 1547 y(In)19 b(an)f(ordinary)g(commen)o
(t,)g(the)g(c)o(haracter)f(sequences)i Fq({-)f Fu(and)g Fq(-})g
Fu(ha)o(v)o(e)g(no)g(sp)q(ecial)h(signi\014cance,)150 1604
y(and,)c(in)h(a)f(nested)h(commen)o(t,)e(the)h(sequence)i Fq(--)d
Fu(has)i(no)f(sp)q(ecial)i(signi\014cance.)221 1685 y(If)f(some)h(co)q(de)g
(is)g(commen)o(ted)f(out)g(using)h(a)g(nested)g(commen)o(t,)f(then)g(an)o(y)h
(o)q(ccurrence)g(of)f Fq({-)g Fu(or)150 1741 y Fq(-})j Fu(within)h(a)f
(string)h(or)e(within)j(an)e(end-of-line)j(commen)o(t)c(in)i(that)f(co)q(de)h
(will)h(in)o(terfere)e(with)h(the)150 1798 y(nesting)c(of)f(the)g(nested)h
(commen)o(ts.)150 1944 y Fx(2.3)56 b(Iden)n(ti\014ers)18 b(and)h(Op)r
(erators)150 2055 y Fp(varid)109 b Fl(!)59 b Fu(\()p Fp(smal)r(l)20
b Fl(f)p Fp(smal)r(l)g Fl(j)c Fp(lar)n(ge)j Fl(j)d Fp(digit)21
b Fl(j)16 b Fp(\023)g Fl(j)g Fq(_)p Fl(g)p Fu(\))1195 2062
y Fi(h)p Fk(r)n(eserve)n(did)s Fi(i)150 2112 y Fp(c)n(onid)104
b Fl(!)59 b Fp(lar)n(ge)19 b Fl(f)p Fp(smal)r(l)h Fl(j)c Fp(lar)n(ge)j
Fl(j)d Fp(digit)21 b Fl(j)16 b Fp(\023)g Fl(j)g Fq(_)p Fl(g)150
2168 y Fp(r)n(eserve)n(did)c Fl(!)59 b Fq(case)15 b Fl(j)h
Fq(class)g Fl(j)g Fq(data)f Fl(j)h Fq(default)g Fl(j)f Fq(deriving)h
Fl(j)g Fq(else)f Fl(j)h Fq(hiding)375 2225 y Fl(j)75 b Fq(if)16
b Fl(j)g Fq(import)f Fl(j)h Fq(in)g Fl(j)g Fq(infix)f Fl(j)h
Fq(infixl)g Fl(j)g Fq(infixr)f Fl(j)h Fq(instance)f Fl(j)h
Fq(interface)375 2281 y Fl(j)75 b Fq(let)15 b Fl(j)h Fq(module)g
Fl(j)g Fq(of)g Fl(j)g Fq(renaming)f Fl(j)h Fq(then)f Fl(j)h
Fq(to)g Fl(j)g Fq(type)g Fl(j)g Fq(where)150 2412 y Fu(An)i(iden)o(ti\014er)h
(consists)e(of)g(a)g(letter)h(follo)o(w)o(ed)f(b)o(y)h(zero)f(or)g(more)g
(letters,)g(digits,)i(underscores,)f(and)150 2469 y(acute)k(accen)o(ts.)41
b(Iden)o(ti\014ers)23 b(are)f(lexically)j(distinguished)f(in)o(to)e(t)o(w)o
(o)f(classes:)34 b(those)22 b(that)g(b)q(egin)150 2525 y(with)14
b(a)f(lo)o(w)o(er-case)h(letter)g(\(v)m(ariable)g(iden)o(ti\014ers\))h(and)f
(those)f(that)g(b)q(egin)i(with)f(an)g(upp)q(er-case)h(letter)150
2582 y(\(constructor)20 b(iden)o(ti\014ers\).)40 b(Iden)o(ti\014ers)23
b(are)e(case)h(sensitiv)o(e:)33 b Fq(name)p Fu(,)22 b Fq(naMe)p
Fu(,)g(and)g Fq(Name)f Fu(are)g(three)150 2638 y(distinct)16
b(iden)o(ti\014ers)f(\(the)g(\014rst)e(t)o(w)o(o)g(are)i(v)m(ariable)g(iden)o
(ti\014ers,)h(the)e(last)h(is)f(a)h(constructor)e(iden)o(ti\014er\).)p
eop
%%Page: 8 22
bop 0 50 a Fu(8)1200 b Ft(2)45 b(LEXICAL)16 b(STR)o(UCTURE)0
199 y Fp(varsym)68 b Fl(!)59 b Fu(\()16 b(\()g Fp(symb)n(ol)k
Fl(j)c Fp(pr)n(esymb)n(ol)k Fu(\))c Fl(f)p Fp(symb)n(ol)k Fl(j)c
Fq(:)o Fl(g)g Fu(\))1093 206 y Fi(h)p Fk(r)n(eserve)n(dop)r
Fi(i)0 256 y Fp(c)n(onsym)63 b Fl(!)c Fu(\()p Fq(:)15 b Fl(f)p
Fp(symb)n(ol)20 b Fl(j)c Fq(:)p Fl(g)p Fu(\))639 263 y Fi(h)p
Fk(r)n(eserve)n(dop)r Fi(i)0 312 y Fp(pr)n(esymb)n(ol)g Fl(!)59
b Fq(-)16 b Fl(j)g Fq(~)0 369 y Fp(symb)n(ol)77 b Fl(!)59 b
Fq(!)16 b Fl(j)g Fq(#)g Fl(j)g Fq($)g Fl(j)g Fq(\045)g Fl(j)g
Fq(&)g Fl(j)g Fq(*)g Fl(j)g Fq(+)g Fl(j)g Fq(.)g Fl(j)g Fq(/)g
Fl(j)g Fq(<)g Fl(j)g Fq(=)g Fl(j)g Fq(>)g Fl(j)g Fq(?)g Fl(j)g
Fu(@)g Fl(j)g Fq(\\)g Fl(j)g Fq(^)g Fl(j)g Fq(|)0 425 y Fp(r)n(eserve)n(dop)s
Fl(!)59 b Fq(..)16 b Fl(j)g Fq(::)f Fl(j)h Fq(=>)g Fl(j)g Fq(=)g
Fl(j)g Fu(@)h Fl(j)f Fq(\\)g Fl(j)g Fq(|)g Fl(j)g Fq(~)g Fl(j)g
Fq(<-)g Fl(j)g Fq(->)0 556 y Fu(Op)q(erator)h(sym)o(b)q(ols)h(are)f(formed)g
(from)g(one)g(or)g(more)g(sym)o(b)q(ol)h(c)o(haracters,)f(as)g(de\014ned)i
(ab)q(o)o(v)o(e,)e(and)0 612 y(are)c(lexically)j(distinguished)g(in)o(to)d(t)
o(w)o(o)g(classes:)19 b(those)13 b(that)g(start)f(with)i(a)f(colon)h
(\(constructors\))e(and)0 669 y(those)j(that)f(do)i(not)e(\(functions\).)71
750 y(Other)h(than)f(the)h(sp)q(ecial)i(syn)o(tax)d(for)g(pre\014x)h
(negation,)f(all)i(op)q(erators)e(are)g(in\014x,)i(although)f(eac)o(h)0
806 y(in\014x)g(op)q(erator)d(can)i(b)q(e)g(used)h(in)f(a)f
Fp(se)n(ction)g Fu(to)g(yield)i(partially)f(applied)i(op)q(erators)d(\(see)g
(Section)i(3.4\).)0 863 y(All)h(of)f(the)h(standard)e(in\014x)j(op)q(erators)
d(are)h(just)g(prede\014ned)h(sym)o(b)q(ols)g(and)f(ma)o(y)g(b)q(e)h(reb)q
(ound.)71 944 y(Although)c Fq(case)f Fu(is)h(a)f(reserv)o(ed)h(w)o(ord,)f
Fq(cases)g Fu(is)h(not.)19 b(Similarly)l(,)14 b(although)e
Fq(=)f Fu(is)h(reserv)o(ed,)g Fq(==)g Fu(and)0 1000 y Fq(~=)i
Fu(are)g(not.)19 b(A)o(t)14 b(eac)o(h)h(p)q(oin)o(t,)f(the)h(longest)f(p)q
(ossible)i(lexeme)g(is)f(read,)f(using)h(a)f(con)o(text-indep)q(enden)o(t)0
1057 y(deterministic)19 b(lexical)f(analysis)g(\(i.e.)f(no)f(lo)q(ok)m(ahead)
i(b)q(ey)o(ond)g(the)e(curren)o(t)h(c)o(haracter)f(is)i(required\).)0
1113 y(An)o(y)d(kind)h(of)f Fp(whitesp)n(ac)n(e)j Fu(is)e(also)f(a)g(prop)q
(er)h(delimiter)h(for)d(lexemes.)71 1195 y(In)h(the)h(remainder)g(of)e(the)i
(rep)q(ort)e(six)i(di\013eren)o(t)g(kinds)g(of)f(names)g(will)i(b)q(e)e
(used:)0 1313 y Fp(varid)189 b Fu(\(v)m(ariables)q(\))0 1369
y Fp(c)n(onid)184 b Fu(\(constructors)o(\))0 1426 y Fp(tyvar)109
b Fl(!)59 b Fp(varid)776 b Fu(\(t)o(yp)q(e)15 b(v)m(ariables)r(\))0
1482 y Fp(tyc)n(on)104 b Fl(!)59 b Fp(c)n(onid)771 b Fu(\(t)o(yp)q(e)15
b(constructors\))0 1539 y Fp(tycls)120 b Fl(!)59 b Fp(c)n(onid)771
b Fu(\(t)o(yp)q(e)15 b(classes)q(\))0 1595 y Fp(mo)n(did)91
b Fl(!)59 b Fp(c)n(onid)771 b Fu(\(mo)q(dules)q(\))0 1714 y(V)l(ariables)14
b(and)g(t)o(yp)q(e)f(v)m(ariables)i(are)e(represen)o(ted)h(b)o(y)f(iden)o
(ti\014ers)i(b)q(eginning)h(with)d(small)h(letters,)g(and)0
1770 y(the)j(other)f(four)g(b)o(y)g(iden)o(ti\014ers)i(b)q(eginning)h(with)e
(capitals;)g(also,)f(v)m(ariables)i(and)f(constructors)e(ha)o(v)o(e)0
1826 y(in\014x)h(forms,)e(the)i(other)e(four)h(do)g(not.)20
b(Namespaces)15 b(are)g(also)g(discussed)i(in)f(Section)g(1.4.)0
1973 y Fx(2.4)56 b(Numeric)16 b(Literals)0 2083 y Fp(inte)n(ger)74
b Fl(!)59 b Fp(digit)t Fl(f)p Fp(digit)t Fl(g)0 2140 y Fp(\015o)n(at)123
b Fl(!)59 b Fp(inte)n(ger)5 b Fq(.)o Fp(inte)n(ger)g Fu([\()p
Fq(e)14 b Fl(j)i Fq(E)p Fu(\)[)p Fq(-)f Fl(j)h Fq(+)p Fu(])p
Fp(inte)n(ger)5 b Fu(])0 2271 y(There)20 b(are)g(t)o(w)o(o)f(distinct)j
(kinds)f(of)f(n)o(umeric)h(literals:)31 b(in)o(teger)20 b(and)g(\015oating.)
35 b(A)21 b(\015oating)f(literal)0 2327 y(m)o(ust)e(con)o(tain)h(digits)g(b)q
(oth)g(b)q(efore)g(and)g(after)f(the)h(decimal)h(p)q(oin)o(t;)h(this)e
(ensures)g(that)f(a)g(decimal)0 2384 y(p)q(oin)o(t)g(cannot)g(b)q(e)h(mistak)
o(en)f(for)f(another)g(use)i(of)e(the)h(dot)g(c)o(haracter.)27
b(Negativ)o(e)18 b(n)o(umeric)h(literals)0 2440 y(are)c(discussed)i(in)f
(Section)g(3.3.)j(The)c(t)o(yping)g(of)g(n)o(umeric)h(literals)h(is)e
(discussed)i(in)f(Section)g(6.8.2.)0 2586 y Fx(2.5)56 b(Character)18
b(and)i(String)e(Literals)0 2697 y Fp(char)123 b Fl(!)59 b
Fp(\023)16 b Fu(\()p Fp(gr)n(aphic)512 2713 y Fi(h)p Fp(\023)h
Fi(j)f Fq(\\)p Fi(i)647 2697 y Fl(j)g Fp(sp)n(ac)n(e)j Fl(j)c
Fp(esc)n(ap)n(e)950 2713 y Fi(h)p Fq(\\&)p Fi(i)1026 2697 y
Fu(\))h Fp(\023)p eop
%%Page: 9 23
bop 150 50 a Ft(2.5)45 b(Character)14 b(and)h(String)h(Literals)1087
b Fu(9)150 199 y Fp(string)95 b Fl(!)59 b Fq(")16 b Fl(f)p
Fp(gr)n(aphic)668 215 y Fi(h)p Fq(")g Fi(j)g Fq(\\)p Fi(i)803
199 y Fl(j)g Fp(sp)n(ac)n(e)j Fl(j)d Fp(esc)n(ap)n(e)j Fl(j)c
Fp(gap)s Fl(g)i Fq(")150 262 y Fp(esc)n(ap)n(e)85 b Fl(!)59
b Fq(\\)16 b Fu(\()g Fp(char)n(esc)i Fl(j)e Fp(ascii)21 b Fl(j)15
b Fp(inte)n(ger)21 b Fl(j)16 b Fq(o)g Fp(o)n(ctit)t Fl(f)p
Fp(o)n(ctit)t Fl(g)g(j)g Fq(x)g Fp(hexit)t Fl(f)p Fp(hexit)t
Fl(g)h Fu(\))150 318 y Fp(char)n(esc)64 b Fl(!)59 b Fq(a)16
b Fl(j)g Fq(b)g Fl(j)g Fq(f)g Fl(j)g Fq(n)g Fl(j)g Fq(r)g Fl(j)g
Fq(t)g Fl(j)g Fq(v)g Fl(j)g Fq(\\)g Fl(j)g Fq(")g Fl(j)g Fp(\023)g
Fl(j)g Fq(&)150 375 y Fp(ascii)118 b Fl(!)59 b Fq(^)o Fp(cntrl)21
b Fl(j)16 b Fq(NUL)g Fl(j)f Fq(SOH)h Fl(j)g Fq(STX)g Fl(j)g
Fq(ETX)g Fl(j)g Fq(EOT)g Fl(j)f Fq(ENQ)h Fl(j)g Fq(ACK)375
431 y Fl(j)75 b Fq(BEL)15 b Fl(j)h Fq(BS)g Fl(j)g Fq(HT)g Fl(j)g
Fq(LF)g Fl(j)g Fq(VT)g Fl(j)g Fq(FF)g Fl(j)g Fq(CR)g Fl(j)g
Fq(SO)g Fl(j)g Fq(SI)g Fl(j)f Fq(DLE)375 488 y Fl(j)75 b Fq(DC1)15
b Fl(j)h Fq(DC2)g Fl(j)g Fq(DC3)g Fl(j)g Fq(DC4)g Fl(j)g Fq(NAK)f
Fl(j)h Fq(SYN)g Fl(j)g Fq(ETB)g Fl(j)g Fq(CAN)375 544 y Fl(j)75
b Fq(EM)16 b Fl(j)g Fq(SUB)f Fl(j)h Fq(ESC)g Fl(j)g Fq(FS)g
Fl(j)g Fq(GS)g Fl(j)g Fq(RS)g Fl(j)g Fq(US)g Fl(j)f Fq(SP)h
Fl(j)g Fq(DEL)150 601 y Fp(cntrl)116 b Fl(!)59 b Fp(lar)n(ge)19
b Fl(j)d Fu(@)g Fl(j)g Fq([)g Fl(j)g Fq(\\)g Fl(j)g Fq(])g
Fl(j)g Fq(^)g Fl(j)g Fq(_)150 657 y Fp(gap)142 b Fl(!)59 b
Fq(\\)16 b Fp(white)n(char)22 b Fl(f)p Fp(white)n(char)5 b
Fl(g)16 b Fq(\\)150 714 y Fp(hexit)115 b Fl(!)59 b Fp(digit)20
b Fl(j)c Fq(A)g Fl(j)g Fq(B)g Fl(j)g Fq(C)g Fl(j)g Fq(D)g Fl(j)g
Fq(E)g Fl(j)g Fq(F)g Fl(j)g Fq(a)g Fl(j)g Fq(b)g Fl(j)g Fq(c)g
Fl(j)g Fq(d)g Fl(j)g Fq(e)g Fl(j)g Fq(f)150 770 y Fp(o)n(ctit)123
b Fl(!)59 b Fq(0)16 b Fl(j)g Fq(1)g Fl(j)g Fq(2)g Fl(j)g Fq(3)g
Fl(j)g Fq(4)g Fl(j)g Fq(5)g Fl(j)g Fq(6)g Fl(j)g Fq(7)221 901
y Fu(Character)j(literals)i(are)f(written)g(b)q(et)o(w)o(een)h(acute)f(accen)
o(ts,)h(as)f(in)h Fp(\023)p Fq(a)p Fp(\023)p Fu(,)g(and)g(strings)f(b)q(et)o
(w)o(een)150 958 y(double)c(quotes,)f(as)g(in)h Fq("Hello")o
Fu(.)221 1039 y(Escap)q(e)c(co)q(des)g(ma)o(y)f(b)q(e)h(used)g(in)g(c)o
(haracters)f(and)h(strings)g(to)e(represen)o(t)i(sp)q(ecial)h(c)o(haracters.)
18 b(Note)150 1095 y(that)12 b Fp(\023)h Fu(ma)o(y)f(b)q(e)h(used)h(in)f(a)g
(string,)g(but)g(m)o(ust)f(b)q(e)h(escap)q(ed)h(in)g(a)e(c)o(haracter;)g
(similarly)l(,)j Fq(")e Fu(ma)o(y)f(b)q(e)h(used)150 1152 y(in)k(a)g(c)o
(haracter,)e(but)i(m)o(ust)f(b)q(e)h(escap)q(ed)h(in)f(a)g(string.)24
b Fq(\\)16 b Fu(m)o(ust)g(alw)o(a)o(ys)g(b)q(e)h(escap)q(ed.)25
b(The)17 b(category)150 1208 y Fp(char)n(esc)h Fu(also)e(includes)i(p)q
(ortable)e(represen)o(tations)g(for)f(the)h(c)o(haracters)f(\\alert")h(\()p
Fq(\\a)o Fu(\),)f(\\bac)o(kspace")150 1265 y(\()p Fq(\\b)o
Fu(\),)g(\\form)g(feed")g(\()p Fq(\\f)p Fu(\),)g(\\new)g(line")i(\()p
Fq(\\n)o Fu(\),)e(\\carriage)g(return")g(\()p Fq(\\r)o Fu(\),)g(\\horizon)o
(tal)h(tab")f(\()p Fq(\\t)o Fu(\),)g(and)150 1321 y(\\v)o(ertical)g(tab")g
(\()p Fq(\\v)o Fu(\).)221 1403 y(Escap)q(e)e(c)o(haracters)g(for)g(the)g
(ASCI)q(I)i(c)o(haracter)e(set,)g(including)j(con)o(trol)d(c)o(haracters)g
(suc)o(h)h(as)f Fq(\\^X)o Fu(,)150 1459 y(are)j(also)g(pro)o(vided.)23
b(Numeric)18 b(escap)q(es)e(suc)o(h)h(as)f Fq(\\137)f Fu(are)h(used)h(to)e
(designate)i(the)f(c)o(haracter)g(with)150 1516 y(\(implemen)o(tation)c(dep)q
(enden)o(t\))g(decimal)g(represen)o(tation)f(137;)g(o)q(ctal)h(\(e.g.)d
Fq(\\o137)p Fu(\))h(and)h(hexadecimal)150 1572 y(\(e.g.)j Fq(\\x137)o
Fu(\))g(represen)o(tations)h(are)g(also)f(allo)o(w)o(ed.)21
b(Numeric)15 b(escap)q(es)h(that)e(are)g(out-of-range)g(of)h(the)150
1628 y(ASCI)q(I)h(standard)f(are)g(unde\014ned)i(and)f(th)o(us)f(non-p)q
(ortable.)221 1710 y(Consisten)o(t)d(with)g(the)g(\\consume)h(longest)f
(lexeme")h(rule,)g(n)o(umeric)h(escap)q(e)f(c)o(haracters)e(in)i(strings)150
1766 y(consist)e(of)g(all)h(consecutiv)o(e)g(digits)g(and)f(ma)o(y)g(b)q(e)g
(of)g(arbitrary)f(length.)20 b(Similarly)l(,)14 b(the)d(one)g(am)o(biguous)
150 1823 y(ASCI)q(I)19 b(escap)q(e)f(co)q(de,)g Fq("\\SOH")o
Fu(,)f(is)h(parsed)g(as)f(a)g(string)g(of)g(length)h(1.)26
b(The)18 b(escap)q(e)g(c)o(haracter)e Fq(\\&)h Fu(is)150 1879
y(pro)o(vided)22 b(as)e(a)h(\\n)o(ull)h(c)o(haracter")e(to)g(allo)o(w)i
(strings)e(suc)o(h)i(as)e Fq("\\137\\&9")g Fu(and)h Fq("\\SO\\&H")f
Fu(to)g(b)q(e)150 1936 y(constructed)c(\(b)q(oth)f(of)g(length)i(t)o(w)o
(o\).)i(Th)o(us)d Fq("\\&")f Fu(is)h(equiv)m(alen)o(t)h(to)e
Fq("")g Fu(and)h(the)g(c)o(haracter)f Fp(\023)p Fq(\\&)p Fp(\023)g
Fu(is)150 1992 y(disallo)o(w)o(ed.)21 b(F)l(urther)15 b(equiv)m(alences)j(of)
d(c)o(haracters)f(are)h(de\014ned)i(in)f(Section)g(6.2.)221
2073 y(A)21 b(string)h(ma)o(y)f(include)j(a)e(\\gap"|t)o(w)o(o)e(bac)o(kslan)
o(ts)h(enclosing)j(white)e(c)o(haracters|whic)o(h)g(is)150
2130 y(ignored.)e(This)15 b(allo)o(ws)f(one)h(to)e(write)i(long)f(strings)g
(on)g(more)g(than)g(one)h(line)g(b)o(y)g(writing)f(a)g(bac)o(kslan)o(t)150
2186 y(at)h(the)g(end)h(of)e(one)i(line)h(and)e(at)g(the)g(start)f(of)h(the)g
(next.)20 b(F)l(or)14 b(example,)221 2264 y Fq("Here)23 b(is)g(a)h(backslant)
f(\\\\)g(as)h(well)f(as)h(\\137,)f(\\)316 2320 y(\\a)h(numeric)f(escape)g
(character,)f(and)i(\\^X,)f(a)h(control)e(character.")221 2400
y Fu(String)15 b(literals)h(are)f(actually)h(abbreviations)g(for)f(lists)h
(of)f(c)o(haracters)f(\(see)h(Section)h(3.6\).)p eop
%%Page: 10 24
bop 0 50 a Fu(10)1364 b Ft(3)45 b(EXPRESSIONS)0 199 y Fy(3)67
b(Expressions)0 322 y Fu(In)18 b(this)h(section,)g(w)o(e)e(describ)q(e)j(the)
e(syn)o(tax)f(and)h(informal)g(seman)o(tics)g(of)g(Hask)o(ell)g
Fp(expr)n(essions)p Fu(,)f(in-)0 378 y(cluding)g(their)f(translations)f(in)o
(to)g(the)g(Hask)o(ell)h(k)o(ernel,)g(where)f(appropriate.)71
456 y(In)c(the)g(syn)o(tax)g(that)f(follo)o(ws,)i(there)f(are)g(some)f
(families)j(of)e(non)o(terminals)g(indexed)i(b)o(y)e(precedence)0
513 y(lev)o(els)i(\(written)f(as)g(a)f(sup)q(erscript\).)20
b(Similarly)l(,)14 b(the)f(non)o(terminals)f Fp(op)s Fu(,)h
Fp(var)n(op)s Fu(,)f(and)g Fp(c)n(onop)j Fu(ma)o(y)c(ha)o(v)o(e)0
569 y(a)i(double)i(index:)20 b(a)13 b(letter)h Fp(l)t Fu(,)f
Fp(r)5 b Fu(,)14 b(or)f Fp(n)j Fu(for)d(left-,)h(righ)o(t-)f(or)g(nonasso)q
(ciativit)o(y)h(and)g(a)f(precedence)i(lev)o(el.)0 625 y(A)20
b(precedence-lev)o(el)k(v)m(ariable)d Fp(i)k Fu(ranges)20 b(from)g(0)g(to)f
(9;)j(an)f(asso)q(ciativit)o(y)f(v)m(ariable)i Fp(a)i Fu(v)m(aries)d(o)o(v)o
(er)0 682 y Fl(f)p Fp(l)5 b Fr(;)23 b Fp(r)5 b Fr(;)23 b Fp(n)s
Fl(g)p Fu(.)d(Th)o(us,)14 b(for)h(example)0 788 y Fp(aexp)121
b Fl(!)59 b Fq(\()16 b Fp(exp)421 771 y Fk(i)s Fo(+)p Fk(1)499
788 y Fp(op)548 771 y Fo(\()p Fk(a)s Fj(;)p Fk(i)s Fo(\))636
788 y Fq(\))0 894 y Fu(actually)g(stands)f(for)f(30)h(pro)q(ductions,)h(with)
f(10)g(substitutions)h(for)e Fp(i)20 b Fu(and)c(3)e(for)h Fp(a)t
Fu(.)0 1008 y Fp(exp)144 b Fl(!)59 b Fp(exp)381 992 y Fk(0)420
1008 y Fq(::)16 b Fu([)p Fp(c)n(ontext)k Fq(=>)p Fu(])c Fp(typ)n(e)376
b Fu(\(expression)16 b(t)o(yp)q(e)f(signature)q(\))225 1065
y Fl(j)75 b Fp(exp)381 1048 y Fk(0)0 1121 y Fp(exp)68 1105
y Fk(i)209 1121 y Fl(!)59 b Fp(exp)381 1105 y Fk(i)s Fo(+)p
Fk(1)459 1121 y Fu([)p Fp(op)521 1105 y Fo(\()15 b(n)q Fj(;)p
Fk(i)s Fo(\))622 1121 y Fp(exp)690 1105 y Fk(i)s Fo(+)p Fk(1)752
1121 y Fu(])225 1178 y Fl(j)75 b Fp(lexp)393 1161 y Fk(i)225
1234 y Fl(j)g Fp(r)n(exp)398 1218 y Fk(i)0 1291 y Fp(lexp)80
1274 y Fk(i)209 1291 y Fl(!)59 b Fu(\()p Fp(lexp)411 1274 y
Fk(i)442 1291 y Fl(j)16 b Fp(exp)539 1274 y Fk(i)s Fo(+)p Fk(1)601
1291 y Fu(\))g Fp(op)684 1274 y Fo(\()f(l)q Fj(;)p Fk(i)s Fo(\))776
1291 y Fp(exp)844 1274 y Fk(i)s Fo(+)p Fk(1)0 1347 y Fp(lexp)80
1330 y Fk(6)209 1347 y Fl(!)59 b Fq(-)16 b Fp(exp)421 1330
y Fk(7)0 1403 y Fp(r)n(exp)85 1387 y Fk(i)209 1403 y Fl(!)59
b Fp(exp)381 1387 y Fk(i)s Fo(+)p Fk(1)459 1403 y Fp(op)508
1387 y Fo(\()16 b(r)p Fj(;)p Fk(i)s Fo(\))604 1403 y Fu(\()p
Fp(r)n(exp)707 1387 y Fk(i)738 1403 y Fl(j)g Fp(exp)835 1387
y Fk(i)s Fo(+)p Fk(1)897 1403 y Fu(\))0 1460 y Fp(exp)68 1443
y Fk(10)209 1460 y Fl(!)59 b Fq(\\)16 b Fp(ap)n(at)435 1467
y Fk(1)482 1460 y Fr(:)8 b(:)g(:)22 b Fp(ap)n(at)641 1467 y
Fk(n)682 1460 y Fq(->)16 b Fp(exp)378 b Fu(\(lam)o(b)q(da)16
b(abstraction)o Fr(;)24 b Fp(n)15 b Fl(\025)e Fp(1)6 b Fu(\))225
1516 y Fl(j)75 b Fq(let)15 b({)i Fp(de)n(cls)i Fu([)p Fq(;)o
Fu(])d Fq(})g(in)g Fp(exp)401 b Fu(\(let)16 b(expression)q(\))225
1573 y Fl(j)75 b Fq(if)16 b Fp(exp)j Fq(then)d Fp(exp)j Fq(else)d
Fp(exp)355 b Fu(\(conditional)r(\))225 1629 y Fl(j)75 b Fq(case)15
b Fp(exp)20 b Fq(of)c({)g Fp(alts)j Fu([)p Fq(;)p Fu(])d Fq(})398
b Fu(\(case)15 b(expression)q(\))225 1686 y Fl(j)75 b Fp(fexp)0
1742 y(fexp)130 b Fl(!)59 b Fp(fexp)19 b(aexp)690 b Fu(\(function)16
b(application)r(\))225 1799 y Fl(j)75 b Fp(aexp)0 1912 y(aexp)121
b Fl(!)59 b Fp(var)813 b Fu(\(v)m(ariable)q(\))225 1968 y Fl(j)75
b Fp(c)n(on)808 b Fu(\(constructor)o(\))225 2024 y Fl(j)75
b Fp(liter)n(al)225 2081 y Fl(j)g Fq(\(\))828 b Fu(\(unit)q(\))225
2137 y Fl(j)75 b Fq(\()16 b Fp(exp)j Fq(\))728 b Fu(\(paren)o(thesised)16
b(expression)q(\))225 2194 y Fl(j)75 b Fq(\()16 b Fp(exp)418
2201 y Fk(1)458 2194 y Fq(,)23 b Fr(:)8 b(:)g(:)22 b Fq(,)16
b Fp(exp)687 2201 y Fk(k)725 2194 y Fq(\))440 b Fu(\(tuple)q
Fr(;)24 b Fp(k)17 b Fl(\025)c Fp(2)6 b Fu(\))225 2250 y Fl(j)75
b Fq([)16 b Fp(exp)418 2257 y Fk(1)458 2250 y Fq(,)23 b Fr(:)8
b(:)g(:)22 b Fq(,)16 b Fp(exp)687 2257 y Fk(k)725 2250 y Fq(])440
b Fu(\(list)q Fr(;)23 b Fp(k)18 b Fl(\025)13 b Fp(0)6 b Fu(\))225
2307 y Fl(j)75 b Fq([)16 b Fp(exp)418 2314 y Fk(1)458 2307
y Fu([)p Fq(,)f Fp(exp)575 2314 y Fk(2)599 2307 y Fu(])h Fq(..)g
Fu([)p Fp(exp)770 2314 y Fk(3)793 2307 y Fu(])g Fq(])343 b
Fu(\(arithmetic)16 b(sequence)q(\))225 2363 y Fl(j)75 b Fq([)16
b Fp(exp)j Fq(|)d Fp(qual)557 2370 y Fk(1)597 2363 y Fq(,)24
b Fr(:)8 b(:)g(:)22 b Fq(,)16 b Fp(qual)842 2370 y Fk(n)882
2363 y Fq(])283 b Fu(\(list)16 b(comprehension)q Fr(;)24 b
Fp(n)16 b Fl(\025)d Fp(1)6 b Fu(\))225 2420 y Fl(j)75 b Fq(\()16
b Fp(exp)421 2403 y Fk(i)s Fo(+)p Fk(1)499 2420 y Fp(op)548
2403 y Fo(\()p Fk(a)s Fj(;)p Fk(i)s Fo(\))636 2420 y Fq(\))529
b Fu(\(left)16 b(section\))225 2476 y Fl(j)75 b Fq(\()16 b
Fp(op)402 2460 y Fo(\()p Fk(a)s Fj(;)p Fk(i)s Fo(\))490 2476
y Fp(exp)558 2460 y Fk(i)s Fo(+)p Fk(1)636 2476 y Fq(\))529
b Fu(\(righ)o(t)15 b(section)q(\))71 2591 y(As)20 b(an)h(aid)g(to)f
(understanding)i(this)f(grammar,)g(T)l(able)g(1)g(sho)o(ws)f(the)h(relativ)o
(e)g(precedence)h(of)0 2647 y(expressions,)14 b(patterns)g(and)g
(de\014nitions,)h(plus)g(an)e(extended)i(asso)q(ciativit)o(y)l(.)20
b Fl(\000\000)15 b Fu(indicates)g(that)e(the)0 2704 y(item)j(is)f(non-asso)q
(ciativ)o(e.)p eop
%%Page: 11 25
bop 1905 50 a Fu(11)p 504 205 1107 2 v 503 262 2 57 v 529 245
a(Item)p 1303 262 V 708 w(Asso)q(ciativit)o(y)p 1610 262 V
504 263 1107 2 v 503 320 2 57 v 1303 320 V 1610 320 V 503 444
2 125 v 529 321 a Fg(\()583 365 y Fu(simple)17 b(terms,)d(paren)o(thesised)j
(terms)583 421 y(irrefutable-)g(\()p Fq(~)o Fu(\),)e(as-)g(\()p
Fq(@)p Fu(\))f(patterns)p 1303 444 V 1446 365 a({)1410 421
y(righ)o(t)p 1610 444 V 503 501 2 57 v 529 484 a(function)i(application)p
1303 501 V 500 w(left)p 1610 501 V 503 557 V 529 540 a Fq(if)p
Fu(,)f Fq(let)o Fu(,)g(lam)o(b)q(da\()p Fq(\\)p Fu(\),)g Fq(case)f
Fu(\(left)o(w)o(ards\))p 1303 557 V 147 w(righ)o(t)p 1610 557
V 503 614 V 529 597 a Fq(case)h Fu(\(righ)o(t)o(w)o(ards\))p
1303 614 V 524 w(righ)o(t)p 1610 614 V 503 670 V 1303 670 V
1610 670 V 503 726 V 529 710 a(in\014x)i(op)q(erators,)c(prec.)21
b(9)p 1303 726 V 374 w(as)15 b(de\014ned)p 1610 726 V 503 783
V 529 766 a Fr(:)8 b(:)g(:)p 1303 783 V 843 w(:)g(:)g(:)p 1610
783 V 503 839 V 529 822 a Fu(in\014x)17 b(op)q(erators,)c(prec.)21
b(0)p 1303 839 V 374 w(as)15 b(de\014ned)p 1610 839 V 503 896
V 1303 896 V 1610 896 V 503 952 V 529 935 a(function)h(t)o(yp)q(es)f(\()p
Fq(->)p Fu(\))p 1303 952 V 499 w(righ)o(t)p 1610 952 V 503
1009 V 529 992 a(con)o(texts)g(\()p Fq(=>)o Fu(\))p 1303 1009
V 654 w({)p 1610 1009 V 503 1065 V 529 1048 a(t)o(yp)q(e)h(constrain)o(ts)e
(\()p Fq(::)p Fu(\))p 1303 1065 V 499 w({)p 1610 1065 V 503
1122 V 529 1105 a Fq(if)p Fu(,)h Fq(let)o Fu(,)g(lam)o(b)q(da\()p
Fq(\\)p Fu(\))g(\(righ)o(t)o(w)o(ards\))p 1303 1122 V 239 w(righ)o(t)p
1610 1122 V 503 1178 V 529 1161 a(sequences)i(\()p Fq(..)o
Fu(\))p 1303 1178 V 627 w({)p 1610 1178 V 503 1235 V 529 1218
a(generators)d(\()p Fq(<-)p Fu(\))p 1303 1235 V 613 w({)p 1610
1235 V 503 1291 V 529 1274 a(grouping)i(\()p Fq(,)o Fu(\))p
1303 1291 V 627 w(n-ary)p 1610 1291 V 503 1347 V 529 1331 a(guards)f(\()p
Fq(|)p Fu(\))p 1303 1347 V 710 w({)p 1610 1347 V 503 1404 V
529 1387 a(case)g(alternativ)o(es)h(\()p Fq(->)o Fu(\))p 1303
1404 V 492 w({)p 1610 1404 V 503 1460 V 529 1443 a(de\014nitions)h(\()p
Fq(=)p Fu(\))p 1303 1460 V 637 w({)p 1610 1460 V 503 1517 V
529 1500 a(separation)e(\()p Fq(;)p Fu(\))p 1303 1517 V 596
w(n-ary)p 1610 1517 V 504 1518 1107 2 v 301 1647 a(T)l(able)h(1:)j
(Precedence)e(of)d(expressions,)i(patterns,)e(de\014nitions)j(\(highest)f(to)
e(lo)o(w)o(est\))221 1806 y(The)e(grammar)f(is)i(am)o(biguous)f(regarding)g
(the)g(exten)o(t)g(of)g(lam)o(b)q(da)h(abstractions,)f(let)h(expressions,)150
1863 y(and)j(conditionals.)24 b(The)16 b(am)o(biguit)o(y)g(is)h(resolv)o(ed)f
(b)o(y)g(the)g(metarule)g(that)g(eac)o(h)g(of)f(these)h(constructs)150
1919 y(extends)g(as)f(far)g(to)g(the)h(righ)o(t)f(as)g(p)q(ossible.)23
b(As)15 b(a)h(consequence,)g(eac)o(h)g(of)f(these)h(constructs)f(has)g(t)o(w)
o(o)150 1976 y(precedences,)20 b(one)e(to)f(its)h(left,)g(whic)o(h)g(is)h
(the)f(precedence)h(used)f(in)h(the)f(grammar;)f(and)h(one)g(to)f(its)150
2032 y(righ)o(t)e(whic)o(h)h(is)g(obtained)g(via)f(the)g(metarule.)21
b(See)15 b(the)h(sample)f(parses)g(b)q(elo)o(w.)221 2113 y(Expressions)21
b(in)o(v)o(olving)h(in\014x)g(op)q(erators)e(are)h(disam)o(biguated)g(b)o(y)g
(the)g(op)q(erator's)f(\014xit)o(y)h(\(see)150 2170 y(Section)c(5.7\).)23
b(Consecutiv)o(e)17 b(unparen)o(thesised)h(op)q(erators)d(with)i(the)g(same)f
(precedence)i(m)o(ust)e(b)q(oth)150 2226 y(b)q(e)k(either)g(left)f(or)g(righ)
o(t)g(asso)q(ciativ)o(e)g(to)f(a)o(v)o(oid)h(a)g(syn)o(tax)g(error.)30
b(Giv)o(en)20 b(an)f(unparen)o(thesised)i(ex-)150 2283 y(pression)e(\\)p
Fp(x)i(op)442 2266 y Fo(\()p Fk(a)s Fj(;)p Fk(i)s Fo(\))530
2283 y Fp(y)g(op)622 2266 y Fo(\()p Fk(b)r Fj(;)p Fk(j)t Fo(\))708
2283 y Fp(z)6 b Fu(",)18 b(paren)o(theses)g(m)o(ust)g(b)q(e)g(added)h(around)
f(either)h(\\)p Fp(x)j(op)1755 2266 y Fo(\()p Fk(a)s Fj(;)p
Fk(i)s Fo(\))1843 2283 y Fp(y)t Fu(")17 b(or)150 2339 y(\\)p
Fp(y)j(op)264 2323 y Fo(\()p Fk(b)r Fj(;)p Fk(j)t Fo(\))335
2339 y Fp(z)5 b Fu(")15 b(when)g Fp(i)j Fu(=)13 b Fp(j)21 b
Fu(unless)c Fp(a)f Fu(=)d Fp(b)i Fu(=)28 b(l)16 b(or)f Fp(a)h
Fu(=)d Fp(b)j Fu(=)28 b(r.)221 2421 y(Negation)15 b(is)h(the)g(only)h
(pre\014x)f(op)q(erator)f(in)h(Hask)o(ell;)h(it)f(has)f(the)h(same)f
(precedence)j(as)d(the)h(in\014x)150 2477 y Fq(-)f Fu(op)q(erator)f
(de\014ned)j(in)f(the)f(standard)g(prelude)i(\(see)e(Figure)g(2,)g(page)g
(54\).)221 2558 y(The)20 b(separation)g(of)g(function)h(arro)o(ws)e(from)g
(case)i(alternativ)o(es)f(solv)o(es)g(the)h(am)o(biguit)o(y)f(whic)o(h)150
2615 y(otherwise)e(arises)g(when)h(an)f(unparen)o(thesised)i(function)e(t)o
(yp)q(e)h(is)f(used)h(in)g(an)f(expression,)h(suc)o(h)f(as)150
2671 y(the)d(guard)g(in)h(a)f(case)g(expression.)p eop
%%Page: 12 26
bop 0 50 a Fu(12)1364 b Ft(3)45 b(EXPRESSIONS)71 199 y Fu(Sample)16
b(parses)f(are)g(sho)o(wn)f(b)q(elo)o(w.)p 230 260 1341 2 v
229 316 2 57 v 255 299 a(This)p 851 316 V 534 w(P)o(arses)h(as)p
1569 316 V 230 318 1341 2 v 229 374 2 57 v 255 357 a Fq(f)23
b(x)h(+)g(g)g(y)p 851 374 V 407 w(\(f)g(x\))f(+)h(\(g)g(y\))p
1569 374 V 229 431 V 255 414 a(-)f(f)h(x)g(+)g(y)p 851 431
V 407 w(\(-)g(\(f)f(x\)\))h(+)g(y)p 1569 431 V 229 487 V 255
470 a(let)f({)h(...)f(})h(in)g(x)f(+)h(y)p 851 487 V 145 w(let)g({)f(...)h(})
g(in)f(\(x)h(+)f(y\))p 1569 487 V 229 543 V 255 527 a(z)g(+)h(let)g({)f(...)h
(})f(in)h(x)g(+)g(y)p 851 543 V 49 w(z)g(+)g(\(let)f({)h(...)f(})h(in)f(\(x)h
(+)g(y\)\))p 1569 543 V 229 600 V 255 583 a(f)f(x)h(y)g(::)f(Int)p
851 600 V 336 w(\(f)h(x)f(y\))h(::)g(Int)p 1569 600 V 229 656
V 255 639 a(\\)f(x)h(->)g(a+b)f(::)h(Int)p 851 656 V 216 w(\\)g(x)g(->)f
(\(\(a+b\))g(::)h(Int)o Fu(\))p 1569 656 V 230 658 1341 2 v
71 764 a(F)l(or)15 b(the)h(sak)o(e)g(of)f(clarit)o(y)l(,)i(the)f(rest)f(of)h
(this)g(section)h(sho)o(ws)e(the)h(syn)o(tax)g(of)f(expressions)i(without)0
821 y(their)f(precedences.)0 967 y Fx(3.1)56 b(V)-5 b(ariables,)18
b(Constructors,)g(and)i(Op)r(erators)0 1078 y Fp(var)146 b
Fl(!)59 b Fp(varid)21 b Fl(j)16 b Fq(\()g Fp(varsym)k Fq(\))501
b Fu(\(v)m(ariable)q(\))0 1135 y Fp(c)n(on)141 b Fl(!)59 b
Fp(c)n(onid)20 b Fl(j)c Fq(\()g Fp(c)n(onsym)j Fq(\))493 b
Fu(\(constructor)o(\))0 1191 y Fp(var)n(op)102 b Fl(!)59 b
Fp(varsym)20 b Fl(j)15 b Fp(\022)q(varid)l(\022)544 b Fu(\(v)m(ariable)17
b(op)q(erator)o(\))0 1248 y Fp(c)n(onop)95 b Fl(!)59 b Fp(c)n(onsym)19
b Fl(j)c Fp(\022)q(c)n(onid)-5 b(\022)536 b Fu(\(constructor)14
b(op)q(erator\))0 1304 y Fp(op)163 b Fl(!)59 b Fp(var)n(op)19
b Fl(j)d Fp(c)n(onop)607 b Fu(\(op)q(erator)o(\))71 1435 y(Alphan)o(umeric)22
b(op)q(erators)e(are)h(formed)f(b)o(y)h(enclosing)h(an)f(iden)o(ti\014er)h(b)
q(et)o(w)o(een)f(gra)o(v)o(e)f(accen)o(ts)0 1492 y(\(bac)o(kquotes\).)i(An)o
(y)17 b(v)m(ariable)h(or)d(constructor)h(ma)o(y)g(b)q(e)h(used)g(as)f(an)g
(op)q(erator)f(in)j(this)e(w)o(a)o(y)l(.)23 b(If)17 b Fp(fun)0
1548 y Fu(is)h(an)g(iden)o(ti\014er)h(\(either)f(v)m(ariable)h(or)e
(constructor\),)g(then)h(an)g(expression)g(of)g(the)f(form)g
Fp(fun)j(x)i(y)f Fu(is)0 1605 y(equiv)m(alen)o(t)15 b(to)e
Fp(x)22 b(\022fun)-6 b(\022)17 b(y)t Fu(.)i(If)14 b(no)f(\014xit)o(y)h
(declaration)g(is)g(giv)o(en)g(for)e Fp(\022)q(fun)-6 b(\022)13
b Fu(then)h(it)g(defaults)g(to)e(highest)0 1661 y(precedence)17
b(and)e(left)h(asso)q(ciativit)o(y)f(\(see)h(Section)g(5.7\).)71
1742 y(Similarly)l(,)h(an)o(y)f(sym)o(b)q(olic)h(op)q(erator)e(ma)o(y)g(b)q
(e)h(used)h(as)e(a)g(\(curried\))i(v)m(ariable)g(or)e(constructor)g(b)o(y)0
1799 y(enclosing)i(it)f(in)h(paren)o(theses.)k(If)16 b Fp(op)j
Fu(is)e(an)e(in\014x)i(op)q(erator,)e(then)h(an)f(expression)i(or)e(pattern)h
(of)f(the)0 1855 y(form)f Fp(x)22 b(op)e(y)f Fu(is)d(equiv)m(alen)o(t)h(to)d
Fq(\()p Fp(op)s Fq(\))j Fp(x)k(y)5 b Fu(.)0 2002 y Fx(3.2)56
b(Curried)18 b(Applications)g(and)h(Lam)n(b)r(da)f(Abstractions)0
2113 y Fp(exp)144 b Fl(!)59 b Fp(exp)19 b(aexp)0 2169 y(exp)144
b Fl(!)59 b Fq(\\)16 b Fp(ap)n(at)435 2176 y Fk(1)482 2169
y Fr(:)8 b(:)g(:)22 b Fp(ap)n(at)641 2176 y Fk(n)682 2169 y
Fq(->)16 b Fp(exp)0 2300 y(F)m(unction)h(applic)n(ation)h Fu(is)g(written)f
Fp(e)656 2307 y Fk(1)696 2300 y Fp(e)717 2307 y Fk(2)740 2300
y Fu(.)27 b(Application)19 b(asso)q(ciates)f(to)e(the)i(left,)g(so)f(the)h
(paren)o(the-)0 2357 y(ses)g(ma)o(y)f(b)q(e)i(omitted)f(in)h
Fq(\(f)24 b(x\))f(y)p Fu(,)c(for)e(example.)29 b(Because)19
b Fp(e)1141 2364 y Fk(1)1182 2357 y Fu(could)g(b)q(e)g(a)f(constructor,)g
(partial)0 2413 y(applications)f(of)e(constructors)f(are)h(allo)o(w)o(ed.)71
2494 y Fp(L)n(amb)n(da)k(abstr)n(actions)e Fu(are)i(written)f
Fq(\\)e Fp(p)800 2501 y Fk(1)848 2494 y Fr(:)8 b(:)g(:)22 b
Fp(p)948 2501 y Fk(n)988 2494 y Fq(->)16 b Fp(e)s Fu(,)j(where)g(the)g
Fp(p)1348 2501 y Fk(i)1382 2494 y Fu(are)f Fp(p)n(atterns)p
Fu(.)30 b(An)19 b(ex-)0 2551 y(pression)14 b(suc)o(h)g(as)f
Fq(\\x:xs->x)g Fu(is)h(syn)o(tactically)h(incorrect,)f(and)g(m)o(ust)f(b)q(e)
h(rewritten)g(as)f Fq(\\\(x:xs\)->x)n Fu(.)71 2632 y(The)i(set)f(of)h
(patterns)f(m)o(ust)h(b)q(e)g Fp(line)n(ar)p Fu(|no)g(v)m(ariable)h(ma)o(y)e
(app)q(ear)h(more)g(than)g(once)g(in)h(the)f(set.)p eop
%%Page: 13 27
bop 150 50 a Ft(3.3)45 b(Op)q(erator)14 b(Applications)1209
b Fu(13)p 159 155 1767 2 v 159 557 2 403 v 189 219 a Fs(T)l(ranslation:)46
b Fu(The)16 b(lam)o(b)q(da)f(abstraction)g Fq(\\)h Fp(p)1063
226 y Fk(1)1111 219 y Fr(:)8 b(:)g(:)21 b Fp(p)1210 226 y Fk(n)1251
219 y Fq(->)16 b Fp(e)i Fu(is)e(equiv)m(alen)o(t)h(to)440 321
y Fq(\\)f Fp(x)501 328 y Fk(1)548 321 y Fr(:)8 b(:)g(:)22 b
Fp(x)646 328 y Fk(n)686 321 y Fq(->)i(case)f(\()p Fp(x)922
328 y Fk(1)946 321 y Fq(,)g Fr(:)8 b(:)g(:)e Fq(,)16 b Fp(x)1115
328 y Fk(n)1139 321 y Fq(\))24 b(of)f(\()p Fp(p)1305 328 y
Fk(1)1329 321 y Fq(,)g Fr(:)8 b(:)g(:)e Fq(,)16 b Fp(p)1500
328 y Fk(n)1524 321 y Fq(\))24 b(->)16 b Fp(e)189 423 y Fu(where)e(the)g
Fp(x)417 430 y Fk(i)447 423 y Fu(are)g(new)g(iden)o(ti\014ers.)21
b(Giv)o(en)15 b(this)f(translation)g(com)o(bined)i(with)e(the)g(seman)o(tics)
h(of)189 480 y(case)i(expressions)h(and)f(pattern-matc)o(hing)g(describ)q(ed)
i(in)f(Section)g(3.14.3,)e(if)i(the)f(pattern)g(fails)189 536
y(to)d(matc)o(h,)g(then)i(the)f(result)h(is)g Fl(?)p Fu(.)p
1924 557 V 159 559 1767 2 v 221 673 a(The)e(t)o(yp)q(e)f(of)h(a)f(v)m
(ariable)i(b)q(ound)g(b)o(y)f(a)f(lam)o(b)q(da)i(abstraction)e(is)h
(monomorphic,)g(as)g(is)g(alw)o(a)o(ys)f(the)150 730 y(case)i(in)h(the)g
(Hindley-Milner)i(t)o(yp)q(e)d(system.)150 871 y Fx(3.3)56
b(Op)r(erator)18 b(Applications)150 978 y Fp(exp)144 b Fl(!)59
b Fp(exp)528 985 y Fk(1)568 978 y Fp(op)19 b(exp)698 985 y
Fk(2)375 1035 y Fl(j)75 b Fq(-)16 b Fp(exp)771 b Fu(\()p Fp(pr)n(e\014x)21
b(ne)n(gation)s Fu(\))150 1150 y(The)15 b(form)g Fp(e)372 1157
y Fk(1)411 1150 y Fp(op)20 b(e)498 1157 y Fk(2)537 1150 y Fu(is)15
b(the)h(in\014x)g(application)h(of)d(binary)i(op)q(erator)f
Fp(op)j Fu(to)d(expressions)h Fp(e)1754 1157 y Fk(1)1792 1150
y Fu(and)g Fp(e)1902 1157 y Fk(2)1925 1150 y Fu(.)221 1228
y(The)c(sp)q(ecial)i(form)d Fq(-)p Fp(e)16 b Fu(denotes)c(pre\014x)h
(negation,)g(the)f(one)g(and)h(only)f(pre\014x)h(op)q(erator)e(in)i(Hask)o
(ell,)150 1284 y(and)18 b(is)g(simply)h(syn)o(tax)e(for)g Fq(negate)23
b Fu(\()p Fp(e)s Fu(\),)18 b(where)g Fq(negate)e Fu(is)j(as)e(de\014ned)i(in)
f(the)g(standard)f(prelude)150 1341 y(\(see)k(Figure)f(8,)i(page)e(60\).)35
b(Pre\014x)21 b(negation)g(has)f(the)h(same)f(precedence)i(as)e(the)h
(in\014x)h(op)q(erator)150 1397 y Fq(-)g Fu(\(see)f(Figure)i(2,)f(page)g
(54\).)39 b(Because)23 b Fq(e1-e2)e Fu(parses)g(as)h(an)g(in\014x)g
(application)i(of)d(the)h(binary)150 1454 y(op)q(erator)13
b Fq(-)p Fu(,)h(one)g(m)o(ust)f(write)h Fq(e1\(-e2\))f Fu(for)g(the)h
(alternativ)o(e)h(parsing.)k(Similarly)l(,)d Fq(\(-\))e Fu(is)g(syn)o(tax)g
(for)150 1510 y Fq(\(\\)24 b(x)f(y)h(->)g(x-y\))o Fu(,)14 b(as)g(with)g(an)o
(y)g(in\014x)h(op)q(erator,)e(and)h(do)q(es)g(not)g(denote)g
Fq(\(\\)24 b(x)g(->)f(-x\))p Fu(|one)15 b(m)o(ust)150 1567
y(use)h Fq(negate)e Fu(for)g(that.)p 159 1642 V 159 1787 2
146 v 189 1708 a Fs(T)l(ranslation:)46 b Fp(e)528 1715 y Fk(1)568
1708 y Fp(op)19 b(e)654 1715 y Fk(2)695 1708 y Fu(is)f(equiv)m(alen)o(t)i(to)
d Fq(\()p Fp(op)s Fq(\))f Fp(e)1154 1715 y Fk(1)1194 1708 y
Fp(e)1215 1715 y Fk(2)1238 1708 y Fu(.)27 b Fq(-)p Fp(e)21
b Fu(is)d(equiv)m(alen)o(t)h(to)41 b Fq(negate)16 b Fu(\()p
Fp(e)s Fu(\))189 1764 y(where)f Fq(negate)o Fu(,)g(an)g(op)q(erator)g(in)h
(the)f(class)g Fq(Num)p Fu(,)g(is)g(as)g(de\014ned)i(in)f(the)f(standard)g
(prelude.)p 1924 1787 V 159 1789 1767 2 v 150 1930 a Fx(3.4)56
b(Sections)150 2037 y Fp(aexp)121 b Fl(!)59 b Fq(\()16 b Fp(exp)j(op)h
Fq(\))375 2094 y Fl(j)75 b Fq(\()16 b Fp(op)j(exp)h Fq(\))150
2209 y Fp(Se)n(ctions)e Fu(are)h(written)g(as)g Fq(\()d Fp(op)k(e)f
Fq(\))g Fu(or)g Fq(\()d Fp(e)k(op)f Fq(\))p Fu(,)h(where)g
Fp(op)i Fu(is)e(a)f(binary)h(op)q(erator)e(and)i Fp(e)i Fu(is)e(an)150
2266 y(expression.)h(Sections)16 b(are)f(a)g(con)o(v)o(enien)o(t)g(syn)o(tax)
g(for)f(partial)i(application)h(of)e(binary)g(op)q(erators.)221
2343 y(The)22 b(normal)g(rules)h(of)e(syn)o(tactic)h(precedence)i(apply)f(to)
e(sections;)26 b(for)21 b(example,)j Fq(\(*a+b\))d Fu(is)150
2400 y(syn)o(tactically)16 b(in)o(v)m(alid,)h(but)d Fq(\(+a*b\))g
Fu(and)h Fq(\(*\(a+b\)\))f Fu(are)h(v)m(alid.)21 b(Syn)o(tactic)15
b(asso)q(ciativit)o(y)l(,)g(ho)o(w)o(ev)o(er,)150 2456 y(is)h(not)f(tak)o(en)
f(in)o(to)h(accoun)o(t)g(in)h(sections;)g(th)o(us,)e Fq(\(a+b+\))h
Fu(m)o(ust)f(b)q(e)i(written)f Fq(\(\(a+b\)+\))o Fu(.)221 2534
y(Because)g Fq(-)f Fu(is)h(treated)f(sp)q(ecially)i(in)g(the)e(grammar,)f
Fq(\(-)j Fp(exp)s Fq(\))e Fu(is)h(not)f(a)g(section,)h(but)f(an)g(applica-)
150 2591 y(tion)g(of)f(pre\014x)h(negation,)g(as)g(describ)q(ed)h(in)g(the)f
(preceding)h(section.)20 b(Ho)o(w)o(ev)o(er,)13 b(there)g(is)i(a)e
Fq(subtract)150 2647 y Fu(function)21 b(de\014ned)h(in)f(the)g(standard)f
(prelude)i(suc)o(h)f(that)f Fq(\(subtract)15 b Fp(exp)s Fq(\))20
b Fu(is)h(equiv)m(alen)o(t)h(to)e(the)150 2704 y(disallo)o(w)o(ed)c(section.)
21 b(The)15 b(expression)h Fq(\(+)24 b(\(-)16 b Fp(exp)s Fq(\)\))f
Fu(can)g(serv)o(e)g(the)h(same)e(purp)q(ose.)p eop
%%Page: 14 28
bop 0 50 a Fu(14)1364 b Ft(3)45 b(EXPRESSIONS)p 9 155 1767
2 v 9 353 2 198 v 39 219 a Fs(T)l(ranslation:)h Fu(F)l(or)18
b(binary)i(op)q(erator)e Fp(op)k Fu(and)d(expression)h Fp(e)s
Fu(,)g(if)f Fp(x)25 b Fu(is)19 b(a)g(v)m(ariable)h(that)e(do)q(es)39
275 y(not)e(o)q(ccur)g(free)h(in)g Fp(e)s Fu(,)f(the)h(section)g
Fq(\()o Fp(op)j(e)s Fq(\))c Fu(is)h(equiv)m(alen)o(t)h(to)e
Fq(\\)g Fp(x)22 b Fq(->)16 b Fp(x)22 b(op)d(e)t Fu(,)d(and)g(the)h(section)39
332 y Fq(\()p Fp(e)i(op)s Fq(\))c Fu(is)h(equiv)m(alen)o(t)h(to)e
Fq(\\)h Fp(x)22 b Fq(->)16 b Fp(e)j(op)h(x)5 b Fu(.)p 1774
353 V 9 355 1767 2 v 0 502 a Fx(3.5)56 b(Conditionals)0 612
y Fp(exp)144 b Fl(!)59 b Fq(if)16 b Fp(exp)442 619 y Fk(1)482
612 y Fq(then)f Fp(exp)658 619 y Fk(2)698 612 y Fq(else)h Fp(exp)875
619 y Fk(3)0 743 y Fu(A)e Fp(c)n(onditional)h(expr)n(ession)d
Fu(has)i(the)h(form)e Fq(if)j Fp(e)846 750 y Fk(1)885 743 y
Fq(then)g Fp(e)1018 750 y Fk(2)1058 743 y Fq(else)f Fp(e)1190
750 y Fk(3)1228 743 y Fu(and)f(returns)g(the)g(v)m(alue)h(of)f
Fp(e)1736 750 y Fk(2)1773 743 y Fu(if)0 800 y(the)h(v)m(alue)i(of)d
Fp(e)268 807 y Fk(1)307 800 y Fu(is)i Fq(True)o Fu(,)f Fp(e)497
807 y Fk(3)535 800 y Fu(if)h Fp(e)598 807 y Fk(1)637 800 y
Fu(is)f Fq(False)p Fu(,)f(and)i Fl(?)f Fu(otherwise.)p 9 889
V 9 1235 2 346 v 39 953 a Fs(T)l(ranslation:)46 b Fq(if)16
b Fp(e)442 960 y Fk(1)482 953 y Fq(then)f Fp(e)614 960 y Fk(2)654
953 y Fq(else)h Fp(e)787 960 y Fk(3)825 953 y Fu(is)g(equiv)m(alen)o(t)h(to:)
463 1055 y Fq(case)e Fp(e)595 1062 y Fk(1)635 1055 y Fq(of)23
b({)h(True)f(->)16 b Fp(e)958 1062 y Fk(2)998 1055 y Fq(;)24
b(False)f(->)16 b Fp(e)1274 1062 y Fk(3)1314 1055 y Fq(})39
1157 y Fu(where)f Fq(True)f Fu(and)h Fq(False)g Fu(are)f(the)h(t)o(w)o(o)f(n)
o(ullary)i(constructors)e(from)g(the)h(t)o(yp)q(e)g Fq(Bool)p
Fu(,)f(as)h(de\014ned)39 1214 y(in)h(the)f(standard)g(prelude.)p
1774 1235 V 9 1237 1767 2 v 0 1383 a Fx(3.6)56 b(Lists)0 1494
y Fp(aexp)121 b Fl(!)59 b Fq([)16 b Fp(exp)418 1501 y Fk(1)458
1494 y Fq(,)23 b Fr(:)8 b(:)g(:)22 b Fq(,)16 b Fp(exp)687 1501
y Fk(k)725 1494 y Fq(])440 b Fu(\()p Fp(k)17 b Fl(\025)c Fp(0)6
b Fu(\))0 1625 y Fp(Lists)21 b Fu(are)i(written)f Fq([)p Fp(e)412
1632 y Fk(1)435 1625 y Fq(,)i Fr(:)8 b(:)g(:)e Fq(,)16 b Fp(e)605
1632 y Fk(k)626 1625 y Fq(])p Fu(,)24 b(where)e Fp(k)c Fl(\025)13
b Fp(0)6 b Fu(;)26 b(the)d(empt)o(y)f(list)i(is)f(written)f
Fq([])p Fu(.)42 b(Standard)0 1682 y(op)q(erations)12 b(on)g(lists)h(are)f
(giv)o(en)h(in)g(the)f(standard)g(prelude)i(\(see)e(App)q(endix)i(A,)f
(notably)f(Section)h(A.5\).)p 9 1774 V 9 2178 2 405 v 39 1837
a Fs(T)l(ranslation:)46 b Fq([)p Fp(e)402 1844 y Fk(1)425 1837
y Fq(,)24 b Fr(:)8 b(:)g(:)e Fq(,)16 b Fp(e)595 1844 y Fk(k)616
1837 y Fq(])f Fu(is)g(equiv)m(alen)o(t)i(to)593 1939 y Fp(e)614
1946 y Fk(1)654 1939 y Fq(:)23 b(\()p Fp(e)746 1946 y Fk(2)786
1939 y Fq(:)g(\()h Fr(:)8 b(:)g(:)22 b Fq(\()p Fp(e)1003 1946
y Fk(k)1040 1939 y Fq(:)i([]\)\)\))39 2041 y Fu(where)17 b
Fq(:)f Fu(and)h Fq([])g Fu(are)f(constructors)g(for)g(lists,)h(as)g
(de\014ned)h(in)f(the)g(standard)g(prelude)h(\(see)f(Sec-)39
2098 y(tion)f(6.4\).)21 b(The)c(t)o(yp)q(es)f(of)g Fp(e)534
2105 y Fk(1)573 2098 y Fu(through)g Fp(e)767 2105 y Fk(k)804
2098 y Fu(m)o(ust)g(all)h(b)q(e)f(the)h(same)f(\(call)g(it)h
Fp(t)t Fu(\),)f(and)g(the)h(t)o(yp)q(e)f(of)39 2154 y(the)f(o)o(v)o(erall)g
(expression)h(is)g Fq([)p Fp(t)t Fq(])f Fu(\(see)g(Section)i(4.1.1\).)p
1774 2178 V 9 2180 1767 2 v 0 2327 a Fx(3.7)56 b(T)-5 b(uples)0
2437 y Fp(aexp)121 b Fl(!)59 b Fq(\()16 b Fp(exp)418 2444 y
Fk(1)458 2437 y Fq(,)23 b Fr(:)8 b(:)g(:)22 b Fq(,)16 b Fp(exp)687
2444 y Fk(k)725 2437 y Fq(\))440 b Fu(\()p Fp(k)17 b Fl(\025)c
Fp(2)6 b Fu(\))0 2568 y Fp(T)m(uples)14 b Fu(are)i(written)g
Fq(\()p Fp(e)425 2575 y Fk(1)448 2568 y Fq(,)24 b Fr(:)8 b(:)g(:)d
Fq(,)16 b Fp(e)617 2575 y Fk(k)638 2568 y Fq(\))p Fu(,)g(and)g(ma)o(y)f(b)q
(e)h(of)f(arbitrary)g(length)i Fp(k)g Fl(\025)c Fp(2)7 b Fu(.)21
b(Standard)16 b(op)q(era-)0 2625 y(tions)f(on)g(tuples)i(are)d(giv)o(en)i(in)
g(the)f(standard)g(prelude)i(\(see)e(App)q(endix)i(A\).)p eop
%%Page: 15 29
bop 150 50 a Ft(3.8)45 b(Unit)15 b(Expressions)h(and)f(P)o(aren)o(thesised)h
(Expressions)692 b Fu(15)p 159 155 1767 2 v 159 412 2 257 v
189 219 a Fs(T)l(ranslation:)46 b Fq(\()p Fp(e)552 226 y Fk(1)575
219 y Fq(,)24 b Fr(:)8 b(:)g(:)e Fq(,)16 b Fp(e)745 226 y Fk(k)766
219 y Fq(\))j Fu(for)f Fp(k)f Fl(\025)c Fp(2)26 b Fu(is)19
b(an)g(instance)h(of)e(a)h Fp(k)5 b Fu(-tuple)20 b(as)e(de\014ned)i(in)g(the)
189 275 y(standard)g(prelude,)k(and)d(requires)h(no)f(translation.)38
b(If)21 b Fp(t)1238 282 y Fk(1)1282 275 y Fu(through)g Fp(t)1475
282 y Fk(k)1517 275 y Fu(are)g(the)g(t)o(yp)q(es)g(of)g Fp(e)1888
282 y Fk(1)189 332 y Fu(through)15 b Fp(e)382 339 y Fk(k)403
332 y Fu(,)g(resp)q(ectiv)o(ely)l(,)i(then)f(the)f(t)o(yp)q(e)h(of)f(the)g
(resulting)i(tuple)f(is)g Fq(\()p Fp(t)1492 339 y Fk(1)1515
332 y Fq(,)24 b Fr(:)8 b(:)g(:)e Fq(,)16 b Fp(t)1679 339 y
Fk(k)1700 332 y Fq(\))f Fu(\(see)h(Sec-)189 388 y(tion)f(4.1.1\).)p
1924 412 V 159 414 1767 2 v 150 555 a Fx(3.8)56 b(Unit)18 b(Expressions)g
(and)h(P)n(aren)n(thesised)f(Expressions)150 662 y Fp(aexp)121
b Fl(!)59 b Fq(\(\))375 718 y Fl(j)75 b Fq(\()16 b Fp(exp)j
Fq(\))150 832 y Fu(The)g(form)g Fq(\()p Fp(e)s Fq(\))g Fu(is)g(simply)i(a)e
Fp(p)n(ar)n(enthesise)n(d)f(expr)n(ession)p Fu(,)h(and)g(is)g(equiv)m(alen)o
(t)i(to)e Fp(e)s Fu(.)32 b(The)19 b Fp(unit)h(ex-)150 889 y(pr)n(ession)c
Fq(\(\))h Fu(has)g(t)o(yp)q(e)g Fq(\(\))g Fu(\(see)g(Section)h(4.1.1\);)e(it)
h(is)h(the)f(only)h(mem)o(b)q(er)f(of)g(that)g(t)o(yp)q(e)g(\(it)g(can)g(b)q
(e)150 945 y(though)o(t)d(of)h(as)g(the)g(\\n)o(ullary)h(tuple"\)|see)h
(Section)f(6.6.)p 159 1011 V 159 1096 2 85 v 189 1075 a Fs(T)l(ranslation:)46
b Fq(\()p Fp(e)s Fq(\))15 b Fu(is)h(equiv)m(alen)o(t)h(to)e
Fp(e)s Fu(.)p 1924 1096 V 159 1098 1767 2 v 150 1239 a Fx(3.9)56
b(Arithmetic)16 b(Sequences)150 1346 y Fp(aexp)121 b Fl(!)59
b Fq([)16 b Fp(exp)568 1353 y Fk(1)608 1346 y Fu([)p Fq(,)f
Fp(exp)725 1353 y Fk(2)749 1346 y Fu(])h Fq(..)g Fu([)p Fp(exp)920
1353 y Fk(3)943 1346 y Fu(])g Fq(])150 1460 y Fu(The)g(form)f
Fq([)p Fp(e)397 1467 y Fk(1)420 1460 y Fq(,)i Fp(e)482 1467
y Fk(2)521 1460 y Fq(..)f Fp(e)606 1467 y Fk(3)629 1460 y Fq(])g
Fu(denotes)g(an)g Fp(arithmetic)i(se)n(quenc)n(e)c Fu(from)h
Fp(e)1431 1467 y Fk(1)1470 1460 y Fu(in)i(incremen)o(ts)f(of)g
Fp(e)1827 1467 y Fk(2)1860 1460 y Fl(\000)11 b Fp(e)1927 1467
y Fk(1)150 1517 y Fu(of)17 b(v)m(alues)i(not)e(greater)f(than)i
Fp(e)711 1524 y Fk(3)752 1517 y Fu(\(if)f(the)h(incremen)o(t)g(is)g
(nonnegativ)o(e\))g(or)f(not)g(less)h(than)f Fp(e)1784 1524
y Fk(3)1825 1517 y Fu(\(if)h(the)150 1573 y(incremen)o(t)c(is)f(negativ)o
(e\).)19 b(Th)o(us,)14 b(the)f(resulting)h(list)g(is)f(empt)o(y)g(if)h(the)f
(incremen)o(t)h(is)f(nonnegativ)o(e)h(and)150 1629 y Fp(e)171
1636 y Fk(3)209 1629 y Fu(is)g(less)h(than)f Fp(e)462 1636
y Fk(1)500 1629 y Fu(or)g(if)g(the)h(incremen)o(t)g(is)g(negativ)o(e)f(and)h
Fp(e)1215 1636 y Fk(3)1252 1629 y Fu(is)g(greater)e(than)h
Fp(e)1576 1636 y Fk(1)1600 1629 y Fu(.)19 b(If)c(the)f(incremen)o(t)150
1686 y(is)i(zero,)g(an)g(in\014nite)h(list)g(of)f Fp(e)675
1693 y Fk(1)698 1686 y Fu(s)g(results)g(if)g Fp(e)940 1693
y Fk(3)979 1686 y Fu(is)h(not)e(less)i(than)f Fp(e)1320 1693
y Fk(1)1343 1686 y Fu(.)22 b(If)16 b Fp(e)1445 1693 y Fk(3)1484
1686 y Fu(is)g(omitted,)g(the)g(result)g(is)150 1742 y(an)d(in\014nite)i
(list,)f(unless)h(the)e(elemen)o(t)h(t)o(yp)q(e)g(is)f(an)h(en)o(umeration,)f
(in)h(whic)o(h)g(case)g(the)f(implied)j(limit)e(is)150 1799
y(the)g(greatest)g(v)m(alue)h(of)f(the)h(t)o(yp)q(e)f(if)h(the)f(incremen)o
(t)i(is)e(nonnegativ)o(e,)h(or)f(the)g(least)h(v)m(alue,)g(otherwise.)221
1876 y(The)f(forms)g Fq([)o Fp(e)482 1883 y Fk(1)506 1876 y
Fq(..)i Fp(e)591 1883 y Fk(3)614 1876 y Fq(])e Fu(and)h Fq([)p
Fp(e)785 1883 y Fk(1)808 1876 y Fq(..])f Fu(are)g(similar)h(to)f(those)g(ab)q
(o)o(v)o(e,)g(but)g(with)h(an)f(implied)j(incre-)150 1933 y(men)o(t)e(of)g
(one.)221 2010 y(Arithmetic)h(sequences)g(ma)o(y)f(b)q(e)h(de\014ned)h(o)o(v)
o(er)d(an)o(y)h(t)o(yp)q(e)h(in)g(class)g Fq(Enum)o Fu(,)f(including)j
Fq(Char)p Fu(,)d Fq(Int)o Fu(,)150 2067 y(and)f Fq(Integer)f
Fu(\(see)h(Figure)g(5)g(and)g(Section)h(4.3.3\).)j(F)l(or)13
b(example,)i Fq(['a'..'z'])d Fu(denotes)i(the)h(list)f(of)150
2123 y(lo)o(w)o(er-case)h(letters)g(in)h(alphab)q(etical)i(order.)p
152 2196 1782 2 v 152 2682 2 487 v 181 2259 a Fs(T)l(ranslation:)47
b Fu(Arithmetic)16 b(sequences)g(satisfy)f(these)g(iden)o(tities:)582
2343 y Fq([)24 b Fr(e)651 2350 y Fo(1)670 2343 y Fq(..)f(])153
b Fu(=)51 b Fq(enumFrom)14 b Fr(e)1231 2350 y Fo(1)582 2399
y Fq([)24 b Fr(e)651 2406 y Fo(1)670 2399 y Fq(,)p Fr(e)715
2406 y Fo(2)733 2399 y Fq(..)g(])89 b Fu(=)51 b Fq(enumFromThen)13
b Fr(e)1326 2406 y Fo(1)1360 2399 y Fr(e)1381 2406 y Fo(2)582
2456 y Fq([)24 b Fr(e)651 2463 y Fo(1)670 2456 y Fq(..)p Fr(e)739
2463 y Fo(3)781 2456 y Fq(])113 b Fu(=)51 b Fq(enumFromTo)13
b Fr(e)1278 2463 y Fo(1)1312 2456 y Fr(e)1333 2463 y Fo(3)582
2512 y Fq([)24 b Fr(e)651 2519 y Fo(1)670 2512 y Fq(,)p Fr(e)715
2519 y Fo(2)733 2512 y Fq(..)p Fr(e)802 2519 y Fo(3)845 2512
y Fq(])49 b Fu(=)i Fq(enumFromThenTo)13 b Fr(e)1374 2519 y
Fo(1)1408 2512 y Fr(e)1429 2519 y Fo(2)1463 2512 y Fr(e)1484
2519 y Fo(3)181 2602 y Fu(where)18 b Fq(enumFrom)o Fu(,)f Fq(enumFromThen)o
Fu(,)g Fq(enumFromTo)o Fu(,)g(and)h Fq(enumFromThenTo)d Fu(are)i(op)q
(erations)h(in)181 2659 y(the)d(class)h Fq(Enum)f Fu(as)f(de\014ned)j(in)f
(the)f(standard)g(prelude)i(\(see)e(Figure)g(5\).)p 1931 2682
V 152 2684 1782 2 v eop
%%Page: 16 30
bop 0 50 a Fu(16)1364 b Ft(3)45 b(EXPRESSIONS)0 199 y Fx(3.10)56
b(List)17 b(Comprehensions)0 306 y Fp(aexp)121 b Fl(!)59 b
Fq([)16 b Fp(exp)j Fq(|)d Fp(qual)557 313 y Fk(1)597 306 y
Fq(,)24 b Fr(:)8 b(:)g(:)22 b Fq(,)16 b Fp(qual)842 313 y Fk(n)882
306 y Fq(])283 b Fu(\(list)16 b(comprehension)q Fr(;)24 b Fp(n)16
b Fl(\025)d Fp(1)6 b Fu(\))0 362 y Fp(qual)129 b Fl(!)59 b
Fp(p)n(at)20 b Fq(<-)c Fp(exp)225 419 y Fl(j)75 b Fp(exp)0
531 y Fu(A)17 b Fp(list)h(c)n(ompr)n(ehension)e Fu(has)h(the)g(form)f
Fq([)g Fp(e)k Fq(|)c Fp(q)851 538 y Fk(1)874 531 y Fq(,)24
b Fr(:)8 b(:)g(:)e Fq(,)16 b Fp(q)1044 538 y Fk(n)1084 531
y Fq(])p Fr(;)8 b Fp(n)15 b Fl(\025)e Fp(1)6 b Fr(;)17 b Fu(where)g(the)g
Fp(q)1511 538 y Fk(i)1544 531 y Fu(quali\014ers)h(are)0 588
y(either)f Fp(gener)n(ators)e Fu(of)g(the)h(form)f Fp(p)20
b Fq(<-)c Fp(e)s Fu(,)g(where)g Fp(p)j Fu(is)d(a)g(pattern)f(\(see)h(Section)
h(3.14\))d(of)i(t)o(yp)q(e)g Fp(t)k Fu(and)0 644 y Fp(e)e Fu(is)e(an)f
(expression)h(of)f(t)o(yp)q(e)g Fq([)p Fp(t)t Fq(])q Fu(;)f(or)h
Fp(guar)n(ds)p Fu(,)g(whic)o(h)h(are)f(arbitrary)f(expressions)i(of)f(t)o(yp)
q(e)h Fq(Bool)o Fu(.)71 721 y(Suc)o(h)g(a)g(list)h(comprehension)g(returns)f
(the)h(list)f(of)g(elemen)o(ts)h(pro)q(duced)g(b)o(y)f(ev)m(aluating)i
Fp(e)h Fu(in)e(the)0 778 y(successiv)o(e)i(en)o(vironmen)o(ts)e(created)h(b)o
(y)f(the)h(nested,)g(depth-\014rst)g(ev)m(aluation)h(of)e(the)h(generators)e
(in)0 834 y(the)k(quali\014er)i(list.)35 b(Binding)22 b(of)d(v)m(ariables)j
(o)q(ccurs)e(according)h(to)e(the)h(normal)g(pattern-matc)o(hing)0
891 y(rules)c(\(see)f(Section)g(3.14\),)e(and)i(if)h(a)e(matc)o(h)h(fails)g
(then)h(that)e(elemen)o(t)h(of)g(the)g(list)h(is)f(simply)h(skipp)q(ed)0
947 y(o)o(v)o(er.)j(Th)o(us:)71 1012 y Fq([)k(x)h(|)48 b(xs)71
b(<-)24 b([)f([\(1,2\),\(3,4\)],)f([\(5,4\),\(3,2\)])g(],)214
1068 y(\(3,x\))h(<-)h(xs)f(])0 1142 y Fu(yields)d(the)f(list)g
Fq([4,2])p Fu(.)30 b(If)19 b(a)f(quali\014er)i(is)f(a)f(guard,)h(it)g(m)o
(ust)f(ev)m(aluate)i(to)e Fq(True)g Fu(for)g(the)g(previous)0
1198 y(pattern-matc)o(h)e(to)h(succeed.)26 b(As)17 b(usual,)h(bindings)h(in)f
(list)g(comprehensions)g(can)f(shado)o(w)f(those)h(in)0 1254
y(outer)e(scop)q(es;)g(for)g(example:)328 1344 y Fq([)23 b(x)h(|)g(x)g(<-)f
(x,)h(x)g(<-)f(x)h(])41 b Fu(=)h Fq([)24 b(z)g(|)f(y)h(<-)g(x,)f(z)h(<-)g(y])
p 2 1415 1782 2 v 2 2229 2 815 v 31 1478 a Fs(T)l(ranslation:)47
b Fu(List)20 b(comprehensions)h(satisfy)e(these)h(iden)o(tities,)i(whic)o(h)f
(ma)o(y)e(b)q(e)h(used)h(as)e(a)31 1535 y(translation)c(in)o(to)g(the)h(k)o
(ernel:)337 1609 y Fq([)24 b Fr(e)g Fq(|)f Fr(b)h Fq(])163
b Fu(=)50 b Fq(if)23 b Fr(b)h Fq(then)f([)p Fr(e)p Fq(])h(else)f([])337
1666 y([)h Fr(e)g Fq(|)f Fr(q)497 1673 y Fo(1)516 1666 y Fq(,)h
Fr(q)584 1673 y Fo(2)627 1666 y Fq(])57 b Fu(=)50 b Fq(concat)23
b([)h([)f Fr(e)h Fq(|)g Fr(q)1168 1673 y Fo(2)1211 1666 y Fq(])g(|)f
Fr(q)1326 1673 y Fo(1)1369 1666 y Fq(])337 1722 y([)h Fr(e)g
Fq(|)f Fr(p)h Fq(<-)g Fr(l)g Fq(])50 b Fu(=)g Fq(let)23 b(ok)h
Fr(p)48 b Fq(=)f(True)888 1779 y(ok)24 b(_)48 b(=)f(False)793
1835 y(in)817 1892 y(map)23 b(\(\\)p Fr(p)h Fq(->)f Fr(e)p
Fq(\))h(\(filter)f(ok)h Fr(l)q Fq(\))31 1982 y Fu(where)19
b Fp(e)i Fu(ranges)d(o)o(v)o(er)f(expressions,)j Fp(p)h Fu(ranges)d(o)o(v)o
(er)g(patterns,)g Fp(l)k Fu(ranges)c(o)o(v)o(er)g(list-v)m(alued)i(ex-)31
2038 y(pressions,)f Fp(b)h Fu(ranges)d(o)o(v)o(er)g(b)q(o)q(olean)i
(expressions,)g Fp(q)971 2045 y Fk(1)1012 2038 y Fu(and)f Fp(q)1124
2045 y Fk(2)1165 2038 y Fu(range)f(o)o(v)o(er)g(non-empt)o(y)h(lists)g(of)31
2095 y(quali\014ers,)f(and)e Fq(ok)g Fu(is)h(a)g(new)f(iden)o(ti\014er)i(not)
f(app)q(earing)g(in)g Fp(e)t Fu(,)f Fp(p)s Fu(,)g(or)g Fp(l)t
Fu(.)21 b(These)16 b(three)f(equations)31 2151 y(uniquely)20
b(de\014ne)e(list)g(comprehensions.)28 b Fq(True)p Fu(,)17
b Fq(False)o Fu(,)h Fq(map)o Fu(,)g Fq(concat)f Fu(and)g Fq(filter)g
Fu(are)g(all)h(as)31 2208 y(de\014ned)f(in)f(the)f(standard)g(prelude.)p
1781 2229 V 2 2231 1782 2 v 0 2371 a Fx(3.11)56 b(Let)17 b(Expressions)0
2478 y Fp(L)n(et)d(expr)n(essions)d Fu(ha)o(v)o(e)i(the)g(general)h(form)e
Fq(let)23 b({)17 b Fp(d)909 2485 y Fk(1)949 2478 y Fq(;)23
b Fr(:)8 b(:)g(:)22 b Fq(;)16 b Fp(d)1136 2485 y Fk(n)1177
2478 y Fq(})23 b(in)16 b Fp(e)t Fu(,)d(and)g(in)o(tro)q(duce)h(a)f(nested,)0
2534 y(lexically-scop)q(ed)q(,)k Fp(mutual)r(ly-r)n(e)n(cursive)e
Fu(list)h(of)e(declarations)i(\()p Fq(let)e Fu(is)h(often)f(called)j
Fq(letrec)d Fu(in)h(other)0 2591 y(languages\).)k(The)14 b(scop)q(e)h(of)e
(the)h(declarations)h(is)f(the)g(expression)h Fp(e)i Fu(and)d(the)g(righ)o(t)
f(hand)i(side)f(of)g(the)0 2647 y(declarations.)23 b(Declarations)16
b(are)f(describ)q(ed)j(in)f(Section)g(4.)k(P)o(attern)15 b(bindings)j(are)d
(matc)o(hed)h(lazily)0 2704 y(as)f(irrefutable)h(patterns.)p
eop
%%Page: 17 31
bop 150 50 a Ft(3.12)44 b(Case)15 b(Expressions)1288 b Fu(17)p
152 155 1782 2 v 152 913 2 758 v 181 219 a Fs(T)l(ranslation:)47
b Fu(The)13 b(dynamic)i(seman)o(tics)e(of)g(the)h(expression)g
Fq(let)24 b({)16 b Fp(d)1480 226 y Fk(1)1520 219 y Fq(;)23
b Fr(:)8 b(:)g(:)22 b Fq(;)16 b Fp(d)1707 226 y Fk(n)1748 219
y Fq(})23 b(in)16 b Fp(e)1880 226 y Fk(0)181 275 y Fu(is)k(captured)h(b)o(y)e
(this)i(translation:)29 b(After)19 b(remo)o(ving)h(all)h(t)o(yp)q(e)e
(signatures,)i(eac)o(h)f(declaration)181 332 y Fp(d)204 339
y Fk(i)242 332 y Fu(is)i(translated)g(in)o(to)g(an)g(equation)h(of)f(the)g
(form)f Fp(p)1159 339 y Fk(i)1191 332 y Fq(=)16 b Fp(e)1252
339 y Fk(i)1267 332 y Fu(,)24 b(where)e Fp(p)1465 339 y Fk(i)1503
332 y Fu(and)g Fp(e)1619 339 y Fk(i)1656 332 y Fu(are)g(patterns)181
388 y(and)c(expressions)h(resp)q(ectiv)o(ely)l(,)h(using)e(the)g(translation)
g(in)h(Section)g(4.4.2.)26 b(Once)19 b(done,)g(these)181 445
y(iden)o(tities)e(hold,)f(whic)o(h)g(ma)o(y)e(b)q(e)i(used)g(as)f(a)g
(translation)g(in)o(to)g(the)g(k)o(ernel:)214 528 y Fq(let)24
b({)p Fr(p)357 535 y Fo(1)399 528 y Fq(=)g Fr(e)468 535 y Fo(1)486
528 y Fq(;)g Fu(...)p Fq(;)f Fr(p)643 535 y Fj(n)689 528 y
Fq(=)h Fr(e)758 535 y Fj(n)781 528 y Fq(})f(in)15 b Fr(e)912
535 y Fo(0)981 528 y Fu(=)50 b Fq(let)23 b(\(~)p Fr(p)1232
535 y Fo(1)1251 528 y Fq(,)p Fu(...)p Fq(,~)n Fr(p)1383 535
y Fj(n)1406 528 y Fq(\))g(=)h(\()p Fr(e)1546 535 y Fo(1)1565
528 y Fq(,)p Fu(...)p Fq(,)n Fr(e)1671 535 y Fj(n)1694 528
y Fq(\))g(in)15 b Fr(e)1826 535 y Fo(0)214 585 y Fq(let)24
b Fr(p)f Fq(=)h Fr(e)425 592 y Fo(1)483 585 y Fq(in)39 b Fr(e)591
592 y Fo(0)981 585 y Fu(=)50 b Fq(case)23 b Fr(e)1206 592 y
Fo(1)1249 585 y Fq(of)h(~)o Fr(p)g Fq(->)g Fr(e)1484 592 y
Fo(0)1066 641 y Fu(where)15 b(no)h(v)m(ariable)g(in)g Fr(p)f
Fu(app)q(ears)h(free)f(in)h Fr(e)1852 648 y Fo(1)214 698 y
Fq(let)24 b Fr(p)f Fq(=)h Fr(e)425 705 y Fo(1)483 698 y Fq(in)39
b Fr(e)591 705 y Fo(0)981 698 y Fu(=)50 b Fq(let)23 b Fr(p)h
Fq(=)g(fix)f(\()h(\\)g(~)p Fr(p)f Fq(->)h Fr(e)1610 705 y Fo(1)1629
698 y Fq(\))g(in)14 b Fr(e)1760 705 y Fo(0)181 788 y Fu(where)20
b Fq(fix)f Fu(is)h(the)g(least)f(\014xp)q(oin)o(t)i(op)q(erator.)32
b(Note)19 b(the)h(use)g(of)f(the)g(irrefutable)i(patterns)e(in)181
844 y(the)d(second)g(and)f(third)i(rules.)k(The)16 b(static)f(seman)o(tics)h
(of)f(the)h(bindings)h(in)g(a)e Fq(let)g Fu(expression)h(is)181
901 y(describ)q(ed)h(in)f(Section)g(4.4.2.)p 1931 913 V 152
915 1782 2 v 150 1061 a Fx(3.12)56 b(Case)19 b(Expressions)150
1172 y Fp(exp)144 b Fl(!)59 b Fq(case)15 b Fp(exp)20 b Fq(of)c({)g
Fp(alts)j Fu([)p Fq(;)p Fu(])d Fq(})150 1229 y Fp(alts)140
b Fl(!)59 b Fp(alt)513 1236 y Fk(1)552 1229 y Fq(;)24 b Fr(:)8
b(:)g(:)22 b Fq(;)16 b Fp(alt)767 1236 y Fk(n)1339 1229 y Fu(\()p
Fp(n)g Fl(\025)d Fp(1)6 b Fu(\))150 1285 y Fp(alt)159 b Fl(!)59
b Fp(p)n(at)20 b Fq(->)c Fp(exp)k Fu([)p Fq(where)15 b({)h
Fp(de)n(cls)j Fu([)p Fq(;)p Fu(])c Fq(})p Fu(])375 1342 y Fl(j)75
b Fp(p)n(at)20 b(gdp)n(at)h Fu([)p Fq(where)16 b({)g Fp(de)n(cls)j
Fu([)p Fq(;)o Fu(])d Fq(})p Fu(])150 1454 y Fp(gdp)n(at)106
b Fl(!)59 b Fp(gd)21 b Fq(->)16 b Fp(exp)j Fu([)d Fp(gdp)n(at)21
b Fu(])150 1511 y Fp(gd)165 b Fl(!)59 b Fq(|)16 b Fp(exp)571
1494 y Fk(0)150 1642 y Fu(A)f Fp(c)n(ase)h(expr)n(ession)e
Fu(has)h(the)g(general)h(form)597 1744 y Fq(case)g Fp(e)k Fq(of)j({)h
Fp(p)892 1751 y Fk(1)932 1744 y Fp(match)1051 1751 y Fk(1)1091
1744 y Fq(;)g Fr(:)8 b(:)g(:)22 b Fq(;)16 b Fp(p)1279 1751
y Fk(n)1319 1744 y Fp(match)1438 1751 y Fk(n)1479 1744 y Fq(})150
1846 y Fu(where)f(eac)o(h)h Fp(match)503 1853 y Fk(i)534 1846
y Fu(is)g(of)e(the)i(general)f(form)905 1944 y Fq(|)h Fp(g)966
1951 y Fk(i1)1060 1944 y Fq(->)g Fp(e)1145 1951 y Fk(i1)1195
1944 y Fq(;)905 2001 y Fr(:)8 b(:)g(:)905 2057 y Fq(|)16 b
Fp(g)966 2064 y Fk(im)1005 2068 y Ff(i)1060 2057 y Fq(->)g
Fp(e)1145 2064 y Fk(im)1184 2068 y Ff(i)905 2114 y Fq(where)23
b({)16 b Fp(de)n(cls)1182 2121 y Fk(i)1213 2114 y Fq(})150
2212 y Fu(Eac)o(h)k(alternativ)o(e)g Fp(p)523 2219 y Fk(i)554
2212 y Fp(matches)713 2219 y Fk(i)749 2212 y Fu(consists)g(of)f(a)h
Fp(p)n(attern)f(p)1202 2219 y Fk(i)1238 2212 y Fu(and)h(its)g
Fp(matches)1558 2219 y Fk(i)1573 2212 y Fu(,)h(whic)o(h)f(consists)g(of)150
2269 y(pairs)14 b(of)f(optional)i Fp(guar)n(ds)e(g)647 2276
y Fk(ij)689 2269 y Fu(and)g Fp(b)n(o)n(dies)g(e)926 2276 y
Fk(ij)967 2269 y Fu(\(expressions\),)h(as)g(w)o(ell)g(as)g(optional)g
(bindings)h(\()p Fp(de)n(cls)1918 2276 y Fk(i)1932 2269 y Fu(\))150
2325 y(that)h(scop)q(e)h(o)o(v)o(er)f(all)h(of)g(the)f(guards)h(and)f
(expressions)i(of)e(the)h(alternativ)o(e.)24 b(An)17 b(alternativ)o(e)g(of)f
(the)150 2382 y(form)765 2438 y Fp(p)n(at)21 b Fq(->)16 b Fp(expr)22
b Fq(where)h({)16 b Fp(de)n(cls)j Fq(})150 2521 y Fu(is)d(treated)e(as)h
(shorthand)g(for:)862 2565 y Fp(p)n(at)21 b Fq(|)i(True)41
b(->)16 b Fp(expr)862 2622 y Fq(where)23 b({)16 b Fp(de)n(cls)j
Fq(})p eop
%%Page: 18 32
bop 0 50 a Fu(18)1364 b Ft(3)45 b(EXPRESSIONS)71 199 y Fu(A)15
b(case)g(expression)h(m)o(ust)e(ha)o(v)o(e)h(at)g(least)g(one)g(alternativ)o
(e)g(and)h(eac)o(h)f(alternativ)o(e)g(m)o(ust)g(ha)o(v)o(e)g(at)0
256 y(least)g(one)g(b)q(o)q(dy)l(.)21 b(Eac)o(h)15 b(b)q(o)q(dy)h(m)o(ust)e
(ha)o(v)o(e)h(the)g(same)g(t)o(yp)q(e,)f(and)i(the)f(t)o(yp)q(e)g(of)f(the)h
(whole)h(expression)0 312 y(is)g(that)e(t)o(yp)q(e.)71 393
y(A)20 b(case)h(expression)h(is)f(ev)m(aluated)h(b)o(y)f(pattern-matc)o(hing)
g(the)g(expression)g Fp(e)k Fu(against)20 b(the)h(in-)0 449
y(dividual)g(alternativ)o(es.)30 b(The)19 b(matc)o(hes)f(are)h(tried)g
(sequen)o(tially)l(,)i(from)d(top)g(to)g(b)q(ottom.)29 b(The)19
b(\014rst)0 506 y(successful)g(matc)o(h)f(causes)g(ev)m(aluation)h(of)f(the)g
(corresp)q(onding)h(alternativ)o(e)f(b)q(o)q(dy)l(,)h(in)g(the)f(en)o(viron-)
0 562 y(men)o(t)d(of)h(the)g(case)g(expression)g(extended)h(b)o(y)f(the)g
(bindings)h(created)f(during)h(the)e(matc)o(hing)h(of)g(that)0
619 y(alternativ)o(e)j(and)g(b)o(y)f(the)h Fp(de)n(cls)565
626 y Fk(i)598 619 y Fu(asso)q(ciated)f(with)h(that)f(alternativ)o(e.)30
b(If)19 b(no)g(matc)o(h)f(succeeds,)i(the)0 675 y(result)f(is)h
Fl(?)p Fu(.)31 b(P)o(attern)18 b(matc)o(hing)h(is)g(describ)q(ed)i(in)f
(Section)f(3.14,)g(with)g(the)g(formal)f(seman)o(tics)h(of)0
732 y(case)c(expressions)h(in)g(Section)g(3.14.3.)0 878 y Fx(3.13)56
b(Expression)17 b(T)n(yp)r(e-Signatures)0 988 y Fp(exp)144
b Fl(!)59 b Fp(exp)19 b Fq(::)d Fu([)p Fp(c)n(ontext)k Fq(=>)o
Fu(])c Fp(typ)n(e)0 1116 y(Expr)n(ession)h(typ)n(e-signatur)n(es)f
Fu(ha)o(v)o(e)h(the)g(form)f Fp(e)k Fq(::)c Fp(t)t Fu(,)h(where)g
Fp(e)k Fu(is)c(an)g(expression)h(and)f Fp(t)22 b Fu(is)17 b(a)g(t)o(yp)q(e)0
1173 y(\(Section)g(4.1.1\);)e(they)i(are)g(used)g(to)f(t)o(yp)q(e)h(an)f
(expression)i(explicitly)h(and)e(ma)o(y)f(b)q(e)h(used)h(to)e(resolv)o(e)0
1229 y(am)o(biguous)i(t)o(ypings)h(due)g(to)f(o)o(v)o(erloading)g(\(see)g
(Section)h(4.3.4\).)28 b(The)18 b(v)m(alue)i(of)e(the)g(expression)h(is)0
1286 y(just)14 b(that)f(of)h Fp(exp)s Fu(.)19 b(As)14 b(with)h(normal)f(t)o
(yp)q(e)g(signatures)g(\(see)g(Section)h(4.4.1\),)d(the)i(declared)i(t)o(yp)q
(e)e(ma)o(y)0 1342 y(b)q(e)g(more)f(sp)q(eci\014c)j(than)d(the)h(principal)i
(t)o(yp)q(e)d(deriv)m(able)j(from)d Fp(exp)s Fu(,)g(but)h(it)g(is)g(an)f
(error)g(to)g(giv)o(e)h(a)f(t)o(yp)q(e)0 1399 y(that)h(is)i(more)f(general)h
(than,)e(or)h(not)g(comparable)g(to,)g(the)g(principal)i(t)o(yp)q(e.)0
1544 y Fx(3.14)56 b(P)n(attern-Matc)n(hing)0 1655 y Fp(Patterns)13
b Fu(app)q(ear)g(in)h(lam)o(b)q(da)f(abstractions,)g(function)h
(de\014nitions,)h(pattern)e(bindings,)i(list)f(compre-)0 1711
y(hensions,)f(and)e(case)h(expressions.)19 b(Ho)o(w)o(ev)o(er,)11
b(the)g(\014rst)g(four)g(of)g(these)g(ultimately)i(translate)e(in)o(to)g
(case)0 1768 y(expressions,)k(so)f(de\014ning)h(the)g(seman)o(tics)f(of)g
(pattern-matc)o(hing)g(for)g(case)g(expressions)h(is)g(su\016cien)o(t.)0
1912 y Fs(3.14.1)52 b(P)o(atterns)0 2022 y Fu(P)o(atterns)14
b(ha)o(v)o(e)h(this)h(syn)o(tax:)0 2139 y Fp(p)n(at)150 b Fl(!)59
b Fp(p)n(at)376 2122 y Fk(0)0 2195 y Fp(p)n(at)63 2179 y Fk(i)209
2195 y Fl(!)g Fp(p)n(at)376 2179 y Fk(i)s Fo(+)p Fk(1)455 2195
y Fu([)p Fp(c)n(onop)585 2179 y Fo(\()14 b(n)p Fj(;)p Fk(i)s
Fo(\))685 2195 y Fp(p)n(at)748 2179 y Fk(i)s Fo(+)p Fk(1)811
2195 y Fu(])225 2252 y Fl(j)75 b Fp(lp)n(at)388 2235 y Fk(i)225
2308 y Fl(j)g Fp(rp)n(at)395 2292 y Fk(i)0 2365 y Fp(lp)n(at)75
2348 y Fk(i)209 2365 y Fl(!)59 b Fu(\()p Fp(lp)n(at)406 2348
y Fk(i)437 2365 y Fl(j)16 b Fp(p)n(at)529 2348 y Fk(i)s Fo(+)p
Fk(1)592 2365 y Fu(\))g Fp(c)n(onop)743 2348 y Fo(\()e(l)q
Fj(;)p Fk(i)s Fo(\))834 2365 y Fp(p)n(at)897 2348 y Fk(i)s
Fo(+)p Fk(1)0 2421 y Fp(lp)n(at)75 2404 y Fk(6)209 2421 y Fl(!)59
b Fu(\()p Fp(var)21 b Fl(j)16 b Fq(_)p Fu(\))f Fq(+)i Fp(inte)n(ger)512
b Fu(\(successor)15 b(pattern\))225 2477 y Fl(j)75 b Fq(-)16
b Fu(\()p Fp(inte)n(ger)k Fl(j)c Fp(\015o)n(at)t Fu(\))526
b(\(negativ)o(e)15 b(literal)r(\))0 2534 y Fp(rp)n(at)82 2517
y Fk(i)209 2534 y Fl(!)59 b Fp(p)n(at)376 2517 y Fk(i)s Fo(+)p
Fk(1)455 2534 y Fp(c)n(onop)572 2517 y Fo(\()14 b(r)p Fj(;)p
Fk(i)s Fo(\))667 2534 y Fu(\()p Fp(rp)n(at)767 2517 y Fk(i)799
2534 y Fl(j)i Fp(p)n(at)891 2517 y Fk(i)s Fo(+)p Fk(1)953 2534
y Fu(\))0 2590 y Fp(p)n(at)63 2574 y Fk(10)209 2590 y Fl(!)59
b Fp(ap)n(at)225 2647 y Fl(j)75 b Fp(c)n(on)19 b(ap)n(at)482
2654 y Fk(1)529 2647 y Fr(:)8 b(:)g(:)22 b Fp(ap)n(at)688 2654
y Fk(k)1189 2647 y Fu(\(arit)o(y)16 b Fp(c)n(on)f Fu(=)e Fp(k)5
b Fr(;)24 b Fp(k)17 b Fl(\025)c Fp(1)6 b Fu(\))p eop
%%Page: 19 33
bop 150 50 a Ft(3.14)44 b(P)o(attern-Matc)o(hing)1275 b Fu(19)150
199 y Fp(ap)n(at)127 b Fl(!)59 b Fp(var)21 b Fu([)j(@)16 b
Fp(ap)n(at)t Fu(])605 b(\(as)15 b(pattern)o(\))375 256 y Fl(j)75
b Fp(c)n(on)808 b Fu(\(arit)o(y)16 b Fp(c)n(on)f Fu(=)e Fp(0)6
b Fu(\))375 312 y Fl(j)75 b Fp(liter)n(al)375 369 y Fl(j)g
Fq(_)852 b Fu(\(wildcard)q(\))375 425 y Fl(j)75 b Fq(\(\))828
b Fu(\(unit)16 b(pattern\))375 482 y Fl(j)75 b Fq(\()16 b Fp(p)n(at)21
b Fq(\))732 b Fu(\(paren)o(thesised)16 b(pattern\))375 538
y Fl(j)75 b Fq(\()16 b Fp(p)n(at)562 545 y Fk(1)602 538 y Fq(,)23
b Fr(:)8 b(:)g(:)22 b Fq(,)16 b Fp(p)n(at)825 545 y Fk(k)863
538 y Fq(\))452 b Fu(\(tuple)16 b(pattern)p Fr(;)23 b Fp(k)18
b Fl(\025)13 b Fp(2)6 b Fu(\))375 594 y Fl(j)75 b Fq([)16 b
Fp(p)n(at)562 601 y Fk(1)602 594 y Fq(,)23 b Fr(:)8 b(:)g(:)22
b Fq(,)16 b Fp(p)n(at)825 601 y Fk(k)863 594 y Fq(])452 b Fu(\(list)16
b(pattern)p Fr(;)23 b Fp(k)18 b Fl(\025)13 b Fp(0)6 b Fu(\))375
651 y Fl(j)75 b Fq(~)16 b Fp(ap)n(at)754 b Fu(\(irrefutable)16
b(pattern\))150 769 y(The)g(arit)o(y)g(of)g(a)f(constructor)h(m)o(ust)f(matc)
o(h)g(the)i(n)o(um)o(b)q(er)f(of)g(sub-patterns)g(asso)q(ciated)g(with)g(it;)
h(one)150 825 y(cannot)e(matc)o(h)g(against)f(a)h(partially-applied)k
(constructor.)221 906 y(All)d(patterns)f(m)o(ust)f(b)q(e)i
Fp(line)n(ar)p Fu(|no)f(v)m(ariable)h(ma)o(y)f(app)q(ear)g(more)g(than)g
(once.)221 987 y(P)o(atterns)d(of)i(the)g(form)g Fp(var)5 b
Fq(@)p Fp(p)n(at)18 b Fu(are)c(called)h Fp(as-p)n(atterns)p
Fu(,)f(and)g(allo)o(w)g(one)h(to)e(use)h Fp(var)20 b Fu(as)13
b(a)h(name)150 1044 y(for)h(the)g(v)m(alue)h(b)q(eing)h(matc)o(hed)e(b)o(y)g
Fp(p)n(at)5 b Fu(.)19 b(F)l(or)c(example,)221 1125 y Fq(case)23
b(e)h(of)f({)h(xs@\(x:rest\))e(->)i(if)f(x==0)h(then)f(rest)g(else)h(xs)f(})
150 1206 y Fu(is)16 b(equiv)m(alen)o(t)h(to:)221 1283 y Fq(let)23
b({)h(xs)f(=)h(e)g(})g(in)268 1340 y(case)g(xs)f(of)h({)g(\(x:rest\))e(->)i
(if)f(x)h(==)g(0)g(then)f(rest)g(else)g(xs)h(})221 1474 y Fu(P)o(atterns)14
b(of)i(the)f(form)g Fq(_)h Fu(are)g Fp(wildc)n(ar)n(ds)f Fu(and)h(are)f
(useful)i(when)f(some)g(part)f(of)g(a)h(pattern)f(is)h(not)150
1530 y(referenced)f(on)g(the)f(righ)o(t-hand-side.)21 b(It)15
b(is)f(as)g(if)h(an)g(iden)o(ti\014er)h(not)d(used)i(elsewhere)h(w)o(ere)e
(put)h(in)g(its)150 1587 y(place.)21 b(F)l(or)14 b(example,)221
1668 y Fq(case)23 b(e)h(of)f({)h([x,_,_])47 b(->)g(if)24 b(x==0)f(then)g
(True)h(else)f(False)g(})150 1749 y Fu(is)16 b(equiv)m(alen)o(t)h(to:)221
1830 y Fq(case)23 b(e)h(of)f({)h([x,y,z])47 b(->)g(if)24 b(x==0)f(then)g
(True)h(else)f(False)g(})221 1992 y Fu(In)e(the)h(pattern-matc)o(hing)f
(rules)g(giv)o(en)h(b)q(elo)o(w)g(w)o(e)f(distinguish)i(t)o(w)o(o)d(kinds)i
(of)f(patterns:)31 b(an)150 2048 y Fp(irr)n(efutable)15 b(p)n(attern)e
Fu(is:)20 b(a)13 b(v)m(ariable,)i(a)e(wildcard,)i(of)e(the)h(form)f
Fp(var)5 b Fq(@)p Fp(ap)n(at)18 b Fu(where)c Fp(ap)n(at)k Fu(is)c
(irrefutable,)150 2105 y(or)h(of)f(the)h(form)g Fq(~)p Fp(ap)n(at)20
b Fu(\(whether)15 b(or)f(not)h Fp(ap)n(at)20 b Fu(is)15 b(irrefutable\).)21
b(All)16 b(other)f(patterns)g(are)f Fp(r)n(efutable)p Fu(.)150
2250 y Fs(3.14.2)52 b(Informal)17 b(seman)o(tics)h(of)f(pattern-matc)o(hing)
150 2360 y Fu(P)o(atterns)c(are)h(matc)o(hed)g(against)f(v)m(alues.)21
b(A)o(ttempting)14 b(to)f(matc)o(h)h(a)g(pattern)f(can)h(ha)o(v)o(e)g(one)g
(of)g(three)150 2416 y(results:)20 b(it)15 b(ma)o(y)f Fp(fail)5
b Fu(;)15 b(it)g(ma)o(y)f Fp(suc)n(c)n(e)n(e)n(d)p Fu(,)f(returning)i(a)g
(binding)i(for)d(eac)o(h)h(v)m(ariable)i(in)e(the)g(pattern;)f(or)150
2473 y(it)g(ma)o(y)e Fp(diver)n(ge)h Fu(\(i.e.)g(return)h Fl(?)p
Fu(\).)19 b(P)o(attern-matc)o(hing)13 b(pro)q(ceeds)h(from)e(left)i(to)f
(righ)o(t,)g(and)g(outside)h(in,)150 2529 y(according)i(to)e(these)i(rules:)
206 2647 y(1.)22 b(Matc)o(hing)13 b(a)h(v)m(alue)h Fp(v)j Fu(against)13
b(the)h(irrefutable)h(pattern)e Fp(var)19 b Fu(alw)o(a)o(ys)13
b(succeeds)i(and)f(binds)h Fp(var)264 2704 y Fu(to)k Fp(v)5
b Fu(.)33 b(Similarly)l(,)23 b(matc)o(hing)d Fp(v)25 b Fu(against)19
b(the)h(irrefutable)h(pattern)f Fq(~)o Fp(ap)n(at)25 b Fu(alw)o(a)o(ys)19
b(succeeds.)p eop
%%Page: 20 34
bop 0 50 a Fu(20)1364 b Ft(3)45 b(EXPRESSIONS)114 199 y Fu(The)16
b(free)g(v)m(ariables)h(in)g Fp(ap)n(at)j Fu(are)c(b)q(ound)g(to)g(the)g
(appropriate)f(v)m(alues)i(if)g(matc)o(hing)f Fp(v)k Fu(against)114
256 y Fp(ap)n(at)h Fu(w)o(ould)16 b(otherwise)h(succeed,)g(and)g(to)e
Fl(?)i Fu(if)g(matc)o(hing)f Fp(v)21 b Fu(against)16 b Fp(ap)n(at)21
b Fu(fails)c(or)f(div)o(erges.)114 312 y(\(Binding)g(do)q(es)g
Fp(not)f Fu(imply)h(ev)m(aluation.\))114 387 y(Op)q(erationally)l(,)e(this)f
(means)f(that)g(no)g(matc)o(hing)g(is)h(done)g(on)f(an)g(irrefutable)i
(pattern)d(un)o(til)j(one)114 444 y(of)j(the)h(v)m(ariables)h(in)f(the)g
(pattern)g(is)g(used.)28 b(A)o(t)17 b(that)g(p)q(oin)o(t)h(the)g(en)o(tire)h
(pattern)e(is)h(matc)o(hed)114 500 y(against)c(the)h(v)m(alue,)g(and)g(if)g
(the)g(matc)o(h)f(fails)i(or)e(div)o(erges,)h(so)f(do)q(es)h(the)g(o)o(v)o
(erall)f(computation.)56 594 y(2.)22 b(Matc)o(hing)15 b Fl(?)g
Fu(against)g(a)g(refutable)h(pattern)e(alw)o(a)o(ys)h(div)o(erges.)56
688 y(3.)22 b(Matc)o(hing)15 b(a)g(non-)p Fl(?)g Fu(v)m(alue)i(can)e(o)q
(ccur)h(against)f(t)o(w)o(o)e(kinds)k(of)d(refutable)i(patterns:)133
782 y(\(a\))22 b(Matc)o(hing)f(a)h(non-)p Fl(?)h Fu(v)m(alue)g(against)e(a)h
(constructed)g(pattern)f(fails)i(if)f(the)g(outermost)214 838
y(constructors)d(are)h(di\013eren)o(t.)35 b(If)21 b(the)f(constructors)g(are)
g(the)g(same,)h(the)f(result)h(of)f(the)214 895 y(matc)o(h)h(is)h(the)g
(result)g(of)f(matc)o(hing)h(the)g(sub-patterns)g(left-to-righ)o(t:)33
b(if)22 b(all)g(matc)o(hes)214 951 y(succeed,)15 b(the)f(o)o(v)o(erall)h
(matc)o(h)e(succeeds;)j(the)e(\014rst)g(to)f(fail)j(or)d(div)o(erge)i(causes)
f(the)h(o)o(v)o(erall)214 1007 y(matc)o(h)f(to)h(fail)h(or)f(div)o(erge,)g
(resp)q(ectiv)o(ely)l(.)214 1072 y(Constructed)j(v)m(alues)h(consist)g(of)f
(those)g(created)g(b)o(y)h(pre\014x)g(or)f(in\014x)h(constructors,)f(tu-)214
1129 y(ple)g(or)f(list)h(patterns,)f(and)g(strings)g(\(whic)o(h)h(are)f
(lists)h(of)f(c)o(haracters\).)24 b(Characters)17 b(and)214
1185 y Fq(\(\))g Fu(are)g(treated)g(as)h(n)o(ullary)g(constructors.)26
b(Numeric)19 b(literals)g(are)e(matc)o(hed)h(using)g(the)214
1242 y(o)o(v)o(erloaded)d Fq(==)g Fu(function.)130 1315 y(\(b\))23
b(Matc)o(hing)10 b(a)h(non-)p Fl(?)g Fu(v)m(alue)i Fp(n)g Fu(against)e(a)f
(pattern)h(of)f(the)h(form)f Fp(x)5 b Fq(+)q Fp(k)15 b Fu(\(where)c
Fp(x)17 b Fu(is)11 b(a)g(v)m(ariable)214 1371 y(and)j Fp(k)k
Fu(is)c(a)f(p)q(ositiv)o(e)i(in)o(teger)f(literal\))h(succeeds)f(if)h
Fp(n)g Fl(\025)e Fp(k)5 b Fu(,)14 b(resulting)g(in)h(the)f(binding)h(of)e
Fp(x)214 1428 y Fu(to)g Fp(n)g Fl(\000)d Fp(k)5 b Fu(,)14 b(and)f(fails)i(if)
f Fp(n)i Fr(<)d Fp(k)t Fu(.)20 b(F)l(or)13 b(example,)h(the)g(Fib)q(onacci)h
(function)f(ma)o(y)f(b)q(e)i(de\014ned)214 1484 y(as)f(follo)o(ws:)284
1536 y Fq(fib)24 b(n)f(=)h(case)f(n)h(of)g({)523 1592 y(0)71
b(->)24 b(1)g(;)523 1649 y(1)71 b(->)24 b(1)g(;)523 1705 y(n+2)f(->)h(fib)f
(n)h(+)g(fib)f(\(n+1\))g(})214 1766 y Fu(Since)14 b Fq(n)f
Fu(m)o(ust)g(b)q(e)h(b)q(ound)g(to)f(a)g(p)q(ositiv)o(e)h(v)m(alue,)h
Fq(fib)d Fu(div)o(erges)i(for)f(a)g(negativ)o(e)g(argumen)o(t,)214
1823 y(and)i(exactly)h(one)f(of)g(the)g(equations)h(matc)o(hes)e(an)o(y)h
(non-negativ)o(e)h(argumen)o(t.)56 1917 y(4.)22 b(The)g(result)h(of)f(matc)o
(hing)h(a)f(v)m(alue)h Fp(v)28 b Fu(against)22 b(an)g(as-pattern)g
Fp(var)5 b Fq(@)p Fp(ap)n(at)27 b Fu(is)c(the)g(result)f(of)114
1973 y(matc)o(hing)17 b Fp(v)23 b Fu(against)17 b Fp(p)n(at)23
b Fu(augmen)o(ted)17 b(with)h(the)g(binding)i(of)d Fp(var)23
b Fu(to)17 b Fp(v)5 b Fu(.)28 b(If)18 b(the)g(matc)o(h)f(of)g
Fp(v)114 2029 y Fu(against)d Fp(p)n(at)20 b Fu(fails)c(or)f(div)o(erges,)g
(then)h(so)e(do)q(es)i(the)f(o)o(v)o(erall)h(matc)o(h.)71 2148
y(Aside)e(from)f(the)h(ob)o(vious)f(static)h(t)o(yp)q(e)f(constrain)o(ts)g
(\(for)g(example,)h(it)g(is)g(a)f(static)h(error)f(to)g(matc)o(h)0
2205 y(a)g(c)o(haracter)g(against)g(a)h(b)q(o)q(olean\),)g(these)g(static)f
(class)h(constrain)o(ts)f(hold:)20 b(an)14 b(in)o(teger)g(literal)g(pattern)0
2261 y(can)h(only)h(b)q(e)g(matc)o(hed)e(against)h(a)g(v)m(alue)h(in)g(the)f
(class)h Fq(Num)o Fu(;)f(a)g(\015oating)g(literal)h(pattern)e(can)i(only)f(b)
q(e)0 2318 y(matc)o(hed)g(against)h(a)f(v)m(alue)i(in)f(the)g(class)g
Fq(Fractional)n Fu(;)g(and)f(a)h Fp(n)s Fq(+)p Fp(k)k Fu(pattern)15
b(can)h(only)g(b)q(e)g(matc)o(hed)0 2374 y(against)f(a)g(v)m(alue)h(in)g(the)
f(class)h Fq(Integral)o Fu(.)71 2455 y(Here)f(are)g(some)g(examples:)56
2574 y(1.)22 b(If)15 b(the)h(pattern)f Fq([1,2])g Fu(is)h(matc)o(hed)f
(against)g Fq([0,)p Fl(?)p Fq(])p Fu(,)g(then)h Fq(1)f Fp(fails)k
Fu(to)c(matc)o(h)g(against)g Fq(0)p Fu(,)g(and)114 2631 y(the)f(result)g(is)h
(a)f(failed)h(matc)o(h.)k(But)c(if)f Fq([1,2])g Fu(is)g(matc)o(hed)g(against)
g Fq([)p Fl(?)p Fq(,0])p Fu(,)g(then)g(attempting)114 2687
y(to)g(matc)o(h)h Fq(1)g Fu(against)g Fl(?)g Fu(causes)h(the)f(matc)o(h)f(to)
h Fp(diver)n(ge)s Fu(.)p eop
%%Page: 21 35
bop 150 50 a Ft(3.14)44 b(P)o(attern-Matc)o(hing)1275 b Fu(21)206
199 y(2.)22 b(These)15 b(examples)h(demonstrate)f(refutable)g(vs.)g
(irrefutable)h(matc)o(hing:)334 270 y Fq(\(\\)24 b(~\(x,y\))f(->)g(0\))h
Fl(?)96 b(\))g Fq(0)334 327 y(\(\\)48 b(\(x,y\))23 b(->)g(0\))h
Fl(?)96 b(\))g(?)334 436 y Fq(\(\\)24 b(~[x])f(->)h(0\))f([])95
b Fl(\))h Fq(0)334 493 y(\(\\)24 b(~[x])f(->)h(x\))f([])95
b Fl(\))h(?)334 602 y Fq(\(\\)24 b(~[x,~\(a,b\)])e(->)i(x\))f([\(0,1\),)o
Fl(?)q Fq(])95 b Fl(\))h Fq(\(0,1\))334 658 y(\(\\)24 b(~[x,)f(\(a,b\)])g(->)
h(x\))f([\(0,1\),)o Fl(?)q Fq(])95 b Fl(\))h(?)334 768 y Fq(\(\\)48
b(\(x:xs\))23 b(->)g(x:x:xs\))g Fl(?)72 b(\))g(?)334 824 y
Fq(\(\\)24 b(~\(x:xs\))f(->)g(x:x:xs\))g Fl(?)72 b(\))g(?)q
Fq(:)o Fl(?)q Fq(:)p Fl(?)221 939 y Fu(T)l(op)17 b(lev)o(el)h(patterns)f(in)h
(case)f(expressions,)h(and)g(the)f(set)g(of)f(top)h(lev)o(el)i(patterns)d(in)
i(function)g(or)150 996 y(pattern)12 b(bindings,)i(ma)o(y)e(ha)o(v)o(e)g
(zero)g(or)g(more)g(asso)q(ciated)h Fp(guar)n(ds)p Fu(.)19
b(A)13 b(guard)f(is)h(a)f(b)q(o)q(olean)h(expression)150 1052
y(that)e(is)h(ev)m(aluated)h(only)f(after)f(all)i(of)e(the)h(argumen)o(ts)f
(ha)o(v)o(e)g(b)q(een)i(successfully)h(matc)o(hed,)e(and)g(it)g(m)o(ust)150
1109 y(b)q(e)i(true)g(for)e(the)i(o)o(v)o(erall)g(pattern-matc)o(h)e(to)h
(succeed.)20 b(The)14 b(en)o(vironmen)o(t)g(of)f(the)h(guard)f(is)h(the)f
(same)150 1165 y(as)22 b(the)g(righ)o(t-hand-side)h(of)f(the)g
(case-expression)h(alternativ)o(e,)g(function)g(de\014nition,)i(or)c(pattern)
150 1221 y(binding)c(to)e(whic)o(h)h(it)f(is)h(attac)o(hed.)221
1303 y(The)22 b(guard)h(seman)o(tics)f(has)h(an)g(ob)o(vious)f(in\015uence)j
(on)e(the)f(strictness)h(c)o(haracteristics)g(of)f(a)150 1359
y(function)12 b(or)f(case)g(expression.)20 b(In)12 b(particular,)g(an)f
(otherwise)h(irrefutable)g(pattern)f(ma)o(y)g(b)q(e)h(ev)m(aluated)150
1416 y(b)q(ecause)k(of)f(a)g(guard.)k(F)l(or)c(example,)h(in)221
1497 y Fq(f)23 b(~\(x,y,z\))g([a])h(|)f(a==y)h(=)f(1)150 1578
y Fu(b)q(oth)15 b Fq(a)g Fu(and)h Fq(y)f Fu(will)i(b)q(e)e(ev)m(aluated.)150
1723 y Fs(3.14.3)52 b(F)l(ormal)17 b(seman)o(tics)g(of)h(pattern-matc)o(hing)
150 1834 y Fu(The)i(seman)o(tics)f(of)h(all)g(pattern-matc)o(hing)f
(constructs)h(other)f(than)g Fq(case)g Fu(expressions)i(is)f(de\014ned)150
1891 y(b)o(y)h(giving)i(iden)o(tities)g(that)e(relate)g(those)g(constructs)g
(to)g Fq(case)g Fu(expressions.)39 b(The)22 b(seman)o(tics)f(of)150
1947 y Fq(case)c Fu(expressions)g(themselv)o(es)h(is)g(in)g(turn)f(giv)o(en)g
(as)g(a)g(series)g(of)g(iden)o(tities,)i(in)f(Figures)f(3{4.)25
b(An)o(y)150 2003 y(implemen)o(tation)18 b(should)g(b)q(eha)o(v)o(e)f(so)f
(that)h(these)g(iden)o(tities)h(hold;)g(it)f(is)h(not)e(exp)q(ected)i(that)e
(it)h(will)150 2060 y(use)f(them)f(directly)l(,)h(since)g(that)f(w)o(ould)g
(generate)g(rather)g(ine\016cien)o(t)i(co)q(de.)221 2141 y(In)i(Figures)f
(3{4:)25 b Fr(e)p Fu(,)19 b Fr(e)626 2125 y Fi(0)656 2141 y
Fu(and)g Fr(e)769 2148 y Fj(i)801 2141 y Fu(are)f(expressions;)j
Fr(g)e Fu(and)g Fr(g)1290 2148 y Fj(i)1321 2141 y Fu(are)g(b)q(o)q(olean-v)m
(alued)i(expressions;)150 2198 y Fr(p)c Fu(and)g Fr(p)303 2205
y Fj(i)333 2198 y Fu(are)g(patterns;)g Fr(x)f Fu(and)h Fr(x)764
2205 y Fj(i)795 2198 y Fu(are)g(v)m(ariables;)h Fr(K)i Fu(and)d
Fr(K)1267 2181 y Fi(0)1295 2198 y Fu(are)g(constructors)f(\(including)j
(tuple)150 2254 y(constructors\);)j(a)e Fr(match)616 2261 y
Fj(i)650 2254 y Fu(is)h(a)f(form)g(as)g(sho)o(wn)g(in)i(rule)f(\(a\);)h(and)f
Fr(k)g Fu(is)g(a)f(c)o(haracter,)h(string,)g(or)150 2311 y(n)o(umeric)16
b(literal.)221 2392 y(F)l(or)10 b(clarit)o(y)l(,)i(sev)o(eral)g(rules)g(are)f
(expressed)h(using)g Fq(let)f Fu(\(used)g(only)h(in)g(a)f(non-recursiv)o(e)i
(w)o(a)o(y\);)d(their)150 2448 y(usual)15 b(purp)q(ose)g(is)g(to)e(prev)o(en)
o(t)h(name)h(capture)f(\(e.g.,)f(in)i(rule)g(\(b\)\).)k(The)c(rules)g(ma)o(y)
e(b)q(e)i(re-expressed)150 2505 y(en)o(tirely)h(with)g Fq(cases)e
Fu(b)o(y)h(applying)i(this)f(iden)o(tit)o(y:)565 2607 y Fq(let)23
b Fp(x)30 b Fq(=)23 b Fp(y)28 b Fq(in)c Fp(e)56 b Fu(=)61 b
Fq(case)23 b Fp(y)28 b Fq(of)c({)f Fp(x)30 b Fq(->)23 b Fp(e)k
Fq(})p eop
%%Page: 22 36
bop 0 50 a Fu(22)1364 b Ft(3)45 b(EXPRESSIONS)p 2 205 1782
2 v 2 1696 2 1491 v 32 277 a Fu(\(a\))50 b Fq(case)24 b Fr(e)282
284 y Fo(0)324 277 y Fq(of)g({)g Fr(p)467 284 y Fo(1)516 277
y Fr(match)642 284 y Fo(1)660 277 y Fq(;)48 b Fr(:)8 b(:)g(:)29
b Fq(;)24 b Fr(p)887 284 y Fj(n)940 277 y Fr(match)1066 284
y Fj(n)1113 277 y Fq(})141 333 y Fu(=)49 b Fq(case)23 b Fr(e)365
340 y Fo(0)408 333 y Fq(of)g({)h Fr(p)550 340 y Fo(1)599 333
y Fr(match)725 340 y Fo(1)767 333 y Fq(;)523 390 y(_)48 b(->)23
b Fr(:)8 b(:)g(:)30 b Fq(case)23 b Fr(e)891 397 y Fo(0)934
390 y Fq(of)h({)786 446 y Fr(p)809 453 y Fj(n)862 446 y Fr(match)988
453 y Fj(n)786 502 y Fq(_)47 b(->)24 b(error)f("No)h(match")f(})p
Fr(:)8 b(:)g(:)n Fq(})165 559 y Fu(where)16 b(eac)o(h)f Fr(match)525
566 y Fj(i)554 559 y Fu(has)g(the)h(form:)189 615 y Fq(|)24
b Fr(g)259 622 y Fj(i;)p Fo(1)338 615 y Fq(->)f Fr(e)430 622
y Fj(i;)p Fo(1)495 615 y Fq(;)g Fr(:)8 b(:)g(:)30 b Fq(;)24
b(|)f Fr(g)744 622 y Fj(i;m)795 626 y Fe(i)834 615 y Fq(->)h
Fr(e)927 622 y Fj(i;m)978 626 y Fe(i)1017 615 y Fq(where)f({)h
Fr(decl)q(s)1309 622 y Fj(i)1346 615 y Fq(})31 688 y Fu(\(b\))49
b Fq(case)24 b Fr(e)282 695 y Fo(0)324 688 y Fq(of)g({)g Fr(p)g
Fq(|)f Fr(g)560 695 y Fo(1)602 688 y Fq(->)h Fr(e)695 695 y
Fo(1)738 688 y Fq(;)f Fr(:)8 b(:)g(:)492 745 y Fq(|)24 b Fr(g)562
752 y Fj(n)608 745 y Fq(->)g Fr(e)701 752 y Fj(n)747 745 y
Fq(where)f({)h Fr(decl)q(s)f Fq(})436 801 y(_)143 b(->)24 b
Fr(e)696 785 y Fi(0)731 801 y Fq(})141 858 y Fu(=)h Fq(let)e({)h
Fr(y)i Fq(=)d Fr(e)460 841 y Fi(0)496 858 y Fq(})72 b Fu(\(where)15
b Fr(y)i Fu(is)e(a)g(completely)i(new)e(v)m(ariable\))213 914
y Fq(in)48 b(case)23 b Fr(e)449 921 y Fo(0)492 914 y Fq(of)g({)356
971 y Fr(p)h Fq(->)g(let)f({)h Fr(decl)q(s)f Fq(})h(in)523
1027 y(if)g Fr(g)617 1034 y Fo(1)659 1027 y Fq(then)f Fr(e)799
1034 y Fo(1)842 1027 y Fr(:)8 b(:)g(:)29 b Fq(else)24 b(if)f
Fr(g)1139 1034 y Fj(n)1186 1027 y Fq(then)g Fr(e)1326 1034
y Fj(n)1372 1027 y Fq(else)h Fr(y)356 1084 y Fq(_)g(->)g Fr(y)h
Fq(})34 1157 y Fu(\(c\))51 b Fq(case)24 b Fr(e)282 1164 y Fo(0)324
1157 y Fq(of)g({)g(~)p Fr(p)f Fq(->)h Fr(e)p Fq(;)g(_)g(->)f
Fr(e)795 1140 y Fi(0)831 1157 y Fq(})141 1213 y Fu(=)i Fq(let)e({)h
Fr(y)i Fq(=)d Fr(e)460 1220 y Fo(0)503 1213 y Fq(})h(in)213
1270 y(let)g({)f Fr(x)382 1253 y Fi(0)382 1281 y Fo(1)425 1270
y Fq(=)g(case)h Fr(y)i Fq(of)d({)h Fr(p)g Fq(->)f Fr(x)903
1277 y Fo(1)946 1270 y Fq(}})g(in)h Fr(:)8 b(:)g(:)213 1326
y Fq(let)24 b({)f Fr(x)382 1310 y Fi(0)382 1337 y Fj(n)429
1326 y Fq(=)g(case)h Fr(y)i Fq(of)d({)h Fr(p)g Fq(->)f Fr(x)907
1333 y Fj(n)954 1326 y Fq(}})g(in)h Fr(e)8 b Fu([)p Fr(x)1165
1310 y Fi(0)1165 1337 y Fo(1)1183 1326 y Fr(=x)1232 1333 y
Fo(1)1250 1326 y Fr(;)g(:)g(:)g(:)d(;)j(x)1378 1310 y Fi(0)1378
1337 y Fj(n)1400 1326 y Fr(=x)1449 1333 y Fj(n)1471 1326 y
Fu(])141 1391 y Fr(x)167 1398 y Fo(1)186 1391 y Fr(;)g(:)g(:)g(:)d(;)j(x)314
1398 y Fj(n)351 1391 y Fu(are)15 b(all)h(the)f(v)m(ariables)i(in)f
Fr(p)p Fu(;)e Fr(y)r(;)8 b(x)931 1374 y Fi(0)931 1402 y Fo(1)949
1391 y Fr(;)g(:)g(:)g(:)d(;)j(x)1077 1374 y Fi(0)1077 1402
y Fj(n)1114 1391 y Fu(are)15 b(completely)h(new)g(v)m(ariables)31
1464 y(\(d\))49 b Fq(case)24 b Fr(e)282 1471 y Fo(0)324 1464
y Fq(of)g({)g Fr(x)p Fq(@)p Fr(p)f Fq(->)h Fr(e)p Fq(;)g(_)g(->)f
Fr(e)821 1447 y Fi(0)857 1464 y Fq(})141 1520 y Fu(=)i Fq(let)e({)h
Fr(y)i Fq(=)d Fr(e)460 1527 y Fo(0)503 1520 y Fq(})71 b Fu(\(where)16
b Fr(y)h Fu(is)e(a)g(completely)i(new)e(v)m(ariable\))213 1577
y Fq(in)48 b(case)23 b Fr(y)j Fq(of)d({)h Fr(p)g Fq(->)f(\()h(\\)g
Fr(x)g Fq(->)f Fr(e)h Fq(\))g Fr(y)i Fq(;)d(_)h(->)g Fr(e)1259
1560 y Fi(0)1294 1577 y Fq(})34 1650 y Fu(\(e\))51 b Fq(case)24
b Fr(e)282 1657 y Fo(0)324 1650 y Fq(of)g({)g(_)g(->)f Fr(e)p
Fq(;)h(_)g(->)f Fr(e)772 1633 y Fi(0)808 1650 y Fq(})h Fu(=)g
Fr(e)p 1781 1696 V 2 1698 1782 2 v 420 1824 a Fu(Figure)16
b(3:)j(Seman)o(tics)d(of)f(Case)g(Expressions,)g(P)o(art)f(1)71
1982 y(Using)21 b(all)g(but)f(the)h(last)f(t)o(w)o(o)f(iden)o(tities)k
(\(rules)d(\(k\))g(and)h(\(l\)\))f(in)h(Figure)g(4)f(in)h(a)f(left-to-righ)o
(t)0 2038 y(manner)g(yields)i(a)d(translation)h(in)o(to)g(a)g(subset)g(of)g
(general)h Fq(case)e Fu(expressions)i(called)h Fp(simple)e(c)n(ase)0
2094 y(expr)n(essions)p Fu(.)37 b(Rule)23 b(\(a\))e(matc)o(hes)g(a)g(general)
h(source-language)g Fq(case)f Fu(expression,)j(regardless)d(of)0
2151 y(whether)16 b(it)f(actually)i(includes)h(guards|if)e(no)f(guards)g(are)
g(written,)h(then)f Fq(True)g Fu(is)h(substituted)h(for)0 2207
y(the)h(guards)f Fr(g)252 2214 y Fj(i;j)309 2207 y Fu(in)h(the)g
Fr(match)571 2214 y Fj(i)603 2207 y Fu(forms.)26 b(Subsequen)o(t)19
b(iden)o(tities)g(manipulate)g(the)f(resulting)h Fq(case)0
2264 y Fu(expression)i(in)o(to)f(simpler)h(and)f(simpler)i(forms.)33
b(The)20 b(seman)o(tics)g(of)g(simple)h Fq(case)f Fu(expressions)g(is)0
2320 y(giv)o(en)c(b)o(y)f(the)g(last)g(t)o(w)o(o)f(iden)o(tities)j(\(\(k\))d
(and)i(\(l\)\).)71 2402 y(Rules)k(\(g\))d(and)i(\(h\))f(in)h(Figure)g(4)f(in)
o(v)o(olv)o(e)i(the)e(o)o(v)o(erloaded)h(op)q(erators)e Fq(==)i
Fu(and)f Fq(>=)p Fu(;)i(it)f(is)g(these)0 2458 y(rules)d(that)e(de\014ne)j
(the)e(meaning)h(of)f(pattern-matc)o(hing)g(against)f(o)o(v)o(erloaded)i
(constan)o(ts.)71 2539 y(These)e(iden)o(tities)h(all)g(preserv)o(e)f(the)g
(static)g(seman)o(tics.)19 b(Rules)d(\(d\))d(and)h(\(j\))f(use)i(a)e(lam)o(b)
q(da)i(rather)0 2596 y(than)h(a)h Fq(let)o Fu(;)g(this)g(indicates)h(that)e
(v)m(ariables)i(b)q(ound)f(b)o(y)g Fq(case)f Fu(are)g(monomorphically)i(t)o
(yp)q(ed)f(\(Sec-)0 2652 y(tion)e(4.1.3\).)p eop
%%Page: 23 37
bop 150 50 a Ft(3.14)44 b(P)o(attern-Matc)o(hing)1275 b Fu(23)p
152 791 1782 2 v 152 1960 2 1169 v 185 863 a(\(f)t(\))52 b
Fq(case)24 b Fr(e)432 870 y Fo(0)474 863 y Fq(of)g({)g Fr(K)18
b(p)674 870 y Fo(1)700 863 y Fr(:)8 b(:)g(:)d(p)783 870 y Fj(n)830
863 y Fq(->)23 b Fr(e)p Fq(;)h(_)g(->)g Fr(e)1111 847 y Fi(0)1146
863 y Fq(})291 919 y Fu(=)h Fq(let)e({)h Fr(y)i Fq(=)d Fr(e)610
903 y Fi(0)646 919 y Fq(})363 976 y(in)48 b(case)23 b Fr(e)599
983 y Fo(0)642 976 y Fq(of)g({)411 1032 y Fr(K)18 b(x)494 1039
y Fo(1)520 1032 y Fr(:)8 b(:)g(:)e(x)607 1039 y Fj(n)653 1032
y Fq(->)24 b(case)f Fr(x)870 1039 y Fo(1)912 1032 y Fq(of)h({)769
1089 y Fr(p)792 1096 y Fo(1)834 1089 y Fq(->)g Fr(:)8 b(:)g(:)22
b Fq(case)h Fr(x)1128 1096 y Fj(n)1174 1089 y Fq(of)h({)g Fr(p)1317
1096 y Fj(n)1363 1089 y Fq(->)g Fr(e)g Fq(;)f(_)h(->)g Fr(y)h
Fq(})f Fr(:)8 b(:)g(:)769 1145 y Fq(_)47 b(->)24 b Fr(y)i Fq(})411
1202 y(_)e(->)f Fr(y)j Fq(})291 1267 y Fu(at)15 b(least)g(one)h(of)e
Fr(p)611 1274 y Fo(1)630 1267 y Fr(;)8 b(:)g(:)g(:)d(;)j(p)755
1274 y Fj(n)792 1267 y Fu(is)15 b(not)g(a)g(v)m(ariable;)h
Fr(y)r(;)8 b(x)1210 1274 y Fo(1)1228 1267 y Fr(;)g(:)g(:)g(:)d(;)j(x)1356
1274 y Fj(n)1393 1267 y Fu(are)15 b(new)g(v)m(ariables)182
1340 y(\(g\))50 b Fq(case)24 b Fr(e)432 1347 y Fo(0)474 1340
y Fq(of)g({)g Fr(k)h Fq(->)e Fr(e)p Fq(;)h(_)g(->)g Fr(e)924
1323 y Fi(0)959 1340 y Fq(})g Fu(=)g Fq(if)g(\()p Fr(e)1183
1347 y Fo(0)1225 1340 y Fq(==)g Fr(k)q Fq(\))g(then)f Fr(e)h
Fq(else)f Fr(e)1674 1323 y Fi(0)181 1413 y Fu(\(h\))49 b Fq(case)24
b Fr(e)432 1420 y Fo(0)474 1413 y Fq(of)g({)g Fr(x)p Fq(+)p
Fr(k)h Fq(->)e Fr(e)p Fq(;)h(_)g(->)f Fr(e)973 1396 y Fi(0)1009
1413 y Fq(})291 1469 y Fu(=)i Fq(if)e Fr(e)443 1476 y Fo(0)486
1469 y Fq(>=)h Fr(k)g Fq(then)g(let)f({)p Fr(x)871 1453 y Fi(0)907
1469 y Fq(=)g Fr(e)975 1476 y Fo(0)994 1469 y Fq(-)p Fr(k)q
Fq(})h(in)f Fr(e)p Fu([)p Fr(x)1222 1453 y Fi(0)1234 1469 y
Fr(=x)p Fu(])g Fq(else)g Fr(e)1459 1453 y Fi(0)1495 1469 y
Fu(\()p Fr(x)1539 1453 y Fi(0)1565 1469 y Fu(is)16 b(a)f(new)g(v)m(ariable\))
187 1542 y(\(i\))56 b Fq(case)24 b Fr(e)432 1549 y Fo(0)474
1542 y Fq(of)g({)g Fr(x)g Fq(->)f Fr(e)p Fq(;)h(_)g(->)f Fr(e)924
1526 y Fi(0)960 1542 y Fq(})h Fu(=)g Fq(case)f Fr(e)1207 1549
y Fo(0)1250 1542 y Fq(of)h({)f Fr(x)h Fq(->)g Fr(e)g Fq(})187
1615 y Fu(\(j\))54 b Fq(case)24 b Fr(e)432 1622 y Fo(0)474
1615 y Fq(of)g({)g Fr(x)g Fq(->)f Fr(e)h Fq(})g Fu(=)g Fq(\()g(\\)g
Fr(x)f Fq(->)h Fr(e)g Fq(\))g Fr(e)1198 1622 y Fo(0)182 1688
y Fu(\(k\))49 b Fq(case)24 b(\()p Fr(K)477 1672 y Fi(0)512
1688 y Fr(e)533 1695 y Fo(1)576 1688 y Fr(:)8 b(:)g(:)22 b(e)674
1695 y Fj(m)705 1688 y Fq(\))i(of)g({)f Fr(K)k(x)964 1695 y
Fo(1)1007 1688 y Fr(:)8 b(:)g(:)21 b(x)1109 1695 y Fj(n)1156
1688 y Fq(->)i Fr(e)p Fq(;)h(_)g(->)g Fr(e)1437 1672 y Fi(0)1472
1688 y Fq(})g Fu(=)g Fr(e)1600 1672 y Fi(0)291 1745 y Fu(where)16
b Fr(K)i Fu(and)d Fr(K)610 1728 y Fi(0)637 1745 y Fu(are)g(distinct)h
(constructors)f(of)f(arit)o(y)h Fr(n)h Fu(and)f Fr(m)p Fu(,)g(resp)q(ectiv)o
(ely)187 1818 y(\(l\))56 b Fq(case)24 b(\()p Fr(K)i(e)521 1825
y Fo(1)564 1818 y Fr(:)8 b(:)g(:)22 b(e)662 1825 y Fj(n)685
1818 y Fq(\))h(of)h({)g Fr(K)i(x)943 1825 y Fo(1)986 1818 y
Fr(:)8 b(:)g(:)22 b(x)1089 1825 y Fj(n)1135 1818 y Fq(->)i
Fr(e)p Fq(;)g(_)f(->)h Fr(e)1416 1801 y Fi(0)1452 1818 y Fq(})291
1874 y Fu(=)49 b Fq(case)23 b Fr(e)515 1881 y Fo(1)558 1874
y Fq(of)g({)h Fr(x)703 1858 y Fi(0)703 1885 y Fo(1)745 1874
y Fq(->)g Fr(:)8 b(:)g(:)46 b Fq(case)23 b Fr(e)1058 1881 y
Fj(n)1105 1874 y Fq(of)g({)h Fr(x)1250 1858 y Fi(0)1250 1885
y Fj(n)1296 1874 y Fq(->)g Fr(e)p Fu([)p Fr(x)1428 1858 y Fi(0)1428
1885 y Fo(1)1446 1874 y Fr(=x)1495 1881 y Fo(1)1521 1874 y
Fr(:)8 b(:)g(:)e(x)1608 1858 y Fi(0)1608 1885 y Fj(n)1630 1874
y Fr(=x)1679 1881 y Fj(n)1702 1874 y Fu(])23 b Fq(})p Fr(:)8
b(:)g(:)n Fq(})291 1931 y Fu(where)16 b Fr(K)i Fu(is)e(a)f(constructor)f(of)h
(arit)o(y)f Fr(n)p Fu(;)h Fr(x)1045 1914 y Fi(0)1045 1942 y
Fo(1)1072 1931 y Fr(:)8 b(:)g(:)d(x)1158 1914 y Fi(0)1158 1942
y Fj(n)1196 1931 y Fu(are)15 b(completely)h(new)g(v)m(ariables)p
1931 1960 V 152 1962 1782 2 v 570 2089 a(Figure)g(4:)j(Seman)o(tics)d(of)f
(Case)g(Expressions,)g(P)o(art)f(2)p eop
%%Page: 24 38
bop 0 50 a Fu(24)955 b Ft(4)45 b(DECLARA)l(TIONS)17 b(AND)e(BINDINGS)0
199 y Fy(4)67 b(Declarations)22 b(and)h(Bindings)0 326 y Fu(In)16
b(this)f(section,)h(w)o(e)f(describ)q(e)i(the)e(syn)o(tax)f(and)i(informal)f
(seman)o(tics)h(of)f(Hask)o(ell)h Fp(de)n(clar)n(ations)p Fu(.)0
457 y Fp(mo)n(dule)71 b Fl(!)59 b Fq(module)15 b Fp(mo)n(did)22
b Fu([)p Fp(exp)n(orts)t Fu(])15 b Fq(where)g Fp(b)n(o)n(dy)225
513 y Fl(j)75 b Fp(b)n(o)n(dy)0 570 y(b)n(o)n(dy)124 b Fl(!)59
b Fq({)16 b Fu([)p Fp(imp)n(de)n(cls)i Fq(;)p Fu(])e([[)p Fp(\014xde)n(cls)i
Fq(;)p Fu(])e Fp(top)n(de)n(cls)j Fu([)p Fq(;)o Fu(]])d Fq(})225
626 y Fl(j)75 b Fq({)16 b Fp(imp)n(de)n(cls)j Fu([)p Fq(;)o
Fu(])d Fq(})0 739 y Fp(top)n(de)n(cls)56 b Fl(!)j Fp(top)n(de)n(cl)447
746 y Fk(1)486 739 y Fq(;)24 b Fr(:)8 b(:)g(:)21 b Fq(;)c Fp(top)n(de)n(cl)
785 746 y Fk(n)1299 739 y Fu(\()p Fp(n)e Fl(\025)e Fp(1)6 b
Fu(\))0 796 y Fp(top)n(de)n(cl)75 b Fl(!)59 b Fq(type)15 b
Fp(simple)k Fq(=)e Fp(typ)n(e)225 852 y Fl(j)75 b Fq(data)15
b Fu([)p Fp(c)n(ontext)20 b Fq(=>)p Fu(])c Fp(simple)j Fq(=)d
Fp(c)n(onstrs)j Fu([)p Fq(deriving)c Fu(\()p Fp(tycls)k Fl(j)c
Fq(\()p Fp(tyclses)t Fq(\))o Fu(\)])225 908 y Fl(j)75 b Fq(class)15
b Fu([)p Fp(c)n(ontext)20 b Fq(=>)p Fu(])c Fp(class)j Fu([)p
Fq(where)c({)h Fp(cb)n(o)n(dy)k Fu([)p Fq(;)o Fu(])c Fq(})p
Fu(])225 965 y Fl(j)75 b Fq(instance)15 b Fu([)p Fp(c)n(ontext)20
b Fq(=>)o Fu(])c Fp(tycls)j(inst)h Fu([)p Fq(where)15 b({)i
Fp(valdefs)i Fu([)p Fq(;)o Fu(])d Fq(})p Fu(])225 1021 y Fl(j)75
b Fq(default)15 b Fu(\()p Fp(typ)n(e)k Fl(j)d Fq(\()p Fp(typ)n(e)744
1028 y Fk(1)784 1021 y Fq(,)23 b Fr(:)8 b(:)g(:)22 b Fq(,)16
b Fp(typ)n(e)1027 1028 y Fk(n)1051 1021 y Fq(\))p Fu(\))206
b(\()p Fp(n)15 b Fl(\025)e Fp(0)6 b Fu(\))225 1078 y Fl(j)75
b Fp(de)n(cl)0 1191 y(de)n(cls)115 b Fl(!)59 b Fp(de)n(cl)388
1198 y Fk(1)427 1191 y Fq(;)23 b Fr(:)8 b(:)g(:)22 b Fq(;)16
b Fp(de)n(cl)666 1198 y Fk(n)1299 1191 y Fu(\()p Fp(n)f Fl(\025)e
Fp(0)6 b Fu(\))0 1247 y Fp(de)n(cl)134 b Fl(!)59 b Fp(vars)20
b Fq(::)c Fu([)p Fp(c)n(ontext)j Fq(=>)p Fu(])d Fp(typ)n(e)225
1304 y Fl(j)75 b Fp(valdef)71 1435 y Fu(The)16 b(declarations)h(in)g(the)f
(syn)o(tactic)g(category)f Fp(top)n(de)n(cls)k Fu(are)d(only)h(allo)o(w)o(ed)
f(at)g(the)g(top)g(lev)o(el)h(of)0 1491 y(a)g(Hask)o(ell)h(mo)q(dule)h(\(see)
e(Section)h(5\),)f(whereas)g Fp(de)n(cls)j Fu(ma)o(y)d(b)q(e)h(used)g(either)
g(at)e(the)i(top)f(lev)o(el)h(or)f(in)0 1548 y(nested)f(scop)q(es)f(\(i.e.)g
(those)g(within)i(a)d Fq(let)h Fu(or)g Fq(where)f Fu(construct\).)71
1629 y(F)l(or)19 b(exp)q(osition,)j(w)o(e)d(divide)j(the)e(declarations)h(in)
o(to)f(three)f(groups:)29 b(user-de\014ned)22 b(datat)o(yp)q(es,)0
1686 y(consisting)c(of)e Fq(type)h Fu(and)g Fq(data)f Fu(declarations)i
(\(Section)g(4.2\);)e(t)o(yp)q(e)h(classes)g(and)h(o)o(v)o(erloading,)f(con-)
0 1742 y(sisting)12 b(of)e Fq(class)o Fu(,)i Fq(instance)o
Fu(,)f(and)g Fq(default)f Fu(declarations)i(\(Section)f(4.3\);)g(and)g
(nested)h(declarations,)0 1798 y(consisting)k(of)f(v)m(alue)h(bindings)h(and)
f(t)o(yp)q(e)f(signatures)g(\(Section)h(4.4\).)71 1880 y(Hask)o(ell)22
b(has)f(sev)o(eral)h(primitiv)o(e)h(datat)o(yp)q(es)e(that)g(are)g
(\\hard-wired")h(\(suc)o(h)g(as)f(in)o(tegers)h(and)0 1936
y(arra)o(ys\),)e(but)g(most)g(\\built-in")i(datat)o(yp)q(es)e(are)g
(de\014ned)i(in)g(the)e(standard)g(prelude)i(with)f(normal)0
1993 y(Hask)o(ell)c(co)q(de,)g(using)g Fq(type)f Fu(and)h Fq(data)f
Fu(declarations.)24 b(These)17 b(\\built-in")h(datat)o(yp)q(es)e(are)g
(describ)q(ed)0 2049 y(in)g(detail)g(in)g(Section)g(6.)0 2196
y Fx(4.1)56 b(Ov)n(erview)17 b(of)i(T)n(yp)r(es)f(and)h(Classes)0
2307 y Fu(Hask)o(ell)c(uses)f(a)g(traditional)h(Hindley-Milner)i(p)q
(olymorphic)f(t)o(yp)q(e)e(system)f(to)h(pro)o(vide)g(a)g(static)g(t)o(yp)q
(e)0 2363 y(seman)o(tics)i([4)o(,)g(7],)f(but)h(the)g(t)o(yp)q(e)g(system)g
(has)g(b)q(een)h(extended)g(with)f Fp(typ)n(e)h(classes)d Fu(\(or)h(just)h
Fp(classes)p Fu(\))0 2419 y(that)11 b(pro)o(vide)i(a)f(structured)g(w)o(a)o
(y)f(to)h(in)o(tro)q(duce)h Fp(overlo)n(ade)n(d)f Fu(functions.)19
b(This)13 b(is)g(the)f(ma)s(jor)e(tec)o(hnical)0 2476 y(inno)o(v)m(ation)16
b(in)g(Hask)o(ell.)71 2557 y(A)21 b Fq(class)g Fu(declaration)h(\(Section)g
(4.3.1\))e(in)o(tro)q(duces)i(a)f(new)h Fp(typ)n(e)g(class)f
Fu(and)g(the)h(o)o(v)o(erloaded)0 2614 y Fp(op)n(er)n(ations)g
Fu(that)g(m)o(ust)g(b)q(e)i(supp)q(orted)f(b)o(y)f(an)o(y)h(t)o(yp)q(e)g
(that)e(is)j(an)e(instance)i(of)e(that)g(class.)43 b(An)0 2670
y Fq(instance)21 b Fu(declaration)h(\(Section)g(4.3.2\))e(declares)i(that)f
(a)h(t)o(yp)q(e)f(is)i(an)e Fp(instanc)n(e)f Fu(of)h(a)h(class)g(and)p
eop
%%Page: 25 39
bop 150 50 a Ft(4.1)45 b(Ov)o(erview)15 b(of)g(T)o(yp)q(es)h(and)f(Classes)
1033 b Fu(25)150 199 y(includes)18 b(the)f(de\014nitions)g(of)f(the)g(o)o(v)o
(erloaded)g(op)q(erations|called)j Fp(metho)n(ds)p Fu(|instan)o(tiated)e(on)f
(the)150 256 y(named)f(t)o(yp)q(e.)221 334 y(F)l(or)f(example,)h(supp)q(ose)g
(w)o(e)f(wish)h(to)f(o)o(v)o(erload)g(the)h(op)q(erations)g
Fq(\(+\))f Fu(and)h Fq(negate)e Fu(on)i(t)o(yp)q(es)f Fq(Int)150
391 y Fu(and)h Fq(Float)p Fu(.)20 b(W)l(e)15 b(in)o(tro)q(duce)h(a)f(new)g(t)
o(yp)q(e)h(class)f(called)i Fq(Num)o Fu(:)221 465 y Fq(class)23
b(Num)g(a)48 b(where)238 b(--)23 b(simplified)g(class)g(declaration)f(for)i
(Num)268 522 y(\(+\))95 b(::)24 b(a)g(->)f(a)h(->)g(a)268 578
y(negate)f(::)h(a)g(->)f(a)150 656 y Fu(This)18 b(declaration)g(ma)o(y)f(b)q
(e)h(read)f(\\a)g(t)o(yp)q(e)h Fq(a)f Fu(is)h(an)f(instance)h(of)f(the)h
(class)g Fq(Num)f Fu(if)g(there)h(are)f(\(o)o(v)o(er-)150 712
y(loaded\))f(op)q(erations)f Fq(\(+\))g Fu(and)g Fq(negate)o
Fu(,)g(of)g(the)g(appropriate)g(t)o(yp)q(es,)g(de\014ned)i(on)e(it.")221
791 y(W)l(e)g(ma)o(y)f(then)i(declare)g Fq(Int)f Fu(and)g Fq(Float)g
Fu(to)f(b)q(e)i(instances)g(of)f(this)g(class:)221 865 y Fq(instance)22
b(Num)i(Int)47 b(where)119 b(--)23 b(simplified)g(instance)g(of)g(Num)h(Int)
268 922 y(x)g(+)g(y)167 b(=)47 b(addInt)23 b(x)h(y)268 978
y(negate)f(x)96 b(=)47 b(negateInt)23 b(x)221 1058 y(instance)f(Num)i(Float)
47 b(where)71 b(--)23 b(simplified)g(instance)g(of)g(Num)h(Float)268
1114 y(x)g(+)g(y)167 b(=)47 b(addFloat)23 b(x)h(y)268 1171
y(negate)f(x)96 b(=)47 b(negateFloat)23 b(x)150 1245 y Fu(where)e
Fq(addInt)o Fu(,)h Fq(negateInt)o Fu(,)g Fq(addFloat)o Fu(,)f(and)g
Fq(negateFloat)f Fu(are)g(assumed)h(in)h(this)f(case)g(to)f(b)q(e)150
1302 y(primitiv)o(e)15 b(functions,)f(but)f(in)h(general)g(could)h(b)q(e)f
(an)o(y)f(user-de\014ned)i(function.)20 b(The)13 b(\014rst)g(declaration)150
1358 y(ab)q(o)o(v)o(e)18 b(ma)o(y)f(b)q(e)i(read)f(\\)p Fq(Int)f
Fu(is)i(an)f(instance)h(of)e(the)h(class)h Fq(Num)e Fu(as)h(witnessed)h(b)o
(y)f(these)g(de\014nitions)150 1415 y(\(i.e.)d(metho)q(ds\))g(for)f
Fq(\(+\))h Fu(and)h Fq(negate)o Fu(.")221 1493 y(More)e(examples)i(can)f(b)q
(e)h(found)g(in)g(W)l(adler)g(and)f(Blott's)g(pap)q(er)g([21)o(].)150
1634 y Fs(4.1.1)52 b(Syn)o(tax)17 b(of)g(T)o(yp)q(es)150 1742
y Fp(typ)n(e)130 b Fl(!)59 b Fp(btyp)n(e)19 b Fu([)p Fq(->)d
Fp(typ)n(e)s Fu(])150 1855 y Fp(btyp)n(e)109 b Fl(!)59 b Fp(tyc)n(on)19
b(atyp)n(e)689 1862 y Fk(1)736 1855 y Fr(:)8 b(:)g(:)22 b Fp(atyp)n(e)915
1862 y Fk(k)1339 1855 y Fu(\(arit)o(y)16 b Fp(tyc)n(on)g Fu(=)d
Fp(k)5 b Fr(;)23 b Fp(k)17 b Fl(\025)c Fp(1)6 b Fu(\))375 1912
y Fl(j)75 b Fp(atyp)n(e)150 2024 y(atyp)n(e)107 b Fl(!)59 b
Fp(tyvar)375 2081 y Fl(j)75 b Fp(tyc)n(on)771 b Fu(\(arit)o(y)16
b Fp(tyc)n(on)g Fu(=)d Fp(0)6 b Fu(\))375 2137 y Fl(j)75 b
Fq(\(\))828 b Fu(\(unit)16 b(t)o(yp)q(e\))375 2194 y Fl(j)75
b Fq(\()16 b Fp(typ)n(e)j Fq(\))714 b Fu(\(paren)o(thesised)16
b(t)o(yp)q(e\))375 2250 y Fl(j)75 b Fq(\()16 b Fp(typ)n(e)582
2257 y Fk(1)621 2250 y Fq(,)24 b Fr(:)8 b(:)g(:)22 b Fq(,)16
b Fp(typ)n(e)865 2257 y Fk(k)902 2250 y Fq(\))413 b Fu(\(tuple)16
b(t)o(yp)q(e)p Fr(;)24 b Fp(k)17 b Fl(\025)c Fp(2)6 b Fu(\))375
2307 y Fl(j)75 b Fq([)16 b Fp(typ)n(e)j Fq(])150 2425 y Fu(The)12
b(syn)o(tax)g(for)f(Hask)o(ell)j Fp(typ)n(e)f(expr)n(essions)e
Fu(is)h(giv)o(en)h(ab)q(o)o(v)o(e.)18 b(They)13 b(are)f(built)h(in)g(the)g
(usual)g(w)o(a)o(y)e(from)150 2482 y(t)o(yp)q(e)19 b(v)m(ariables,)i
(function)e(t)o(yp)q(es,)g(t)o(yp)q(e)g(constructors,)g(tuple)h(t)o(yp)q(es,)
f(and)g(list)h(t)o(yp)q(es.)30 b(T)o(yp)q(e)19 b(v)m(ari-)150
2538 y(ables)d(are)e(iden)o(ti\014ers)j(b)q(eginning)g(with)e(a)g(lo)o(w)o
(er-case)f(letter)i(and)f(t)o(yp)q(e)g(constructors)f(are)g(iden)o(ti\014ers)
150 2595 y(b)q(eginning)j(with)f(an)f(upp)q(er-case)h(letter.)k(A)c(t)o(yp)q
(e)f(is)h(one)f(of:)206 2704 y(1.)22 b(A)15 b Fp(function)h(typ)n(e)f
Fu(ha)o(ving)g(form)g Fp(t)855 2711 y Fk(1)895 2704 y Fq(->)h
Fp(t)974 2711 y Fk(2)997 2704 y Fu(.)k(F)l(unction)c(arro)o(ws)e(asso)q
(ciate)h(to)f(the)i(righ)o(t.)p eop
%%Page: 26 40
bop 0 50 a Fu(26)955 b Ft(4)45 b(DECLARA)l(TIONS)17 b(AND)e(BINDINGS)56
199 y Fu(2.)22 b(A)14 b Fp(c)n(onstructe)n(d)g(typ)n(e)g Fu(ha)o(ving)g(form)
f Fp(T)22 b(t)813 206 y Fk(1)860 199 y Fr(:)8 b(:)g(:)22 b
Fp(t)952 206 y Fk(k)973 199 y Fu(,)14 b(where)g Fp(T)20 b Fu(is)14
b(a)g(t)o(yp)q(e)g(constructor)f(of)g(arit)o(y)h Fp(k)t Fu(.)56
292 y(3.)22 b(A)15 b Fp(tuple)i(typ)n(e)f Fu(ha)o(ving)f(form)g
Fq(\()p Fp(t)663 299 y Fk(1)687 292 y Fq(,)23 b Fr(:)8 b(:)g(:)e
Fq(,)16 b Fp(t)850 299 y Fk(k)871 292 y Fq(\))g Fu(where)f
Fp(k)j Fl(\025)13 b Fp(2)6 b Fu(.)21 b(It)16 b(denotes)g(the)f(t)o(yp)q(e)h
(of)f Fp(k)5 b Fu(-tuples)114 348 y(with)15 b(the)g(\014rst)g(comp)q(onen)o
(t)g(of)f(t)o(yp)q(e)h Fp(t)789 355 y Fk(1)813 348 y Fu(,)g(the)g(second)g
(comp)q(onen)o(t)g(of)g(t)o(yp)q(e)g Fp(t)1466 355 y Fk(2)1490
348 y Fu(,)f(and)h(so)g(on)g(\(see)114 405 y(Sections)h(3.7)e(and)h(6.5\).)56
497 y(4.)22 b(A)15 b Fp(list)h(typ)n(e)g Fu(has)f(the)h(form)e
Fq([)p Fp(t)t Fq(])p Fu(.)21 b(It)16 b(denotes)g(the)f(t)o(yp)q(e)h(of)f
(lists)h(with)g(elemen)o(ts)g(of)f(t)o(yp)q(e)h Fp(t)k Fu(\(see)114
553 y(Sections)c(3.6)e(and)h(6.4\).)56 646 y(5.)22 b(The)15
b Fp(trivial)h(typ)n(e)f Fu(ha)o(ving)g(form)f Fq(\(\))p Fu(.)20
b(It)15 b(denotes)g(the)g(\\n)o(ullary)g(tuple")h(t)o(yp)q(e,)f(and)g(has)g
(exactly)114 702 y(one)g(v)m(alue,)h(also)f(written)g Fq(\(\))g
Fu(\(see)g(Sections)h(3.8)f(and)g(6.6\).)56 795 y(6.)22 b(A)15
b Fp(p)n(ar)n(enthesise)n(d)g(typ)n(e)p Fu(,)g(ha)o(ving)g(form)f
Fq(\()p Fp(t)t Fq(\))q Fu(,)g(is)i(iden)o(tical)h(to)e(the)g(t)o(yp)q(e)g
Fp(t)5 b Fu(.)71 908 y(Although)19 b(the)h(tuple,)g(list,)h(and)e(trivial)i
(t)o(yp)q(es)e(ha)o(v)o(e)g(sp)q(ecial)i(syn)o(tax,)e(they)g(are)g(not)g
(di\013eren)o(t)0 965 y(from)14 b(user-de\014ned)j(t)o(yp)q(es)f(with)f
(equiv)m(alen)o(t)i(functionalit)o(y)l(.)71 1045 y(Expressions)c(and)g(t)o
(yp)q(es)g(ha)o(v)o(e)f(a)h(consisten)o(t)f(syn)o(tax.)19 b(If)13
b Fp(t)1087 1052 y Fk(i)1115 1045 y Fu(is)g(the)g(t)o(yp)q(e)g(of)f
(expression)i(or)e(pattern)0 1101 y Fp(e)21 1108 y Fk(i)36
1101 y Fu(,)17 b(then)g(the)f(expressions)i Fq(\(\\)e Fp(e)574
1108 y Fk(1)613 1101 y Fq(->)g Fp(e)698 1108 y Fk(2)722 1101
y Fq(\))o Fu(,)h Fq([)p Fp(e)820 1108 y Fk(1)843 1101 y Fq(])p
Fu(,)f(and)h Fq(\()p Fp(e)1031 1108 y Fk(1)1054 1101 y Fr(;)8
b Fp(e)1096 1108 y Fk(2)1119 1101 y Fq(\))16 b Fu(ha)o(v)o(e)g(the)h(t)o(yp)q
(es)g Fq(\()o Fp(t)1505 1108 y Fk(1)1545 1101 y Fq(->)f Fp(t)1624
1108 y Fk(2)1648 1101 y Fq(\))p Fu(,)g Fq([)p Fp(t)1740 1108
y Fk(1)1764 1101 y Fq(])o Fu(,)0 1158 y(and)f Fq(\()p Fp(t)127
1165 y Fk(1)151 1158 y Fr(;)8 b Fp(t)187 1165 y Fk(2)210 1158
y Fq(\))o Fu(,)15 b(resp)q(ectiv)o(ely)l(.)71 1237 y(With)h(one)g(exception,)
h(the)f(t)o(yp)q(e)g(v)m(ariables)h(in)g(a)f(Hask)o(ell)h(t)o(yp)q(e)f
(expression)h(are)f(all)g(assumed)h(to)0 1294 y(b)q(e)d(univ)o(ersally)i
(quan)o(ti\014ed;)f(there)f(is)g(no)g(explicit)i(syn)o(tax)d(for)g(univ)o
(ersal)i(quan)o(ti\014cation)f([4,)f(17].)19 b(F)l(or)0 1350
y(example,)d(the)g(t)o(yp)q(e)f(expression)i Fq(a)24 b(->)f(a)16
b Fu(denotes)f(the)h(t)o(yp)q(e)g Fl(8)p Fr(a:)f(a)e Fl(!)h
Fr(a)p Fu(.)21 b(F)l(or)15 b(clarit)o(y)l(,)h(ho)o(w)o(ev)o(er,)e(w)o(e)0
1407 y(will)j(often)e(write)g(quan)o(ti\014cation)h(explicitly)i(when)e
(discussing)g(the)g(t)o(yp)q(es)f(of)g(Hask)o(ell)h(programs.)71
1487 y(The)d(exception)h(referred)f(to)f(is)i(that)e(of)g(the)i
(distinguished)h(t)o(yp)q(e)e(v)m(ariable)h(in)g(a)f(class)g(declaration)0
1543 y(\(Section)j(4.3.1\).)0 1686 y Fs(4.1.2)52 b(Syn)o(tax)17
b(of)g(Class)h(Assertions)e(and)i(Con)o(texts)0 1795 y Fp(c)n(ontext)69
b Fl(!)59 b Fp(class)225 1852 y Fl(j)75 b Fq(\()16 b Fp(class)447
1859 y Fk(1)485 1852 y Fq(,)24 b Fr(:)8 b(:)g(:)22 b Fq(,)16
b Fp(class)744 1859 y Fk(n)783 1852 y Fq(\))382 b Fu(\()p Fp(n)16
b Fl(\025)d Fp(1)6 b Fu(\))0 1908 y Fp(class)115 b Fl(!)59
b Fp(tycls)19 b(tyvar)0 1965 y(tycls)120 b Fl(!)59 b Fp(c)n(onid)0
2021 y(tyvar)109 b Fl(!)59 b Fp(varid)0 2146 y Fu(A)15 b Fp(class)g
(assertion)f Fu(has)h(form)g Fp(tycls)k(tyvar)5 b Fu(,)15 b(and)g(indicates)i
(the)e(mem)o(b)q(ership)h(of)f(the)g(parameterised)0 2202 y(t)o(yp)q(e)g
Fp(tyvar)21 b Fu(in)16 b(the)f(class)h Fp(tycls)s Fu(.)k(A)15
b(class)g(iden)o(ti\014er)i(b)q(egins)g(with)e(a)g(capital)h(letter.)71
2282 y(A)f Fp(c)n(ontext)g Fu(consists)g(of)g(one)g(or)g(more)g(class)g
(assertions,)g(and)g(has)g(the)g(general)h(form)673 2380 y
Fq(\()g Fp(C)746 2387 y Fk(1)785 2380 y Fp(u)809 2387 y Fk(1)833
2380 y Fr(;)23 b(:)8 b(:)g(:)e(;)23 b Fp(C)999 2387 y Fk(n)1039
2380 y Fp(u)1063 2387 y Fk(n)1103 2380 y Fq(\))0 2478 y Fu(where)14
b Fp(C)163 2485 y Fk(1)186 2478 y Fr(;)23 b(:)8 b(:)g(:)e(;)23
b Fp(C)352 2485 y Fk(n)389 2478 y Fu(are)14 b(class)g(iden)o(ti\014ers,)h
(and)f Fp(u)900 2485 y Fk(1)924 2478 y Fr(;)23 b(:)8 b(:)g(:)e(;)23
b Fp(u)1081 2485 y Fk(n)1119 2478 y Fu(are)13 b(t)o(yp)q(e)h(v)m(ariables;)h
(the)f(paren)o(theses)0 2534 y(ma)o(y)g(b)q(e)i(omitted)e(when)i
Fp(n)f Fu(=)e Fp(1)7 b Fu(.)19 b(In)d(general,)f(w)o(e)f(use)h
Fp(c)j Fu(to)c(denote)h(a)f(con)o(text)g(and)h(w)o(e)g(write)g
Fp(c)k Fq(=>)d Fp(t)0 2591 y Fu(to)h(indicate)i(the)f(t)o(yp)q(e)f
Fp(t)22 b Fu(restricted)c(b)o(y)f(the)h(con)o(text)f Fp(c)s
Fu(.)26 b(The)18 b(con)o(text)f Fp(c)j Fu(m)o(ust)d(only)h(con)o(tain)g(t)o
(yp)q(e)0 2647 y(v)m(ariables)g(referenced)f(in)h Fp(t)t Fu(.)24
b(F)l(or)16 b(con)o(v)o(enience,)i(w)o(e)e(write)h Fp(c)i Fq(=>)d
Fp(t)21 b Fu(ev)o(en)c(if)g(the)f(con)o(text)g Fp(c)j Fu(is)e(empt)o(y)l(,)0
2704 y(although)e(in)h(this)g(case)f(the)h(concrete)f(syn)o(tax)f(con)o
(tains)i(no)f Fq(=>)p Fu(.)p eop
%%Page: 27 41
bop 150 50 a Ft(4.2)45 b(User-De\014ned)16 b(Datat)o(yp)q(es)1176
b Fu(27)150 199 y Fs(4.1.3)52 b(Seman)o(tics)17 b(of)h(T)o(yp)q(es)f(and)h
(Classes)150 310 y Fu(In)f(this)f(subsection,)h(w)o(e)f(pro)o(vide)h
(informal)g(details)g(of)f(the)g(t)o(yp)q(e)g(system.)23 b(\(W)l(adler)16
b(and)g(Blott)g([21)o(])150 366 y(discuss)g(t)o(yp)q(e)g(classes)f
(further.\))221 448 y(The)d(Hask)o(ell)i(t)o(yp)q(e)e(system)g(attributes)h
(a)f Fp(typ)n(e)g Fu(to)g(eac)o(h)h(expression)g(in)g(the)g(program.)18
b(In)13 b(general,)150 504 y(a)i(t)o(yp)q(e)g(is)h(of)f(the)g(form)g
Fl(8)p 599 480 27 2 v Fr(u:)g(c)d Fl(\))h Fr(t)p Fu(,)i(where)p
919 480 V 16 w Fr(u)g Fu(is)h(a)f(set)g(of)g(t)o(yp)q(e)g(v)m(ariables)h
Fp(u)1481 511 y Fk(1)1505 504 y Fr(;)24 b(:)8 b(:)g(:)d(;)24
b Fp(u)1663 511 y Fk(n)1687 504 y Fu(.)c(In)c(an)o(y)f(suc)o(h)150
561 y(t)o(yp)q(e,)k(an)o(y)f(of)g(the)g(univ)o(ersally-quan)o(ti\014ed)j(t)o
(yp)q(e)d(v)m(ariables)i Fp(u)1259 568 y Fk(i)1293 561 y Fu(whic)o(h)f(are)f
(free)g(in)i Fp(c)g Fu(m)o(ust)e(also)g(b)q(e)150 617 y(free)c(in)g
Fp(t)5 b Fu(.)19 b(F)l(urthermore,)13 b(the)h(con)o(text)f
Fp(c)j Fu(m)o(ust)d(b)q(e)i(of)e(the)h(form)f(giv)o(en)h(ab)q(o)o(v)o(e)f(in)
i(Section)f(4.1.2;)f(that)150 674 y(is,)h(it)h(m)o(ust)e(ha)o(v)o(e)h(the)g
(form)f Fq(\()p Fp(C)707 681 y Fk(1)746 674 y Fp(u)770 681
y Fk(1)794 674 y Fr(;)23 b(:)8 b(:)g(:)e(;)24 b Fp(C)961 681
y Fk(n)1000 674 y Fp(u)1024 681 y Fk(n)1048 674 y Fq(\))14
b Fu(where)g Fp(C)1249 681 y Fk(1)1272 674 y Fr(;)24 b(:)8
b(:)g(:)d(;)24 b Fp(C)1439 681 y Fk(n)1476 674 y Fu(are)14
b(class)g(iden)o(ti\014ers,)i(and)150 730 y Fp(u)174 737 y
Fk(1)198 730 y Fr(;)23 b(:)8 b(:)g(:)e(;)23 b Fp(u)355 737
y Fk(n)395 730 y Fu(are)15 b(t)o(yp)q(e)g(v)m(ariables.)221
811 y(The)20 b(t)o(yp)q(e)f(of)h(an)f(expression)i Fr(e)f Fu(dep)q(ends)h(on)
f(a)f Fp(typ)n(e)i(envir)n(onment)d Fu(that)h(giv)o(es)h(t)o(yp)q(es)g(for)f
(the)150 868 y(free)j(v)m(ariables)h(in)g Fp(e)s Fu(,)g(and)f(a)g
Fp(class)f(envir)n(onment)g Fu(that)g(declares)i(whic)o(h)f(t)o(yp)q(es)g
(are)g(instances)g(of)150 924 y(whic)o(h)17 b(classes)f(\(a)f(t)o(yp)q(e)h(b)
q(ecomes)g(an)g(instance)h(of)e(a)h(class)g(only)g(via)g(the)g(presence)h(of)
e(an)h Fq(instance)150 981 y Fu(declaration)g(or)f(a)g Fq(deriving)f
Fu(clause\).)221 1062 y(T)o(yp)q(es)e(are)g(related)h(b)o(y)g(a)f
(generalisation)i(order)e(\(sp)q(eci\014ed)i(b)q(elo)o(w\);)g(the)e(most)g
(general)h(t)o(yp)q(e)g(that)150 1119 y(can)18 b(b)q(e)g(assigned)h(to)e(a)g
(particular)i(expression)f(\(in)h(a)e(giv)o(en)h(en)o(vironmen)o(t\))g(is)g
(called)i(its)e Fp(princip)n(al)150 1175 y(typ)n(e)p Fu(.)37
b(Hask)o(ell's)22 b(extended)f(Hindley-Mil)q(ner)j(t)o(yp)q(e)d(system)f(can)
h(infer)h(the)f(principal)i(t)o(yp)q(e)e(of)g(all)150 1232
y(expressions,)14 b(including)i(the)e(prop)q(er)f(use)h(of)f(o)o(v)o
(erloaded)g(op)q(erations)h(\(although)f(certain)h(am)o(biguous)150
1288 y(o)o(v)o(erloadings)j(could)g(arise,)g(as)f(describ)q(ed)i(in)g
(Section)f(4.3.4\).)22 b(Therefore,)16 b(explicit)j(t)o(ypings)e(\(called)150
1344 y Fp(typ)n(e)f(signatur)n(es)p Fu(\))e(are)h(optional)h(\(see)f
(Sections)h(3.13)e(and)h(4.4.1\).)221 1426 y(The)g(t)o(yp)q(e)g
Fl(8)p 441 1401 V Fr(u:)f(c)514 1433 y Fo(1)545 1426 y Fl(\))f
Fr(t)619 1433 y Fo(1)653 1426 y Fu(is)j Fp(mor)n(e)g(gener)n(al)f(than)g
Fu(the)g(t)o(yp)q(e)f Fl(8)p 1275 1401 34 2 v Fr(w)q(:)h(c)1357
1433 y Fo(2)1388 1426 y Fl(\))e Fr(t)1462 1433 y Fo(2)1496
1426 y Fu(if)i(and)g(only)h(if)f(there)g(is)g(a)150 1482 y(substitution)h
Fp(S)k Fu(whose)15 b(domain)h(is)p 791 1458 27 2 v 16 w Fr(u)f
Fu(suc)o(h)g(that:)218 1601 y Fl(\017)23 b Fp(t)279 1608 y
Fk(2)317 1601 y Fu(is)16 b(iden)o(tical)h(to)e Fp(S)5 b Fu(\()p
Fp(t)666 1608 y Fk(1)689 1601 y Fu(\).)218 1695 y Fl(\017)23
b Fu(Whenev)o(er)15 b Fp(c)498 1702 y Fk(2)537 1695 y Fu(holds)h(in)g(the)f
(class)g(en)o(vironmen)o(t,)h Fp(S)5 b Fu(\()p Fp(c)1238 1702
y Fk(1)1261 1695 y Fu(\))14 b(also)i(holds.)221 1813 y(The)f(main)g(p)q(oin)o
(t)h(ab)q(out)f(con)o(texts)f(ab)q(o)o(v)o(e)h(is)h(that,)e(giv)o(en)h(the)g
(t)o(yp)q(e)h Fl(8)p 1465 1789 V Fr(u:)f(c)d Fl(\))h Fr(t)p
Fu(,)i(the)g(presence)h(of)150 1870 y Fp(C)22 b(u)229 1877
y Fk(i)258 1870 y Fu(in)14 b(the)f(con)o(text)g Fp(c)i Fu(expresses)f(the)f
(constrain)o(t)g(that)f(the)h(t)o(yp)q(e)g(v)m(ariable)i Fp(u)1529
1877 y Fk(i)1558 1870 y Fu(ma)o(y)d(b)q(e)i(instan)o(tiated)150
1926 y(as)d Fp(t)221 1910 y Fi(0)245 1926 y Fu(within)i(the)e(t)o(yp)q(e)h
(expression)g Fp(t)k Fu(only)c(if)g Fp(t)955 1910 y Fi(0)979
1926 y Fu(is)g(a)f(mem)o(b)q(er)h(of)f(the)h(class)g Fp(C)6
b Fu(.)18 b(F)l(or)11 b(example,)i(consider)150 1983 y(the)i(function)h
Fq(double)o Fu(:)411 2064 y Fq(double)24 b(x)f(=)h(x)g(+)f(x)150
2146 y Fu(The)16 b(most)f(general)i(t)o(yp)q(e)f(of)f Fq(double)g
Fu(is)i Fl(8)p Fr(a:)e Fq(Num)h Fr(a)e Fl(\))g Fr(a)g Fl(!)g
Fr(a)p Fu(.)22 b Fq(double)15 b Fu(ma)o(y)g(b)q(e)i(applied)h(to)d(v)m(alues)
150 2202 y(of)j(t)o(yp)q(e)g Fq(Int)g Fu(\(instan)o(tiating)g
Fp(a)k Fu(to)c Fq(Int)o Fu(\),)g(since)i Fq(Int)d Fu(is)i(an)f(instance)h(of)
f(the)g(class)h Fq(Num)o Fu(.)29 b(Ho)o(w)o(ev)o(er,)150 2258
y Fq(double)14 b Fu(ma)o(y)g(not)g(b)q(e)i(applies)g(to)e(v)m(alues)i(of)e(t)
o(yp)q(e)h Fq(Char)o Fu(,)g(b)q(ecause)g Fq(Char)g Fu(is)g(not)f(an)h
(instance)g(of)g(class)150 2315 y Fq(Num)p Fu(.)150 2462 y
Fx(4.2)56 b(User-De\014ned)17 b(Datat)n(yp)r(es)150 2572 y
Fu(In)k(this)h(section,)g(w)o(e)f(describ)q(e)h(algebraic)g(datat)o(yp)q(es)e
(\()p Fq(data)g Fu(declarations\))h(and)g(t)o(yp)q(e)g(synon)o(yms)150
2629 y(\()p Fq(type)14 b Fu(declarations\).)21 b(These)15 b(declarations)h
(ma)o(y)e(only)i(app)q(ear)g(at)e(the)h(top)g(lev)o(el)i(of)e(a)f(mo)q(dule.)
p eop
%%Page: 28 42
bop 0 50 a Fu(28)955 b Ft(4)45 b(DECLARA)l(TIONS)17 b(AND)e(BINDINGS)0
199 y Fs(4.2.1)52 b(Algebraic)18 b(Datat)o(yp)q(e)h(Declarations)0
310 y Fp(top)n(de)n(cl)75 b Fl(!)59 b Fq(data)15 b Fu([)p Fp(c)n(ontext)20
b Fq(=>)p Fu(])c Fp(simple)j Fq(=)d Fp(c)n(onstrs)j Fu([)p
Fq(deriving)c Fu(\()p Fp(tycls)k Fl(j)c Fq(\()p Fp(tyclses)t
Fq(\))o Fu(\)])0 366 y Fp(simple)83 b Fl(!)59 b Fp(tyc)n(on)19
b(tyvar)537 373 y Fk(1)585 366 y Fr(:)8 b(:)g(:)22 b Fp(tyvar)762
373 y Fk(k)1189 366 y Fu(\(arit)o(y)16 b Fp(tyc)n(on)g Fu(=)d
Fp(k)5 b Fr(;)23 b Fp(k)17 b Fl(\025)c Fp(0)6 b Fu(\))0 423
y Fp(c)n(onstrs)69 b Fl(!)59 b Fp(c)n(onstr)434 430 y Fk(1)473
423 y Fq(|)23 b Fr(:)8 b(:)g(:)22 b Fq(|)16 b Fp(c)n(onstr)758
430 y Fk(n)1189 423 y Fu(\()p Fp(n)g Fl(\025)d Fp(1)6 b Fu(\))0
479 y Fp(c)n(onstr)88 b Fl(!)59 b Fp(c)n(on)19 b(atyp)n(e)502
486 y Fk(1)549 479 y Fr(:)8 b(:)g(:)22 b Fp(atyp)n(e)728 486
y Fk(k)1189 479 y Fu(\(arit)o(y)16 b Fp(c)n(on)f Fu(=)e Fp(k)5
b Fr(;)24 b Fp(k)17 b Fl(\025)c Fp(0)6 b Fu(\))225 536 y Fl(j)75
b Fp(btyp)n(e)413 543 y Fk(1)452 536 y Fp(c)n(onop)19 b(btyp)n(e)685
543 y Fk(2)1189 536 y Fu(\(in\014x)e Fp(c)n(onop)s Fu(\))0
592 y Fp(tyclses)80 b Fl(!)59 b Fp(tycls)402 599 y Fk(1)424
592 y Fq(,)24 b Fr(:)8 b(:)g(:)e Fq(,)16 b Fp(tycls)662 599
y Fk(n)1189 592 y Fu(\()p Fp(n)g Fl(\025)d Fp(0)6 b Fu(\))0
723 y(The)18 b(precedence)h(for)e Fp(c)n(onstr)22 b Fu(is)c(the)g(same)f(as)h
(that)f(for)g(expressions|normal)h(constructor)f(appli-)0 780
y(cation)f(has)f(higher)i(precedence)g(than)f(in\014x)g(constructor)f
(application)i(\(th)o(us)f Fq(a)23 b(:)h(Foo)f(a)16 b Fu(parses)f(as)0
836 y Fq(a)24 b(:)f(\(Foo)h(a\))o Fu(\).)71 918 y(An)c(algebraic)h(datat)o
(yp)q(e)f(declaration)h(in)o(tro)q(duces)g(a)f(new)h(t)o(yp)q(e)f(and)h
(constructors)e(o)o(v)o(er)h(that)0 974 y(t)o(yp)q(e)15 b(and)h(has)f(the)g
(form:)248 1076 y Fq(data)h Fp(c)i Fq(=>)e Fp(T)22 b(u)542
1083 y Fk(1)590 1076 y Fr(:)8 b(:)g(:)22 b Fp(u)691 1083 y
Fk(k)728 1076 y Fq(=)17 b Fp(K)804 1083 y Fk(1)843 1076 y Fp(t)858
1083 y Fk(11)923 1076 y Fr(:)8 b(:)g(:)22 b Fp(t)1015 1083
y Fk(1k)1049 1087 y Ff(1)1084 1076 y Fq(|)i Fl(\001)8 b(\001)g(\001)22
b Fq(|)16 b Fp(K)1284 1083 y Fk(n)1324 1076 y Fp(t)1339 1083
y Fk(n1)1405 1076 y Fr(:)8 b(:)g(:)22 b Fp(t)1497 1083 y Fk(nk)1532
1087 y Ff(n)0 1178 y Fu(where)12 b Fp(c)i Fu(is)f(a)e(con)o(text.)19
b(This)12 b(declaration)h(in)o(tro)q(duces)f(a)g(new)g(t)o(yp)q(e)g
(constructor)f Fp(T)18 b Fu(with)12 b(constituen)o(t)0 1235
y(data)j(constructors)f Fp(K)397 1242 y Fk(1)420 1235 y Fr(;)24
b(:)8 b(:)g(:)d(;)24 b Fp(K)589 1242 y Fk(n)628 1235 y Fu(whose)15
b(t)o(yp)q(es)g(are)g(giv)o(en)h(b)o(y:)248 1337 y Fp(K)283
1344 y Fk(i)327 1337 y Fu(::)28 b Fl(8)16 b Fp(u)446 1344 y
Fk(1)494 1337 y Fr(:)8 b(:)g(:)22 b Fp(u)595 1344 y Fk(k)616
1337 y Fr(:)33 b Fp(c)683 1344 y Fk(i)727 1337 y Fl(\))c Fp(t)816
1344 y Fk(i1)879 1337 y Fl(!)h(\001)8 b(\001)g(\001)26 b(!)k
Fp(t)1125 1344 y Fk(ik)1152 1348 y Ff(i)1194 1337 y Fl(!)f
Fu(\()p Fp(T)22 b(u)1365 1344 y Fk(1)1412 1337 y Fr(:)8 b(:)g(:)22
b Fp(u)1513 1344 y Fk(k)1535 1337 y Fu(\))0 1439 y(where)14
b Fp(c)151 1446 y Fk(i)179 1439 y Fu(is)g(the)g(largest)f(subset)g(of)g
Fp(c)j Fu(that)d(constrains)g(only)h(those)g(t)o(yp)q(e)f(v)m(ariables)i
(free)e(in)h(the)g(t)o(yp)q(es)0 1496 y Fp(t)15 1503 y Fk(i1)49
1496 y Fr(;)24 b(:)8 b(:)g(:)d(;)24 b Fp(t)198 1503 y Fk(ik)225
1507 y Ff(i)238 1496 y Fu(.)d(The)16 b(t)o(yp)q(e)g(v)m(ariables)h
Fp(u)682 1503 y Fk(1)722 1496 y Fu(through)e Fp(u)918 1503
y Fk(k)955 1496 y Fu(m)o(ust)g(b)q(e)h(distinct)h(and)f(ma)o(y)f(app)q(ear)h
(in)h Fp(c)h Fu(and)0 1552 y(the)12 b Fr(t)91 1559 y Fj(ij)120
1552 y Fu(;)g(it)g(is)g(a)f(static)g(error)g(for)g(an)o(y)g(other)g(t)o(yp)q
(e)h(v)m(ariable)g(to)f(app)q(ear)h(in)g Fp(c)i Fu(or)d(on)g(the)h(righ)o
(t-hand-side.)71 1633 y(F)l(or)i(example,)i(the)f(declaration)261
1715 y Fq(data)24 b(Eq)f(a)h(=>)g(Set)f(a)h(=)g(NilSet)f(|)g(ConsSet)g(a)h
(\(Set)f(a\))0 1796 y Fu(in)o(tro)q(duces)16 b(a)f(t)o(yp)q(e)g(constructor)g
Fq(Set)o Fu(,)g(and)g(constructors)g Fq(NilSet)f Fu(and)h Fq(ConsSet)g
Fu(with)g(t)o(yp)q(es)359 1894 y Fq(NilSet)65 b Fu(::)28 b
Fl(8)17 b Fp(a)s Fr(:)33 b Fq(Set)f Fp(a)359 1951 y Fq(ConsSet)41
b Fu(::)28 b Fl(8)17 b Fp(a)s Fr(:)33 b Fq(Eq)f Fp(a)g Fl(\))e
Fp(a)i Fl(!)e Fq(Set)i Fp(a)g Fl(!)e Fq(Set)i Fp(a)0 2049 y
Fu(In)23 b(the)e(example)i(giv)o(en,)h(the)e(o)o(v)o(erloaded)g(t)o(yp)q(e)g
(for)f Fq(ConsSet)g Fu(ensures)h(that)f Fq(ConsSet)g Fu(can)h(only)0
2105 y(b)q(e)d(applied)i(to)d(v)m(alues)i(whose)f(t)o(yp)q(e)f(is)i(an)e
(instance)i(of)e(the)h(class)g Fq(Eq)p Fu(.)30 b(The)19 b(con)o(text)f(in)i
(the)f Fq(data)0 2162 y Fu(declaration)d(has)f(no)g(other)g(e\013ect)g
(whatso)q(ev)o(er.)k(In)d(particular,)f(pattern)g(matc)o(hing)g(is)h
(una\013ected.)71 2243 y(The)e(visibilit)o(y)j(of)d(a)g(datat)o(yp)q(e's)f
(constructors)g(\(i.e.)h(the)h(\\abstractness")e(of)g(the)i(datat)o(yp)q(e\))
e(out-)0 2300 y(side)f(of)e(the)h(mo)q(dule)g(in)h(whic)o(h)f(the)g(datat)o
(yp)q(e)f(is)h(de\014ned)h(is)f(con)o(trolled)h(b)o(y)e(the)h(form)f(of)g
(the)h(datat)o(yp)q(e's)0 2356 y(name)k(in)h(the)g(exp)q(ort)f(list)h(as)e
(describ)q(ed)k(in)e(Section)g(5.6.)71 2438 y(The)d(optional)i
Fq(deriving)d Fu(part)h(of)g(a)h Fq(data)f Fu(declaration)h(has)g(to)f(do)g
(with)h Fp(derive)n(d)h(instanc)n(es)p Fu(,)d(and)0 2494 y(is)k(describ)q(ed)
h(in)f(Section)g(4.3.3.)p eop
%%Page: 29 43
bop 150 50 a Ft(4.3)45 b(T)o(yp)q(e)15 b(Classes)g(and)h(Ov)o(erloading)1049
b Fu(29)150 199 y Fs(4.2.2)52 b(T)o(yp)q(e)17 b(Synon)o(ym)f(Declarations)150
309 y Fp(top)n(de)n(cl)75 b Fl(!)59 b Fq(type)15 b Fp(simple)k
Fq(=)e Fp(typ)n(e)150 365 y(simple)83 b Fl(!)59 b Fp(tyc)n(on)19
b(tyvar)687 372 y Fk(1)735 365 y Fr(:)8 b(:)g(:)22 b Fp(tyvar)912
372 y Fk(k)1339 365 y Fu(\(arit)o(y)16 b Fp(tyc)n(on)g Fu(=)d
Fp(k)5 b Fr(;)23 b Fp(k)17 b Fl(\025)c Fp(0)6 b Fu(\))150 490
y(A)18 b(t)o(yp)q(e)g(synon)o(ym)f(declaration)i(in)o(tro)q(duces)f(a)g(new)g
(t)o(yp)q(e)g(that)f(is)h(equiv)m(alen)o(t)i(to)d(an)h(old)g(t)o(yp)q(e)g
(and)150 546 y(has)d(the)g(form)832 603 y Fq(type)h Fp(T)21
b(u)1022 610 y Fk(1)1070 603 y Fr(:)8 b(:)g(:)22 b Fp(u)1171
610 y Fk(k)1209 603 y Fq(=)16 b Fp(t)150 684 y Fu(whic)o(h)j(in)o(tro)q
(duces)h(a)e(new)h(t)o(yp)q(e)g(constructor,)f Fp(T)5 b Fu(.)30
b(The)19 b(t)o(yp)q(e)g(\()p Fp(T)i(t)1379 691 y Fk(1)1427
684 y Fr(:)8 b(:)g(:)d Fp(t)1502 691 y Fk(k)1523 684 y Fu(\))19
b(is)g(equiv)m(alen)o(t)h(to)e(the)150 740 y(t)o(yp)q(e)12
b Fp(t)t Fu([)p Fp(t)296 747 y Fk(1)319 740 y Fr(=)p Fp(u)366
747 y Fk(1)390 740 y Fr(;)23 b(:)8 b(:)g(:)e(;)24 b Fp(t)539
747 y Fk(k)560 740 y Fr(=)p Fp(u)607 747 y Fk(k)628 740 y Fu(])o(.)19
b(The)12 b(t)o(yp)q(e)g(v)m(ariables)h Fp(u)1070 747 y Fk(1)1106
740 y Fu(through)e Fp(u)1298 747 y Fk(k)1331 740 y Fu(m)o(ust)g(b)q(e)i
(distinct)g(and)f(are)f(scop)q(ed)150 797 y(only)16 b(o)o(v)o(er)e
Fp(t)5 b Fu(;)14 b(it)i(is)f(a)g(static)g(error)g(for)f(an)o(y)h(other)g(t)o
(yp)q(e)g(v)m(ariable)i(to)d(app)q(ear)i(in)g Fp(t)t Fu(.)221
877 y(Although)d(recursiv)o(e)g(and)g(m)o(utually)h(recursiv)o(e)f(datat)o
(yp)q(es)f(are)h(allo)o(w)o(ed,)26 b(this)14 b(is)f(not)f(so)h(for)f(t)o(yp)q
(e)150 933 y(synon)o(yms,)i Fp(unless)h(an)h(algebr)n(aic)g(datatyp)n(e)h
(intervenes)p Fu(.)i(F)l(or)14 b(example,)221 1009 y Fq(type)23
b(Rec)g(a)72 b(=)47 b([Circ)24 b(a])221 1066 y(data)f(Circ)g(a)48
b(=)f(Tag)24 b([Rec)f(a])150 1142 y Fu(is)16 b(allo)o(w)o(ed,)f(whereas)221
1218 y Fq(type)23 b(Rec)g(a)72 b(=)47 b([Circ)24 b(a])190 b(--)24
b(ILLEGAL)221 1274 y(type)f(Circ)g(a)48 b(=)f([Rec)24 b(a])214
b(--)150 1350 y Fu(is)16 b(not.)j(Similarly)l(,)e Fq(type)24
b(Rec)f(a)h(=)g([Rec)f(a])15 b Fu(is)g(not)g(allo)o(w)o(ed.)150
1495 y Fx(4.3)56 b(T)n(yp)r(e)18 b(Classes)g(and)i(Ov)n(erloading)150
1604 y Fs(4.3.1)52 b(Class)17 b(Declarations)150 1713 y Fp(top)n(de)n(cl)75
b Fl(!)59 b Fq(class)15 b Fu([)p Fp(c)n(ontext)20 b Fq(=>)p
Fu(])c Fp(class)j Fu([)p Fq(where)c({)h Fp(cb)n(o)n(dy)k Fu([)p
Fq(;)o Fu(])c Fq(})p Fu(])150 1770 y Fp(cb)n(o)n(dy)103 b Fl(!)59
b Fp(csigns)18 b Fu([)e Fq(;)g Fp(valdef)26 b Fu([)16 b Fq(;)g
Fp(valdefs)j Fu(])d(])375 1826 y Fl(j)75 b Fp(valdefs)150 1883
y(csigns)89 b Fl(!)59 b Fp(csign)564 1890 y Fk(1)602 1883 y
Fq(;)24 b Fr(:)8 b(:)g(:)22 b Fq(;)16 b Fp(csign)868 1890 y
Fk(n)1339 1883 y Fu(\()p Fp(n)g Fl(\025)d Fp(1)6 b Fu(\))150
1939 y Fp(csign)108 b Fl(!)59 b Fp(vars)20 b Fq(::)c Fu([)p
Fp(c)n(ontext)j Fq(=>)p Fu(])d Fp(typ)n(e)150 1996 y(vars)127
b Fl(!)59 b Fp(var)526 2003 y Fk(1)566 1996 y Fq(,)23 b Fr(:)8
b(:)g(:)e Fq(,)16 b Fp(var)777 2003 y Fk(n)1339 1996 y Fu(\()p
Fp(n)g Fl(\025)d Fp(1)6 b Fu(\))150 2120 y(A)14 b Fp(class)g(de)n(clar)n
(ation)f Fu(in)o(tro)q(duces)i(a)f(new)g(class)g(and)g(the)g(op)q(erations)h
(on)e(it.)20 b(A)14 b(class)g(declaration)h(has)150 2177 y(the)g(general)h
(form:)381 2271 y Fq(class)g Fp(c)j Fq(=>)d Fp(C)22 b(u)e Fq(where)c({)41
b Fp(v)942 2278 y Fk(1)982 2271 y Fq(::)16 b Fp(c)1067 2278
y Fk(1)1106 2271 y Fq(=>)g Fp(t)1185 2278 y Fk(1)1225 2271
y Fq(;)24 b Fr(:)8 b(:)g(:)22 b Fq(;)16 b Fp(v)1411 2278 y
Fk(n)1451 2271 y Fq(::)g Fp(c)1536 2278 y Fk(n)1576 2271 y
Fq(=>)g Fp(t)1655 2278 y Fk(n)1695 2271 y Fq(;)921 2327 y Fp(valdef)1035
2334 y Fk(1)1075 2327 y Fq(;)23 b Fr(:)8 b(:)g(:)22 b Fq(;)16
b Fp(valdef)1353 2334 y Fk(m)1402 2327 y Fq(})150 2421 y Fu(This)i(in)o(tro)q
(duces)g(a)f(new)h(class)g(name)f Fp(C)6 b Fu(;)19 b(the)e(t)o(yp)q(e)h(v)m
(ariable)g Fp(u)k Fu(is)c(scop)q(ed)g(only)g(o)o(v)o(er)e(the)i(metho)q(d)150
2478 y(signatures)h(in)g(the)g(class)g(b)q(o)q(dy)l(.)32 b(The)19
b(con)o(text)f Fp(c)j Fu(sp)q(eci\014es)f(the)f(sup)q(erclasses)h(of)e
Fp(C)7 b Fu(,)19 b(as)f(describ)q(ed)150 2534 y(b)q(elo)o(w;)d(the)f(only)g
(t)o(yp)q(e)h(v)m(ariable)g(that)e(ma)o(y)h(b)q(e)g(referred)h(to)e(in)i
Fp(c)i Fu(is)d Fp(u)t Fu(.)19 b(The)c(class)f(declaration)h(in)o(tro-)150
2591 y(duces)j(new)g Fp(class)f(metho)n(ds)g(v)680 2598 y Fk(1)704
2591 y Fr(;)23 b(:)8 b(:)g(:)e(;)23 b Fp(v)858 2598 y Fk(n)882
2591 y Fu(,)17 b(whose)h(scop)q(e)g(extends)f(outside)h(the)g
Fq(class)f Fu(declaration,)150 2647 y(with)f(t)o(yp)q(es:)814
2704 y Fr(v)836 2711 y Fj(i)863 2704 y Fu(::)c Fl(8)p Fr(u;)p
973 2679 34 2 v 8 w(w:)j Fu(\()p Fr(C)s(u;)8 b(c)1155 2711
y Fj(i)1167 2704 y Fu(\))k Fl(\))h Fr(t)1271 2711 y Fj(i)p
eop
%%Page: 30 44
bop 0 50 a Fu(30)955 b Ft(4)45 b(DECLARA)l(TIONS)17 b(AND)e(BINDINGS)0
199 y Fu(The)h Fp(t)109 206 y Fk(i)141 199 y Fu(m)o(ust)f(men)o(tion)i
Fp(u)s Fu(;)g(they)f(ma)o(y)f(men)o(tion)h(t)o(yp)q(e)g(v)m(ariables)p
1159 175 34 2 v 18 w Fr(w)h Fu(other)e(than)h Fp(u)t Fu(,)g(and)g(the)g(t)o
(yp)q(e)g(of)0 256 y Fp(v)21 263 y Fk(i)51 256 y Fu(is)f(p)q(olymorphic)h(in)
g(b)q(oth)f Fp(u)j Fu(and)p 648 231 V 15 w Fr(w)q Fu(.)h(The)c
Fp(c)828 263 y Fk(i)858 256 y Fu(ma)o(y)f(constrain)h(only)p
1252 231 V 15 w Fr(w)q Fu(;)f(in)i(particular,)f(the)g Fp(c)1687
263 y Fk(i)1717 256 y Fu(ma)o(y)0 312 y(not)g(constrain)g Fp(u)t
Fu(.)20 b(F)l(or)14 b(example:)261 390 y Fq(class)24 b(Foo)f(a)h(where)452
446 y(op)g(::)g(Num)f(b)h(=>)f(a)h(->)g(b)f(->)h(a)0 526 y
Fu(Here)15 b(the)h(t)o(yp)q(e)f(of)g Fq(op)g Fu(is)g Fl(8)p
Fr(a;)8 b(b:)14 b Fu(\()p Fq(Foo)h Fr(a;)22 b Fq(Num)15 b Fr(b)p
Fu(\))27 b Fl(\))13 b Fr(a)f Fl(!)h Fr(b)g Fl(!)g Fr(a)p Fu(.)71
607 y Fp(Default)i(metho)n(ds)g Fu(for)e(an)o(y)h(of)g(the)g
Fp(v)705 614 y Fk(i)734 607 y Fu(ma)o(y)f(b)q(e)i(included)i(in)e(the)f
Fq(class)g Fu(declaration)g(as)g(a)g(normal)0 664 y Fp(valdef)9
b Fu(;)16 b(no)f(other)g(de\014nitions)j(are)d(p)q(ermitted.)22
b(The)16 b(default)g(metho)q(d)g(for)e Fp(v)1364 671 y Fk(i)1395
664 y Fu(is)i(used)g(if)h(no)e(binding)0 720 y(for)g(it)g(is)h(giv)o(en)f(in)
h(a)f(particular)h Fq(instance)e Fu(declaration)i(\(see)f(Section)h(4.3.2\).)
71 802 y(Tw)o(o)e(classes)i(in)g(scop)q(e)f(at)g(the)g(same)g(time)h(ma)o(y)e
(not)h(share)g(an)o(y)g(of)g(the)g(same)g(metho)q(ds.)71 883
y(Figure)j(5)g(sho)o(ws)g(some)h(standard)f(Hask)o(ell)h(classes,)g(includin)
q(g)i(the)d(use)h(of)f(sup)q(erclasses;)j(note)0 940 y(the)16
b(class)h(inclusion)i(diagram)d(on)h(the)f(righ)o(t.)23 b(F)l(or)16
b(example,)h Fq(Eq)f Fu(is)h(a)f(sup)q(erclass)i(of)e Fq(Ord)o
Fu(,)h(and)f(th)o(us)0 996 y(in)g(an)o(y)f(con)o(text)g Fq(Ord)23
b(a)15 b Fu(is)h(equiv)m(alen)o(t)h(to)d Fq(\(Eq)24 b(a,)f(Ord)h(a\))o
Fu(.)71 1077 y(A)19 b Fq(class)f Fu(declaration)i(with)g(no)f
Fq(where)f Fu(part)h(ma)o(y)f(b)q(e)i(useful)h(for)d(com)o(bining)j(a)d
(collection)j(of)0 1134 y(classes)13 b(in)o(to)g(a)g(larger)f(one)h(that)f
(inherits)j(all)e(of)g(the)g(op)q(erations)g(in)g(the)g(original)h(ones.)19
b(F)l(or)12 b(example:)71 1215 y Fq(class)47 b(\(Ord)23 b(a,)h(Text)f(a,)g
(Binary)g(a\))h(=>)g(Data)f(a)0 1297 y Fu(In)14 b(suc)o(h)g(a)f(case,)g(if)h
(a)g(t)o(yp)q(e)f(is)h(an)f(instance)i(of)e(all)h(sup)q(erclasses,)h(it)e(is)
h(not)f Fp(automatic)n(al)r(ly)i Fu(an)e(instance)0 1353 y(of)20
b(the)h(sub)q(class,)i(ev)o(en)e(though)g(the)g(sub)q(class)g(has)g(no)g
(immediate)g(op)q(erations.)37 b(The)21 b Fq(instance)0 1409
y Fu(declaration)16 b(m)o(ust)f(b)q(e)g(giv)o(en)h(explicitly)l(,)i(and)d(it)
h(m)o(ust)e(ha)o(v)o(e)h(an)g(empt)o(y)g Fq(where)g Fu(part)f(as)h(w)o(ell.)
71 1491 y(The)g(sup)q(erclass)h(relation)g(m)o(ust)f(not)f(b)q(e)i(cyclic;)h
(i.e.)e(it)h(m)o(ust)e(form)h(a)g(directed)h(acyclic)h(graph.)0
1636 y Fs(4.3.2)52 b(Instance)18 b(Declarations)0 1747 y Fp(top)n(de)n(cl)75
b Fl(!)59 b Fq(instance)15 b Fu([)p Fp(c)n(ontext)20 b Fq(=>)o
Fu(])c Fp(tycls)j(inst)h Fu([)p Fq(where)15 b({)i Fp(valdefs)i
Fu([)p Fq(;)o Fu(])d Fq(})p Fu(])0 1803 y Fp(inst)135 b Fl(!)59
b Fp(tyc)n(on)771 b Fu(\(arit)o(y)16 b Fp(tyc)n(on)g Fu(=)d
Fp(0)6 b Fu(\))225 1859 y Fl(j)75 b Fq(\()16 b Fp(tyc)n(on)j(tyvar)577
1866 y Fk(1)625 1859 y Fr(:)8 b(:)g(:)22 b Fp(tyvar)802 1866
y Fk(k)839 1859 y Fq(\))326 b Fu(\()p Fp(k)17 b Fl(\025)c Fp(1)6
b Fr(;)24 b Fp(tyvars)36 b Fu(distinct)q(\))225 1916 y Fl(j)75
b Fq(\()16 b Fp(tyvar)453 1923 y Fk(1)493 1916 y Fq(,)24 b
Fr(:)8 b(:)g(:)21 b Fq(,)c Fp(tyvar)758 1923 y Fk(k)795 1916
y Fq(\))370 b Fu(\()p Fp(k)17 b Fl(\025)c Fp(2)6 b Fr(;)24
b Fp(tyvars)36 b Fu(distinct)q(\))225 1972 y Fl(j)75 b Fq(\(\))225
2029 y Fl(j)g Fq([)16 b Fp(tyvar)21 b Fq(])225 2085 y Fl(j)75
b Fq(\()16 b Fp(tyvar)453 2092 y Fk(1)493 2085 y Fq(->)g Fp(tyvar)657
2092 y Fk(2)697 2085 y Fq(\))468 b Fp(tyvar)1289 2092 y Fk(1)1345
2085 y Fu(and)16 b Fp(tyvar)1534 2092 y Fk(2)1590 2085 y Fu(distinct)0
2198 y Fp(valdefs)76 b Fl(!)59 b Fp(valdef)427 2205 y Fk(1)466
2198 y Fq(;)24 b Fr(:)8 b(:)g(:)22 b Fq(;)16 b Fp(valdef)745
2205 y Fk(n)1189 2198 y Fu(\()p Fp(n)g Fl(\025)d Fp(0)6 b Fu(\))0
2329 y(An)15 b Fp(instanc)n(e)g(de)n(clar)n(ation)g Fu(in)o(tro)q(duces)h(an)
f(instance)h(of)f(a)g(class.)20 b(Let)568 2431 y Fq(class)15
b Fp(c)k Fq(=>)d Fp(C)22 b(u)f Fq(where)15 b({)h Fp(cb)n(o)n(dy)k
Fq(})0 2534 y Fu(b)q(e)c(a)f Fq(class)f Fu(declaration.)21
b(The)15 b(general)h(form)e(of)h(the)g(corresp)q(onding)i(instance)f
(declaration)g(is:)439 2636 y Fq(instance)f Fp(c)670 2619 y
Fi(0)698 2636 y Fq(=>)g Fp(C)23 b Fu(\()p Fp(T)e(u)913 2643
y Fk(1)961 2636 y Fr(:)8 b(:)g(:)22 b Fp(u)1062 2643 y Fk(k)1083
2636 y Fu(\))16 b Fq(where)g({)g Fp(d)21 b Fq(})p eop
%%Page: 31 45
bop 150 50 a Ft(4.3)45 b(T)o(yp)q(e)15 b(Classes)g(and)h(Ov)o(erloading)1049
b Fu(31)p 159 212 1767 2 v 159 2540 2 2328 v 189 272 a Fq(class)47
b(Eq)23 b(a)48 b(where)739 b(--)71 b(Eq)380 328 y(\(==\),)23
b(\(/=\))47 b(::)g(a)24 b(->)g(a)f(->)h(Bool)262 b(--)95 b(|)1358
385 y(--)71 b(Ord)380 441 y(x)23 b(/=)h(y)71 b(=)48 b(not)23
b(\(x)h(==)g(y\))405 b(--)71 b(/)24 b(\\)1358 498 y(--)47 b(Ix)24
b(Enum)189 554 y(class)47 b(\(Eq)23 b(a\))h(=>)f(Ord)h(a)47
b(where)380 611 y(\(<\),)23 b(\(<=\),)g(\(>=\),)g(\(>\))h(::)47
b(a)24 b(->)f(a)h(->)g(Bool)380 667 y(max,)f(min)310 b(::)47
b(a)24 b(->)f(a)h(->)g(a)380 747 y(x)f(<)48 b(y)382 b(=)47
b(x)24 b(<=)f(y)h(&&)g(x)f(/=)h(y)380 803 y(x)f(>=)h(y)382
b(=)47 b(y)24 b(<=)f(x)380 860 y(x)g(>)48 b(y)382 b(=)47 b(y)24
b(<)47 b(x)380 916 y(max)23 b(x)h(y)f(|)h(x)g(>=)g(y)143 b(=)47
b(x)570 972 y(|)24 b(y)g(>=)g(x)143 b(=)47 b(y)380 1029 y(min)23
b(x)h(y)f(|)h(x)g(<=)g(y)143 b(=)47 b(x)570 1085 y(|)24 b(y)g(<=)g(x)143
b(=)47 b(y)189 1165 y(class)g(Text)23 b(a)48 b(where)380 1222
y(showsPrec)22 b(::)i(Int)f(->)h(a)g(->)f(String)g(->)h(String)380
1278 y(readsPrec)e(::)i(Int)f(->)h(String)f(->)g([\(a,String\)])380
1334 y(showList)46 b(::)24 b([a])f(->)h(String)f(->)g(String)380
1391 y(readList)46 b(::)24 b(String)f(->)g([\([a],String\)])380
1471 y(showList)f(=)i(...)g(--)f(see)h(Appendix)e(A)380 1527
y(readList)g(=)i(...)g(--)f(see)h(Appendix)e(A)189 1607 y(class)47
b(Binary)23 b(a)47 b(where)380 1663 y(showBin)22 b(::)i(a)g(->)f(Bin)h(->)f
(Bin)380 1720 y(readBin)f(::)i(Bin)g(->)f(\(a,Bin\))189 1799
y(class)47 b(\(Ord)23 b(a\))h(=>)f(Ix)h(a)47 b(where)380 1856
y(range)70 b(::)24 b(\(a,a\))f(->)h([a])380 1912 y(index)70
b(::)24 b(\(a,a\))f(->)h(a)g(->)f(Int)380 1969 y(inRange)f(::)i(\(a,a\))f(->)
h(a)g(->)f(Bool)189 2048 y(class)47 b(\(Ord)23 b(a\))h(=>)f(Enum)h(a)47
b(where)380 2105 y(enumFrom)166 b(::)23 b(a)h(->)f([a])310
b(--)24 b([n..])380 2161 y(enumFromThen)70 b(::)23 b(a)h(->)f(a)h(->)g([a])
190 b(--)24 b([n,n'..])380 2218 y(enumFromTo)118 b(::)23 b(a)h(->)f(a)h(->)g
([a])190 b(--)24 b([n..m])380 2274 y(enumFromThenTo)e(::)h(a)h(->)f(a)h(->)g
(a)f(->)h([a])71 b(--)24 b([n,n'..m])380 2354 y(enumFromTo)e(n)i(m)191
b(=)23 b(takeWhile)g(\(\(>=\))g(m\))h(\(enumFrom)e(n\))380
2410 y(enumFromThenTo)g(n)h(n')h(m)g(=)f(takeWhile)1000 2467
y(\(\(if)g(n')h(>=)f(n)h(then)g(\(>=\))f(else)g(\(<=\)\))g(m\))1000
2523 y(\(enumFromThen)f(n)i(n'\))p 1924 2540 V 159 2542 1767
2 v 519 2668 a Fu(Figure)15 b(5:)20 b(Standard)15 b(Classes)g(and)h(Asso)q
(ciated)f(F)l(unctions)p eop
%%Page: 32 46
bop 0 50 a Fu(32)955 b Ft(4)45 b(DECLARA)l(TIONS)17 b(AND)e(BINDINGS)0
199 y Fu(where)h Fp(k)h Fl(\025)c Fp(0)22 b Fu(and)16 b Fp(T)21
b Fu(is)16 b(not)f(a)h(t)o(yp)q(e)f(synon)o(ym.)21 b(The)16
b(t)o(yp)q(e)g(b)q(eing)g(instanced,)h(\()p Fp(T)k(u)1515 206
y Fk(1)1563 199 y Fr(:)8 b(:)g(:)22 b Fp(u)1664 206 y Fk(k)1685
199 y Fu(\),)15 b(is)h(a)0 256 y(t)o(yp)q(e)f(constructor)g(applied)i(to)d
(simple)j(t)o(yp)q(e)f(v)m(ariables)g Fp(u)1014 263 y Fk(1)1038
256 y Fr(;)23 b(:)8 b(:)g(:)22 b Fp(u)1175 263 y Fk(k)1197
256 y Fu(,)14 b(whic)o(h)j(m)o(ust)d(b)q(e)i(distinct.)21 b(This)0
312 y(prohibits)16 b(instance)g(declarations)g(suc)o(h)g(as:)71
388 y Fq(instance)22 b(C)i(\(a,a\))f(where)g(...)71 445 y(instance)f(C)i
(\(Int,a\))f(where)g(...)71 501 y(instance)f(C)i([[a]])f(where)g(...)0
577 y Fu(The)c(declarations)h Fp(d)k Fu(ma)o(y)19 b(con)o(tain)g(bindings)i
(only)f(for)f(the)g(class)g(metho)q(ds)h(of)f Fp(C)6 b Fu(,)19
b(and)h(ma)o(y)e(not)0 634 y(con)o(tain)i(an)o(y)f(t)o(yp)q(e)h(signatures)g
(since)h(the)e(metho)q(d)h(signatures)g(ha)o(v)o(e)f(already)h(b)q(een)h(giv)
o(en)f(in)h(the)0 690 y Fq(class)14 b Fu(declaration.)71 770
y(If)i(no)f(binding)j(is)e(giv)o(en)g(for)f(some)h(class)g(metho)q(d)g(then)g
(the)f(corresp)q(onding)i(default)f(metho)q(d)g(in)0 826 y(the)j
Fq(class)f Fu(declaration)h(is)g(used)g(\(if)g(presen)o(t\);)g(if)h(suc)o(h)e
(a)h(default)g(do)q(es)g(not)f(exist)h(then)g(the)g(class)0
883 y(metho)q(d)g(at)f(this)h(instance)g(is)g(implicitly)j(b)q(ound)e(to)e
(the)g(completely)i(unde\014ned)h(function)e(\(of)f(the)0 939
y(appropriate)d(t)o(yp)q(e\))g(and)h(no)f(static)g(error)f(results.)71
1019 y(An)i Fq(instance)f Fu(declaration)i(that)e(mak)o(es)h(the)g(t)o(yp)q
(e)g Fp(T)22 b Fu(to)15 b(b)q(e)i(an)f(instance)h(of)f(class)h
Fp(C)22 b Fu(is)16 b(called)0 1076 y(a)f Fp(C-T)g(instanc)n(e)g(de)n(clar)n
(ation)g Fu(and)g(is)h(sub)s(ject)f(to)g(these)g(static)g(restrictions:)68
1189 y Fl(\017)23 b Fu(A)e Fr(C)s Fu(-)p Fr(T)28 b Fu(instance)23
b(declaration)f(ma)o(y)f(only)i(app)q(ear)f(either)g(in)h(the)f(mo)q(dule)h
(in)f(whic)o(h)h Fr(C)h Fu(is)114 1245 y(declared)17 b(or)f(in)h(the)f(mo)q
(dule)h(in)g(whic)o(h)g Fr(T)22 b Fu(is)16 b(declared,)i(and)e(only)h(where)f
(b)q(oth)g Fr(C)j Fu(and)d Fr(T)22 b Fu(are)114 1302 y(in)16
b(scop)q(e.)68 1394 y Fl(\017)23 b Fu(A)13 b(t)o(yp)q(e)h(ma)o(y)f(not)g(b)q
(e)h(declared)h(as)e(an)h(instance)g(of)f(a)h(particular)g(class)g(more)f
(than)h(once)f(in)i(the)114 1451 y(same)g(scop)q(e.)68 1543
y Fl(\017)23 b Fu(Assume)18 b(that)g(the)g(t)o(yp)q(e)g(v)m(ariables)i(in)f
(the)f(instance)i(t)o(yp)q(e)e(\()p Fp(T)j(u)1284 1550 y Fk(1)1332
1543 y Fr(:)8 b(:)g(:)22 b Fp(u)1433 1550 y Fk(k)1454 1543
y Fu(\))c(satisfy)g(the)h(con-)114 1599 y(strain)o(ts)9 b(in)j(the)e
(instance)i(con)o(text)d Fp(c)747 1583 y Fi(0)759 1599 y Fu(.)18
b(Under)11 b(this)g(assumption,)g(the)f(follo)o(wing)i(t)o(w)o(o)d
(conditions)114 1656 y(m)o(ust)14 b(also)h(b)q(e)h(satis\014ed:)156
1748 y(1.)22 b(The)e(constrain)o(ts)f(expressed)i(b)o(y)f(the)g(sup)q
(erclass)h(con)o(text)f Fp(c)s Fu([\()p Fp(T)g(u1)31 b Fr(:)8
b(:)g(:)22 b Fp(uk)5 b Fu(\))p Fr(=)p Fp(u)s Fu(])20 b(of)f
Fr(C)214 1805 y Fu(m)o(ust)d(b)q(e)h(satis\014ed.)26 b(In)17
b(other)g(w)o(ords,)f Fr(T)22 b Fu(m)o(ust)17 b(b)q(e)g(an)g(instance)g(of)g
(eac)o(h)g(of)f Fr(C)s Fu('s)g(sup)q(er-)214 1861 y(classes.)156
1933 y(2.)22 b(An)o(y)15 b(constrain)o(ts)h(on)f(the)h(t)o(yp)q(e)g(v)m
(ariables)h(in)g(the)f(instance)g(t)o(yp)q(e)g(that)f(are)h(required)h(for)
214 1989 y(the)e(metho)q(d)g(declarations)h(in)g Fp(d)k Fu(to)15
b(b)q(e)h(w)o(ell-t)o(yp)q(ed)g(m)o(ust)f(also)g(b)q(e)h(satis\014ed.)114
2081 y(In)c(fact,)g(except)h(in)g(pathological)g(cases)f(it)g(is)h(p)q
(ossible)g(to)f(infer)h(from)e(the)h(instance)h(declaration)114
2138 y(the)19 b(most)f(general)i(instance)g(con)o(text)e Fp(c)842
2121 y Fi(0)872 2138 y Fu(satisfying)i(the)f(ab)q(o)o(v)o(e)g(t)o(w)o(o)f
(constrain)o(ts,)h(but)g(it)g(is)114 2194 y(nev)o(ertheless)d(mandatory)e(to)
h(write)g(an)g(explicit)i(instance)f(con)o(text.)0 2308 y(The)21
b(last)h(of)e(these)i(restrictions)g(has)f(quite)h(subtle)g(implications.)40
b(Consider,)23 b(for)e(example,)i(the)0 2364 y(follo)o(wing)16
b(declarations:)191 2478 y Fq(class)23 b(Foo)h(a)f(=>)h(Bar)f(a)h(where)f
(...)191 2591 y(instance)g(\(Eq)g(a,)h(Text)f(a\))h(=>)f(Foo)h([a])f(where)g
(...)191 2704 y(instance)g(Num)g(a)h(=>)f(Bar)h([a])f(where)h(...)p
eop
%%Page: 33 47
bop 150 50 a Ft(4.3)45 b(T)o(yp)q(e)15 b(Classes)g(and)h(Ov)o(erloading)1049
b Fu(33)150 199 y(This)20 b(is)f(p)q(erfectly)h(legal.)32 b(Since)21
b Fq(Foo)e Fu(is)g(a)g(sup)q(erclass)h(of)f Fq(Bar)o Fu(,)h(the)f(second)g
(instance)h(declaration)150 256 y(is)e(only)h(legal)f(if)h
Fq([a])e Fu(is)h(an)g(instance)h(of)e Fq(Foo)g Fu(under)i(the)f(assumption)g
Fq(Num)23 b(a)p Fu(.)28 b(The)18 b(\014rst)f(instance)150 312
y(declaration)f(do)q(es)g(indeed)i(sa)o(y)d(that)g Fq([a])g
Fu(is)h(an)g(instance)g(of)g Fq(Foo)f Fu(under)h(this)g(assumption,)g(b)q
(ecause)150 369 y Fq(Eq)f Fu(and)g Fq(Text)g Fu(are)g(sup)q(erclasses)h(of)f
Fq(Num)p Fu(.)221 450 y(If)g(the)g(t)o(w)o(o)f(instance)i(declarations)g
(instead)g(read)f(lik)o(e)h(this:)341 569 y Fq(instance)23
b(Num)g(a)h(=>)f(Foo)h([a])f(where)h(...)341 682 y(instance)f(\(Eq)g(a,)h
(Text)f(a\))h(=>)f(Bar)h([a])f(where)g(...)150 800 y Fu(then)17
b(the)g(program)f(w)o(ould)i(b)q(e)f(illegal.)27 b(The)18 b(second)f
(instance)h(declaration)g(is)f(legal)h(only)g(if)f Fq([a])f
Fu(is)150 857 y(an)g(instance)h(of)f Fq(Foo)g Fu(under)h(the)f(assumptions)h
Fq(\(Eq)23 b(a,)h(Text)f(a\))p Fu(.)g(But)17 b(this)f(do)q(es)h(not)f(hold,)h
(since)150 913 y Fq([a])e Fu(is)g(only)h(an)f(instance)h(of)f
Fq(Foo)g Fu(under)h(the)f(stronger)f(assumption)i Fq(Num)23
b(a)p Fu(.)221 995 y(F)l(urther)15 b(examples)h(of)e Fq(instance)g
Fu(declarations)i(ma)o(y)f(b)q(e)h(found)f(in)h(App)q(endix)i(A.2.)150
1140 y Fs(4.3.3)52 b(Deriv)o(ed)16 b(Instances)150 1250 y Fu(As)j(men)o
(tioned)h(in)f(Section)h(4.2.1,)e Fq(data)g Fu(declarations)i(con)o(tain)f
(an)g(optional)h Fq(deriving)d Fu(form.)31 b(If)150 1307 y(the)14
b(form)f(is)i(included,)h(then)e Fp(derive)n(d)h(instanc)n(e)f(de)n(clar)n
(ations)f Fu(are)g(automatically)i(generated)f(for)f(the)150
1363 y(datat)o(yp)q(e)h(in)h(eac)o(h)g(of)f(the)h(named)g(classes.)20
b(If)14 b(a)h(deriv)o(ed)g(instance)h(of)e(a)g(sub)q(class)i(is)f(ask)o(ed)f
(for,)g(then)150 1420 y(eac)o(h)j(of)g(the)h(sup)q(erclasses)g(m)o(ust)f
(either)h(b)q(e)g(ask)o(ed)f(for)g(or)g(an)g(explicit)i(instance)f
(declaration)h(m)o(ust)150 1476 y(b)q(e)d(giv)o(en)g(for)e(it.)221
1557 y(Deriv)o(ed)i(instances)i(pro)o(vide)f(con)o(v)o(enien)o(t)g
(commonly-used)g(op)q(erations)g(for)e(user-de\014ned)j(data-)150
1614 y(t)o(yp)q(es.)h(F)l(or)13 b(example,)i(deriv)o(ed)f(instances)g(for)f
(datat)o(yp)q(es)g(in)i(the)e(class)h Fq(Eq)f Fu(de\014ne)i(the)f(op)q
(erations)f Fq(==)150 1670 y Fu(and)i Fq(/=)p Fu(,)g(freeing)h(the)f
(programmer)f(from)g(the)i(need)g(to)e(de\014ne)j(them.)221
1752 y(The)12 b(only)g(classes)h(for)e(whic)o(h)i(deriv)o(ed)g(instances)f
(are)g(allo)o(w)o(ed)g(are)g Fq(Eq)p Fu(,)g Fq(Ord)o Fu(,)h
Fq(Ix)o Fu(,)g Fq(Enum)o Fu(,)f Fq(Text)p Fu(,)g(and)150 1808
y Fq(Binary)o Fu(,)17 b(all)h(de\014ned)g(in)f(Figure)g(5,)g(page)f(31.)24
b(The)17 b(precise)h(details)g(of)e(ho)o(w)h(the)f(deriv)o(ed)i(instances)150
1865 y(are)13 b(generated)g(for)f(eac)o(h)h(of)g(these)g(classes)h(are)f(pro)
o(vided)g(in)h(App)q(endix)h(E,)e(includin)q(g)i(a)e(sp)q(eci\014cation)150
1921 y(of)i(when)g(suc)o(h)h(deriv)o(ed)g(instances)g(are)f(p)q(ossible.)221
2002 y(If)f(it)g(is)g(not)f(p)q(ossible)j(to)d(deriv)o(e)i(an)e
Fq(instance)g Fu(declaration)h(o)o(v)o(er)f(a)h(class)g(named)g(in)h(a)e
Fq(deriving)150 2059 y Fu(form,)22 b(then)g(a)f(static)g(error)g(results.)39
b(F)l(or)21 b(example,)i(not)f(all)g(datat)o(yp)q(es)f(can)g(prop)q(erly)i
(supp)q(ort)150 2115 y(op)q(erations)14 b(in)i Fq(Enum)o Fu(.)k(It)14
b(is)h(also)f(a)g(static)g(error)g(to)g(giv)o(e)g(an)g(explicit)j
Fq(instance)c Fu(declaration)i(for)f(one)150 2172 y(that)g(is)i(also)f(deriv)
o(ed.)221 2253 y(If)f(the)h Fq(deriving)e Fu(form)h(is)h(omitted)g(from)f(a)g
Fq(data)g Fu(declaration,)h(then)g Fp(no)f Fu(instance)h(declarations)150
2310 y(will)d(b)q(e)f(deriv)o(ed)g(for)f(that)g(datat)o(yp)q(e;)h(that)f(is,)
h(omitting)g(a)f Fq(deriving)f Fu(form)g(is)i(equiv)m(alen)o(t)h(to)e
(including)150 2366 y(an)15 b(empt)o(y)g(deriving)i(form:)i
Fq(deriving)k(\(\))o Fu(.)150 2511 y Fs(4.3.4)52 b(Defaults)18
b(for)f(Ov)o(erloaded)h(Op)q(erations)150 2622 y Fp(top)n(de)n(cl)75
b Fl(!)59 b Fq(default)15 b Fu(\()p Fp(typ)n(e)k Fl(j)d Fq(\()p
Fp(typ)n(e)894 2629 y Fk(1)934 2622 y Fq(,)23 b Fr(:)8 b(:)g(:)22
b Fq(,)16 b Fp(typ)n(e)1177 2629 y Fk(n)1201 2622 y Fq(\))p
Fu(\))206 b(\()p Fp(n)15 b Fl(\025)e Fp(0)6 b Fu(\))p eop
%%Page: 34 48
bop 0 50 a Fu(34)955 b Ft(4)45 b(DECLARA)l(TIONS)17 b(AND)e(BINDINGS)0
199 y Fu(A)g(problem)g(inheren)o(t)g(with)g(o)o(v)o(erloading)g(is)g(the)g(p)
q(ossibilit)o(y)i(of)d(an)g(am)o(biguous)h(t)o(yp)q(e.)20 b(F)l(or)13
b(example,)0 256 y(using)h(the)g Fq(read)e Fu(and)i Fq(show)f
Fu(functions)h(de\014ned)g(in)g(App)q(endix)i(E,)d(and)h(supp)q(osing)g(that)
f(just)g Fq(Int)g Fu(and)0 312 y Fq(Bool)i Fu(are)f(mem)o(b)q(ers)i(of)f
Fq(Text)o Fu(,)g(then)g(the)h(expression)71 389 y Fq(let)23
b(x)h(=)f(read)h("...")f(in)h(show)f(x)95 b(--)24 b(ILLEGAL)0
467 y Fu(is)16 b(am)o(biguous,)f(b)q(ecause)h(the)f(t)o(yp)q(es)g(for)g
Fq(show)f Fu(and)i Fq(read)o Fu(,)490 552 y Fq(show)41 b Fu(::)28
b Fl(8)17 b Fp(a)s Fr(:)g Fq(Text)32 b Fp(a)g Fl(\))e Fp(a)i
Fl(!)d Fq(String)490 609 y(read)41 b Fu(::)28 b Fl(8)17 b Fp(a)s
Fr(:)g Fq(Text)32 b Fp(a)g Fl(\))e Fq(String)e Fl(!)h Fp(a)0
695 y Fu(could)16 b(b)q(e)g(satis\014ed)g(b)o(y)f(instan)o(tiating)g
Fq(a)g Fu(as)g(either)h Fq(Int)f Fu(in)h(b)q(oth)f(cases,)f(or)h
Fq(Bool)p Fu(.)k(Suc)o(h)d(expressions)0 751 y(are)f(considered)h(ill-t)o(yp)
q(ed,)i(a)d(static)g(error.)71 828 y(W)l(e)f(sa)o(y)f(that)g(an)h(expression)
h Fq(e)f Fu(is)h Fp(ambiguously)g(overlo)n(ade)n(d)f Fu(if,)g(in)h(its)g(t)o
(yp)q(e)f Fl(8)p 1469 804 28 2 v 16 w Fp(u)t Fr(:)i Fp(c)31
b Fl(\))f Fp(t)t Fu(,)14 b(there)0 885 y(is)i(a)f(t)o(yp)q(e)g(v)m(ariable)h
Fr(u)g Fu(in)p 451 860 27 2 v 16 w Fr(u)f Fu(whic)o(h)h(o)q(ccurs)f(in)h
Fp(c)i Fu(but)d(not)g(in)h Fp(t)5 b Fu(.)19 b(Suc)o(h)d(t)o(yp)q(es)g(are)e
(illegal.)71 962 y(F)l(or)g(example,)h(the)g(earlier)h(expression)g(in)o(v)o
(olving)g Fq(show)f Fu(and)g Fq(read)f Fu(is)h(am)o(biguously)h(o)o(v)o
(erloaded)0 1018 y(since)g(its)g(t)o(yp)q(e)f(is)h Fl(8)p Fr(a:)f
Fq(Text)f Fr(a)f Fl(\))g Fq(String)o Fu(.)71 1096 y(Ov)o(erloading)g(am)o
(biguit)o(y)l(,)g(although)g(rare,)f(can)h(only)g(b)q(e)g(circum)o(v)o(en)o
(ted)h(b)o(y)e(input)i(from)e(the)g(user.)0 1152 y(One)17 b(w)o(a)o(y)d(is)j
(through)e(the)h(use)g(of)f Fp(expr)n(ession)h(typ)n(e-signatur)n(es)f
Fu(as)g(describ)q(ed)j(in)f(Section)f(3.13.)21 b(F)l(or)0 1208
y(example,)16 b(for)e(the)i(am)o(biguous)f(expression)h(giv)o(en)g(earlier,)f
(one)h(could)g(write:)71 1286 y Fq(let)23 b(x)h(=)f(read)h("...")f(in)h(show)
f(\(x::Bool\))0 1363 y Fu(whic)o(h)16 b(disam)o(biguates)g(the)f(t)o(yp)q(e.)
71 1440 y(Occasionally)l(,)21 b(an)e(otherwise)h(am)o(biguous)f(expression)h
(needs)g(to)e(b)q(e)i(made)f(the)g(same)g(t)o(yp)q(e)g(as)0
1497 y(some)13 b(v)m(ariable,)i(rather)d(than)i(b)q(eing)g(giv)o(en)g(a)f
(\014xed)h(t)o(yp)q(e)g(with)f(an)g(expression)i(t)o(yp)q(e-signature.)k
(This)0 1553 y(is)e(the)g(purp)q(ose)g(of)f(the)h(function)g
Fq(asTypeOf)f Fu(\(App)q(endix)i(A\):)23 b Fp(x)f Fq(asTypeOf)15
b Fp(y)21 b Fu(has)16 b(the)h(v)m(alue)h(of)e Fp(x)5 b Fu(,)0
1609 y(but)15 b Fp(x)21 b Fu(and)15 b Fp(y)20 b Fu(are)15 b(forced)g(to)f(ha)
o(v)o(e)h(the)g(same)g(t)o(yp)q(e.)20 b(F)l(or)15 b(example,)71
1687 y Fq(approxSqrt)22 b(x)i(=)g(encodeFloat)e(1)i(\(exponent)e(x)i(`div`)f
(2\))h(`asTypeOf`)e(x)0 1764 y Fu(\(See)15 b(Section)i(6.8.8.\))71
1841 y(Am)o(biguities)22 b(in)g(the)f(class)h Fq(Num)e Fu(are)h(most)f
(common,)i(so)f(Hask)o(ell)g(pro)o(vides)h(another)f(w)o(a)o(y)f(to)0
1898 y(resolv)o(e)15 b(them|with)h(a)f Fp(default)i(de)n(clar)n(ation)p
Fu(:)651 1987 y Fq(default)23 b(\()p Fp(t)881 1994 y Fk(1)921
1987 y Fq(,)h Fr(:)8 b(:)g(:)22 b Fq(,)16 b Fp(t)1101 1994
y Fk(n)1125 1987 y Fq(\))0 2077 y Fu(where)11 b Fp(n)16 b Fl(\025)d
Fp(0)k Fu(\(the)11 b(paren)o(theses)g(ma)o(y)f(b)q(e)i(omitted)f(when)g
Fp(n)16 b Fu(=)d Fp(1)6 b Fu(\),)11 b(and)g(eac)o(h)g Fp(t)1378
2084 y Fk(i)1405 2077 y Fu(m)o(ust)f(b)q(e)i(a)e(monot)o(yp)q(e)0
2133 y(for)j(whic)o(h)i Fq(Num)23 b Fp(t)307 2140 y Fk(i)337
2133 y Fu(holds.)d(In)14 b(situations)h(where)f(an)f(am)o(biguous)h(t)o(yp)q
(e)g(is)h(disco)o(v)o(ered,)f(an)g(am)o(biguous)0 2190 y(t)o(yp)q(e)k(v)m
(ariable)h(is)f(defaultable)h(if)f(at)e(least)i(one)g(of)f(its)h(classes)g
(is)g(a)f(n)o(umeric)h(class)g(and)g(if)g(all)h(of)e(its)0
2246 y(classes)j(are)f(either)i(n)o(umeric)f(classes)g(or)g(standard)f
(classes.)33 b(\(Figures)20 b(8{10,)f(pages)h(60{62,)f(sho)o(w)0
2303 y(the)e(n)o(umeric)g(classes,)g(and)f(Figure)h(5,)f(page)g(31,)g(sho)o
(ws)g(the)h(standard)f(classes.\))23 b(Eac)o(h)17 b(defaultable)0
2359 y(v)m(ariable)12 b(is)f(replaced)h(b)o(y)f(the)f(\014rst)h(t)o(yp)q(e)f
(in)i(the)f(default)g(list)g(that)f(is)h(an)g(instance)g(of)g(all)g(the)g(am)
o(biguous)0 2416 y(v)m(ariable's)16 b(classes.)21 b(It)15 b(is)g(a)g(static)g
(error)g(if)g(no)h(suc)o(h)f(t)o(yp)q(e)g(is)h(found.)71 2493
y(Only)i(one)f(default)h(declaration)f(is)h(p)q(ermitted)g(p)q(er)f(mo)q
(dule,)i(and)e(its)g(e\013ect)g(is)g(limited)i(to)e(that)0
2549 y(mo)q(dule.)k(If)15 b(no)h(default)f(declaration)h(is)g(giv)o(en)g(in)g
(a)f(mo)q(dule)h(then)g(it)f(defaults)h(to:)71 2626 y Fq(default)22
b(\(Int,)i(Double\))0 2704 y Fu(The)11 b(empt)o(y)f(default)h(declaration)g
Fq(default)23 b(\(\))10 b Fu(m)o(ust)g(b)q(e)h(giv)o(en)g(to)f(turn)h(o\013)e
(all)j(defaults)f(in)g(a)f(mo)q(dule.)p eop
%%Page: 35 49
bop 150 50 a Ft(4.4)45 b(Nested)15 b(Declarations)1254 b Fu(35)150
199 y Fx(4.4)56 b(Nested)17 b(Declarations)150 310 y Fu(The)f(follo)o(wing)f
(declarations)h(ma)o(y)f(b)q(e)h(used)g(in)g(an)o(y)f(declaration)h(list,)g
(including)i(the)d(top)g(lev)o(el)h(of)f(a)150 366 y(mo)q(dule.)150
511 y Fs(4.4.1)52 b(T)o(yp)q(e)17 b(Signatures)150 622 y Fp(de)n(cl)134
b Fl(!)59 b Fp(vars)20 b Fq(::)c Fu([)p Fp(c)n(ontext)j Fq(=>)p
Fu(])d Fp(typ)n(e)150 679 y(vars)127 b Fl(!)59 b Fp(var)526
686 y Fk(1)566 679 y Fq(,)23 b Fr(:)8 b(:)g(:)e Fq(,)16 b Fp(var)777
686 y Fk(n)1339 679 y Fu(\()p Fp(n)g Fl(\025)d Fp(1)6 b Fu(\))150
810 y(A)18 b(t)o(yp)q(e)g(signature)f(sp)q(eci\014es)j(t)o(yp)q(es)e(for)f(v)
m(ariables,)i(p)q(ossibly)g(with)f(resp)q(ect)h(to)e(a)g(con)o(text.)27
b(A)18 b(t)o(yp)q(e)150 866 y(signature)d(has)g(the)h(form:)837
923 y Fp(x)858 930 y Fk(1)881 923 y Fr(;)24 b(:)8 b(:)g(:)d(;)24
b Fp(x)1036 930 y Fk(n)1076 923 y Fq(::)16 b Fp(c)j Fq(=>)d
Fp(t)150 1006 y Fu(whic)o(h)i(is)f(equiv)m(alen)o(t)h(to)e(asserting)h
Fp(x)816 1013 y Fk(i)847 1006 y Fq(::)f Fp(c)j Fq(=>)d Fp(t)21
b Fu(for)16 b(eac)o(h)h Fp(i)k Fu(from)16 b Fp(1)23 b Fu(to)16
b Fp(n)s Fu(.)24 b(Eac)o(h)17 b Fp(x)1675 1013 y Fk(i)1707
1006 y Fu(m)o(ust)f(ha)o(v)o(e)g(a)150 1063 y(v)m(alue)h(binding)h(in)f(the)g
(same)e(declaration)i(list)g(that)f(con)o(tains)g(the)g(t)o(yp)q(e)g
(signature;)h(i.e.)f(it)g(is)h(illegal)150 1119 y(to)g(giv)o(e)h(a)f(t)o(yp)q
(e)g(signature)h(for)f(a)g(v)m(ariable)i(b)q(ound)g(in)f(an)f(outer)h(scop)q
(e.)27 b(Moreo)o(v)o(er,)16 b(it)i(is)g(illegal)i(to)150 1175
y(giv)o(e)15 b(more)g(than)g(one)h(t)o(yp)q(e)f(signature)g(for)g(one)g(v)m
(ariable.)221 1257 y(As)c(men)o(tioned)i(in)f(Section)h(4.1.1,)e(ev)o(ery)g
(t)o(yp)q(e)h(v)m(ariable)h(app)q(earing)g(in)g(a)e(signature)h(is)g(univ)o
(ersally)150 1313 y(quan)o(ti\014ed)j(o)o(v)o(er)e(that)h(signature,)g(and)g
(hence)h(the)g(scop)q(e)f(of)g(a)g(t)o(yp)q(e)g(v)m(ariable)i(is)e(limited)i
(to)e(the)g(t)o(yp)q(e)150 1370 y(signature)h(that)g(con)o(tains)g(it.)20
b(F)l(or)15 b(example,)g(in)i(the)e(follo)o(wing)h(declarations)221
1447 y Fq(f)23 b(::)h(a)g(->)f(a)221 1504 y(f)g(x)h(=)g(x::a)524
b(--)24 b(ILLEGAL)150 1581 y Fu(the)17 b Fq(a)p Fu('s)g(in)h(the)f(t)o(w)o(o)
f(t)o(yp)q(e)h(signatures)g(are)g(quite)h(distinct.)27 b(Indeed,)19
b(these)e(declarations)h(con)o(tain)f(a)150 1638 y(static)e(error,)f(since)i
Fq(x)f Fu(do)q(es)h(not)f(ha)o(v)o(e)g(t)o(yp)q(e)g Fl(8)p
Fr(a:)g(a)p Fu(.)221 1719 y(A)20 b(t)o(yp)q(e)h(signature)g(for)f
Fp(x)26 b Fu(ma)o(y)19 b(b)q(e)j(more)e(sp)q(eci\014c)i(than)f(the)f
(principal)j(t)o(yp)q(e)e(deriv)m(able)i(from)150 1775 y(the)c(v)m(alue)i
(binding)g(of)e Fp(x)24 b Fu(\(see)19 b(Section)h(4.1.3\),)e(but)i(it)f(is)h
(an)f(error)f(to)h(giv)o(e)g(a)g(t)o(yp)q(e)g(that)g(is)g(more)150
1832 y(general)e(than,)f(or)g(incomparable)i(to,)e(the)g(principal)j(t)o(yp)q
(e.)24 b(If)17 b(a)f(more)g(sp)q(eci\014c)i(t)o(yp)q(e)f(is)g(giv)o(en)g
(then)150 1888 y(all)f(o)q(ccurrences)g(of)f(the)g(v)m(ariable)i(m)o(ust)e(b)
q(e)g(used)h(at)f(the)g(more)g(sp)q(eci\014c)i(t)o(yp)q(e)e(or)g(at)f(a)h
(more)g(sp)q(eci\014c)150 1945 y(t)o(yp)q(e)g(still.)22 b(F)l(or)14
b(example,)i(if)f(w)o(e)g(de\014ne)221 2026 y Fq(sqr)23 b(x)48
b(=)f(x*x)150 2108 y Fu(then)20 b(the)f(principal)j(t)o(yp)q(e)d(is)h
Fq(sqr)f Fu(::)g Fl(8)p Fr(a:)g Fq(Num)g Fr(a)h Fl(\))g Fr(a)f
Fl(!)h Fr(a)p Fu(,)g(whic)o(h)g(allo)o(ws)g(applications)h(suc)o(h)e(as)150
2164 y Fq(sqr)k(5)15 b Fu(or)g Fq(sqr)24 b(0.1)o Fu(.)c(It)15
b(is)h(also)f(legal)h(to)f(declare)h(a)f(more)g(sp)q(eci\014c)i(t)o(yp)q(e,)e
(suc)o(h)g(as)221 2245 y Fq(sqr)23 b(::)h(Int)f(->)h(Int)150
2327 y Fu(but)15 b(no)o(w)g(applications)i(suc)o(h)e(as)g Fq(sqr)24
b(0.1)14 b Fu(are)h(illegal.)22 b(T)o(yp)q(e)16 b(signatures)f(suc)o(h)g(as)
221 2405 y Fq(sqr)23 b(::)h(\(Num)f(a,)h(Num)f(b\))h(=>)f(a)h(->)f(b)120
b(--)23 b(ILLEGAL)221 2462 y(sqr)g(::)h(a)f(->)h(a)549 b(--)23
b(ILLEGAL)150 2539 y Fu(are)15 b(illegal,)i(as)e(they)g(are)g(more)g(general)
g(than)g(the)h(principal)h(t)o(yp)q(e)e(of)g Fq(sqr)p Fu(.)p
eop
%%Page: 36 50
bop 0 50 a Fu(36)955 b Ft(4)45 b(DECLARA)l(TIONS)17 b(AND)e(BINDINGS)0
199 y Fs(4.4.2)52 b(F)l(unction)18 b(and)g(P)o(attern)f(Bindings)0
306 y Fp(de)n(cl)134 b Fl(!)59 b Fp(valdef)0 419 y(valdef)95
b Fl(!)59 b Fp(lhs)19 b Fq(=)d Fp(exp)k Fu([)p Fq(where)15
b({)h Fp(de)n(cls)j Fu([)p Fq(;)o Fu(])d Fq(})p Fu(])225 476
y Fl(j)75 b Fp(lhs)19 b(gdrhs)h Fu([)p Fq(where)15 b({)i Fp(de)n(cls)h
Fu([)p Fq(;)p Fu(])e Fq(})p Fu(])0 588 y Fp(lhs)155 b Fl(!)59
b Fp(p)n(at)372 597 y Fi(h)p Fo(\()p Fk(var)19 b Fi(j)d Fq(_)p
Fo(\))g Fq(+)g Fk(inte)n(ger)i Fi(i)225 645 y Fl(j)75 b Fp(funlhs)0
701 y(funlhs)91 b Fl(!)59 b Fp(var)21 b(ap)n(at)g Fl(f)16 b
Fp(ap)n(at)21 b Fl(g)225 758 y(j)75 b Fp(p)n(at)376 741 y Fk(i)s
Fo(+)p Fk(1)455 758 y Fp(var)n(op)565 741 y Fo(\()p Fk(a)s
Fj(;)p Fk(i)s Fo(\))652 758 y Fp(p)n(at)715 741 y Fk(i)s Fo(+)p
Fk(1)225 814 y Fl(j)g Fp(lp)n(at)388 798 y Fk(i)419 814 y Fp(var)n(op)529
798 y Fo(\()16 b(l)p Fj(;)p Fk(i)s Fo(\))622 814 y Fp(p)n(at)685
798 y Fk(i)s Fo(+)p Fk(1)225 871 y Fl(j)75 b Fp(p)n(at)376
854 y Fk(i)s Fo(+)p Fk(1)455 871 y Fp(var)n(op)565 854 y Fo(\()15
b(r)p Fj(;)p Fk(i)s Fo(\))660 871 y Fp(rp)n(at)742 854 y Fk(i)0
984 y Fp(gdrhs)104 b Fl(!)59 b Fp(gd)21 b Fq(=)16 b Fp(exp)j
Fu([)p Fp(gdrhs)t Fu(])0 1097 y Fp(gd)165 b Fl(!)59 b Fq(|)16
b Fp(exp)421 1080 y Fk(0)0 1211 y Fu(W)l(e)21 b(distinguish)j(t)o(w)o(o)c
(cases)h(within)i(this)e(syn)o(tax:)32 b(a)21 b Fp(p)n(attern)h(binding)e
Fu(o)q(ccurs)i(when)g Fp(lhs)i Fu(is)e Fp(p)n(at)t Fu(;)0 1267
y(otherwise,)16 b(the)f(binding)j(is)e(called)h(a)f Fp(function)g(binding)p
Fu(.)k(Either)c(binding)i(ma)o(y)d(app)q(ear)g(at)g(the)h(top-)0
1324 y(lev)o(el)i(of)e(a)g(mo)q(dule)i(or)e(within)i(a)e Fq(where)g
Fu(or)g Fq(let)h Fu(construct.)23 b(T)l(op)17 b(lev)o(el)h
Fr(n)p Fq(+)p Fr(k)g Fu(pattern)e(bindings)i(are)0 1380 y(explicitly)j
(disallo)o(w)o(ed;)f(otherwise,)e(programs)f(suc)o(h)h(as)g
Fq(x)24 b(+)f(2)h(=)g(3)17 b Fu(could)i(b)q(e)g(parsed)f(either)h(as)e(a)0
1437 y(de\014nition)g(of)e Fq(+)g Fu(or)f(as)h(a)g(pattern)g(binding.)0
1576 y Fs(F)l(unction)g(bindings.)46 b Fu(A)12 b(function)i(binding)g(binds)g
(a)e(v)m(ariable)i(to)d(a)h(function)i(v)m(alue.)20 b(The)12
b(general)0 1632 y(form)i(of)h(a)g(function)h(binding)h(for)e(v)m(ariable)h
Fp(x)21 b Fu(is:)645 1719 y Fp(x)74 b(p)763 1726 y Fk(11)828
1719 y Fr(:)8 b(:)g(:)22 b Fp(p)928 1726 y Fk(1k)1011 1719
y Fp(match)1130 1726 y Fk(1)645 1776 y Fr(:)8 b(:)g(:)645 1832
y Fp(x)74 b(p)763 1839 y Fk(n1)829 1832 y Fr(:)8 b(:)g(:)22
b Fp(p)929 1839 y Fk(nk)1011 1832 y Fp(match)1130 1839 y Fk(n)0
1919 y Fu(where)15 b(eac)o(h)h Fp(p)257 1926 y Fk(ij)300 1919
y Fu(is)f(a)g(pattern,)g(and)g(where)g(eac)o(h)h Fp(match)999
1926 y Fk(i)1030 1919 y Fu(is)g(of)e(the)i(general)f(form:)700
2010 y Fq(=)h Fp(e)j Fq(where)k({)17 b Fp(de)n(cls)i Fq(})0
2101 y Fu(or)657 2145 y Fq(|)d Fp(g)718 2152 y Fk(i1)811 2145
y Fq(=)h Fp(e)873 2152 y Fk(i1)657 2201 y Fr(:)8 b(:)g(:)657
2257 y Fq(|)16 b Fp(g)718 2264 y Fk(im)757 2268 y Ff(i)811
2257 y Fq(=)h Fp(e)873 2264 y Fk(im)912 2268 y Ff(i)811 2314
y Fq(where)24 b({)16 b Fp(de)n(cls)1089 2321 y Fk(i)1119 2314
y Fq(})0 2388 y Fu(and)h(where)f Fp(n)g Fl(\025)d Fp(1)6 b
Fu(,)16 b Fp(1)j Fl(\024)13 b Fp(i)18 b Fl(\024)13 b Fp(n)s
Fu(,)j Fp(m)635 2395 y Fk(i)663 2388 y Fl(\025)d Fp(1)6 b Fu(.)24
b(The)16 b(former)g(is)h(treated)e(as)h(shorthand)h(for)e(a)h(particular)0
2444 y(case)f(of)g(the)g(latter,)g(namely:)616 2535 y Fq(|)24
b(True)f(=)16 b Fp(e)k Fq(where)j({)16 b Fp(de)n(cls)j Fq(})71
2647 y Fu(The)14 b(set)g(of)g(patterns)g(corresp)q(onding)h(to)f(eac)o(h)g
(matc)o(h)g(m)o(ust)f(b)q(e)i Fp(line)n(ar)p Fu(|no)f(v)m(ariable)i(is)f
(allo)o(w)o(ed)0 2704 y(to)g(app)q(ear)g(more)g(than)g(once)g(in)h(the)g(en)o
(tire)f(set.)p eop
%%Page: 37 51
bop 150 50 a Ft(4.5)45 b(Static)15 b(seman)o(tics)g(of)g(function)h(and)f
(pattern)g(bindings)669 b Fu(37)221 199 y(Alternativ)o(e)22
b(syn)o(tax)f(is)i(pro)o(vided)f(for)f(binding)j(functional)f(v)m(alues)g(to)
f(in\014x)h(op)q(erators.)39 b(F)l(or)150 256 y(example,)16
b(these)f(t)o(w)o(o)f(function)i(de\014nitions)h(are)e(equiv)m(alen)o(t:)221
333 y Fq(plus)23 b(x)h(y)f(z)h(=)g(x+y+z)221 390 y(x)f Fp(\022)q
Fq(plus)-10 b Fp(\022)24 b Fq(y)g(=)f(\\)h(z)g(->)f(x+y+z)p
152 487 1782 2 v 152 940 2 453 v 181 551 a Fs(T)l(ranslation:)47
b Fu(The)13 b(general)g(binding)i(form)d(for)g(functions)i(is)f(seman)o
(tically)h(equiv)m(alen)o(t)g(to)f(the)181 607 y(equation)j(\(i.e.)f(simple)h
(pattern)f(binding\):)376 709 y Fr(x)h(x)444 716 y Fo(1)477
709 y Fr(x)503 716 y Fo(2)537 709 y Fr(:::)e(x)616 716 y Fj(k)660
709 y Fq(=)24 b(case)f(\()p Fr(x)877 716 y Fo(1)896 709 y Fq(,)h
Fr(:::)p Fq(,)e Fr(x)1055 716 y Fj(k)1076 709 y Fq(\))h(of)e(\()p
Fp(p)1239 716 y Fk(11)1280 709 y Fr(;)i(:)8 b(:)g(:)e(;)23
b Fp(p)1436 716 y Fk(1k)1475 709 y Fq(\))16 b Fp(match)1634
716 y Fk(1)1192 766 y Fr(:)8 b(:)g(:)1192 822 y Fq(\()p Fp(p)1239
829 y Fk(m1)1290 822 y Fr(;)24 b(:)8 b(:)g(:)d(;)24 b Fp(p)1447
829 y Fk(mk)1496 822 y Fq(\))16 b Fp(match)1655 829 y Fk(m)181
920 y Fu(where)g(the)f Fp(x)412 927 y Fk(i)442 920 y Fu(are)g(new)h(iden)o
(ti\014ers.)p 1931 940 V 152 942 1782 2 v 150 1085 a Fs(P)o(attern)d
(bindings.)46 b Fu(A)12 b(pattern)f(binding)i(binds)g(v)m(ariables)g(to)e(v)m
(alues.)19 b(A)12 b Fp(simple)f Fu(pattern)g(binding)150 1142
y(has)g(form)g Fp(p)32 b Fu(=)d Fp(e)s Fu(.)19 b(In)11 b(b)q(oth)h(a)f
Fq(where)f Fu(or)h Fq(let)g Fu(clause)h(and)f(at)g(the)g(top)g(lev)o(el)i(of)
d(a)h(mo)q(dule,)i(the)e(pattern)150 1198 y Fp(p)18 b Fu(is)e(matc)o(hed)g
(\\lazily")g(as)f(an)h(irrefutable)g(pattern)f(b)o(y)g(default)h(\(as)f(if)h
(there)g(w)o(ere)f(an)g(implicit)j Fq(~)d Fu(in)150 1255 y(fron)o(t)f(of)h
(it\).)20 b(See)c(the)f(translation)g(in)h(Section)g(3.11.)221
1336 y(The)f Fp(gener)n(al)e Fu(form)h(of)h(a)f(pattern)g(binding)j(is)e
Fp(p)20 b(match)t Fu(,)14 b(where)h(a)g Fp(match)k Fu(is)c(the)g(same)f
(structure)150 1392 y(as)h(for)f(function)i(bindings)h(ab)q(o)o(v)o(e;)e(in)h
(other)f(w)o(ords,)f(a)h(pattern)f(binding)k(is:)856 1491 y
Fp(p)49 b Fq(|)16 b Fp(g)989 1498 y Fk(1)1059 1491 y Fq(=)g
Fp(e)1120 1498 y Fk(1)928 1547 y Fq(|)g Fp(g)989 1554 y Fk(2)1059
1547 y Fq(=)g Fp(e)1120 1554 y Fk(2)944 1603 y Fr(:)8 b(:)g(:)924
1660 y Fq(|)16 b Fp(g)985 1667 y Fk(m)1059 1660 y Fq(=)g Fp(e)1120
1667 y Fk(m)924 1716 y Fq(where)23 b({)16 b Fp(de)n(cls)j Fq(})p
152 1814 V 152 2287 2 474 v 181 1877 a Fs(T)l(ranslation:)47
b Fu(The)22 b(pattern)g(binding)i(ab)q(o)o(v)o(e)e(is)h(seman)o(tically)g
(equiv)m(alen)o(t)h(to)e(this)g(simple)181 1934 y(pattern)15
b(binding:)445 2032 y Fp(p)45 b Fq(=)c(let)16 b Fp(de)n(cls)j
Fq(in)578 2088 y(if)24 b Fp(g)671 2095 y Fk(1)718 2088 y Fq(then)g
Fp(e)859 2095 y Fk(1)906 2088 y Fq(else)578 2145 y(if)g Fp(g)671
2152 y Fk(2)718 2145 y Fq(then)g Fp(e)859 2152 y Fk(2)906 2145
y Fq(else)578 2201 y Fr(:::)578 2258 y Fq(if)g Fp(g)671 2265
y Fk(m)727 2258 y Fq(then)f Fp(e)867 2265 y Fk(m)924 2258 y
Fq(else)g(error)g("Unmatched)g(pattern")p 1931 2287 V 152 2289
1782 2 v 150 2436 a Fx(4.5)56 b(Static)18 b(seman)n(tics)f(of)i(function)f
(and)i(pattern)e(bindings)150 2546 y Fu(The)i(static)g(seman)o(tics)g(of)f
(the)h(function)h(and)f(pattern)f(bindings)j(of)e(a)f Fq(let)h
Fu(expression)g(or)g Fq(where)150 2603 y Fu(clause)c(is)g(discussed)h(in)f
(this)f(section.)p eop
%%Page: 38 52
bop 0 50 a Fu(38)955 b Ft(4)45 b(DECLARA)l(TIONS)17 b(AND)e(BINDINGS)0
199 y Fs(4.5.1)52 b(Dep)q(endency)18 b(analysis)0 308 y Fu(In)13
b(general)g(the)f(static)g(seman)o(tics)h(is)g(giv)o(en)g(b)o(y)f(the)g
(normal)h(Hindley-Milner)i(inference)f(rules,)f(except)0 365
y(that)i(a)g Fp(dep)n(endency)h(analysis)f(tr)n(ansformation)g
Fu(is)h(\014rst)f(p)q(erformed)h(to)f(enhance)h(p)q(olymorphism,)g(as)0
421 y(follo)o(ws.)33 b(Tw)o(o)19 b(v)m(ariables)i(b)q(ound)f(b)o(y)g(v)m
(alue)h(declarations)f(are)f(in)i(the)e(same)h Fp(de)n(clar)n(ation)f(gr)n
(oup)h Fu(if)0 478 y(either)56 590 y(1.)i(they)15 b(are)g(b)q(ound)h(b)o(y)f
(the)g(same)g(pattern)g(binding,)i(or)56 682 y(2.)22 b(their)15
b(bindings)i(are)e(m)o(utually)h(recursiv)o(e)f(\(p)q(erhaps)h(via)f(some)g
(other)g(declarations)g(whic)o(h)h(are)114 739 y(also)f(part)f(of)h(the)g
(group\).)0 851 y(Careful)c(application)h(of)f(the)g(follo)o(wing)g(rules)h
(causes)f(eac)o(h)f Fq(let)h Fu(or)f Fq(where)g Fu(construct)g(to)g(bind)j
(only)e(the)0 908 y(v)m(ariables)17 b(of)d(a)h(single)i(declaration)f(group,)
e(th)o(us)h(capturing)h(the)f(required)h(dep)q(endency)i(analysis:)1758
891 y Fo(2)232 1016 y Fu(\(1\))d(The)g(order)g(of)g(declarations)h(in)g
Fq(where)o Fu(/)p Fq(let)e Fu(constructs)h(is)h(irrelev)m(an)o(t.)232
1073 y(\(2\))f Fq(let)23 b({)p Fr(d)449 1080 y Fo(1)467 1073
y Fq(;)h Fr(d)539 1080 y Fo(2)557 1073 y Fq(})g(in)f Fr(e)16
b Fu(=)f Fq(let)24 b({)p Fr(d)907 1080 y Fo(1)925 1073 y Fq(})g(in)f(\(let)h
({)o Fr(d)1211 1080 y Fo(2)1230 1073 y Fq(})f(in)h Fr(e)p Fq(\))293
1129 y Fu(\(when)15 b(no)g(iden)o(ti\014er)i(b)q(ound)f(in)g
Fr(d)900 1136 y Fo(2)934 1129 y Fu(app)q(ears)f(free)g(in)h
Fr(d)1266 1136 y Fo(1)1285 1129 y Fu(\))0 1268 y Fs(4.5.2)52
b(Generalisation)0 1377 y Fu(The)15 b(Hindley-Milner)i(t)o(yp)q(e)e(system)f
(assigns)g(t)o(yp)q(es)g(to)g(a)g Fq(let)p Fu(-expression)h(in)g(t)o(w)o(o)e
(stages.)19 b(First,)14 b(the)0 1433 y(righ)o(t-hand)j(side)g(of)f(the)g
(declaration)h(is)g(t)o(yp)q(ed,)g(giving)g(a)f(t)o(yp)q(e)g(with)h(no)f
(univ)o(ersal)i(quan)o(ti\014cation.)0 1490 y(Second,)i(all)f(t)o(yp)q(e)g(v)
m(ariables)h(whic)o(h)f(o)q(ccur)g(in)h(this)f(t)o(yp)q(e)f(are)g(univ)o
(ersally)j(quan)o(ti\014ed)e(unless)h(they)0 1546 y(are)c(asso)q(ciated)h
(with)g(b)q(ound)h(v)m(ariables)g(in)f(the)g(t)o(yp)q(e)g(en)o(vironmen)o(t;)
g(this)g(is)h(called)g Fp(gener)n(alisation)p Fu(.)0 1603 y(Finally)l(,)f
(the)e(b)q(o)q(dy)h(of)e(the)i Fq(let)o Fu(-expression)h(is)e(t)o(yp)q(ed.)71
1682 y(F)l(or)f(example,)i(consider)g(the)f(declaration)261
1758 y Fq(f)24 b(x)g(=)g(let)f(g)h(y)g(=)f(\(y,y\))405 1814
y(in)g(...)0 1949 y Fu(The)18 b(t)o(yp)q(e)f(of)g Fq(g)p Fu('s)g
(de\014nition)i(is)f Fr(a)e Fl(!)h Fu(\()p Fr(a;)8 b(a)p Fu(\).)25
b(The)18 b(generalisation)g(step)f(attributes)h(to)e Fq(g)i
Fu(the)f(p)q(oly-)0 2006 y(morphic)f(t)o(yp)q(e)f Fl(8)p Fr(a:)g(a)e
Fl(!)g Fu(\()p Fr(a;)8 b(a)p Fu(\),)13 b(after)i(whic)o(h)h(the)f(t)o(yping)h
(of)e(the)i(\\)p Fq(...)o Fu(")f(part)f(can)i(pro)q(ceed.)71
2085 y(When)i(t)o(yping)g(o)o(v)o(erloaded)g(de\014nitions,)h(all)g(the)f(o)o
(v)o(erloading)g(constrain)o(ts)f(from)h(a)f(single)i(dec-)0
2142 y(laration)i(group)g(are)g(collected)i(together,)e(to)g(form)f(the)h
(con)o(text)g(for)f(the)h(t)o(yp)q(e)h(of)e(eac)o(h)i(v)m(ariable)0
2198 y(declared)16 b(in)g(the)g(group.)j(F)l(or)c(example,)h(in)g(the)f
(de\014nition:)261 2274 y Fq(f)24 b(x)g(=)g(let)f(g1)h(x)f(y)h(=)g(if)f(x>y)h
(then)f(show)h(x)f(else)h(g2)f(y)h(x)500 2330 y(g2)g(p)f(q)h(=)g(g1)f(q)h(p)
405 2387 y(in)f(...)0 2463 y Fu(The)16 b(t)o(yp)q(es)g(of)f(the)h
(de\014nitions)h(of)f Fq(g1)f Fu(and)h Fq(g2)f Fu(are)h(b)q(oth)g
Fr(a)d Fl(!)h Fr(a)g Fl(!)g Fq(String)o Fu(,)i(and)f(the)h(accum)o(ulated)0
2519 y(constrain)o(ts)d(are)g Fq(Ord)h Fr(a)f Fu(\(arising)h(from)f(the)h
(use)g(of)f Fq(>)p Fu(\),)g(and)h Fq(Text)f Fr(a)h Fu(\(arising)f(from)g(the)
h(use)g(of)f Fq(show)p Fu(\).)0 2575 y(The)h(t)o(yp)q(e)f(v)m(ariables)i(app)
q(earing)f(in)g(this)g(collection)h(of)e(constrain)o(ts)g(are)g(called)i(the)
f Fp(c)n(onstr)n(aine)n(d)f(typ)n(e)0 2632 y(variables)p Fu(.)p
0 2661 720 2 v 52 2688 a Fn(2)69 2704 y Fm(A)g(similar)i(transformation)g(is)
e(describ)q(ed)i(in)f(P)o(eyton)g(Jones')f(b)q(o)q(ok)g([14)q(].)p
eop
%%Page: 39 53
bop 150 50 a Ft(4.5)45 b(Static)15 b(seman)o(tics)g(of)g(function)h(and)f
(pattern)g(bindings)669 b Fu(39)221 199 y(The)17 b(generalisation)h(step)f
(attributes)g(to)g(b)q(oth)g Fq(g1)g Fu(and)g Fq(g2)g Fu(the)g(t)o(yp)q(e)h
Fl(8)p Fr(a:)f Fu(\()p Fq(Ord)f Fr(a;)24 b Fq(Text)17 b Fr(a)p
Fu(\))f Fl(\))150 256 y Fr(a)j Fl(!)g Fr(a)f Fl(!)i Fq(String)o
Fu(.)30 b(Notice)20 b(that)e Fq(g2)g Fu(is)i(o)o(v)o(erloaded)e(in)i(the)f
(same)f(w)o(a)o(y)g(as)h Fq(g1)f Fu(ev)o(en)h(though)g(the)150
312 y(o)q(ccurrences)d(of)f Fq(>)g Fu(and)g Fq(show)g Fu(are)g(in)h(the)f
(de\014nition)i(of)e Fq(g1)p Fu(.)221 394 y(If)21 b(the)g(programmer)f
(supplies)k(explicit)f(t)o(yp)q(e)e(signatures)h(for)e(more)h(than)g(one)h(v)
m(ariable)g(in)g(a)150 450 y(declaration)15 b(group,)f(the)h(con)o(texts)e
(of)h(these)h(signatures)f(m)o(ust)g(b)q(e)h(iden)o(tical)h(up)f(to)f
(renaming)h(of)f(the)150 506 y(t)o(yp)q(e)h(v)m(ariables.)221
588 y(As)f(men)o(tioned)i(in)f(Section)h(4.1.3,)c(the)j(con)o(text)f(of)g(a)h
(t)o(yp)q(e)f(ma)o(y)g(constrain)h(only)g(t)o(yp)q(e)g(v)m(ariables.)150
644 y(Consider,)g(for)g(example,)h(the)f(de\014nition:)411
726 y Fq(f)24 b(xs)g(y)47 b(=)h(xs)24 b(==)f([y])150 807 y
Fu(Its)15 b(t)o(yp)q(e)g(is)h(giv)o(en)g(b)o(y)411 888 y Fq(f)24
b(::)g(Eq)f(a)h(=>)g([a])f(->)h(a)f(->)h(Bool)150 970 y Fu(and)15
b(not)411 1051 y Fq(f)24 b(::)g(Eq)f([a])h(=>)f([a])h(->)f(a)h(->)g(Bool)150
1132 y Fu(Ev)o(en)13 b(though)h(the)f(equalit)o(y)h(is)g(tak)o(en)f(at)g(the)
h(list)g(t)o(yp)q(e,)f(the)h(con)o(text)f(m)o(ust)g(b)q(e)h(simpli\014ed,)i
(using)e(the)150 1189 y(instance)k(declaration)g(for)f Fq(Eq)g
Fu(on)h(lists,)g(b)q(efore)g(generalisation.)28 b(If)17 b(no)h(suc)o(h)f
(instance)i(is)f(in)g(scop)q(e,)150 1245 y(an)d(error)g(is)g(signalled.)150
1390 y Fs(4.5.3)52 b(Monomorphism)150 1501 y Fu(Sometimes)15
b(it)f(is)h(not)f(p)q(ossible)i(to)e(generalise)h(o)o(v)o(er)f(all)h(the)f(t)
o(yp)q(e)h(v)m(ariables)g(used)g(in)g(the)g(t)o(yp)q(e)f(of)g(the)150
1557 y(de\014nition.)22 b(F)l(or)14 b(example,)i(consider)g(the)f
(declaration)411 1635 y Fq(f)24 b(x)g(=)g(let)f(g)h(y)g(z)f(=)h(\([x,y],)f
(z\))555 1691 y(in)g(...)150 1769 y Fu(In)e(an)f(en)o(vironmen)o(t)h(where)f
Fq(x)g Fu(has)h(t)o(yp)q(e)f Fr(a)p Fu(,)h(the)f(t)o(yp)q(e)h(of)f
Fq(g)p Fu('s)f(de\014nition)j(is)f Fr(a)g Fl(!)h Fr(b)f Fl(!)g
Fq(\([)p Fr(a)p Fq(])p Fr(;)8 b(b)p Fq(\))n Fu(.)150 1825 y(The)22
b(generalisation)g(step)g(attributes)f(to)g Fq(g)h Fu(the)f(t)o(yp)q(e)h
Fl(8)p Fr(b:)f(a)i Fl(!)h Fr(b)e Fl(!)i Fq(\([)p Fr(a)p Fq(])p
Fr(;)8 b(b)p Fq(\))n Fu(;)24 b(only)f Fr(b)e Fu(can)g(b)q(e)150
1882 y(univ)o(ersally)16 b(quan)o(ti\014ed)f(b)q(ecause)g Fr(a)g
Fu(o)q(ccurs)f(in)h(the)g(t)o(yp)q(e)f(en)o(vironmen)o(t.)20
b(W)l(e)14 b(sa)o(y)g(that)g(the)g(t)o(yp)q(e)g(of)g Fq(g)150
1938 y Fu(is)i Fp(monomorphic)h(in)f(the)g(typ)n(e)h(variable)f
Fr(a)p Fu(.)221 2020 y(The)d(e\013ect)f(of)h(suc)o(h)g(monomorphism)g(is)g
(that)f(the)h(\014rst)g(argumen)o(t)f(of)g(all)i(applications)g(of)f
Fq(g)g Fu(m)o(ust)150 2076 y(b)q(e)j(of)f(a)g(single)h(t)o(yp)q(e.)k(F)l(or)
15 b(example,)g(it)h(w)o(ould)f(b)q(e)h(legal)g(for)f(the)g(\\)p
Fq(...)o Fu(")g(to)g(b)q(e)411 2157 y Fq(\(g)24 b(True,)f(g)h(False\))150
2239 y Fu(\(whic)o(h)16 b(w)o(ould,)f(inciden)o(tally)l(,)j(force)d
Fq(x)g Fu(to)f(ha)o(v)o(e)h(t)o(yp)q(e)g Fq(Bool)p Fu(\))g(but)g(illegal)i
(for)e(it)g(to)g(b)q(e)411 2320 y Fq(\(g)24 b(True,)f(g)h('c'\))150
2402 y Fu(In)15 b(general,)g(a)g(t)o(yp)q(e)f Fl(8)p 539 2377
27 2 v Fr(u)q(:)g(c)e Fl(\))h Fr(t)i Fu(is)h(said)f(to)f(b)q(e)h
Fp(monomorphic)h Fu(in)g(the)e(t)o(yp)q(e)h(v)m(ariable)h Fp(a)j
Fu(if)c Fp(a)j Fu(is)d(free)g(in)150 2458 y Fl(8)p 175 2433
V Fr(u:)g(c)d Fl(\))h Fr(t)p Fu(.)221 2539 y(It)g(is)h(w)o(orth)e(noting)i
(that)e(the)i(explicit)h(t)o(yp)q(e)f(signatures)f(pro)o(vided)h(b)o(y)f
(Hask)o(ell)i(are)e(not)g(p)q(o)o(w)o(erful)150 2596 y(enough)f(to)e(express)
i(t)o(yp)q(es)f(whic)o(h)h(include)i(monomorphic)d(t)o(yp)q(e)g(v)m
(ariables.)20 b(F)l(or)11 b(example,)h(w)o(e)f(cannot)150 2652
y(write)p eop
%%Page: 40 54
bop 0 50 a Fu(40)955 b Ft(4)45 b(DECLARA)l(TIONS)17 b(AND)e(BINDINGS)261
193 y Fq(f)24 b(x)g(=)g(let)452 250 y(g)g(::)g(a)f(->)h(b)g(->)f(\([a],b\))
452 306 y(g)h(y)g(z)g(=)f(\([x,y],)g(z\))405 362 y(in)g(...)0
441 y Fu(b)q(ecause)17 b(that)e(w)o(ould)i(claim)g(that)e Fq(g)h
Fu(w)o(as)f(p)q(olymorphic)i(in)g(b)q(oth)f Fq(a)g Fu(and)g
Fq(b)g Fu(\(Section)h(4.4.1\).)j(In)d(this)0 497 y(program,)f
Fq(g)h Fu(can)g(only)h(b)q(e)g(giv)o(en)g(a)f(t)o(yp)q(e)g(signature)g(if)h
(its)f(\014rst)g(argumen)o(t)f(is)i(restricted)f(to)g(a)g(t)o(yp)q(e)0
554 y(not)e(in)o(v)o(olving)h(t)o(yp)q(e)g(v)m(ariables;)g(for)e(example)452
633 y Fq(g)24 b(::)g(Int)f(->)h(b)f(->)h(\([Int],b\))0 713
y Fu(This)16 b(signature)f(w)o(ould)h(also)f(cause)g Fq(x)g
Fu(to)g(ha)o(v)o(e)g(t)o(yp)q(e)g Fq(Int)p Fu(.)0 856 y Fs(4.5.4)52
b(The)18 b(monomorphism)e(restriction)0 965 y Fu(Hask)o(ell)21
b(places)g(certain)f(extra)f(restrictions)i(on)f(the)g(generalisation)h
(step,)g(b)q(ey)o(ond)f(the)g(standard)0 1021 y(Hindley-Milne)q(r)c
(restriction)f(describ)q(ed)h(ab)q(o)o(v)o(e,)d(whic)o(h)i(further)f(reduce)h
(p)q(olymorphism)g(in)g(particu-)0 1078 y(lar)g(cases.)71 1157
y(The)20 b(monomorphism)h(restriction)g(uses)g(the)g(binding)i(syn)o(tax)c
(of)i(a)f(v)m(ariable.)38 b(Recall)22 b(that)e(a)0 1214 y(v)m(ariable)j(is)g
(b)q(ound)g(b)o(y)f(either)h(a)f Fp(function)g(binding)f Fu(or)g(a)h
Fp(p)n(attern)h(binding)p Fu(,)f(and)g(that)g(a)g Fp(simple)0
1270 y Fu(pattern)15 b(binding)i(is)f(a)f(pattern)g(binding)i(in)g(whic)o(h)f
(the)f(pattern)g(consists)h(of)f(only)h(a)f(single)i(v)m(ariable)0
1327 y(\(Section)f(4.4.2\).)71 1406 y(Tw)o(o)e(rules)i(de\014ne)g(the)f
(monomorphism)g(restriction:)0 1519 y Fs(Rule)j(1.)23 b Fu(W)l(e)15
b(sa)o(y)f(that)h(a)g(giv)o(en)g(declaration)h(group)f(is)h
Fp(unr)n(estricte)n(d)e Fu(if)i(and)g(only)f(if:)114 1611 y
Fs(\(a\):)23 b Fu(ev)o(ery)17 b(v)m(ariable)h(in)f(the)g(group)f(is)i(b)q
(ound)f(b)o(y)g(a)f(function)i(binding)h(or)d(a)g(simple)i(pattern)214
1668 y(binding,)e Fp(and)114 1739 y Fs(\(b\):)23 b Fu(an)13
b(explicit)i(t)o(yp)q(e)e(signature)g(is)h(giv)o(en)g(for)e(ev)o(ery)h(v)m
(ariable)h(in)g(the)g(group)e(whic)o(h)i(is)g(b)q(ound)214
1796 y(b)o(y)h(simple)h(pattern)f(binding.)114 1888 y(The)e(usual)g
(Hindley-Miln)q(er)i(restriction)f(on)e(p)q(olymorphism)i(is)g(that)e(only)h
(t)o(yp)q(e)g(v)m(ariables)h(free)114 1944 y(in)i(the)f(en)o(vironmen)o(t)g
(ma)o(y)f(b)q(e)i(generalised.)22 b(In)15 b(addition,)h Fp(the)g(c)n(onstr)n
(aine)n(d)f(typ)n(e)h(variables)g(of)114 2001 y(a)h(a)h(r)n(estricte)n(d)f
(de)n(clar)n(ation)g(gr)n(oup)i(may)f(not)f(b)n(e)g(gener)n(alise)n(d)e
Fu(in)j(the)e(generalisation)i(step)f(for)114 2057 y(that)c(group.)20
b(\(Recall)15 b(that)f(a)g(t)o(yp)q(e)g(v)m(ariable)i(is)f(constrained)g(if)g
(it)f(m)o(ust)g(b)q(elong)h(to)f(some)g(t)o(yp)q(e)114 2113
y(class;)h(see)g(Section)h(4.5.2.\))0 2206 y Fs(Rule)i(2.)23
b Fu(The)15 b(t)o(yp)q(e)g(of)g(a)f(v)m(ariable)j(exp)q(orted)e(from)f(a)h
(mo)q(dule)h(m)o(ust)f(b)q(e)g(completely)i(p)q(olymorphic;)114
2262 y(that)h(is,)h(it)g(m)o(ust)f(not)g(ha)o(v)o(e)g(an)o(y)h(free)f(t)o(yp)
q(e)h(v)m(ariables.)31 b(It)19 b(follo)o(ws)g(from)f(Rule)i(1)e(that)g(if)h
(all)114 2319 y(top-lev)o(el)d(declaration)g(groups)f(are)g(unrestricted,)g
(then)h(Rule)h(2)d(is)i(automatically)g(satis\014ed.)71 2431
y(Rule)k(1)e(is)i(required)f(for)g(t)o(w)o(o)e(reasons,)i(b)q(oth)g(of)f
(whic)o(h)i(are)e(fairly)i(subtle.)31 b(First,)19 b(it)g(prev)o(en)o(ts)0
2488 y(computations)d(from)e(b)q(eing)j(unexp)q(ectedly)h(rep)q(eated.)k(F)l
(or)15 b(example,)h(recall)h(that)e Fq(genericLength)0 2544
y Fu(is)h(a)f(standard)f(function)i(whose)f(t)o(yp)q(e)h(is)f(giv)o(en)h(b)o
(y)261 2624 y Fq(genericLength)23 b(::)g(Num)h(a)f(=>)h([b])f(->)h(a)0
2704 y Fu(No)o(w)15 b(consider)h(the)f(follo)o(wing)h(expression:)p
eop
%%Page: 41 55
bop 150 50 a Ft(4.5)45 b(Static)15 b(seman)o(tics)g(of)g(function)h(and)f
(pattern)g(bindings)669 b Fu(41)411 199 y Fq(let)24 b({)g(len)f(=)h
(genericLength)e(xs)i(})f(in)h(\(len,)f(len\))150 281 y Fu(It)15
b(lo)q(oks)f(as)h(if)g Fq(len)f Fu(should)h(b)q(e)h(computed)f(only)g(once,)f
(but)h(without)g(Rule)h(1)e(it)h(migh)o(t)f(b)q(e)i(computed)150
337 y(t)o(wice,)e(once)h(at)f(eac)o(h)h(of)f(t)o(w)o(o)f(di\013eren)o(t)i(o)o
(v)o(erloadings.)k(If)c(the)g(programmer)e(do)q(es)i(actually)g(wish)g(the)
150 394 y(computation)g(to)g(b)q(e)h(rep)q(eated,)f(an)g(explicit)i(t)o(yp)q
(e)f(signature)f(ma)o(y)g(b)q(e)g(added:)411 475 y Fq(let)24
b({)g(len)f(::)h(Num)f(a)h(=>)f(a;)h(len)g(=)f(genericLength)f(xs)i(})g(in)f
(\(len,)g(len\))150 556 y Fu(When)15 b(non-simple)h(pattern)e(bindings)i(are)
e(used,)h(the)f(t)o(yp)q(es)h(inferred)g(are)f(alw)o(a)o(ys)f(monomorphic)i
(in)150 613 y(their)i(constrained)h(t)o(yp)q(e)f(v)m(ariables,)h(irresp)q
(ectiv)o(e)g(of)e(whether)h(a)g(t)o(yp)q(e)g(signature)g(is)g(pro)o(vided.)26
b(F)l(or)150 669 y(example,)16 b(in)292 751 y Fq(\(f,g\))23
b(=)h(\(\(+\),\(-\)\))150 832 y Fu(b)q(oth)15 b Fq(f)g Fu(and)h
Fq(g)f Fu(will)i(b)q(e)e(monomorphic)h(regardless)f(of)g(an)o(y)g(t)o(yp)q(e)
g(signatures)g(supplied)j(for)d Fq(f)g Fu(or)f Fq(g)p Fu(.)221
913 y(Rule)i(1)f(also)g(prev)o(en)o(ts)g(am)o(biguit)o(y)l(.)21
b(F)l(or)14 b(example,)i(consider)g(the)f(declaration)h(group)411
995 y Fq([\(n,s\)])23 b(=)h(reads)f(t)150 1076 y Fu(Recall)17
b(that)d Fq(reads)h Fu(is)h(a)f(standard)f(function)i(whose)f(t)o(yp)q(e)h
(is)f(giv)o(en)h(b)o(y)f(the)h(signature)411 1157 y Fq(reads)24
b(::)f(\(Text)g(a\))h(=>)g(String)f(->)g([\(a,String\)])150
1239 y Fu(Without)13 b(Rule)i(1,)e Fq(n)g Fu(w)o(ould)h(b)q(e)g(assigned)g
(the)f(t)o(yp)q(e)h Fl(8)p Fr(a:)f Fq(Text)f Fr(a)h Fl(\))g
Fr(a)h Fu(and)f Fq(s)g Fu(the)h(t)o(yp)q(e)f Fl(8)p Fr(a:)g
Fq(Text)g Fr(a)g Fl(\))150 1295 y Fq(String)o Fu(.)20 b(The)c(latter)f(is)h
(an)f(illegal)i(t)o(yp)q(e,)e(b)q(ecause)i(it)e(is)h(inheren)o(tly)h(am)o
(biguous.)j(It)15 b(is)h(not)f(p)q(ossible)150 1352 y(to)g(determine)h(at)e
(what)h(o)o(v)o(erloading)g(to)g(use)g Fq(s)p Fu(.)20 b(Rule)d(1)e(mak)o(es)f
Fq(n)h Fu(and)h Fq(s)f Fu(monomorphic)g(in)h Fr(a)p Fu(.)221
1433 y(Lastly)l(,)j(Rule)h(2)f(is)g(required)h(b)q(ecause)g(there)e(is)h(no)g
(w)o(a)o(y)f(to)g(enforce)h(monomorphic)g(use)g(of)f(an)150
1489 y(exp)q(orted)e(binding,)g(except)g(b)o(y)f(p)q(erforming)h(t)o(yp)q(e)f
(inference)i(on)e(the)g(en)o(tire)h(program)e(at)g(once.)221
1571 y(The)h(monomorphism)h(rule)g(has)f(a)h(n)o(um)o(b)q(er)f(of)h
(consequences)g(for)f(the)h(programmer.)j(An)o(ything)150 1627
y(de\014ned)e(with)e(function)h(syn)o(tax)f(will)h(usually)h(generalize)g(as)
e(a)f(function)i(is)g(exp)q(ected)h(to.)i(Th)o(us)c(in)411
1709 y Fq(f)24 b(x)g(y)g(=)f(x+y)150 1790 y Fu(the)16 b(function)h
Fq(f)f Fu(ma)o(y)g(b)q(e)h(used)f(at)g(an)o(y)g(o)o(v)o(erloading)g(in)h
(class)g Fq(Num)o Fu(.)23 b(There)16 b(is)h(no)f(danger)g(of)g(recom-)150
1846 y(putation)f(here.)21 b(Ho)o(w)o(ev)o(er,)13 b(the)j(same)f(function)h
(de\014ned)g(with)g(pattern)f(syn)o(tax)411 1928 y Fq(f)24
b(=)g(\\x)g(->)f(\\y)h(->)f(x+y)150 2009 y Fu(requires)16 b(a)g(t)o(yp)q(e)g
(signature)g(if)g Fq(f)f Fu(is)i(to)e(b)q(e)h(fully)h(o)o(v)o(erloaded.)k
(Man)o(y)16 b(functions)g(are)f(most)g(naturally)150 2066 y(de\014ned)21
b(using)g(simple)g(pattern)e(bindings;)24 b(the)c(user)g(m)o(ust)f(b)q(e)i
(careful)f(to)f(a\016x)h(these)g(with)g(t)o(yp)q(e)150 2122
y(signatures)13 b(to)g(retain)h(full)g(o)o(v)o(erloading.)20
b(The)13 b(standard)g(prelude)i(con)o(tains)e(man)o(y)g(examples)h(of)f
(this:)411 2199 y Fq(indices)23 b(::)h(\(Ix)f(a\))h(=>)g(Array)f(a)h(b)f(->)h
([a])411 2256 y(indices)f(=)48 b(range)23 b(.)h(bounds)p eop
%%Page: 42 56
bop 0 50 a Fu(42)1455 b Ft(5)46 b(MODULES)0 199 y Fy(5)67 b(Mo)r(dules)0
326 y Fu(A)18 b(mo)q(dule)i(de\014nes)f(a)f(collection)i(of)d(v)m(alues,)j
(datat)o(yp)q(es,)e(t)o(yp)q(e)g(synon)o(yms,)g(classes,)h(etc.)f(\(see)g
(Sec-)0 382 y(tion)e(4\),)f(and)h Fp(exp)n(orts)f Fu(some)h(of)f(these)h
(resources,)g(making)g(them)f(a)o(v)m(ailable)j(to)d(other)g(mo)q(dules.)23
b(W)l(e)0 439 y(use)13 b(the)f(term)g Fp(entity)g Fu(to)g(refer)g(to)f(the)i
(v)m(alues,)g(t)o(yp)q(es,)g(and)g(classes)f(de\014ned)i(in)f(and)g(p)q
(erhaps)g(exp)q(orted)0 495 y(from)h(a)h(mo)q(dule.)71 576
y(A)20 b(Hask)o(ell)i Fp(pr)n(o)n(gr)n(am)e Fu(is)h(a)g(collection)h(of)e(mo)
q(dules,)j(one)e(of)f(whic)o(h,)i(b)o(y)f(con)o(v)o(en)o(tion,)g(m)o(ust)f(b)
q(e)0 633 y(called)d Fq(Main)f Fu(and)g(m)o(ust)f(exp)q(ort)h(the)g(v)m(alue)
h Fq(main)p Fu(.)22 b(The)16 b Fp(value)g Fu(of)f(the)h(program)f(is)h(the)g
(v)m(alue)h(of)f(the)0 689 y(iden)o(ti\014er)h Fq(main)d Fu(in)i(mo)q(dule)h
Fq(Main)o Fu(,)e(and)g Fq(main)g Fu(m)o(ust)g(ha)o(v)o(e)f(t)o(yp)q(e)i
Fq(Dialogue)e Fu(\(see)h(Section)h(7\).)71 771 y(Mo)q(dules)g(ma)o(y)e
(reference)i(other)f(mo)q(dules)i(via)f(explicit)h Fq(import)d
Fu(declarations,)i(eac)o(h)g(giving)g(the)0 827 y(name)j(of)g(a)g(mo)q(dule)h
(to)f(b)q(e)h(imp)q(orted,)g(sp)q(ecifying)h(its)e(en)o(tities)i(to)d(b)q(e)i
(imp)q(orted,)g(and)g(optionally)0 884 y(renaming)c(some)f(or)f(all)i(of)f
(them.)20 b(Mo)q(dules)c(ma)o(y)e(b)q(e)i(m)o(utually)g(recursiv)o(e.)71
965 y(The)h(name-space)h(for)e(mo)q(dules)j(is)f(\015at,)f(with)g(eac)o(h)g
(mo)q(dule)i(b)q(eing)f(asso)q(ciated)g(with)f(a)g(unique)0
1021 y(mo)q(dule)12 b(name)f(\(whic)o(h)g(are)g(Hask)o(ell)g(iden)o
(ti\014ers)h(b)q(eginning)h(with)f(a)e(capital)i(letter;)g(i.e.)e
Fr(conid)p Fu(\).)18 b(There)0 1078 y(are)d(t)o(w)o(o)f(distinguished)k(mo)q
(dules,)d Fq(PreludeCore)f Fu(and)h Fq(Prelude)o Fu(,)g(b)q(oth)h(discussed)g
(in)g(Section)g(5.4.)0 1224 y Fx(5.1)56 b(Ov)n(erview)0 1335
y Fs(5.1.1)c(In)o(terfaces)17 b(and)g(Implemen)o(tations)0
1446 y Fu(A)e(mo)q(dule)i(consists)e(of)g(an)g Fp(interfac)n(e)f
Fu(and)i(an)f Fp(implementation)g Fu(of)g(that)f(in)o(terface.)71
1527 y(The)i(in)o(terface)g(of)f(a)h(mo)q(dule)h(pro)o(vides)f(complete)h
(information)f(ab)q(out)g(the)g(static)f(seman)o(tics)h(of)0
1584 y(that)e(mo)q(dule,)h(includin)q(g)i(t)o(yp)q(e)e(signatures,)f(class)h
(de\014nitions,)h(and)f(t)o(yp)q(e)g(declarations)g(for)f(the)h(v)m(ar-)0
1640 y(ious)i(en)o(tities)h(made)f(a)o(v)m(ailable)h(b)o(y)f(the)g(mo)q
(dule.)25 b(This)18 b(information)f(is)g(complete)g(in)h(this)f(sense:)24
b(If)0 1697 y(a)15 b(mo)q(dule)h Fr(M)k Fu(imp)q(orts)15 b(mo)q(dules)i
Fr(M)653 1704 y Fo(1)671 1697 y Fr(;)8 b(:)g(:)g(:)d(;)j(M)817
1704 y Fj(n)839 1697 y Fu(,)15 b(then)g(only)h(the)f(in)o(terfaces)g(of)g
Fr(M)1446 1704 y Fo(1)1465 1697 y Fr(;)8 b(:)g(:)g(:)t(;)g(M)1610
1704 y Fj(n)1647 1697 y Fu(need)16 b(b)q(e)0 1753 y(examined)f(in)g(order)f
(to)f(p)q(erform)h(static)g(c)o(hec)o(king)g(on)g(the)g(implemen)o(tation)i
(of)d Fp(M.)h Fu(No)g(implemen)o(ta-)0 1810 y(tions)i(of)f
Fr(M)208 1817 y Fo(1)227 1810 y Fr(;)8 b(:)g(:)g(:)d(;)j(M)373
1817 y Fj(n)410 1810 y Fu(need)17 b(to)e(exist,)h(nor)f(need)i(an)o(y)e
(further)h(in)o(terfaces)g(b)q(e)g(consulted.)23 b(In)o(terfaces)0
1866 y(are)15 b(discussed)i(in)f(Section)g(5.3.)71 1947 y(An)c(implemen)o
(tation)i(\\\014lls)f(in")g(the)g(information)f(ab)q(out)g(a)g(mo)q(dule)i
(missing)f(from)f(the)g(in)o(terface.)0 2004 y(F)l(or)f(example,)i(for)e(eac)
o(h)g(v)m(alue)i(giv)o(en)f(a)f(t)o(yp)q(e)h(signature)g(in)g(the)g(in)o
(terface)g(the)f(implemen)o(tation)i(either)0 2060 y(imp)q(orts)19
b(a)f(mo)q(dule)i(that)f(de\014nes)g(the)g(v)m(alue)h(or)f(de\014nes)h(the)f
(v)m(alue)h(itself.)31 b(Implemen)o(tations)20 b(are)0 2117
y(discussed)d(in)f(Section)g(5.2.)0 2262 y Fs(5.1.2)52 b(Original)19
b(Names)0 2372 y Fu(It)d(ma)o(y)f(b)q(e)i(that)e(a)h(particular)g(en)o(tit)o
(y)g(is)h(imp)q(orted)f(in)o(to)g(a)g(mo)q(dule)h(b)o(y)f(more)g(than)f(one)h
(route|for)0 2429 y(example,)d(b)q(ecause)h(it)e(is)h(exp)q(orted)g(b)o(y)f
(t)o(w)o(o)f(mo)q(dules)j(b)q(oth)e(of)g(whic)o(h)h(are)f(imp)q(orted)h(b)o
(y)g(a)f(third)h(mo)q(d-)0 2485 y(ule.)21 b(It)16 b(is)f(imp)q(ortan)o(t)g
(that)g(b)q(enign)i(name-clashes)f(of)f(this)h(form)e(are)h(allo)o(w)o(ed,)h
(but)f(that)g(acciden)o(tal)0 2542 y(name-clashes)h(are)f(detected)h(and)f
(rep)q(orted)h(as)e(errors.)20 b(This)15 b(is)h(done)g(as)e(follo)o(ws:)71
2623 y(Eac)o(h)k(en)o(tit)o(y)h(\(class,)g(t)o(yp)q(e)g(constructor,)g(v)m
(alue,)i(etc.\))30 b(has)19 b(an)g Fp(original)g(name)g Fu(that)f(is)h(a)g
(pair)0 2680 y(consisting)h(of)g(the)f(name)h(of)f(the)h(mo)q(dule)g(in)h
(whic)o(h)f(it)g(w)o(as)f(originally)i(declared,)h(and)d(the)h(name)p
eop
%%Page: 43 57
bop 150 50 a Ft(5.1)45 b(Ov)o(erview)1466 b Fu(43)150 199 y(it)17
b(w)o(as)g(giv)o(en)g(in)h(that)f(declaration.)26 b(The)18
b(original)g(name)f(is)h(carried)g(with)f(the)h(en)o(tit)o(y)f(wherev)o(er)g
(it)150 256 y(is)h(exp)q(orted.)29 b(Tw)o(o)17 b(t)o(yp)q(es,)h(classes)h(or)
e(v)m(alues)i(are)f(the)g(same)f(if)i(and)f(only)g(if)h(they)f(ha)o(v)o(e)f
(the)h(same)150 312 y(original)e(name.)221 394 y(Renaming)22
b(do)q(es)g Fp(not)f Fu(a\013ect)g(the)h(original)g(name;)j(it)d(is)g(a)f
(purely)h(syn)o(tactic)g(op)q(eration)g(that)150 450 y(a\013ects)c(only)i
(the)f(name)g(b)o(y)f(whic)o(h)i(the)f(en)o(tit)o(y)g(is)g(curren)o(tly)h
(kno)o(wn.)31 b(F)l(or)18 b(example,)i(if)g(a)e(class)h(is)150
506 y(renamed)d(and)g(a)f(t)o(yp)q(e)h(is)g(declared)h(to)e(b)q(e)h(an)g
(instance)g(of)f(the)h(newly-named)h(class,)f(then)g(it)g(is)g(also)150
563 y(an)j(instance)h(of)e(the)h(original)h(class|there)g(is)f(just)g(one)g
(class,)h(whic)o(h)g(happ)q(ens)g(to)e(b)q(e)h(kno)o(wn)g(b)o(y)150
619 y(di\013eren)o(t)e(names)f(in)h(di\013eren)o(t)g(parts)f(of)g(the)g
(program.)23 b(Also,)16 b(\014xit)o(y)h(is)g(a)f(prop)q(ert)o(y)g(of)g(the)h
(original)150 676 y(name)h(of)f(an)g(iden)o(ti\014er)i(or)e(op)q(erator)g
(and)h(is)g(not)f(a\013ected)g(b)o(y)h(renaming;)g(the)g(new)g(name)f(has)h
(the)150 732 y(same)d(\014xit)o(y)g(as)g(the)g(old)h(one.)221
814 y(A)i(giv)o(en)g(en)o(tit)o(y)g(ma)o(y)f(b)q(e)i(kno)o(wn)f(b)o(y)g(at)f
(most)g(one)h(name)g(in)h(an)o(y)f(scop)q(e.)28 b(So,)19 b(for)e(example,)i
(a)150 870 y(mo)q(dule)13 b(ma)o(y)f(not)g(imp)q(ort)g(an)g(en)o(tit)o(y)g(t)
o(wice)g(and)h(rename)f(it)g(di\013eren)o(tly)h(on)f(eac)o(h)h(o)q(ccasion.)
19 b(Either)13 b(it)150 927 y(m)o(ust)h(b)q(e)h(renamed)g(in)g(the)g(same)f
(w)o(a)o(y)g(on)g(eac)o(h)h(imp)q(ort)f(or)g(else)i(not)e(imp)q(orted)h(t)o
(wice)g(\(for)e(example,)150 983 y(b)o(y)i(using)h(a)f Fq(hiding)f
Fu(clause\).)221 1064 y(As)h(there)h(are)g(sev)o(eral)f(name)h(spaces,)g(a)f
(single)i(name)f(ma)o(y)f(iden)o(tify)i(more)e(than)h(one)g(en)o(tit)o(y)l(.)
21 b(In)150 1121 y(a)13 b Fq(renaming)g Fu(clause,)h(suc)o(h)g(as)g
Fq(renaming\()6 b Fr(:)i(:)g(:)e(;)i Fp(n)1022 1128 y Fk(1)1060
1121 y Fq(to)16 b Fp(n)1150 1128 y Fk(2)1173 1121 y Fr(;)8
b(:)g(:)g(:)d Fq(\))p Fu(,)13 b Fp(al)r(l)h Fu(the)f(en)o(tities)i(to)e(whic)
o(h)i Fr(n)1810 1128 y Fo(1)1842 1121 y Fu(refers)150 1177
y(are)g(renamed)g(to)g Fr(n)493 1184 y Fo(2)512 1177 y Fu(.)150
1322 y Fs(5.1.3)52 b(Closure)150 1433 y Fu(The)18 b(implemen)o(tation)h
(together)e(with)h(the)g(in)o(terfaces)g(of)f(the)h(mo)q(dules)h(it)f(imp)q
(orts)g(m)o(ust)f(b)q(e)i Fp(stat-)150 1489 y(ic)n(al)r(ly)h(close)n(d)g
Fu(according)h(to)e(this)i(rule:)31 b Fp(every)21 b(value,)h(typ)n(e,)g(or)f
(class)f(r)n(eferr)n(e)n(d)h(to)g(in)f(the)i(text)f(of)150
1546 y(an)e(implementation)h(to)n(gether)f(with)h(the)g(de)n(clar)n(ations)f
(that)h(it)g(imp)n(orts,)g(must)g(b)n(e)f(de)n(clar)n(e)n(d)g(in)g(the)150
1602 y(implementation)d(or)h(in)e(one)h(of)h(the)f(imp)n(orte)n(d)h(de)n
(clar)n(ations)p Fu(.)221 1684 y(It)c(is)h(an)g(error)e(for)h(a)g(mo)q(dule)i
(to)e(exp)q(ort)g(a)g(collection)j(of)d(en)o(tities)h(that)f(cannot)g(p)q
(ossibly)i(b)q(ecome)150 1740 y(closed.)20 b(F)l(or)14 b(example,)h(if)g(a)e
(mo)q(dule)j Fq(A)e Fu(declares)h(b)q(oth)f(the)g(t)o(yp)q(e)h
Fq(T)f Fu(and)g(a)g(v)m(alue)h Fq(t)f Fu(of)g(t)o(yp)q(e)g
Fq(T)p Fu(,)g(it)h(ma)o(y)150 1797 y(not)i(exp)q(ort)f Fq(t)h
Fu(without)g(also)g(exp)q(orting)g Fq(T)p Fu(.)25 b(But)17
b(if)g(another)g(mo)q(dule)h Fq(B)e Fu(imp)q(orted)i Fq(T)f
Fu(from)f(mo)q(dule)150 1853 y Fq(A)p Fu(,)h(and)g(declared)h(another)e(v)m
(alue)i Fq(s)f Fu(of)f(t)o(yp)q(e)h Fq(T)p Fu(,)g(it)g(ma)o(y)f(exp)q(ort)h
Fq(s)g Fu(without)g(exp)q(orting)g Fq(T)p Fu(|but)g(an)o(y)150
1909 y(mo)q(dule)f(imp)q(orting)h Fq(B)e Fu(m)o(ust)f(also)i(imp)q(ort)f(the)
h(t)o(yp)q(e)f Fq(T)g Fu(b)o(y)g(some)g(other)g(route,)g(for)g(example)h(b)o
(y)f(also)150 1966 y(imp)q(orting)h Fq(A)p Fu(.)150 2111 y
Fs(5.1.4)52 b(The)18 b(Compilation)h(System)150 2222 y Fu(The)c(task)f(of)h
(c)o(hec)o(king)g(consistency)h(b)q(et)o(w)o(een)f(in)o(terfaces)g(and)g
(implemen)o(tations)h(m)o(ust)e(b)q(e)i(done)f(b)o(y)150 2278
y(the)g Fp(c)n(ompilation)h(system)p Fu(.)221 2359 y(Hask)o(ell)f(do)q(es)g
(not)g(sp)q(ecify)h(an)o(y)f(particular)g(asso)q(ciation)g(b)q(et)o(w)o(een)g
(implemen)o(tations)i(and)e(in)o(ter-)150 2416 y(faces)g(on)g(the)g(one)g
(hand,)g(and)g Fp(\014les)f Fu(on)g(the)h(other;)g(nor)f(do)q(es)i(it)f(sp)q
(ecify)h(ho)o(w)f(implemen)o(tations)h(and)150 2472 y(in)o(terfaces)21
b(are)f(pro)q(duced.)36 b(These)21 b(matters)e(are)h(determined)i(b)o(y)e
(the)g(compilation)i(system,)f(and)150 2529 y(man)o(y)14 b(v)m(ariations)h
(are)f(p)q(ossible,)i(dep)q(ending)h(on)e(the)f(programming)g(en)o(vironmen)o
(t.)20 b(F)l(or)14 b(example,)h(a)150 2585 y(compilation)k(system)e(could)i
(insist)g(that)e(eac)o(h)h(implemen)o(tation)h(and)f(eac)o(h)g(in)o(terface)g
(reside)g(alone)150 2642 y(in)d(a)e(\014le,)i(and)f(that)f(the)h(mo)q(dule)h
(name)f(is)h(the)f(same)f(as)h(that)f(of)h(the)g(\014le,)g(with)h(the)f
(implemen)o(tation)150 2698 y(and)h(in)o(terface)h(distinguished)i(b)o(y)d(a)
g(su\016x.)p eop
%%Page: 44 58
bop 0 50 a Fu(44)1455 b Ft(5)46 b(MODULES)71 199 y Fu(Similarly)l(,)18
b(a)e(compilation)i(system)e(ma)o(y)g(require)h(the)g(programmer)e(to)h
(write)g(the)h(in)o(terface,)f(or)0 256 y(it)f(ma)o(y)g(deriv)o(e)g(the)g(in)
o(terface)h(from)e(examination)i(of)e(the)h(implemen)o(tation,)h(or)f(some)f
(h)o(ybrid)i(of)f(the)0 312 y(t)o(w)o(o.)27 b(Hask)o(ell)18
b(is)h(de\014ned)g(so)e(that,)h(giv)o(en)g(the)g(in)o(terfaces)g(of)g(all)g
(imp)q(orted)h(mo)q(dules,)g(it)f(is)h(alw)o(a)o(ys)0 369 y(p)q(ossible)e(to)
d(p)q(erform)h(a)f(complete)i(static)e(c)o(hec)o(k)i(on)e(the)h(implemen)o
(tation,)h(and,)f(if)g(it)g(is)h(w)o(ell-t)o(yp)q(ed,)0 425
y(to)k(deriv)o(e)h(its)f(unique)i(in)o(terface)f(automatically)l(.)35
b(Ho)o(w)o(ev)o(er,)21 b(giv)o(en)f(a)g(set)g(of)g(m)o(utually)h(recursiv)o
(e)0 482 y(implemen)o(tations,)c(the)e(compilation)i(system)e(ma)o(y)g(ha)o
(v)o(e)g(to)g(examine)h(sev)o(eral)g(mo)q(dules)h(at)e(once)h(to)0
538 y(deriv)o(e)c(the)g(in)o(terfaces,)g(whic)o(h)h(will)g(still)g(b)q(e)f
(unique)i(with)e(one)f(exception:)20 b(b)q(ecause)12 b(of)f(the)h(shorthand)0
594 y(for)k(exp)q(orting)g(all)h(en)o(tities)h(from)d(an)h(imp)q(orted)h(mo)q
(dule,)g(the)g(set)f(of)g(exp)q(orts)g(ma)o(y)f(not)h(b)q(e)h(unique.)0
651 y(An)o(y)i(set)f(satisfying)h(the)g(consistency)g(constrain)o(ts)f(is)i
(a)e(v)m(alid)i(solution)g(for)e(a)g(w)o(ell-t)o(yp)q(ed)i(Hask)o(ell)0
707 y(program,)d(but)i(if)f(an)g(implemen)o(tation)i(automatically)e(deriv)o
(es)h(the)g(in)o(terface)f(it)g(m)o(ust)g(deriv)o(e)h(the)0
764 y(smallest)d(set)f(of)f(exp)q(orts.)71 845 y(F)l(or)k(optimisation)h
(across)f(mo)q(dule)i(b)q(oundaries,)g(a)e(compilation)i(system)e(ma)o(y)g
(need)i(more)e(in-)0 902 y(formation)f(\(e.g.,)g(information)h(ab)q(out)g
(strictness,)h(inlining,)i(uncurrying,)e(etc.\))28 b(than)18
b(is)g(pro)o(vided)0 958 y(b)o(y)c(the)h(standard)f(in)o(terface)h(as)f
(de\014ned)h(in)h(this)f(rep)q(ort.)k(Draft)13 b(prop)q(osals)i(exist)g(for)e
(includin)q(g)k(suc)o(h)0 1015 y(information)h(as)f(commen)o(ts)g(in)i(in)o
(terfaces;)f(for)g(details,)g(con)o(tact)f(the)h(implemen)o(tors)g(listed)h
(in)g(the)0 1071 y(preface)c(\(page)g(x\).)0 1218 y Fx(5.2)56
b(Mo)r(dule)17 b(Implemen)n(tations)0 1328 y Fu(A)j(mo)q(dule)h(implemen)o
(tation)g(de\014nes)g(a)e(m)o(utually)i(recursiv)o(e)f(scop)q(e)h(con)o
(taining)f(declarations)h(for)0 1385 y(v)m(alue)16 b(bindings,)h(data)e(t)o
(yp)q(es,)f(t)o(yp)q(e)i(synon)o(yms,)e(classes,)i(etc.)j(\(see)d(Section)g
(4\).)0 1516 y Fp(mo)n(dule)71 b Fl(!)59 b Fq(module)15 b Fp(mo)n(did)22
b Fu([)p Fp(exp)n(orts)t Fu(])15 b Fq(where)g Fp(b)n(o)n(dy)225
1572 y Fl(j)75 b Fp(b)n(o)n(dy)0 1629 y(b)n(o)n(dy)124 b Fl(!)59
b Fq({)16 b Fu([)p Fp(imp)n(de)n(cls)i Fq(;)p Fu(])e([[)p Fp(\014xde)n(cls)i
Fq(;)p Fu(])e Fp(top)n(de)n(cls)j Fu([)p Fq(;)o Fu(]])d Fq(})225
1685 y Fl(j)75 b Fq({)16 b Fp(imp)n(de)n(cls)j Fu([)p Fq(;)o
Fu(])d Fq(})0 1798 y Fp(mo)n(did)91 b Fl(!)59 b Fp(c)n(onid)0
1855 y(imp)n(de)n(cls)43 b Fl(!)59 b Fp(imp)n(de)n(cl)460 1862
y Fk(1)499 1855 y Fq(;)23 b Fr(:)8 b(:)g(:)22 b Fq(;)16 b Fp(imp)n(de)n(cl)
810 1862 y Fk(n)1299 1855 y Fu(\()p Fp(n)f Fl(\025)e Fp(1)6
b Fu(\))0 1911 y Fp(top)n(de)n(cls)56 b Fl(!)j Fp(top)n(de)n(cl)447
1918 y Fk(1)486 1911 y Fq(;)24 b Fr(:)8 b(:)g(:)21 b Fq(;)c
Fp(top)n(de)n(cl)785 1918 y Fk(n)1299 1911 y Fu(\()p Fp(n)e
Fl(\025)e Fp(0)6 b Fu(\))71 2042 y(A)12 b(mo)q(dule)h(implemen)o(tation)g(b)q
(egins)g(with)f(a)g(header:)19 b(the)12 b(k)o(eyw)o(ord)f Fq(module)o
Fu(,)h(the)g(mo)q(dule)h(name,)0 2099 y(and)h(a)f(list)h(of)f(en)o(tities)h
(\(enclosed)g(in)g(round)g(paren)o(theses\))f(to)g(b)q(e)h(exp)q(orted.)19
b(The)14 b(header)g(is)g(follo)o(w)o(ed)0 2155 y(b)o(y)i(an)f(optional)i
(list)f(of)f Fq(import)g Fu(declarations)i(that)d(sp)q(ecify)j(mo)q(dules)g
(to)e(b)q(e)i(imp)q(orted,)f(optionally)0 2212 y(restricting)21
b(and)g(renaming)g(the)f(imp)q(orted)h(bindings.)38 b(This)21
b(is)g(follo)o(w)o(ed)g(b)o(y)g(an)f(optional)h(list)g(of)0
2268 y(\014xit)o(y)f(declarations)h(and)g(the)f(mo)q(dule)h(b)q(o)q(dy)l(.)36
b(The)20 b(mo)q(dule)h(b)q(o)q(dy)g(is)g(simply)g(a)f(list)h(of)f(top-lev)o
(el)0 2325 y(declarations)c(\()p Fr(topdecl)q(s)p Fu(\),)e(as)g(describ)q(ed)
k(in)e(Section)g(4.)71 2406 y(An)h(abbreviated)g(form)f(of)g(mo)q(dule)i(is)g
(p)q(ermitted,)f(whic)o(h)h(consists)f(only)g(of)g(the)f(mo)q(dule)i(b)q(o)q
(dy)l(.)0 2462 y(If)e(this)g(is)h(used,)f(the)g(header)g(is)g(assumed)g(to)f
(b)q(e)i Fq(module)23 b(Main)g(where)o Fu(.)f(If)16 b(the)g(\014rst)f(lexeme)
i(in)g(the)0 2519 y(abbreviated)e(mo)q(dule)h(is)g(not)e(a)g
Fq({)p Fu(,)h(then)g(the)g(la)o(y)o(out)f(rule)h(applies)i(for)d(the)h(top)f
(lev)o(el)i(of)e(the)h(mo)q(dule.)0 2575 y(It)j(is)h(inadvisable)i(for)c(a)h
(compilation)i(system)e(to)f(p)q(ermit)i(an)g(abbreviated)g(mo)q(dule)g(to)f
(app)q(ear)g(in)0 2632 y(the)d(same)g(\014le)h(as)f(some)g(unabbreviated)h
(mo)q(dules.)p eop
%%Page: 45 59
bop 150 50 a Ft(5.2)45 b(Mo)q(dule)16 b(Implemen)o(tations)1157
b Fu(45)150 199 y Fs(5.2.1)52 b(Exp)q(ort)18 b(Lists)150 309
y Fp(exp)n(orts)70 b Fl(!)59 b Fq(\()16 b Fp(exp)n(ort)623
316 y Fk(1)663 309 y Fq(,)24 b Fr(:)8 b(:)g(:)21 b Fq(,)c Fp(exp)n(ort)948
316 y Fk(n)988 309 y Fq(\))437 b Fu(\()p Fp(n)15 b Fl(\025)e
Fp(1)6 b Fu(\))150 422 y Fp(exp)n(ort)89 b Fl(!)59 b Fp(entity)375
478 y Fl(j)75 b Fp(mo)n(did)21 b Fq(..)150 591 y Fp(entity)96
b Fl(!)59 b Fp(var)375 648 y Fl(j)75 b Fp(tyc)n(on)375 704
y Fl(j)g Fp(tyc)n(on)19 b Fq(\(..\))375 761 y Fl(j)75 b Fp(tyc)n(on)19
b Fq(\()d Fp(c)n(on)695 768 y Fk(1)734 761 y Fq(,)24 b Fr(:)8
b(:)g(:)22 b Fq(,)16 b Fp(c)n(on)967 768 y Fk(n)1006 761 y
Fq(\))419 b Fu(\()p Fp(n)15 b Fl(\025)e Fp(1)6 b Fu(\))375
817 y Fl(j)75 b Fp(tycls)19 b Fq(\(..\))375 874 y Fl(j)75 b
Fp(tycls)19 b Fq(\()d Fp(var)674 881 y Fk(1)714 874 y Fq(,)24
b Fr(:)8 b(:)g(:)22 b Fq(,)16 b Fp(var)942 881 y Fk(n)982 874
y Fq(\))443 b Fu(\()p Fp(n)15 b Fl(\025)e Fp(0)6 b Fu(\))221
1000 y(An)15 b Fp(exp)n(ort)i(list)d Fu(iden)o(ti\014es)j(the)f(en)o(tities)g
(to)e(b)q(e)i(exp)q(orted)g(b)o(y)f(a)g(mo)q(dule)i(declaration.)j(A)c(mo)q
(dule)150 1057 y(implemen)o(tation)j(ma)o(y)e(only)i(exp)q(ort)e(an)h(en)o
(tit)o(y)g(that)f(it)h(declares,)h(or)e(that)g(it)h(imp)q(orts)g(from)f(some)
150 1113 y(other)j(mo)q(dule.)37 b(If)21 b(the)g(exp)q(ort)g(list)g(is)g
(omitted,)h(all)f(v)m(alues,)i(t)o(yp)q(es)e(and)f(classes)h(de\014ned)h(in)g
(the)150 1170 y(mo)q(dule)16 b(are)f(exp)q(orted,)g Fp(but)i(not)f(those)h
(that)f(ar)n(e)h(imp)n(orte)n(d)p Fu(.)221 1250 y(En)o(tities)e(in)h(an)g
(exp)q(ort)f(list)h(ma)o(y)e(b)q(e)i(named)f(as)g(follo)o(ws:)206
1366 y(1.)22 b(Ordinary)16 b(v)m(alues,)h(whether)f(declared)i(in)e(the)g
(implemen)o(tation)i(b)q(o)q(dy)e(or)g(imp)q(orted,)g(ma)o(y)f(b)q(e)264
1422 y(named)h(b)o(y)h(giving)g(the)g(name)f(of)g(the)h(v)m(alue)h(as)e(a)g
Fr(v)r(ar)q(id)p Fu(.)22 b(Op)q(erators)17 b(should)g(b)q(e)g(enclosed)h(in)
264 1478 y(paren)o(theses)d(to)g(turn)g(them)g(in)o(to)g Fr(v)r(ar)q(id)p
Fu('s.)206 1571 y(2.)22 b(An)13 b(algebraic)g(datat)o(yp)q(e)g
Fr(T)18 b Fu(with)13 b(constructors)f Fr(K)1155 1578 y Fo(1)1174
1571 y Fr(;)c(:)g(:)g(:)t(;)g(K)1314 1578 y Fj(n)1349 1571
y Fu(declared)14 b(b)o(y)e(a)h Fq(data)f Fu(declaration)264
1628 y(ma)o(y)i(b)q(e)i(named)f(in)h(one)g(of)f(three)g(w)o(a)o(ys:)318
1721 y Fl(\017)23 b Fu(The)18 b(form)g Fr(T)25 b Fu(names)18
b(the)h(t)o(yp)q(e)g Fp(but)h(not)f(the)g(c)n(onstructors)p
Fu(.)30 b(The)19 b(abilit)o(y)h(to)e(exp)q(ort)g(a)364 1777
y(t)o(yp)q(e)d(without)h(its)g(constructors)f(allo)o(ws)h(the)g(construction)
g(of)f(abstract)g(datat)o(yp)q(es)g(\(see)364 1834 y(Section)h(5.6\).)318
1906 y Fl(\017)23 b Fu(The)12 b(form)g Fr(T)6 b Fq(\()p Fr(K)655
1913 y Fo(1)673 1906 y Fq(,)i Fr(:)g(:)g(:)d Fq(,)p Fr(K)828
1913 y Fj(n)850 1906 y Fq(\))p Fu(,)13 b(where)g Fp(al)r(l)f
Fu(and)h(only)g(the)f(constructors)g(are)g(listed)i(without)364
1962 y(duplications,)j(names)e(the)g(t)o(yp)q(e)g(and)h Fp(al)r(l)f
Fu(its)g(constructors.)318 2034 y Fl(\017)23 b Fu(The)15 b(abbreviated)h
(form)e Fr(T)6 b Fq(\(..\))15 b Fu(also)g(names)g(the)g(t)o(yp)q(e)h(and)f
(all)h(its)g(constructors.)264 2127 y(Data)e(constructors)g(cannot)h(b)q(e)h
(named)f(in)h(exp)q(ort)f(lists)h(in)g(an)o(y)f(other)g(w)o(a)o(y)l(.)206
2220 y(3.)22 b(A)13 b(t)o(yp)q(e)h(synon)o(ym)f Fr(T)19 b Fu(declared)c(b)o
(y)e(a)g Fq(type)g Fu(declaration)h(ma)o(y)f(b)q(e)h(named)g(b)o(y)f(the)g
(form)g Fr(T)6 b Fq(\(..\))o Fu(.)264 2276 y(\(The)17 b Fq(\(..\))f
Fu(is)i(a)f(syn)o(tactic)g(reminder)h(that)e(a)h(t)o(yp)q(e)g(synon)o(ym)g
(can)g(only)h(b)q(e)g(exp)q(orted)f(along)264 2333 y(with)e(its)h
(de\014nition.\))206 2426 y(4.)22 b(A)17 b(class)g Fr(C)i Fu(with)e(op)q
(erations)g Fr(f)825 2433 y Fo(1)844 2426 y Fr(;)8 b(:)g(:)g(:)d(;)j(f)968
2433 y Fj(n)1007 2426 y Fu(declared)18 b(in)g(a)e Fq(class)g
Fu(declaration)i(ma)o(y)e(b)q(e)i(named)264 2482 y(in)e(one)f(of)g(t)o(w)o(o)
f(w)o(a)o(ys,)f(b)q(oth)j(of)e(whic)o(h)i(name)g(the)f(class)h(together)e
(with)i(all)g(its)f(op)q(erations:)318 2575 y Fl(\017)23 b
Fu(The)e(form)f Fr(C)s Fq(\()p Fr(f)658 2582 y Fo(1)677 2575
y Fq(,)7 b Fr(:)h(:)g(:)e Fq(,)p Fr(f)815 2582 y Fj(n)837 2575
y Fq(\))p Fu(,)22 b(where)g(all)g(and)f(only)g(the)h(op)q(erations)f(in)h
(that)e(class)h(are)364 2631 y(listed)16 b(without)f(duplications.)318
2704 y Fl(\017)23 b Fu(The)15 b(abbreviated)h(form)e Fr(C)s
Fq(\(..\))p Fu(.)p eop
%%Page: 46 60
bop 0 50 a Fu(46)1455 b Ft(5)46 b(MODULES)114 199 y Fu(Op)q(erators)15
b(in)h(a)e(class)i(ma)o(y)e(not)h(b)q(e)h(named)g(in)g(exp)q(ort)f(lists)h
(in)g(an)o(y)f(other)f(w)o(a)o(y)l(.)56 293 y(5.)22 b(The)17
b(set)g(of)g(all)h(en)o(tities)g(brough)o(t)e(in)o(to)h(scop)q(e)h(\(after)e
(renaming\))h(from)g(a)f(mo)q(dule)j Fr(m)e Fu(b)o(y)g(one)114
350 y(or)d(more)h Fq(import)g Fu(declarations)h(ma)o(y)f(b)q(e)h(named)f(b)o
(y)h(the)f(form)g Fr(m)p Fq(..)o Fu(,)g(whic)o(h)i(is)f(equiv)m(alen)o(t)h
(to)114 406 y(listing)f(all)g(of)f(the)g(en)o(tities)i(imp)q(orted)e(from)g
(the)g(mo)q(dule.)21 b(F)l(or)15 b(example,)327 477 y Fq(module)23
b(Queue\()g(Stack..,)g(enqueue,)g(dequeue)g(\))h(where)423
534 y(import)f(Stack)423 590 y(...)114 661 y Fu(Here)16 b(the)g(mo)q(dule)i
Fq(Queue)d Fu(uses)i(the)f(mo)q(dule)i(name)e Fq(Stack)f Fu(in)i(its)g(exp)q
(ort)f(list)h(to)f(abbreviate)114 718 y(all)g(the)f(en)o(tities)h(imp)q
(orted)g(from)e Fq(Stack)p Fu(.)56 812 y(6.)22 b(A)16 b(mo)q(dule)h(can)f
(name)g(its)h(o)o(wn)e(lo)q(cal)i(de\014nitions)h(in)f(its)f(exp)q(ort)g
(list)h(using)g(its)f(o)o(wn)g(name)g(in)114 868 y(the)f Fp(m)s
Fq(..)g Fu(syn)o(tax.)20 b(F)l(or)14 b(example,)351 939 y Fq(module)23
b(Mod1\(Mod1..,)g(Mod2..\))351 996 y(import)g(Mod2)351 1052
y(import)g(Mod3)114 1124 y Fu(Here)d(mo)q(dule)h Fq(Mod1)e
Fu(exp)q(orts)h(all)h(lo)q(cal)g(de\014nitions)g(as)f(w)o(ell)h(as)e(those)h
(from)f Fq(Mod2)g Fu(but)h(not)114 1180 y Fq(Mod3)o Fu(.)0
1325 y Fs(5.2.2)52 b(Imp)q(ort)17 b(Declarations)0 1436 y Fp(imp)n(de)n(cl)62
b Fl(!)d Fq(import)15 b Fp(mo)n(did)22 b Fu([)p Fp(impsp)n(e)n(c)s
Fu(])14 b([)p Fq(renaming)h Fp(r)n(enamings)t Fu(])0 1492 y
Fp(impsp)n(e)n(c)55 b Fl(!)k Fq(\()16 b Fp(imp)n(ort)482 1499
y Fk(1)522 1492 y Fq(,)24 b Fr(:)8 b(:)g(:)22 b Fq(,)16 b Fp(imp)n(ort)816
1499 y Fk(n)856 1492 y Fq(\))419 b Fu(\()p Fp(n)15 b Fl(\025)e
Fp(0)6 b Fu(\))225 1549 y Fl(j)75 b Fq(hiding)15 b(\()h Fp(imp)n(ort)641
1556 y Fk(1)681 1549 y Fq(,)24 b Fr(:)8 b(:)g(:)22 b Fq(,)16
b Fp(imp)n(ort)975 1556 y Fk(n)1016 1549 y Fq(\))259 b Fu(\()p
Fp(n)15 b Fl(\025)e Fp(1)6 b Fu(\))0 1605 y Fp(imp)n(ort)80
b Fl(!)59 b Fp(entity)0 1662 y(r)n(enamings)6 b Fl(!)58 b Fq(\()16
b Fp(r)n(enaming)538 1669 y Fk(1)577 1662 y Fq(,)23 b Fr(:)8
b(:)g(:)22 b Fq(,)16 b Fp(r)n(enaming)926 1669 y Fk(n)965 1662
y Fq(\))310 b Fu(\()p Fp(n)15 b Fl(\025)e Fp(1)6 b Fu(\))0
1718 y Fp(r)n(enaming)24 b Fl(!)59 b Fp(var)376 1725 y Fk(1)416
1718 y Fq(to)16 b Fp(var)543 1725 y Fk(2)225 1774 y Fl(j)75
b Fp(c)n(on)381 1781 y Fk(1)420 1774 y Fq(to)16 b Fp(c)n(on)552
1781 y Fk(2)71 1906 y Fu(The)g(en)o(tities)h(exp)q(orted)f(b)o(y)g(a)g(mo)q
(dule)h(ma)o(y)f(b)q(e)h(brough)o(t)e(in)o(to)h(scop)q(e)h(in)g(another)e(mo)
q(dule)j(with)0 1962 y(an)j Fq(import)f Fu(declaration)i(at)f(the)g(b)q
(eginning)i(of)e(the)g(mo)q(dule.)39 b(The)21 b Fq(import)f
Fu(declaration)i(names)0 2019 y(the)15 b(mo)q(dule)h(to)f(b)q(e)g(imp)q
(orted,)g(optionally)i(sp)q(eci\014es)f(the)f(en)o(tities)h(to)f(b)q(e)g(imp)
q(orted,)h(and)f(optionally)0 2075 y(pro)o(vides)h(renamings)f(for)g(imp)q
(orted)h(en)o(tities.)21 b(A)15 b(single)i(mo)q(dule)g(ma)o(y)d(b)q(e)i(imp)q
(orted)g(b)o(y)f(more)g(than)0 2131 y(one)g Fq(import)g Fu(declaration.)71
2213 y(Exactly)g(whic)o(h)h(en)o(tities)g(are)f(to)f(b)q(e)i(imp)q(orted)g
(can)f(b)q(e)h(sp)q(eci\014ed)i(in)e(one)f(of)g(three)g(w)o(a)o(ys:)56
2332 y(1.)22 b(The)14 b(set)f(of)g(en)o(tities)i(to)e(b)q(e)i(imp)q(orted)f
(can)g(b)q(e)g(sp)q(eci\014ed)i(explicitly)h(b)o(y)c(listing)i(them)f(in)h
(paren-)114 2388 y(theses.)22 b(Items)16 b(in)h(the)f(list)h(ha)o(v)o(e)e
(the)i(same)e(form)g(as)h(those)g(in)h(exp)q(ort)f(lists,)g(except)h(that)e
(the)114 2444 y Fr(modid)f Fu(abbreviation)i(is)f(not)g(p)q(ermitted.)114
2520 y(The)i(list)h(m)o(ust)f(name)h(a)f(subset)g(of)g(the)h(en)o(tities)g
(exp)q(orted)f(b)o(y)h(the)f(imp)q(orted)h(mo)q(dule.)28 b(The)114
2576 y(list)17 b(ma)o(y)f(b)q(e)i(empt)o(y)l(,)e(in)i(whic)o(h)f(case)g
(nothing)g(is)g(imp)q(orted;)h(this)f(is)h(only)f(useful)h(in)f(the)g(case)
114 2632 y(of)d(the)i(mo)q(dule)g Fq(Prelude)e Fu(\(see)h(Section)h(5.4.3\).)
p eop
%%Page: 47 61
bop 150 50 a Ft(5.3)45 b(Mo)q(dule)16 b(In)o(terfaces)1296
b Fu(47)206 199 y(2.)22 b(Sp)q(eci\014c)d(en)o(tities)f(can)g(b)q(e)g
(excluded)h(b)o(y)f(using)g(the)f(form)g Fq(hiding\()f Fr(impor)q(t)1631
206 y Fo(1)1649 199 y Fq(,)p Fr(:::)p Fq(,)o Fr(impor)q(t)1874
206 y Fj(n)1914 199 y Fq(\))o Fu(,)264 256 y(whic)o(h)j(sp)q(eci\014es)h
(that)d(all)i(en)o(tities)g(exp)q(orted)g(b)o(y)f(the)g(named)h(mo)q(dule)g
(should)g(b)q(e)g(imp)q(orted)264 312 y(apart)g(from)g(those)g(named)h(in)h
(the)f(list.)35 b(Only)21 b(the)f(forms)f Fr(T)6 b Fq(\(..\))o
Fu(,)21 b Fr(C)s Fq(\(..\))e Fu(and)h Fr(v)r(ar)q(id)e Fu(are)264
369 y(p)q(ermitted)e(in)g(hiding)h(lists.)206 462 y(3.)22 b(Finally)l(,)d(if)
e Fr(impspec)g Fu(is)g(omitted)g(then)h(all)g(the)f(en)o(tities)h(exp)q
(orted)f(b)o(y)g(the)h(sp)q(eci\014ed)h(mo)q(dule)264 519 y(are)c(imp)q
(orted.)221 638 y(As)i(instance)g(declarations)h(do)f(not)g(ha)o(v)o(e)g
(names,)g(their)g(imp)q(ort)g(cannot)g(b)q(e)h(con)o(trolled)g(b)o(y)f(the)
150 694 y Fp(impsp)n(e)n(c)j Fu(list.)31 b(Instead,)19 b(the)g(follo)o(wing)g
(rule)h(is)f(used:)27 b Fp(A)19 b Fr(C)s Fp(-)p Fr(T)25 b Fp(instanc)n(e)18
b(de)n(clar)n(ation)h(is)g(imp)n(orte)n(d)150 751 y(fr)n(om)d(an)g(interfac)n
(e)g(if)g(and)h(only)e(if)h Fr(C)j Fp(is)d(imp)n(orte)n(d)h(or)f
Fr(T)23 b Fp(is)15 b(imp)n(orte)n(d)i(fr)n(om)f(that)h(interfac)n(e.)221
832 y Fu(Some)e(or)g(all)i(of)e(the)h(imp)q(orted)g(en)o(tities)h(ma)o(y)e(b)
q(e)h(renamed,)g(th)o(us)g(allo)o(wing)g(them)g(to)f(b)q(e)h(kno)o(wn)150
888 y(b)o(y)e(a)f(new)h(name)g(in)h(the)f(imp)q(orting)g(scop)q(e)h(\(see)e
(Section)i(5.1.2\).)j(This)c(is)g(done)h(using)f(the)g Fq(renaming)150
945 y Fu(k)o(eyw)o(ord,)i(with)i(a)e(renaming)i(of)e(the)h(form)g
Fr(ol)q(dname)23 b Fq(to)h Fr(new)q(name)p Fu(.)h(No)17 b Fr(ol)q(dname)g
Fu(can)g(b)q(e)g(giv)o(en)150 1001 y(more)e(than)g(one)g(renaming.)150
1148 y Fx(5.3)56 b(Mo)r(dule)17 b(In)n(terfaces)150 1259 y
Fu(Ev)o(ery)i(mo)q(dule)h(has)f(an)g Fp(interfac)n(e)f Fu(con)o(taining)i
(all)g(the)f(information)g(needed)i(to)d(do)h(static)g(c)o(hec)o(ks)150
1315 y(on)e(an)o(y)g(imp)q(orting)i(mo)q(dule.)27 b(All)19
b(static)e(c)o(hec)o(ks)h(on)f(a)g(mo)q(dule)i(implemen)o(tation)g(can)e(b)q
(e)h(done)g(b)o(y)150 1371 y(insp)q(ecting)f(its)f(text)e(and)i(the)f(in)o
(terfaces)g(of)g(the)g(mo)q(dules)i(it)e(imp)q(orts.)150 1503
y Fp(interfac)n(e)37 b Fl(!)59 b Fq(interface)15 b Fp(mo)n(did)21
b Fq(where)16 b Fp(ib)n(o)n(dy)150 1616 y(ib)n(o)n(dy)110 b
Fl(!)59 b Fq({)16 b Fu([)p Fp(iimp)n(de)n(cls)i Fq(;)p Fu(])e([)g([)p
Fp(\014xde)n(cls)i Fq(;)p Fu(])e Fp(itop)n(de)n(cls)j Fu([)p
Fq(;)o Fu(])d(])g Fq(})375 1672 y Fl(j)75 b Fq({)16 b Fp(iimp)n(de)n(cls)j
Fu([)p Fq(;)o Fu(])d Fq(})150 1728 y Fp(iimp)n(de)n(cls)29
b Fl(!)59 b Fp(iimp)n(de)n(cl)624 1735 y Fk(1)663 1728 y Fq(;)23
b Fr(:)8 b(:)g(:)22 b Fq(;)16 b Fp(iimp)n(de)n(cl)988 1735
y Fk(n)1449 1728 y Fu(\()p Fp(n)f Fl(\025)e Fp(1)6 b Fu(\))150
1785 y Fp(iimp)n(de)n(cl)48 b Fl(!)59 b Fq(import)15 b Fp(mo)n(did)22
b Fq(\()16 b Fp(imp)n(ort)931 1792 y Fk(1)971 1785 y Fq(,)24
b Fr(:)8 b(:)g(:)21 b Fq(,)c Fp(imp)n(ort)1265 1792 y Fk(n)1305
1785 y Fq(\))439 1841 y Fu([)p Fq(renaming)e Fp(r)n(enamings)t
Fu(])569 b(\()p Fp(n)15 b Fl(\025)e Fp(1)6 b Fu(\))150 1898
y Fp(itop)n(de)n(cls)42 b Fl(!)59 b Fp(itop)n(de)n(cl)611 1905
y Fk(1)650 1898 y Fq(;)24 b Fr(:)8 b(:)g(:)21 b Fq(;)c Fp(itop)n(de)n(cl)963
1905 y Fk(n)1449 1898 y Fu(\()p Fp(n)e Fl(\025)e Fp(1)6 b Fu(\))150
1954 y Fp(itop)n(de)n(cl)61 b Fl(!)e Fq(type)15 b Fp(simple)k
Fq(=)e Fp(typ)n(e)375 2011 y Fl(j)75 b Fq(data)15 b Fu([)p
Fp(c)n(ontext)20 b Fq(=>)p Fu(])c Fp(simple)j Fu([)p Fq(=)d
Fp(c)n(onstrs)i Fu([)p Fq(deriving)d Fu(\()p Fp(tycls)k Fl(j)d
Fq(\()p Fp(tyclses)t Fq(\))n Fu(\)]])375 2067 y Fl(j)75 b Fq(class)15
b Fu([)p Fp(c)n(ontext)20 b Fq(=>)p Fu(])c Fp(class)j Fu([)p
Fq(where)c({)h Fp(ic)n(de)n(cls)i Fu([)p Fq(;)p Fu(])e Fq(})p
Fu(])375 2124 y Fl(j)75 b Fq(instance)15 b Fu([)p Fp(c)n(ontext)20
b Fq(=>)o Fu(])c Fp(tycls)j(inst)375 2180 y Fl(j)75 b Fp(vars)20
b Fq(::)c Fu([)p Fp(c)n(ontext)j Fq(=>)p Fu(])d Fp(typ)n(e)150
2237 y(ic)n(de)n(cls)82 b Fl(!)59 b Fp(ic)n(de)n(cl)571 2244
y Fk(1)609 2237 y Fq(;)24 b Fr(:)8 b(:)g(:)22 b Fq(;)16 b Fp(ic)n(de)n(cl)882
2244 y Fk(n)1339 2237 y Fu(\()p Fp(n)g Fl(\025)d Fp(0)6 b Fu(\))150
2293 y Fp(ic)n(de)n(cl)101 b Fl(!)59 b Fp(vars)20 b Fq(::)c
Fp(typ)n(e)221 2424 y Fu(The)f(syn)o(tax)f(of)h Fq(interface)f
Fu(is)i(similar)g(to)f(that)f(of)h Fq(module)o Fu(,)g(except:)218
2543 y Fl(\017)23 b Fu(There)15 b(is)h(no)f(exp)q(ort)g(list:)21
b(ev)o(erything)15 b(in)h(the)g(in)o(terface)f(is)h(exp)q(orted.)218
2637 y Fl(\017)23 b Fq(import)16 b Fu(declarations)h(ha)o(v)o(e)g(a)f(sligh)o
(tly)i(di\013eren)o(t)f(purp)q(ose)g(from)g(those)f(in)i(implemen)o(tations)
264 2693 y(\(see)d(Section)h(5.3.2\).)i(The)d(list)h(of)f(en)o(tities)h(to)f
(b)q(e)h(imp)q(orted)f(is)h(alw)o(a)o(ys)f(sp)q(eci\014ed)i(explicitly)l(.)p
eop
%%Page: 48 62
bop 0 50 a Fu(48)1455 b Ft(5)46 b(MODULES)68 199 y Fl(\017)23
b Fq(data)14 b Fu(declarations)i(app)q(ear)g(without)f(their)g(constructors)g
(if)g(these)h(are)f(not)g(exp)q(orted.)68 292 y Fl(\017)23
b Fu(There)15 b(is)h(no)f(implemen)o(tation)h(part)f(to)g Fq(instance)f
Fu(declarations.)68 385 y Fl(\017)23 b Fu(V)l(alue)13 b(declarations)g(do)f
(not)g(app)q(ear)h(at)f(all;)i(for)d(exp)q(orted)i(v)m(alues,)h(t)o(yp)q(e)e
(signatures)h(tak)o(e)e(their)114 441 y(place.)0 585 y Fs(5.3.1)52
b(Consistency)0 695 y Fu(The)18 b(in)o(terface)g(and)g(implemen)o(tation)h
(of)e(a)g(mo)q(dule)i(m)o(ust)e(ob)q(ey)h(certain)h(constrain)o(ts.)27
b(In)18 b(the)g(fol-)0 751 y(lo)o(wing,)i(a)f(declaration)g(describ)q(ed)i
(as)e(\\in)g(the)g(implemen)o(tation")h(is)g(either)g(a)e(declaration)i(in)g
(the)0 808 y(mo)q(dule)d(b)q(o)q(dy)g(itself,)f(or)g(one)g(imp)q(orted)g
(from)f(an)h(in)o(terface)g(after)f(an)o(y)h(renaming)g(sp)q(eci\014ed)i(b)o
(y)e(the)0 864 y Fq(import)e Fu(statemen)o(t)g(has)i(b)q(een)g(applied.)56
979 y(1.)22 b(Ev)o(ery)11 b(en)o(tit)o(y)g(giv)o(en)h(a)g(declaration)g(in)h
(an)e(in)o(terface)h(m)o(ust)f(either)i(ha)o(v)o(e)e(an)g(imp)q(ort)h
(declaration)114 1036 y(for)e(the)i(en)o(tit)o(y)f(in)h(the)f(in)o(terface)h
(\(the)f(imp)q(ort)g(sp)q(eci\014es)j(the)d(mo)q(dule)h(that)f(de\014nes)h
(it\))g(or)e(ha)o(v)o(e)h(a)114 1092 y(de\014nition)k(of)e(the)h(en)o(tit)o
(y)g(in)g(the)g(implemen)o(tation.)20 b(F)l(urthermore,)14
b(if)g(an)f(in)o(terface)h(A)g(imp)q(orts)114 1149 y(an)e(en)o(tit)o(y)f(X)i
(from)e(mo)q(dule)i(B)f(\(p)q(erhaps)g(renaming)h(it\),)f(then)g(the)h(in)o
(terface)f(for)f(B)h(m)o(ust)g(de\014ne)114 1205 y(X)j(but)g(not)g(imp)q(ort)
g(it.)56 1298 y(2.)22 b(A)15 b(class,)h(t)o(yp)q(e)f(synon)o(ym,)g(algebraic)
h(datat)o(yp)q(e,)f(or)g(v)m(alue)h(app)q(ears)g(in)g(the)31
b(in)o(terface)16 b(exactly)114 1354 y(when)k(its)g(name)h(app)q(ears)f(in)h
(the)f(implemen)o(tation's)h(exp)q(ort)f(list)h(or,)f(if)g(the)h(exp)q(ort)f
(list)g(is)114 1411 y(omitted,)14 b(when)i(it)g(is)f Fp(de)n(clar)n(e)n(d)g
Fu(in)h(the)f(implemen)o(tation.)56 1504 y(3.)22 b(A)14 b(t)o(yp)q(e)g
(signature)g(app)q(ears)g(in)h(the)g(in)o(terface)f(for)f(ev)o(ery)h(v)m
(alue)i(that)d(the)h(implemen)o(tation)i(ex-)114 1560 y(p)q(orts.)i(The)12
b(t)o(yp)q(e)f(expressed)h(b)o(y)g(this)f(signature)h(m)o(ust)f(b)q(e)h(the)g
(same)f(as)g(the)g(most)g(general)h(t)o(yp)q(e)114 1617 y(inferred)18
b(from)e(the)h(declaration)g(of)g(the)g(v)m(alue)h(in)f(the)g(implemen)o
(tation)i(\(see)d(Section)i(4.1.3\),)114 1673 y(after)11 b(an)o(y)i
(constrain)o(ts)f(expressed)h(b)o(y)f(explicit)j(t)o(yp)q(e)e(signatures)f
(in)i(the)e(implemen)o(tation)i(ha)o(v)o(e)114 1729 y(b)q(een)i(applied.)114
1804 y(The)c(t)o(yp)q(e)g(signature)h(in)g(the)f(in)o(terface)h(ma)o(y)e
(\(but)h(need)h(not\))f(use)g(t)o(yp)q(e)h(synon)o(yms;)f(if)h(an)o(y)f(suc)o
(h)114 1861 y(synon)o(yms)i(are)g(used,)h(then)h(the)e(closure)i(rule)f
(\(Section)h(5.1.3\))d(implies)j(that)e(these)h(synon)o(yms)114
1917 y(m)o(ust)22 b(b)q(e)h(in)g(scop)q(e)g(wherev)o(er)f(this)h(v)m(alue)h
(is)f(imp)q(orted.)42 b(T)l(o)22 b(maximise)h(p)q(ortabilit)o(y)h(it)e(is)114
1973 y(recommended)12 b(that)f(t)o(yp)q(es)g(in)h(automatically-generated)h
(in)o(terfaces)e(ha)o(v)o(e)g(all)i(t)o(yp)q(e)e(synon)o(yms)114
2030 y(expanded.)56 2123 y(4.)22 b(A)15 b Fq(type)f Fu(declaration)i(in)g(an)
g(in)o(terface)f(m)o(ust)g(b)q(e)h(iden)o(tical)h(to)d(that)h(in)h(the)f
(implemen)o(tation.)56 2216 y(5.)22 b(A)15 b Fq(class)g Fu(declaration)h(in)g
(an)f(in)o(terface)h(m)o(ust)f(b)q(e)h(iden)o(tical)h(to)e(that)f(in)j(the)e
(implemen)o(tation,)114 2272 y(except)g(that)g(default-metho)q(d)h
(declarations)g(are)f(omitted.)56 2365 y(6.)22 b(If)15 b(the)g(constructors)f
(of)h(a)g Fq(data)f Fu(declaration)i(are)f(not)f(exp)q(orted,)h(then)h(the)f
Fq(data)f Fu(declaration)114 2421 y(in)i(the)h(in)o(terface)f(di\013ers)g
(from)g(that)f(in)i(the)f(implemen)o(tation)h(b)o(y)f(omitting)g(ev)o
(erything)h(after)114 2478 y(\(and)h(including\))j(the)e Fq(=)g
Fu(sign.)30 b(If)19 b(the)g Fq(data)f Fu(declaration)i(in)f(the)g(implemen)o
(tation)h(uses)f(the)114 2534 y Fq(deriving)10 b Fu(mec)o(hanism)h(to)g
(deriv)o(e)h(instance)g(declarations)f(for)g(the)g(t)o(yp)q(e,)h(a)f
(separate)f Fq(instance)114 2591 y Fu(declaration)17 b(m)o(ust)e(app)q(ear)i
(in)g(the)g(in)o(terface)f(for)g(eac)o(h)g(class)h(of)f(whic)o(h)h(the)f(t)o
(yp)q(e)h(is)g(made)f(an)114 2647 y(instance.)30 b(Hence,)19
b(the)g(information)f(that)g(certain)g(instances)h(are)f(deriv)o(ed)i(is)e
(hidden)i(when)114 2704 y(the)15 b(constructors)f(are)h(hidden,)i(since)f(in)
g(this)g(case)f(the)g(t)o(yp)q(e)h(is)f(abstract)f(\(see)i(Section)g(5.6\).)p
eop
%%Page: 49 63
bop 150 50 a Ft(5.3)45 b(Mo)q(dule)16 b(In)o(terfaces)1296
b Fu(49)206 199 y(7.)22 b(If)12 b(the)h(constructors)e(of)h(a)g
Fq(data)g Fu(declaration)h(are)f(to)g(b)q(e)h(exp)q(orted,)g(then)g(the)f
Fq(data)g Fu(declaration)264 256 y(in)f(the)f(in)o(terface)h(is)f(iden)o
(tical)j(to)c(that)h(in)h(the)f(implemen)o(tation)i(including)h(the)d
Fq(deriving)f Fu(part.)1932 239 y Fo(3)206 348 y Fu(8.)22 b(If)15
b(a)g Fr(C)s Fu(-)p Fr(T)21 b Fu(instance)c(is)f(declared)g(in)g(a)f(mo)q
(dule)i(or)e(imp)q(orted)h(b)o(y)f(it,)g(then)h(the)g(instance)g(decla-)264
404 y(ration)e(app)q(ears)h(in)g(the)g(in)o(terface)g(\(omitting)f(the)h
Fq(where)e Fu(part\))h(if)h Fp(either)g Fr(C)i Fu(is)e(exp)q(orted)g
Fp(or)g Fr(T)264 460 y Fu(is)h(exp)q(orted.)21 b(Instance)16
b(declarations)g(are)g(not)f(named)h(explicitly)i(in)e(exp)q(ort)g(or)f(imp)q
(ort)h(lists.)264 517 y(This)f(rule)h(ensures)f(that,)f(if)h
Fr(C)j Fu(and)d Fr(T)20 b Fu(are)15 b(b)q(oth)g(in)h(scop)q(e,)f(then)g(the)g
(\(unique\))h Fr(C)s Fu(-)p Fr(T)k Fu(instance)264 573 y(declaration)c(will)g
(also)g(b)q(e)g(in)g(scop)q(e.)911 557 y Fo(4)264 648 y Fu(No)f(explicit)j
(instance)f(declaration)g(should)f(app)q(ear)h(in)f(the)g(in)o(terface)g(for)
g(instances)g(that)f(are)264 704 y(sp)q(eci\014ed)i(b)o(y)e(the)g
Fq(deriving)f Fu(part)h(of)g(a)g Fq(data)f Fu(declaration)i(in)g(the)g(in)o
(terface.)206 796 y(9.)22 b(A)c(\014xit)o(y)g(declaration)g(for)g(a)f(v)m
(alue)i(or)f(constructor)f(app)q(ears)h(in)g(an)g(in)o(terface)g(exactly)g
(when)264 852 y(\(a\))e(the)h(v)m(alue)i(or)e(constructor)f(is)i(declared)g
(b)o(y)g(the)f(in)o(terface,)h(and)f(\(b\))g(the)h(iden)o(tical)h(\014xit)o
(y)264 909 y(declaration)d(app)q(ears)f(either)h(in)g(the)f(implemen)o
(tation)i(or)d(in)i(an)f(imp)q(orted)h(in)o(terface.)150 1051
y Fs(5.3.2)52 b(Imp)q(orts)17 b(and)h(Original)h(Names)150
1160 y Fu(The)e(original-name)h(information)f(is)h(carried)f(in)h(the)f(in)o
(terface)g(\014le)h(using)g Fq(import)e Fu(declarations)h(in)150
1216 y(a)e(sp)q(ecial)i(w)o(a)o(y)l(.)221 1296 y(Supp)q(ose)k(that)f(a)g(mo)q
(dule)i Fq(A)e Fu(exp)q(orts)g(an)h(en)o(tit)o(y)f Fq(x)p Fu(;)j(the)d(in)o
(terface)h(for)f Fq(A)g Fu(will)j(con)o(tain)d(static)150 1352
y(information)e(ab)q(out)g Fq(x)p Fu(.)29 b(If)18 b Fq(x)g
Fu(w)o(as)g(originally)h(de\014ned)h(in)f Fq(A)p Fu(,)f(then)h(this)f(is)h
(all)g(that)e(app)q(ears.)29 b(But,)150 1408 y(supp)q(ose)20
b(that)f Fq(x)g Fu(w)o(as)g(imp)q(orted)h(b)o(y)f Fq(A)g Fu(from)g(some)g
(other)g(mo)q(dule)i Fq(B)e Fu(and)h(that)e Fq(x)i Fu(w)o(as)e(originally)150
1465 y(de\014ned)f(in)f(mo)q(dule)g Fq(C)f Fu(with)h(name)f
Fq(y)p Fu(;)f(this)i(declaration)g(m)o(ust)f(app)q(ear)g(in)h(the)f(in)o
(terface)h(for)e Fq(A)p Fu(:)221 1544 y Fq(import)23 b(C\(y\))g(renaming)g
(\()g(y)h(to)g(x)f(\))150 1624 y Fu(No)16 b(reference)h(to)f
Fq(B)g Fu(remains)h(in)g(the)f(in)o(terface.)24 b Fp(The)17
b Fq(import)f Fp(de)n(clar)n(ation)h(in)g(the)g(interfac)n(e)g(serves)150
1680 y(only)i(to)h(c)n(onvey)f(to)h(the)g(imp)n(orting)f(mo)n(dule)h(the)g
(original)f(name)h(of)f Fq(x)p Fu(,)h(and)f(do)q(es)g Fp(not)f
Fu(imply)j(that)150 1737 y(mo)q(dule)13 b Fq(C)p Fu('s)e(in)o(terface)h(m)o
(ust)f(b)q(e)h(consulted)h(when)f(reading)g(mo)q(dule)h Fq(A)p
Fu('s)e(in)o(terface.)19 b(Multiple)14 b(imp)q(orts)150 1793
y(from)h(a)h(single)i(original)f(mo)q(dule)g(ma)o(y)f(optionally)h(b)q(e)g
(group)q(ed)g(in)g(a)e(single)j(imp)q(ort)e(declaration)h(in)150
1850 y(the)e(in)o(terface.)221 1929 y(A)k(mo)q(dule)i(ma)o(y)e(exp)q(ort)h(a)
f(v)m(alue)i(whose)f(t)o(yping)g(in)o(v)o(olv)o(es)g(a)f(t)o(yp)q(e)h(and/or)
f(class)h(that)f(is)h(not)150 1985 y(exp)q(orted.)28 b(\(An)o(y)17
b(imp)q(orting)i(mo)q(dule)f(w)o(ould)g(ha)o(v)o(e)g(to)f(imp)q(ort)h(the)f
(t)o(yp)q(e)h(or)f(class)h(b)o(y)g(some)f(other)150 2042 y(route.\))33
b Fp(Nevertheless,)21 b(it)f(is)h(stil)r(l)e(r)n(e)n(quir)n(e)n(d)h(that)i
(the)f(interfac)n(e)f(c)n(ontain)f(the)i(imp)n(ort)h(de)n(clar)n(ation)150
2098 y(r)n(e)n(quir)n(e)n(d)16 b(to)g(give)g(the)h(original)e(name)i(of)f
(the)h(typ)n(e)f(or)g(class.)221 2178 y Fu(In)e(summary)l(,)f(for)f(ev)o(ery)
i(en)o(tit)o(y)f Fq(e1)g Fu(men)o(tioned)h(in)h(the)e(in)o(terface)h(of)f(a)g
(mo)q(dule)h Fq(M)g Fu(whose)f(original)150 2234 y(name)i(is)h
Fq(e2)f Fu(in)h(mo)q(dule)g Fq(N)p Fu(,)f Fq(M)p Fu('s)f(in)o(terface)i(m)o
(ust)e(con)o(tain)i(the)f Fq(import)f Fu(declaration)364 2314
y Fq(import)23 b(N\(e2\))g(renaming)g(\()g(e2)h(to)g(e1)f(\))150
2393 y Fu(The)e(w)o(ord)f(\\men)o(tioned")h(includes)h(men)o(tion)f(in)h(the)
e(t)o(yp)q(e)h(signature)g(of)f(an)h(exp)q(orted)g(v)m(alue,)h(as)150
2449 y(discussed)17 b(ab)q(o)o(v)o(e.)p 150 2478 720 2 v 202
2505 a Fn(3)219 2521 y Fm(It)c(is)g(imp)q(ortan)o(t)h(to)f(retain)h(the)f
(information)i(ab)q(out)e(whic)o(h)h(instances)h(are)d(deriv)o(ed)j(and)e
(whic)o(h)h(are)f(not,)g(b)q(ecause)150 2567 y(the)g(imp)q(orting)i(mo)q
(dule)g(\\kno)o(ws")f(more)f(ab)q(out)h(deriv)o(ed)g(instances.)202
2596 y Fn(4)219 2612 y Fm(The)i(rev)o(erse)g(also)g(applies.)27
b(F)m(or)16 b(example,)h(supp)q(ose)g(that)f(a)g(new)f(t)o(yp)q(e)h
Fd(T)22 b Fm(is)16 b(declared)h(and)f(made)g(an)g(instance)150
2658 y(of)g(an)g(imp)q(orted)h(class)g Fd(C)s Fm(.)25 b(The)16
b(instance)h(declaration)h(will)f(b)q(e)g(exp)q(orted)f(along)i(with)e
Fd(T)5 b Fm(,)17 b(and)f(so)g(the)g(closure)h(rule)150 2704
y(\(Section)d(5.1.3\))f(will)i(require)f(that)f Fd(C)j Fm(is)d(also)h(in)g
(scop)q(e)g(in)g(ev)o(ery)f(imp)q(orting)i(scop)q(e.)p eop
%%Page: 50 64
bop 0 50 a Fu(50)1455 b Ft(5)46 b(MODULES)71 199 y Fu(This)15
b(example)h(illustrates)h(most)d(of)h(these)g(constrain)o(ts;)f(\014rst,)h
(the)g(in)o(terface:)71 277 y Fq(interface)22 b(A)i(where)71
333 y(import)f(PreludeList\(sum\))e(renaming)i(\()h(sum)f(to)h(oldSum)f(\))71
390 y(infixr)g(4)g Fp(\022)q Fq(sameShape)-11 b Fp(\022)71
446 y Fq(data)47 b(BinTree)23 b(a)g(=)h(Empty)f(|)h(Branch)f(a)h(\(BinTree)f
(a\))g(\(BinTree)g(a\))71 502 y(class)g(Tree)g(a)h(where)261
559 y(sameShape)f(::)h(a)f(->)h(a)g(->)f(Bool)71 615 y(instance)f(Tree)i
(\(BinTree)e(a\))71 672 y(sum)h(::)h(Num)f(a)h(=>)f(BinTree)g(a)h(->)g(a)71
728 y(oldSum)f(::)g(Num)h(a)f(=>)h([a])f(->)h(a)0 806 y Fu(No)o(w)15
b(the)g(implemen)o(tation:)71 883 y Fq(module)23 b(A\()g(BinTree\(..\),)f
(Tree\(..\),)h(sum,)g(oldSum)g(\))h(where)71 940 y(import)f(Prelude)g
(renaming)f(\()i(sum)f(to)h(oldSum)f(\))71 996 y(infixr)g(4)g
Fp(\022)q Fq(sameShape)-11 b Fp(\022)261 1053 y Fq(--)24 b
Fp(\022)p Fq(sameShape)-10 b Fp(\022)24 b Fq(is)g(an)f(operation)g(of)g
(class)h(C)f(below)71 1132 y(data)g(BinTree)g(a)h(=)f(Empty)g(|)h(Branch)f(a)
h(\(BinTree)f(a\))g(\(BinTree)g(a\))71 1212 y(class)g(Tree)g(a)h(where)214
1269 y(sameShape)e(::)i(a)g(->)f(a)h(->)g(Bool)214 1325 y(t1)f
Fp(\022)q Fq(sameShape)-11 b Fp(\022)24 b Fq(t2)g(=)g(False)118
b(--)24 b(Default)f(method)71 1405 y(instance)f(Tree)i(\(BinTree)e(a\))i
(where)285 1461 y(Empty)g Fp(\022)p Fq(sameShape)-11 b Fp(\022)25
b Fq(Empty)47 b(=)g(True)285 1518 y(\(Branch)23 b(_)h(t1)g(t2\))f
Fp(\022)p Fq(sameShape)-10 b Fp(\022)24 b Fq(\(Branch)f(_)h(t1')f(t2'\))357
1574 y(=)48 b(\(t1)23 b Fp(\022)p Fq(sameShape)-10 b Fp(\022)24
b Fq(t1'\))f(&&)h(\(t2)f Fp(\022)q Fq(sameShape)-11 b Fp(\022)24
b Fq(t2'\))285 1630 y(t1)g Fp(\022)p Fq(sameShape)-10 b Fp(\022)24
b Fq(t2)g(=)f(False)71 1710 y(sum)47 b(Empty)262 b(=)23 b(0)71
1767 y(sum)g(\(Branch)g(n)h(t1)f(t2\))h(=)f(n)h(+)g(sum)f(t1)h(+)g(sum)f(t2)0
1911 y Fx(5.4)56 b(Standard)19 b(Prelude)0 2022 y Fu(Man)o(y)c(of)g(the)h
(features)g(of)f(Hask)o(ell)h(are)g(de\014ned)h(in)g(Hask)o(ell)f(itself,)h
(as)e(a)g(library)i(of)e(standard)g(data-)0 2078 y(t)o(yp)q(es,)d(classes)g
(and)g(functions,)h(called)g(the)f(\\standard)e(prelude.")20
b(In)13 b(Hask)o(ell,)g(the)e(standard)g(prelude)0 2134 y(is)18
b(sp)q(eci\014ed)i(as)e(t)o(w)o(o)e(distinct)j(mo)q(dules)g(\(in)f(the)g(tec)
o(hnical)h(sense)f(of)g(this)g(c)o(hapter\),)g Fq(PreludeCore)0
2191 y Fu(and)d Fq(Prelude)o Fu(.)71 2272 y Fq(PreludeCore)h
Fu(and)i Fq(Prelude)f Fu(di\013er)h(from)f(other)g(mo)q(dules)i(in)g(that)e
Fp(their)i(interfac)n(es,)f(and)h(the)0 2329 y(semantics)e(of)i(the)f
(entities)g(de\014ne)n(d)f(by)h(those)h(interfac)n(es,)e(ar)n(e)i(p)n(art)f
(of)h(the)f(Haskel)r(l)g(language)g(def-)0 2385 y(inition.)28
b Fu(This)19 b(means,)f(for)g(example,)h(that)f(a)f(compiler)j(ma)o(y)d
(optimise)i(calls)h(to)d(functions)i(in)g(the)0 2442 y(standard)c(prelude,)h
(b)q(ecause)g(it)g(kno)o(ws)e(their)i(seman)o(tics)f(as)g(w)o(ell)h(as)f
(their)h(in)o(terface.)71 2523 y(Eac)o(h)d(of)g(these)h(mo)q(dules)h(is)f
(structured)g(in)o(to)f(submo)q(dules.)21 b(T)l(o)14 b(a)o(v)o(oid)f
(name-clashes)i(with)f(these)0 2579 y(sub-mo)q(dules,)i(user-de\014ned)h(mo)q
(dule)g(names)e(m)o(ust)g(not)f(b)q(egin)j(with)e(the)h(pre\014x)f
Fq(Prelude)o Fu(.)p eop
%%Page: 51 65
bop 150 50 a Ft(5.4)45 b(Standard)15 b(Prelude)1303 b Fu(51)150
199 y Fs(5.4.1)52 b(The)18 b Fq(PreludeCore)d Fs(Mo)q(dule)150
307 y Fu(The)c Fq(PreludeCore)f Fu(mo)q(dule)i(con)o(tains)f(certain)g(of)g
(the)g Fp(algebr)n(aic)h(datatyp)n(es,)h(typ)n(e)g(synonyms,)f(classes)150
363 y(and)k(instanc)n(e)f(de)n(clar)n(ations)f Fu(sp)q(eci\014ed)k(b)o(y)d
(the)g(standard)g(prelude.)221 441 y Fq(PreludeCore)d Fu(is)j
Fp(always)g(implicitly)f(imp)n(orte)n(d)h Fu(in)o(to)f(b)q(oth)g(in)o
(terfaces)g(and)g(implemen)o(tations,)h(so)150 498 y(it)i(is)f(not)g(p)q
(ossible)i(to)e(imp)q(ort)g(only)h(part)f(of)g(it)g(or)g(to)g(rename)g(an)o
(y)g(of)g(the)g(en)o(tities)h(that)f(it)g(de\014nes.)150 554
y Fq(PreludeCore)c Fu(thereb)o(y)h(ensures)h(consisten)o(t)f(naming)h(across)
f(all)h(Hask)o(ell)g(programs)e(for)h(the)g(en)o(tities)150
611 y(it)i(exp)q(orts.)221 689 y(The)e(seman)o(tics)h(of)f(the)h(en)o(tities)
g(de\014ned)h(b)o(y)e Fq(PreludeCore)f Fu(is)i(sp)q(eci\014ed)i(b)o(y)d(an)h
(implemen)o(tation)150 745 y(written)j(in)g(Hask)o(ell,)h(in)g(App)q(endix)h
(A.2.)24 b(A)16 b(Hask)o(ell)i(system)e(need)i(not)e(implemen)o(t)j
Fq(PreludeCore)150 802 y Fu(in)g(this)g(w)o(a)o(y)l(.)30 b(The)18
b(in)o(terface)h(for)f Fq(PreludeCore)f Fu(ma)o(y)h(b)q(e)h(inferred)h(from)e
(the)g(implemen)o(tation)i(in)150 858 y(App)q(endix)d(A.2.)221
936 y(Some)c(datat)o(yp)q(es)h(\(suc)o(h)g(as)f Fq(Int)p Fu(\))g(and)h
(functions)h(\(suc)o(h)f(as)g(addition)h(of)e Fq(Int)p Fu(s\))g(cannot)h(b)q
(e)g(sp)q(eci-)150 993 y(\014ed)g(directly)g(in)g(Hask)o(ell.)20
b(This)13 b(is)g(expressed)h(in)g(the)f Fq(PreludeCore)e Fu(implemen)o
(tation)j(b)o(y)f(imp)q(orting)150 1049 y(these)j(built-in)i(t)o(yp)q(es)e
(and)g(v)m(alues)h(from)e Fq(PreludeBuiltin)n Fu(.)22 b(The)16
b(seman)o(tics)g(of)f(the)h(built-in)i(data-)150 1106 y(t)o(yp)q(es)d(and)h
(functions)g(is)f(giv)o(en)h(as)f(English)h(text)f(in)h(App)q(endix)h(A.1.)
221 1184 y(The)j(implemen)o(tation)h(for)e Fq(PreludeCore)g
Fu(is)h(incomplete)i(in)e(its)g(treatmen)o(t)f(of)h(tuples:)30
b(there)150 1240 y(should)14 b(b)q(e)f(an)g(in\014nite)i(family)e(of)f
(instance)i(declarations)g(for)e(tuples,)i(but)e(the)h(implemen)o(tation)h
(only)150 1297 y(giv)o(es)h(a)g(sc)o(heme.)221 1375 y(The)22
b(alert)g(reader)g(ma)o(y)f(notice)i(that)e(the)h(implemen)o(tation)h(of)f
Fq(PreludeCore)e Fu(giv)o(en)j(in)g(Ap-)150 1431 y(p)q(endix)16
b(A.2)e(uses)h(some)f(functions)h(de\014ned)h(in)g Fq(Prelude)d
Fu(\(see)i(next)f(section\).)20 b(There)15 b(is)g(no)f(con\015ict;)150
1488 y Fq(PreludeCore)g Fu(and)h Fq(Prelude)f Fu(are)h(m)o(utually)h
(recursiv)o(e.)150 1628 y Fs(5.4.2)52 b(The)18 b Fq(Prelude)e
Fs(Mo)q(dule)150 1735 y Fu(The)f Fq(Prelude)g Fu(mo)q(dule)h(con)o(tains)f
(all)h(the)g Fp(value)f Fu(declarations)h(in)g(the)f(standard)g(prelude.)221
1813 y(The)j Fq(Prelude)f Fu(mo)q(dule)i(is)g(imp)q(orted)f(automatically)h
(in)o(to)f(b)q(oth)g(in)o(terfaces)h(and)f(implemen)o(ta-)150
1870 y(tions,)12 b(if)g(and)g(only)g(if)g(it)g(is)g(not)f(imp)q(orted)i(with)
f(an)f(explicit)j Fq(import)d Fu(declaration.)19 b(This)12
b(pro)o(vision)h(for)150 1926 y(explicit)i(imp)q(ort)d(allo)o(ws)h(v)m(alues)
g(de\014ned)h(in)f(the)f(standard)g(prelude)i(to)e(b)q(e)h(renamed)g(or)e
(not)h(imp)q(orted)150 1983 y(at)j(all.)221 2061 y(The)h(seman)o(tics)g(of)f
(the)h(en)o(tities)g(in)h Fq(Prelude)e Fu(is)h(sp)q(eci\014ed)i(b)o(y)e(an)g
(implemen)o(tation)h(of)e Fq(Prelude)150 2117 y Fu(written)e(in)h(Hask)o
(ell,)g(giv)o(en)g(in)g(App)q(endix)h(A.)20 b(As)13 b(for)f
Fq(PreludeCore)o Fu(,)h(a)g(Hask)o(ell)h(system)f(ma)o(y)f(imple-)150
2174 y(men)o(t)g(the)h Fq(Prelude)f Fu(mo)q(dule)h(as)g(it)g(pleases,)g(pro)o
(vided)h(it)f(main)o(tains)g(the)f(seman)o(tics)h(in)h(App)q(endix)g(A.)150
2230 y(The)j(in)o(terface)h(for)e(the)i Fq(Prelude)e Fu(and)h(eac)o(h)g(of)g
(its)g(submo)q(dules)i(ma)o(y)d(b)q(e)i(inferred)g(from)f(their)g(im-)150
2287 y(plemen)o(tations)e(in)h(App)q(endix)h(A.)i(All)d(references)f(to)f(t)o
(yp)q(e)h(synon)o(yms)f(are)h(fully)h(expanded)f(in)h(these)150
2343 y(in)o(terfaces.)150 2483 y Fs(5.4.3)52 b(Shado)o(wing)18
b(Prelude)f(Names)g(and)h(Non-Standard)h(Preludes)150 2591
y Fu(The)d(rules)g(ab)q(out)g(the)f(standard)h(prelude)h(ha)o(v)o(e)e(b)q
(een)i(cast)e(so)g(that)g(it)h(is)g(p)q(ossible)h(to)e(use)h(standard)150
2647 y(prelude)h(names)e(for)g(nonstandard)g(purp)q(oses;)h(ho)o(w)o(ev)o
(er,)e(ev)o(ery)h(mo)q(dule)i(that)d(do)q(es)i(so)f(will)i(ha)o(v)o(e)e(an)
150 2704 y Fq(import)f Fu(declaration)i(that)f(mak)o(es)f(this)i(nonstandard)
f(usage)g(explicit.)22 b(F)l(or)15 b(example:)p eop
%%Page: 52 66
bop 0 50 a Fu(52)1455 b Ft(5)46 b(MODULES)190 193 y Fq(module)23
b(A)h(where)190 250 y(import)f(Prelude)g(hiding)g(\(map\))190
306 y(map)g(f)h(x)g(=)g(x)f(f)0 376 y Fu(Mo)q(dule)h Fq(A)e
Fu(rede\014nes)i Fq(map)o Fu(,)g(but)f(it)g(m)o(ust)f(indicate)i(this)f(b)o
(y)g(imp)q(orting)g Fq(Prelude)f Fu(without)h Fq(map)o Fu(.)0
432 y(F)l(urthermore,)13 b Fq(A)i Fu(exp)q(orts)f Fq(map)o
Fu(,)g(but)g(ev)o(ery)h(mo)q(dule)g(that)e(imp)q(orts)i Fq(map)f
Fu(from)f Fq(A)h Fu(m)o(ust)g(also)g(hide)h Fq(map)0 489 y
Fu(from)d Fq(Prelude)h Fu(just)f(as)h Fq(A)g Fu(do)q(es.)20
b(Th)o(us)13 b(there)g(is)h(little)g(danger)f(of)g(acciden)o(tally)i(shado)o
(wing)e(standard)0 545 y(prelude)k(names.)71 619 y(It)e(is)h(p)q(ossible)g
(to)f(construct)g(and)g(use)h(a)f(di\013eren)o(t)g Fq(Prelude)f
Fu(mo)q(dule:)214 688 y Fq(module)23 b(B)h(where)214 745 y(import)f
(Prelude\(\))214 801 y(import)g(MyPrelude)214 858 y(...)0 927
y(B)13 b Fu(imp)q(orts)f(nothing)i(from)e Fq(Prelude)o Fu(,)g(but)h(the)g
(explicit)i Fq(import)23 b(Prelude)12 b Fu(declaration)h(prev)o(en)o(ts)g
(the)0 984 y(automatic)20 b(imp)q(ort)g(of)g Fq(Prelude)o Fu(.)34
b Fq(import)23 b(MyPrelude)c Fu(brings)i(the)f(non-standard)g(prelude)i(in)o
(to)0 1040 y(scop)q(e.)e(As)c(b)q(efore,)f(the)g(standard)g(prelude)h(names)g
(are)f(hidden)i(explicitly)l(.)0 1175 y Fx(5.5)56 b(Example)0
1278 y Fu(As)15 b(an)g(example,)h(here)g(are)e(t)o(w)o(o)g(small)i(mo)q
(dules:)71 1348 y Fq(module)23 b(A\()g(Tree\(..\),)g(depth)g(\))h(where)261
1404 y(data)g(Tree)f(a)h(=)g(Leaf)f(a)h(|)f(Branch)g(\(Tree)h(a\))f(\(Tree)g
(a\))261 1461 y(depth)h(\(Leaf)f(a\))190 b(=)48 b(0)261 1517
y(depth)24 b(\(Branch)f(xt)g(yt\))47 b(=)h(\(depth)23 b(xt)h
Fp(\022)p Fq(max)-10 b Fp(\022)25 b Fq(depth)e(yt\))g(+)h(1)71
1597 y(interface)e(A)i(where)261 1653 y(data)g(Tree)f(a)h(=)g(Leaf)f(a)h(|)f
(Branch)g(\(Tree)h(a\))f(\(Tree)g(a\))261 1710 y(depth)h(::)f(Num)h(a)f(=>)h
(Tree)f(b)h(->)g(a)71 1790 y(module)f(B\()g(leaves)g(\))h(where)261
1846 y(import)g(A)261 1903 y(leaves)g(\(Leaf)f(a\))190 b(=)48
b([a])261 1959 y(leaves)24 b(\(Branch)e(xt)i(yt\))47 b(=)h(leaves)23
b(xt)h(++)f(leaves)g(yt)71 2039 y(interface)f(B)i(where)261
2095 y(import)g(A\(Tree\))261 2152 y(leaves)g(::)f(Tree)g(a)h(->)g([a])0
2221 y Fu(Mo)q(dule)16 b Fq(A)f Fu(m)o(ust)f(exp)q(ort)h Fq(Tree)g
Fu(b)q(ecause)h(it)f(exp)q(orts)g Fq(depth)o Fu(,)g(and)g Fq(Tree)f
Fu(could)i(not)f(b)q(e)h(made)f(visible)0 2278 y(in)j(an)o(y)e(other)g(w)o(a)
o(y)l(.)24 b(Ho)o(w)o(ev)o(er,)16 b Fq(B)h Fu(is)g(not)f(required)i(to)e(exp)
q(ort)h Fq(Tree)o Fu(,)g(since)h(a)f(mo)q(dule)h(imp)q(orting)f
Fq(B)0 2334 y Fu(could)f(imp)q(ort)g Fq(A)f Fu(in)h(order)f(to)f(satisfy)h
(the)g(closure)h(constrain)o(ts.)71 2408 y(Mo)q(dules)k(ma)o(y)f(b)q(e)i
(used)f(to)f(com)o(bine)i(the)e(resources)h(of)f(other)h(mo)q(dules.)34
b(F)l(or)19 b(example,)j(one)0 2464 y(migh)o(t)15 b(use)h(renaming)f(to)g
(mak)o(e)f(trees)h(a)o(v)m(ailable)i(to)e(F)l(renc)o(h)g(sp)q(eak)o(ers:)71
2534 y Fq(module)23 b(C\()g(Arbre\(..\),)g(fond,)g(feuilles)g(\))g(where)71
2590 y(import)g(A)g(renaming)g(\()h(Tree)f(to)h(Arbre,)f(Leaf)g(to)h
(Feuille,)e(Branch)i(to)f(Branche,)548 2647 y(depth)g(to)h(fond)f(\))71
2703 y(import)g(B)g(renaming)g(\()h(leaves)f(to)g(feuilles)g(\))p
eop
%%Page: 53 67
bop 150 50 a Ft(5.6)45 b(Abstract)14 b(Datat)o(yp)q(es)1259
b Fu(53)150 199 y(The)15 b(in)o(terface)h(for)e(mo)q(dule)j
Fq(C)e Fu(is:)221 267 y Fq(interface)22 b(C)i(where)411 323
y(import)g(A\(Tree\(Leaf,Branch\),)d(depth\))602 380 y(renaming)i(\(Tree)g
(to)h(Arbre,)841 436 y(Leaf)f(to)h(Feuille,)841 493 y(Branch)f(to)h(Branche,)
841 549 y(depth)f(to)h(fond\))411 629 y(import)g(B\(leaves\))e(renaming)h
(\(leaves)g(to)g(feuilles\))411 708 y(data)h(Arbre)f(a)h(=)f(Feuille)g(a)h(|)
g(Branche)f(\(Arbre)g(a\))g(\(Arbre)g(a\))411 765 y(fond)119
b(::)24 b(Num)f(a)h(=>)g(Arbre)f(b)h(->)f(a)411 821 y(feuilles)g(::)h(Arbre)f
(a)h(->)f([a])150 964 y Fx(5.6)56 b(Abstract)19 b(Datat)n(yp)r(es)150
1074 y Fu(The)12 b(abilit)o(y)h(to)f(exp)q(ort)g(a)f(datat)o(yp)q(e)h
(without)g(its)g(constructors)f(allo)o(ws)h(the)g(construction)g(of)g
(abstract)150 1130 y(datat)o(yp)q(es)j(\(ADTs\).)j(F)l(or)d(example,)h(an)f
(ADT)f(for)h(stac)o(ks)f(could)j(b)q(e)e(de\014ned)i(as:)221
1209 y Fq(module)23 b(Stack\()g(StkType,)f(push,)i(pop,)f(empty)g(\))h(where)
411 1266 y(data)g(StkType)f(a)g(=)h(EmptyStk)f(|)h(Stk)f(a)h(\(StkType)f(a\))
411 1322 y(push)h(x)g(s)f(=)h(Stk)f(x)h(s)411 1378 y(pop)g(\(Stk)f(_)h(s\))g
(=)f(s)411 1435 y(empty)h(=)f(EmptyStk)150 1511 y Fu(Mo)q(dules)d(imp)q
(orting)h Fq(Stack)e Fu(cannot)g(construct)g(v)m(alues)i(of)e(t)o(yp)q(e)h
Fq(StkType)f Fu(b)q(ecause)h(they)g(do)f(not)150 1568 y(ha)o(v)o(e)c(access)g
(to)g(the)g(constructors)f(of)h(the)g(t)o(yp)q(e.)221 1648
y(It)d(is)g(also)g(p)q(ossible)i(to)d(build)j(an)e(ADT)f(on)h(top)f(of)h(an)g
(existing)h(t)o(yp)q(e)f(b)o(y)g(using)g(a)g Fq(data)f Fu(declaration)150
1705 y(with)k(a)e(single)j(constructor)d(with)i(only)g(one)f(\014eld.)21
b(F)l(or)13 b(example,)i(stac)o(ks)e(can)i(b)q(e)g(de\014ned)g(with)g(lists:)
221 1781 y Fq(module)23 b(Stack\()g(StkType,)f(push,)i(pop,)f(empty)g(\))h
(where)411 1837 y(data)g(StkType)f(a)g(=)h(Stk)g([a])411 1894
y(push)g(x)g(\(Stk)f(s\))g(=)h(Stk)g(\(x:s\))411 1950 y(pop)g(\(Stk)f
(\(x:s\)\))g(=)h(Stk)f(s)411 2007 y(empty)h(=)f(Stk)h([])221
2086 y Fp(Note)19 b(1.)29 b Fu(Ev)o(ery)17 b(ADT)h(m)o(ust)g(b)q(e)g(a)g(mo)q
(dule)i(\(but)d(a)h(Hask)o(ell)h(compilation)h(system)d(ma)o(y)h(allo)o(w)150
2142 y(m)o(ultiple)f(mo)q(dules)f(in)g(a)f(single)i(\014le\).)221
2223 y Fp(Note)e(2.)20 b Fu(Using)15 b(a)f(single-constructor)h
(single-\014eld)j Fq(data)13 b Fu(declaration)j(to)d(create)i(an)f
(isomorphic)150 2279 y(t)o(yp)q(e)19 b(in)o(tro)q(duces)h(an)f(un)o(w)o(an)o
(ted)f(extra)g(elemen)o(t)i(to)e(the)h(new)h(t)o(yp)q(e,)f(namely)h
Fq(\(Stk)j Fl(?)p Fq(\))p Fu(,)d(with)f(the)150 2336 y(risk)d(of)e(an)h
(accompan)o(ying)h(small)g(ine\016ciency)h(in)f(the)g(implemen)o(tation.)150
2481 y Fx(5.7)56 b(Fixit)n(y)17 b(Declarations)150 2590 y Fp(\014xde)n(cls)68
b Fl(!)59 b Fp(\014x)510 2597 y Fk(1)549 2590 y Fq(;)24 b Fr(:)8
b(:)g(:)22 b Fq(;)16 b Fp(\014x)761 2597 y Fk(n)1449 2590 y
Fu(\()p Fp(n)f Fl(\025)e Fp(1)6 b Fu(\))150 2647 y Fp(\014x)162
b Fl(!)59 b Fq(infixl)15 b Fu([)p Fp(digit)t Fu(])h Fp(ops)375
2703 y Fl(j)75 b Fq(infixr)15 b Fu([)p Fp(digit)t Fu(])h Fp(ops)p
eop
%%Page: 54 68
bop 0 50 a Fu(54)1455 b Ft(5)46 b(MODULES)p 198 205 1420 2
v 197 262 2 57 v 250 245 a Fu(Prec-)p 378 262 V 387 262 V 58
w(Left)15 b(asso)q(ciativ)o(e)p 743 262 V 50 w(Non-asso)q(ciativ)o(e)p
1230 262 V 180 w(Righ)o(t)g(asso)q(ciativ)o(e)p 1617 262 V
197 318 V 223 301 a(edence)p 378 318 V 387 318 V 59 w(op)q(erators)p
743 318 V 169 w(op)q(erators)p 1230 318 V 301 w(op)q(erators)p
1617 318 V 198 320 1420 2 v 198 330 V 197 386 2 57 v 331 369
a(9)p 378 386 V 387 386 V 58 w Fq(!)p Fu(,)g Fq(!!)o Fu(,)g
Fq(//)p 743 386 V 1230 386 V 669 w(.)p 1617 386 V 198 388 1420
2 v 197 444 2 57 v 331 427 a Fu(8)p 378 444 V 387 444 V 743
444 V 1230 444 V 902 w Fq(**)o Fu(,)g Fq(^)p Fu(,)g Fq(^^)p
1617 444 V 198 446 1420 2 v 197 502 2 57 v 331 485 a Fu(7)p
378 502 V 387 502 V 58 w Fq(*)p 743 502 V 332 w(\045)p Fu(,)g
Fq(/)p Fu(,)g Fq(`div`)o Fu(,)p 1230 502 V 1617 502 V 197 559
V 378 559 V 387 559 V 743 559 V 768 542 a Fq(`mod`)p Fu(,)g
Fq(`rem`)o Fu(,)g Fq(`quot`)p 1230 559 V 1617 559 V 198 560
1420 2 v 197 617 2 57 v 331 600 a Fu(6)p 378 617 V 387 617
V 58 w Fq(+)p Fu(,)g Fq(-)p 743 617 V 280 w(:+)p 1230 617 V
1617 617 V 198 619 1420 2 v 197 675 2 57 v 331 658 a Fu(5)p
378 675 V 387 675 V 743 675 V 414 w Fq(\\\\)p 1230 675 V 440
w(:)o Fu(,)g Fq(++)p 1617 675 V 198 677 1420 2 v 197 733 2
57 v 331 716 a Fu(4)p 378 733 V 387 733 V 743 733 V 414 w Fq(/=)p
Fu(,)g Fq(<)p Fu(,)g Fq(<=)o Fu(,)g Fq(==)p Fu(,)g Fq(>)o Fu(,)g
Fq(>=)p Fu(,)p 1230 733 V 1617 733 V 197 790 V 378 790 V 387
790 V 743 790 V 768 773 a Fq(`elem`)p Fu(,)f Fq(`notElem`)p
1230 790 V 1617 790 V 198 791 1420 2 v 197 848 2 57 v 331 831
a Fu(3)p 378 848 V 387 848 V 743 848 V 1230 848 V 902 w Fq(&&)p
1617 848 V 198 849 1420 2 v 197 906 2 57 v 331 889 a Fu(2)p
378 906 V 387 906 V 743 906 V 1230 906 V 902 w Fq(||)p 1617
906 V 198 907 1420 2 v 197 964 2 57 v 331 947 a Fu(1)p 378
964 V 387 964 V 743 964 V 414 w Fq(:=)p 1230 964 V 1617 964
V 198 966 1420 2 v 197 1022 2 57 v 331 1005 a Fu(0)p 378 1022
V 387 1022 V 743 1022 V 1230 1022 V 902 w Fq($)p 1617 1022
V 198 1024 1420 2 v 288 1152 a Fu(T)l(able)i(2:)j(Precedences)e(and)e
(\014xities)i(of)e(prelude-de\014ned)j(op)q(erators)225 1309
y Fl(j)75 b Fq(infix)39 b Fu([)p Fp(digit)t Fu(])16 b Fp(ops)0
1365 y(ops)144 b Fl(!)59 b Fp(op)359 1372 y Fk(1)399 1365 y
Fq(,)23 b Fr(:)8 b(:)g(:)22 b Fq(,)16 b Fp(op)609 1372 y Fk(n)1299
1365 y Fu(\()p Fp(n)f Fl(\025)e Fp(1)6 b Fu(\))0 1422 y Fp(op)163
b Fl(!)59 b Fp(var)n(op)19 b Fl(j)d Fp(c)n(onop)0 1553 y Fu(A)j(\014xit)o(y)g
(declaration)h(giv)o(es)f(the)f(\014xit)o(y)i(and)f(binding)h(precedence)h
(of)d(a)h(set)f(of)h(op)q(erators.)30 b(Fixit)o(y)0 1610 y(declarations)13
b(m)o(ust)g(app)q(ear)g(only)g(at)f(the)h(start)f(of)g(a)g(mo)q(dule)i(and)f
(ma)o(y)f(only)i(b)q(e)f(giv)o(en)g(for)f(iden)o(ti\014ers)0
1666 y(de\014ned)22 b(in)g(that)e(mo)q(dule.)37 b(Fixit)o(y)21
b(declarations)h(cannot)e(subsequen)o(tly)i(b)q(e)g(o)o(v)o(erridden,)g(and)f
(an)0 1722 y(iden)o(ti\014er)c(can)e(only)h(ha)o(v)o(e)f(one)g(\014xit)o(y)g
(de\014nition.)71 1804 y(There)i(are)g(three)h(kinds)g(of)f(\014xit)o(y)l(,)h
(non-,)g(left-)g(and)g(righ)o(t-asso)q(ciativit)o(y)f(\()p
Fq(infix)o Fu(,)h Fq(infixl)o Fu(,)g(and)0 1860 y Fq(infixr)o
Fu(,)h(resp)q(ectiv)o(ely\),)h(and)f(ten)g(precedence)h(lev)o(els,)g(0)e
(through)h(9)f(\(lev)o(el)h(0)f(binds)i(least)f(tigh)o(tly)l(,)0
1917 y(and)f(lev)o(el)g(9)f(binds)i(most)e(tigh)o(tly\).)26
b(If)18 b(the)f Fp(digit)22 b Fu(is)c(omitted,)g(lev)o(el)h(9)e(is)h
(assumed.)26 b(An)o(y)18 b(op)q(erator)0 1973 y(lac)o(king)c(a)f(\014xit)o(y)
h(declaration)g(is)g(assumed)f(to)g(b)q(e)h Fq(infixl)23 b(9)13
b Fu(\(See)h(Section)g(3)f(for)g(more)g(on)g(the)h(use)f(of)0
2030 y(\014xities\).)22 b(T)l(able)17 b(2)e(lists)i(the)f(\014xities)h(and)f
(precedences)h(of)e(the)h(op)q(erators)f(de\014ned)i(in)g(the)e(standard)0
2086 y(prelude.)71 2167 y(Fixit)o(y)f(is)i(a)e(prop)q(ert)o(y)g(of)g(the)h
(original)h(name)e(of)h(an)f(iden)o(ti\014er)i(or)e(op)q(erator)g(\(see)h
(Section)g(5.1.2\).)0 2224 y(Fixit)o(y)i(is)g(not)f(a\013ected)g(b)o(y)g
(renaming;)h(the)f(new)h(name)f(has)h(the)f(same)g(\014xit)o(y)h(as)f(the)g
(old)h(one.)24 b(The)0 2280 y(same)16 b(\014xit)o(y)g(attac)o(hes)f(to)g(ev)o
(ery)h(o)q(ccurrence)h(of)f(an)g(op)q(erator)f(name)h(in)h(a)e(mo)q(dule,)i
(whether)g(at)e(the)0 2337 y(top)g(lev)o(el)h(or)f(reb)q(ound)h(at)f(an)g
(inner)h(lev)o(el.)21 b(F)l(or)15 b(example:)71 2414 y Fq(module)23
b(Foo)71 2471 y(import)g(Bar)71 2527 y(infix)g(3)g(`op`)71
2607 y(f)g(x)h(=)g(...)f(where)g(p)h(`op`)f(q)h(=)g(...)0 2684
y Fu(Here)17 b Fq(`op`)e Fu(has)i(\014xit)o(y)f(3)g(wherev)o(er)h(it)f(is)h
(in)g(scop)q(e,)g(pro)o(vided)g Fq(Bar)f Fu(do)q(es)h(not)f(exp)q(ort)g(the)g
(iden)o(ti\014er)p eop
%%Page: 55 69
bop 150 50 a Ft(5.7)45 b(Fixit)o(y)15 b(Declarations)1270 b
Fu(55)150 199 y Fq(op)p Fu(.)31 b(If)19 b Fq(Bar)f Fu(do)q(es)i(exp)q(ort)e
Fq(op)p Fu(,)i(then)f(the)g(example)g(b)q(ecomes)h(illegal,)i(b)q(ecause)e
(the)f(\014xit)o(y)g(\(or)f(lac)o(k)150 256 y(thereof)t(\))c(of)h
Fq(op)g Fu(is)g(de\014ned)i(in)f Fq(Bar)f Fu(\(or)f(wherev)o(er)h
Fq(Bar)g Fu(imp)q(orted)h Fq(op)f Fu(from\).)p eop
%%Page: 56 70
bop 0 50 a Fu(56)1376 b Ft(6)45 b(BASIC)16 b(TYPES)0 199 y
Fy(6)67 b(Basic)22 b(T)n(yp)r(es)0 323 y Fx(6.1)56 b(Bo)r(oleans)0
429 y Fu(The)23 b(b)q(o)q(olean)h(t)o(yp)q(e)e Fq(Bool)h Fu(is)g(an)f(en)o
(umeration;)27 b(Figure)c(6)f(sho)o(ws)g(its)h(de\014nition)h(and)f(standard)
0 485 y(functions)16 b Fq(&&)p Fu(,)e Fq(||)p Fu(,)h Fq(not)p
Fu(,)f(and)i Fq(otherwise)n Fu(.)p 9 590 1767 2 v 9 1301 2
711 v 39 654 a Fq(data)47 b(Bool)g(=)h(False)23 b(|)h(True)39
734 y(\(&&\),)f(\(||\))333 b(::)24 b(Bool)f(->)h(Bool)f(->)h(Bool)39
790 y(True)47 b(&&)23 b(x)334 b(=)48 b(x)39 847 y(False)23
b(&&)g(x)334 b(=)48 b(False)39 903 y(True)f(||)23 b(x)334 b(=)48
b(True)39 959 y(False)23 b(||)g(x)334 b(=)48 b(x)39 1039 y(not)500
b(::)24 b(Bool)f(->)h(Bool)39 1096 y(not)f(True)381 b(=)48
b(False)39 1152 y(not)23 b(False)357 b(=)48 b(True)39 1232
y(otherwise)356 b(::)24 b(Bool)39 1288 y(otherwise)356 b(=)24
b(True)p 1774 1301 V 9 1303 1767 2 v 486 1429 a Fu(Figure)16
b(6:)j(Standard)d(functions)f(on)h(b)q(o)q(oleans)0 1614 y
Fx(6.2)56 b(Characters)19 b(and)g(Strings)0 1720 y Fu(The)f(c)o(haracter)e(t)
o(yp)q(e)i Fq(Char)f Fu(is)h(an)f(en)o(umeration,)h(and)g(consists)f(of)g
(256)g(v)m(alues,)i(of)e(whic)o(h)h(the)f(\014rst)0 1776 y(128)c(are)h(the)g
(ASCI)q(I)h(c)o(haracter)f(set.)19 b(The)14 b(lexical)i(syn)o(tax)e(for)f(c)o
(haracters)g(is)i(de\014ned)g(in)g(Section)g(2.5;)0 1832 y(c)o(haracter)21
b(literals)i(are)e(n)o(ullary)i(constructors)d(in)j(the)f(datat)o(yp)q(e)f
Fq(Char)o Fu(.)39 b(The)22 b(standard)f(prelude)0 1889 y(pro)o(vides)14
b(an)g(instance)h(declaration)g(for)f Fq(Char)f Fu(in)i(classes)f
Fq(Enum)g Fu(and)g Fq(Ix)g Fu(and)g(t)o(w)o(o)f(functions)h(relating)0
1945 y(c)o(haracters)g(to)h Fq(Int)p Fu(s)g(in)h(the)f(range)g([0)p
Fr(;)8 b Fu(255]:)71 2021 y Fq(ord)23 b(::)h(Char)f(->)h(Int)71
2077 y(chr)f(::)h(Int)47 b(->)24 b(Char)71 2150 y Fu(Note)14
b(that)f(ASCI)q(I)j(con)o(trol)e(c)o(haracters)g(eac)o(h)g(ha)o(v)o(e)g(sev)o
(eral)h(represen)o(tations)f(in)h(c)o(haracter)f(liter-)0 2206
y(als:)22 b(n)o(umeric)17 b(escap)q(es,)g(ASCI)q(I)g(mnemonic)g(escap)q(es,)g
(and)f(the)h Fq(\\^)o Fr(X)j Fu(notation.)i(In)17 b(addition,)g(there)0
2263 y(are)f(the)g(follo)o(wing)h(equiv)m(alences:)24 b Fq(\\a)15
b Fu(and)i Fq(\\BEL)o Fu(,)f Fq(\\b)g Fu(and)g Fq(\\BS)p Fu(,)f
Fq(\\f)h Fu(and)g Fq(\\FF)p Fu(,)g Fq(\\r)f Fu(and)i Fq(\\CR)o
Fu(,)f Fq(\\t)g Fu(and)0 2319 y Fq(\\HT)p Fu(,)e Fq(\\v)h Fu(and)h
Fq(\\VT)o Fu(,)f(and)g Fq(\\n)g Fu(and)h Fq(\\LF)o Fu(.)71
2396 y(A)f Fp(string)f Fu(is)i(a)f(list)h(of)f(c)o(haracters:)71
2472 y Fq(type)47 b(String)g(=)g([Char])13 2549 y Fu(Strings)14
b(ma)o(y)f(b)q(e)h(abbreviated)g(using)g(the)g(lexical)h(syn)o(tax)e(describ)
q(ed)j(in)e(Section)g(2.5.)19 b(F)l(or)12 b(example,)0 2606
y Fq("A)24 b(string")14 b Fu(abbreviates)504 2693 y Fq([)p
Fp(\023)p Fq(A)p Fp(\023)p Fq(,)p Fp(\023)24 b(\023)p Fq(,)p
Fp(\023)p Fq(s)p Fp(\023)p Fq(,)p Fp(\023)p Fq(t)p Fp(\023)p
Fq(,)p Fp(\023)q Fq(r)o Fp(\023)q Fq(,)15 b Fp(\023)p Fq(i)p
Fp(\023)p Fq(,)p Fp(\023)p Fq(n)p Fp(\023)p Fq(,)p Fp(\023)p
Fq(g)p Fp(\023)p Fq(])p eop
%%Page: 57 71
bop 150 50 a Ft(6.3)45 b(F)l(unctions)1459 b Fu(57)150 199
y Fx(6.3)56 b(F)-5 b(unctions)150 310 y Fu(F)l(unctions)13
b(are)e(de\014ned)j(via)e(lam)o(b)q(da)g(abstractions)g(and)g(function)h
(de\014nitions.)20 b(Besides)14 b(application,)150 366 y(an)h(in\014x)h(comp)
q(osition)g(op)q(erator)f(is)g(de\014ned:)221 444 y Fq(\(.\))23
b(::)h(\(b)f(->)h(c\))f(->)h(\(a)g(->)f(b\))h(->)f(a)h(->)g(c)221
500 y(\(f)f(.)h(g\))f(x)h(=)g(f)g(\(g)f(x\))163 578 y Fu(The)13
b(function)h Fq(until)e Fu(applies)i(a)f(function)g(to)f(an)h(initial)i(v)m
(alue)f(zero)f(or)f(more)h(times)g(un)o(til)h(the)f(result)150
634 y(satis\014es)i(a)g(giv)o(en)h(predicate:)221 712 y Fq(until)23
b(::)g(\(a)h(->)g(Bool\))f(->)g(\(a)h(->)f(a\))h(->)g(a)f(->)h(a)221
768 y(until)f(p)g(f)h(x)g(|)g(p)f(x)191 b(=)48 b(x)507 825
y(|)24 b(otherwise)46 b(=)i(until)23 b(p)h(f)f(\(f)h(x\))150
902 y Fu(The)15 b(function)h Fq(flip)p Fu(,)f(applied)i(to)d(a)h(binary)h
(function,)g(rev)o(erses)f(the)g(order)g(of)g(the)g(argumen)o(ts:)221
981 y Fq(flip)23 b(::)g(\(a)h(->)g(b)f(->)h(c\))g(->)f(b)h(->)f(a)h(->)g(c)
221 1037 y(flip)f(f)h(x)f(y)48 b(=)g(f)23 b(y)h(x)150 1182
y Fx(6.4)56 b(Lists)150 1292 y Fu(Lists)19 b(are)f(an)h(algebraic)g(datat)o
(yp)q(e)f(of)g(t)o(w)o(o)f(constructors,)h(although)h(with)g(sp)q(ecial)h
(syn)o(tax,)e(as)g(de-)150 1349 y(scrib)q(ed)g(in)g(Section)g(3.6.)24
b(The)18 b(\014rst)e(constructor)g(is)i(the)f(n)o(ull)h(list,)g(written)f
Fq([])p Fu(,)g(and)g(the)g(second)g(is)150 1405 y Fq(:)h Fu(\(\\cons"\).)29
b(See)19 b(the)g(standard)f(prelude)i(\(App)q(endix)g(A.5\))e(for)g(the)g
(de\014nitions)j(of)d(the)g(standard)150 1462 y(list)g(functions.)29
b Fp(A)o(rithmetic)18 b(se)n(quenc)n(es)e Fu(and)i Fp(list)g(c)n(ompr)n
(ehensions)p Fu(,)e(t)o(w)o(o)g(con)o(v)o(enien)o(t)j(syn)o(taxes)e(for)150
1518 y(sp)q(ecial)g(kinds)f(of)f(lists,)h(are)e(describ)q(ed)k(in)e(Sections)
g(3.9)e(and)h(3.10,)f(resp)q(ectiv)o(ely)l(.)150 1665 y Fx(6.5)56
b(T)-5 b(uples)150 1775 y Fu(T)l(uples)21 b(are)e(also)g(algebraic)h(datat)o
(yp)q(es)f(with)h(sp)q(ecial)h(syn)o(tax,)e(as)g(de\014ned)i(in)f(Section)h
(3.7.)31 b(Eac)o(h)150 1832 y(tuple)14 b(t)o(yp)q(e)f(has)g(a)f(single)i
(constructor.)19 b(Six)13 b(functions,)h(named)f Fq(zip)p Fu(,)g
Fq(zip3)o Fu(,)g Fr(:)8 b(:)g(:)n Fu(,)13 b Fq(zip7)p Fu(,)g(are)f(pro)o
(vided)150 1888 y(b)o(y)17 b(the)f(standard)g(prelude)j(\(App)q(endix)f
(A.5\).)23 b(These)17 b(pro)q(duce)h(lists)f(of)g Fr(n)p Fu(-tuples)g(from)f
Fr(n)h Fu(lists,)h(for)150 1945 y(2)13 b Fl(\024)h Fr(n)g Fl(\024)g
Fu(7.)21 b(The)16 b(resulting)g(lists)h(are)e(as)h(long)g(as)f(the)h
(shortest)f(argumen)o(t)f(list;)j(excess)f(elemen)o(ts)g(of)150
2001 y(other)f(argumen)o(t)f(lists)i(are)f(ignored.)150 2148
y Fx(6.6)56 b(Unit)18 b(Datat)n(yp)r(e)150 2259 y Fu(The)c(unit)g(datat)o(yp)
q(e)f Fq(\(\))g Fu(has)g(one)g(mem)o(b)q(er,)h(the)f(n)o(ullary)i
(constructor)d Fq(\(\))h Fu(\(and)g(th)o(us)h(an)f(o)o(v)o(erloading)150
2315 y(of)i(syn)o(tax\)|see)g(also)g(Section)h(3.8.)150 2462
y Fx(6.7)56 b(Binary)18 b(Datat)n(yp)r(e)150 2572 y Fu(The)11
b Fq(Bin)f Fu(datat)o(yp)q(e)f(is)i(a)f(primitiv)o(e)i(abstract)e(datat)o(yp)
q(e)f(includin)q(g)k(the)d(v)m(alue)i Fq(nullBin)d Fu(\(the)h(empt)o(y)g(or)
150 2629 y(n)o(ullary)k(binary)f(v)m(alue\),)h(the)e(function)i
Fq(appendBin)o Fu(,)e(and)h(the)g(predicate)h Fq(isNullBin)d
Fu(\(whic)o(h)i(returns)150 2685 y Fq(True)18 b Fu(when)g(applied)i(to)e
Fq(nullBin)f Fu(and)h Fq(False)g Fu(when)g(applied)i(to)e(all)h(other)f(v)m
(alues)h(of)f(t)o(yp)q(e)g Fq(Bin)p Fu(\).)p eop
%%Page: 58 72
bop 0 50 a Fu(58)1376 b Ft(6)45 b(BASIC)16 b(TYPES)p 2 205
1782 2 v 2 1166 2 961 v 710 799 a Fc(#)669 832 y(#)658 841
y(#)860 649 y(#)819 682 y(#)808 691 y(#)992 499 y(#)950 532
y(#)939 541 y(#)1010 799 y(#)969 832 y(#)958 841 y(#)1104 949
y(#)1062 982 y(#)1052 991 y(#)733 657 y(S)758 691 y(S)733 357
y(S)764 399 y(S)795 440 y(S)826 482 y(S)858 523 y(S)871 541
y(S)939 957 y(S)964 991 y(S)958 657 y(S)983 691 y(S)1071 807
y(S)1096 841 y(S)827 807 y(S)852 841 y(S)463 732 y(S)494 774
y(S)525 815 y(S)544 841 y(S)548 507 y(\023)517 549 y(\023)486
590 y(\023)467 616 y(\023)646 357 y(\023)621 391 y(\023)621
507 y(S)646 541 y(S)939 1047 y Fq(RealFloat)508 897 y(Integral)389
b(Floating)-473 b(RealFrac)939 747 y(Fractional)433 672 y(Ix)733
747 y(Real)883 597 y(Num)-278 b(Enum)546 447 y(Ord)677 297
y(Eq)1014 447 y(Text)185 b(Binary)p 1781 1166 V 2 1168 1782
2 v 282 1297 a Fu(Figure)16 b(7:)j(Hierarc)o(h)o(y)d(of)e(standard)h(classes)
h(\(cf.)e(Figure)i(5,)e(page)h(31\))0 1456 y(Also,)d(deriv)o(ed)h(instances)g
(of)e(the)h Fq(Binary)f Fu(class)i(generate)e(de\014nitions)j(for)d
Fq(showBin)g Fu(and)h Fq(readBin)o Fu(,)g(as)0 1513 y(describ)q(ed)j(in)g
(Section)f(4.3.3)e(and)h(App)q(endix)j(E.)j(The)14 b Fq(Bin)f
Fu(datat)o(yp)q(e)g(is)h(used)g(primarily)g(for)f(e\016cien)o(t)0
1569 y(and)i(transparen)o(t)g(I/O,)g(as)g(describ)q(ed)i(in)f(Section)g(7.)0
1716 y Fx(6.8)56 b(Num)n(b)r(ers)0 1827 y Fs(6.8.1)c(In)o(tro)q(duction)0
1937 y Fu(Hask)o(ell)14 b(pro)o(vides)f(sev)o(eral)g(kinds)h(of)e(n)o(um)o(b)
q(ers;)h(the)g(n)o(umeric)h(t)o(yp)q(es)f(and)g(the)g(op)q(erations)g(up)q
(on)g(them)0 1994 y(ha)o(v)o(e)20 b(b)q(een)i(hea)o(vily)f(in\015uenced)i(b)o
(y)e(Common)e(Lisp)j([18)o(])e(and)h(Sc)o(heme)g([16)o(].)36
b(Numeric)21 b(function)0 2050 y(names)e(and)g(op)q(erators)f(are)g(usually)i
(o)o(v)o(erloaded,)g(using)f(sev)o(eral)g(t)o(yp)q(e)g(classes)h(with)f(an)g
(inclusion)0 2107 y(relation)d(sho)o(wn)f(in)i(Figure)e(7)g(\(cf.)g(Figure)h
(5,)f(page)g(31\).)20 b(\(Some)15 b(classes)h(are)f(immediate)i(sub)q
(classes)0 2163 y(of)d(t)o(w)o(o)f(other)h(classes;)g(there)h(are)e(pairs)i
(of)f(classes)h(with)f(a)g(non)o(trivial)h(in)o(tersection.\))20
b(The)15 b(class)f Fq(Num)0 2220 y Fu(of)j(n)o(umeric)i(t)o(yp)q(es)e(is)h(a)
f(sub)q(class)i(of)e Fq(Eq)p Fu(,)g(since)i(all)f(n)o(um)o(b)q(ers)g(ma)o(y)f
(b)q(e)h(compared)g(for)f(equalit)o(y;)i(its)0 2276 y(sub)q(class)12
b Fq(Real)e Fu(is)h(also)g(a)f(sub)q(class)i(of)e Fq(Ord)p
Fu(,)h(since)h(the)f(other)f(comparison)h(op)q(erations)g(apply)g(to)f(all)i
(but)0 2333 y(complex)g(n)o(um)o(b)q(ers.)19 b(The)12 b(class)g
Fq(Integral)f Fu(con)o(tains)g(b)q(oth)h(\014xed-)h(and)e
(arbitrary-precision)i(in)o(tegers;)0 2389 y(the)19 b(class)g
Fq(Fractional)e Fu(con)o(tains)i(all)g(nonin)o(tegral)g(t)o(yp)q(es;)h(and)f
(the)g(class)g Fq(Floating)e Fu(con)o(tains)i(all)0 2446 y(\015oating-p)q
(oin)o(t)d(t)o(yp)q(es,)f(b)q(oth)g(real)g(and)h(complex.)71
2527 y(T)l(able)i(3)e(lists)i(the)g(standard)e(n)o(umeric)i(t)o(yp)q(es.)26
b(The)18 b(t)o(yp)q(e)f Fq(Int)g Fu(is)g(a)g(\014xed-precision)j(t)o(yp)q(e,)
d(co)o(v-)0 2583 y(ering)23 b(at)g(least)g(the)g(range)f([)p
Fl(\000)p Fu(2)587 2567 y Fo(29)638 2583 y Fu(+)15 b(1)p Fr(;)8
b Fu(2)755 2567 y Fo(29)804 2583 y Fl(\000)16 b Fu(1])22 b(and)h(closed)h
(under)g(negation.)43 b(The)23 b(constan)o(ts)0 2640 y Fq(minInt)g(=)h
(-maxInt)19 b Fu(and)g Fq(maxInt)g Fu(\(Figure)h(9,)g(page)g(61\))f(de\014ne)
h(the)g(limits)h(of)f Fq(Int)f Fu(in)i(eac)o(h)e(im-)0 2696
y(plemen)o(tation.)31 b Fq(Float)17 b Fu(is)i(a)f(\015oating-p)q(oin)o(t)i(t)
o(yp)q(e,)f(also)f(implemen)o(tation-de\014ned;)23 b(it)18
b(is)h(desirable)p eop
%%Page: 59 73
bop 150 50 a Ft(6.8)45 b(Num)o(b)q(ers)1473 b Fu(59)p 197 205
1706 2 v 196 262 2 57 v 481 245 a(T)o(yp)q(e)p 867 262 V 365
w(Class)p 1131 262 V 352 w(Description)p 1902 262 V 197 263
1706 2 v 196 320 2 57 v 222 303 a Fq(Integer)p 867 320 V 502
w(Integral)p 1131 320 V 73 w Fu(Arbitrary-precision)17 b(in)o(tegers)p
1902 320 V 196 376 V 222 359 a Fq(Int)p 867 376 V 598 w(Integral)p
1131 376 V 73 w Fu(Fixed-precision)h(in)o(tegers)p 1902 376
V 196 433 V 222 416 a Fq(\(Integral)23 b(a\))g(=>)h(Ratio)f(a)p
867 433 V 121 w(RealFrac)p 1131 433 V 73 w Fu(Rational)16 b(n)o(um)o(b)q(ers)
p 1902 433 V 196 489 V 222 472 a Fq(Float)p 867 489 V 550 w(RealFloat)p
1131 489 V 49 w Fu(Real)g(\015oating-p)q(oin)o(t,)g(single)g(precision)p
1902 489 V 196 545 V 222 529 a Fq(Double)p 867 545 V 526 w(RealFloat)p
1131 545 V 49 w Fu(Real)g(\015oating-p)q(oin)o(t,)g(double)g(precision)p
1902 545 V 196 602 V 222 585 a Fq(\(RealFloat)23 b(a\))g(=>)h(Complex)f(a)p
867 602 V 49 w(Floating)p 1131 602 V 73 w Fu(Complex)16 b(\015oating-p)q(oin)
o(t)p 1902 602 V 197 604 1706 2 v 722 732 a(T)l(able)g(3:)k(Standard)15
b(n)o(umeric)h(t)o(yp)q(es)150 889 y(that)h(this)h(t)o(yp)q(e)g(b)q(e)g(at)f
(least)h(equal)h(in)f(range)g(and)f(precision)j(to)d(the)h(IEEE)f
(single-precisi)q(on)j(t)o(yp)q(e.)150 945 y(Similarly)l(,)j
Fq(Double)d Fu(should)h(co)o(v)o(er)e(IEEE)h(double-precisi)q(on.)37
b(An)21 b(implemen)o(tation)g(ma)o(y)e(pro)o(vide)150 1002
y(other)13 b(n)o(umeric)h(t)o(yp)q(es,)g(suc)o(h)g(as)f(additional)i
(precisions)g(of)e(in)o(teger)g(and)h(\015oating-p)q(oin)o(t.)20
b(The)14 b(results)150 1058 y(of)20 b(exceptional)i(conditions)g(\(suc)o(h)e
(as)g(o)o(v)o(er\015o)o(w)g(or)g(under\015o)o(w\))g(on)h(the)f
(\014xed-precision)j(n)o(umeric)150 1115 y(t)o(yp)q(es)c(are)f(unde\014ned;)k
(an)c(implemen)o(tation)i(ma)o(y)e(c)o(ho)q(ose)h(error)f(\()p
Fl(?)p Fu(,)h(seman)o(tically\),)h(a)e(truncated)150 1171 y(v)m(alue,)e(or)f
(a)g(sp)q(ecial)i(v)m(alue)f(suc)o(h)g(as)e(in\014nit)o(y)l(,)j
(inde\014nite,)g(etc.)221 1253 y(The)12 b(in)o(terface)g(text)g(\(Section)h
(5.3\))e(asso)q(ciated)h(with)g(the)h(standard)e(n)o(umeric)i(classes,)g(t)o
(yp)q(es,)g(and)150 1309 y(op)q(erations)i(is)h(sho)o(wn)f(in)h(Figures)f
(8{10.)150 1454 y Fs(6.8.2)52 b(Numeric)17 b(Literals)150 1565
y Fu(The)f(syn)o(tax)f(of)g(n)o(umeric)i(literals)f(is)h(giv)o(en)f(in)g
(Section)h(2.4.)j(An)c(in)o(teger)g(literal)h(represen)o(ts)e(the)h(ap-)150
1621 y(plication)g(of)e(the)g(function)h Fq(fromInteger)e Fu(to)h(the)g
(appropriate)h(v)m(alue)g(of)f(t)o(yp)q(e)g Fq(Integer)o Fu(.)20
b(Similarly)l(,)150 1678 y(a)e(\015oating)h(literal)h(stands)e(for)g(an)h
(application)h(of)e Fq(fromRational)f Fu(to)h(a)g(v)m(alue)i(of)e(t)o(yp)q(e)
h Fq(Rational)150 1734 y Fu(\(that)14 b(is,)h Fq(Ratio)24 b(Integer)o
Fu(\).)19 b(Giv)o(en)d(the)f(t)o(ypings:)221 1814 y Fq(fromInteger)46
b(::)23 b(\(Num)h(a\))f(=>)h(Integer)f(->)g(a)221 1870 y(fromRational)f(::)h
(\(Fractional)g(a\))g(=>)h(Rational)f(->)g(a)150 1948 y Fu(in)o(teger)e(and)g
(\015oating)f(literals)i(ha)o(v)o(e)f(the)f(t)o(ypings)h Fq(\(Num)i(a\))h(=>)
g(a)c Fu(and)h Fq(\(Fractional)h(a\))i(=>)g(a)o Fu(,)150 2004
y(resp)q(ectiv)o(ely)l(.)c(Numeric)12 b(literals)f(are)f(de\014ned)i(in)g
(this)f(indirect)h(w)o(a)o(y)d(so)h(that)g(they)g(ma)o(y)g(b)q(e)h(in)o
(terpreted)150 2061 y(as)h(v)m(alues)h(of)f(an)o(y)g(appropriate)g(n)o
(umeric)h(t)o(yp)q(e.)19 b(F)l(or)12 b(example,)h Fq(fromInteger)e
Fu(for)h(complex)h(n)o(um)o(b)q(ers)150 2117 y(is)j(de\014ned)g(as)f(follo)o
(ws:)221 2199 y Fq(fromInteger)22 b(n)i(=)f(fromInteger)g(n)g(:+)h(0)150
2280 y Fu(See)16 b(Section)g(4.3.4)d(for)i(a)g(discussion)i(of)e(o)o(v)o
(erloading)g(am)o(biguit)o(y)l(.)150 2425 y Fs(6.8.3)52 b(Constructed)17
b(Num)o(b)q(ers)150 2536 y Fu(There)j(are)g(t)o(w)o(o)f(kinds)i(of)f(n)o
(umeric)h(t)o(yp)q(es)g(formed)f(b)o(y)g(data)f(constructors:)29
b(namely)l(,)22 b Fq(Ratio)e Fu(and)150 2592 y Fq(Complex)o
Fu(.)e(F)l(or)10 b(eac)o(h)g Fq(Integral)f Fu(t)o(yp)q(e)h
Fr(t)p Fu(,)i(there)e(is)h(a)e(t)o(yp)q(e)i Fq(Ratio)e Fr(t)i
Fu(of)f(rational)g(pairs)g(with)h(comp)q(onen)o(ts)150 2649
y(of)j(t)o(yp)q(e)h Fr(t)p Fu(.)20 b(\(The)14 b(t)o(yp)q(e)h(name)g
Fq(Rational)e Fu(is)i(a)f(synon)o(ym)h(for)f Fq(Ratio)23 b(Integer)o
Fu(.\))c(Similarly)l(,)e(for)d(eac)o(h)p eop
%%Page: 60 74
bop 0 50 a Fu(60)1376 b Ft(6)45 b(BASIC)16 b(TYPES)p 9 205
1767 2 v 9 1679 2 1474 v 39 269 a Fq(class)47 b(\(Eq)23 b(a,)h(Text)f(a\))h
(=>)f(Num)h(a)47 b(where)134 325 y(\(+\),)23 b(\(-\),)h(\(*\))166
b(::)24 b(a)g(->)f(a)h(->)g(a)134 382 y(negate)333 b(::)24
b(a)g(->)f(a)134 438 y(abs,)g(signum)214 b(::)24 b(a)g(->)f(a)134
494 y(fromInteger)213 b(::)24 b(Integer)f(->)g(a)39 574 y(class)47
b(\(Num)23 b(a,)h(Enum)f(a\))h(=>)f(Real)g(a)48 b(where)134
631 y(toRational)237 b(::)48 b(a)24 b(->)f(Rational)39 710
y(class)47 b(\(Real)23 b(a,)g(Ix)h(a\))g(=>)f(Integral)g(a)48
b(where)134 767 y(quot,)23 b(rem,)h(div,)f(mod)g(::)h(a)g(->)f(a)h(->)g(a)134
823 y(quotRem,)f(divMod)118 b(::)24 b(a)g(->)f(a)h(->)g(\(a,a\))134
880 y(even,)f(odd)262 b(::)24 b(a)g(->)f(Bool)134 936 y(toInteger)261
b(::)24 b(a)g(->)f(Integer)39 1016 y(class)47 b(\(Num)23 b(a\))h(=>)f
(Fractional)g(a)47 b(where)134 1072 y(\(/\))405 b(::)24 b(a)g(->)f(a)h(->)g
(a)134 1129 y(recip)357 b(::)24 b(a)g(->)f(a)134 1185 y(fromRational)189
b(::)24 b(Rational)f(->)g(a)39 1265 y(class)47 b(\(Fractional)22
b(a\))i(=>)f(Floating)g(a)48 b(where)134 1321 y(pi)429 b(::)24
b(a)134 1378 y(exp,)f(log,)h(sqrt)142 b(::)24 b(a)g(->)f(a)134
1434 y(\(**\),)g(logBase)166 b(::)24 b(a)g(->)f(a)h(->)g(a)134
1491 y(sin,)f(cos,)h(tan)166 b(::)24 b(a)g(->)f(a)134 1547
y(asin,)g(acos,)g(atan)95 b(::)24 b(a)g(->)f(a)134 1604 y(sinh,)g(cosh,)g
(tanh)95 b(::)24 b(a)g(->)f(a)134 1660 y(asinh,)g(acosh,)g(atanh)g(::)h(a)g
(->)f(a)p 1774 1679 V 9 1681 1767 2 v 413 1808 a Fu(Figure)16
b(8:)j(Numeric)e(classes)e(and)h(related)f(op)q(erations)0
1963 y(real)g(\015oating-p)q(oin)o(t)g(t)o(yp)q(e)g Fr(t)p
Fu(,)f Fq(Complex)g Fr(t)h Fu(is)g(a)f(t)o(yp)q(e)h(of)f(complex)h(n)o(um)o
(b)q(ers)g(with)g(real)g(and)g(imaginary)0 2019 y(comp)q(onen)o(ts)g(of)g(t)o
(yp)q(e)g Fr(t)p Fu(.)71 2100 y(The)c(op)q(erator)g Fq(\(\045\))h
Fu(forms)e(the)i(ratio)f(of)h(t)o(w)o(o)e(in)o(tegral)i(n)o(um)o(b)q(ers.)19
b(The)12 b(functions)g Fq(numerator)f Fu(and)0 2156 y Fq(denominator)j
Fu(extract)i(the)g(comp)q(onen)o(ts)g(of)f(a)h(ratio;)f(these)h(are)g(in)h
(reduced)g(form)e(with)h(a)g(p)q(ositiv)o(e)0 2212 y(denominator.)71
2293 y(Complex)f(n)o(um)o(b)q(ers)h(are)f(an)g(algebraic)h(t)o(yp)q(e:)71
2373 y Fq(data)47 b(\(RealFloat)22 b(a\))i(=>)f(Floating)g(\(Complex)g(a\))47
b(=)h(a)24 b(:+)f(a)0 2454 y Fu(The)e(constructor)e Fq(\(:+\))h
Fu(forms)g(a)g(complex)h(n)o(um)o(b)q(er)g(from)e(its)i(real)g(and)f
(imaginary)h(rectangular)0 2510 y(comp)q(onen)o(ts.)f(A)15
b(complex)h(n)o(um)o(b)q(er)f(ma)o(y)g(also)g(b)q(e)g(formed)g(from)f(p)q
(olar)i(comp)q(onen)o(ts)f(of)f(magnitude)0 2566 y(and)g(phase)g(b)o(y)f(the)
h(function)h Fq(mkPolar)o Fu(.)k(The)14 b(function)h Fq(cis)e
Fu(pro)q(duces)h(a)g(complex)g(n)o(um)o(b)q(er)g(from)f(an)0
2623 y(angle)j Fp(t)t Fu(:)71 2703 y Fq(cis)23 b(t)h(=)f(cos)h(t)g(:+)f(sin)h
(t)p eop
%%Page: 61 75
bop 150 50 a Ft(6.8)45 b(Num)o(b)q(ers)1473 b Fu(61)p 159 205
1767 2 v 159 2075 2 1870 v 189 269 a Fq(class)47 b(\(Real)23
b(a,)g(Fractional)g(a\))h(=>)f(RealFrac)g(a)47 b(where)284
325 y(properFraction)141 b(::)24 b(\(Integral)f(b\))g(=>)h(a)f(->)h(\(b,a\))
284 382 y(truncate,)f(round)118 b(::)24 b(\(Integral)f(b\))g(=>)h(a)f(->)h(b)
284 438 y(ceiling,)f(floor)142 b(::)24 b(\(Integral)f(b\))g(=>)h(a)f(->)h(b)
189 518 y(class)47 b(\(RealFrac)22 b(a,)i(Floating)f(a\))g(=>)h(RealFloat)e
(a)48 b(where)284 574 y(floatRadix)237 b(::)24 b(a)g(->)f(Integer)284
631 y(floatDigits)213 b(::)24 b(a)g(->)f(Int)284 687 y(floatRange)237
b(::)24 b(a)g(->)f(\(Int,Int\))284 744 y(decodeFloat)213 b(::)24
b(a)g(->)f(\(Integer,Int\))284 800 y(encodeFloat)213 b(::)24
b(Integer)f(->)g(Int)h(->)f(a)284 856 y(exponent)285 b(::)24
b(a)g(->)f(Int)284 913 y(significand)213 b(::)24 b(a)g(->)f(a)284
969 y(scaleFloat)237 b(::)24 b(Int)f(->)h(a)g(->)f(a)189 1049
y(instance)46 b(Integral)23 b(Int)189 1106 y(instance)46 b(Integral)23
b(Integer)189 1185 y(minInt,)g(maxInt)237 b(::)24 b(Int)189
1242 y(fromIntegral)284 b(::)24 b(\(Integral)f(a,)g(Num)h(b\))f(=>)h(a)g(->)f
(b)189 1298 y(gcd,)g(lcm)381 b(::)24 b(\(Integral)f(a\))g(=>)h(a)f(->)h(a->)g
(a)189 1355 y(\(^\))500 b(::)24 b(\(Num)f(a,)h(Integral)f(b\))g(=>)h(a)g(->)f
(b)h(->)f(a)189 1411 y(\(^^\))476 b(::)24 b(\(Fractional)e(a,)i(Integral)f
(b\))g(=>)h(a)g(->)f(b)h(->)f(a)189 1491 y(data)47 b(\(Integral)22
b(a\))143 b(=>)24 b(Ratio)f(a)189 1547 y(type)47 b(Rational)237
b(=)48 b(Ratio)23 b(Integer)189 1604 y(instance)46 b(\(Integral)23
b(a\))47 b(=>)24 b(RealFrac)f(\(Ratio)g(a\))189 1683 y(\(\045\))500
b(::)24 b(\(Integral)f(a\))g(=>)h(a)f(->)h(a)g(->)f(Ratio)h(a)189
1740 y(numerator,)e(denominator)46 b(::)24 b(\(Integral)f(a\))g(=>)h(Ratio)f
(a)h(->)f(a)189 1843 y(instance)46 b(RealFloat)23 b(Float)189
1899 y(instance)46 b(RealFloat)23 b(Double)189 1979 y(fromRealFrac)284
b(::)24 b(\(RealFrac)f(a,)g(Fractional)g(b\))g(=>)h(a)g(->)f(b)189
2059 y(atan2)452 b(::)24 b(\(RealFloat)e(a\))i(=>)g(a)f(->)h(a)g(->)f(a)p
1924 2075 V 159 2077 1767 2 v 442 2206 a Fu(Figure)16 b(9:)j(Numeric)d
(classes)g(and)g(related)f(op)q(erations)g(\(con)o(tin)o(ued\))150
2366 y(Put)g(another)g(w)o(a)o(y)l(,)f Fq(cis)h Fp(t)k Fu(is)d(a)f(complex)h
(v)m(alue)g(with)g(magnitude)f Fp(1)22 b Fu(and)15 b(phase)h
Fp(t)j Fu(\(mo)q(dulo)d Fp(2)6 b Fr(\031)r Fu(\).)221 2447
y(The)20 b(function)i Fq(polar)d Fu(tak)o(es)h(a)g(complex)h(n)o(um)o(b)q(er)
g(and)g(returns)f(a)g(\(magnitude,)i(phase\))f(pair)150 2504
y(in)d(canonical)h(form:)24 b(The)18 b(magnitude)g(is)g(nonnegativ)o(e,)g
(and)g(the)f(phase,)h(in)h(the)e(range)g(\()p Fl(\000)p Fr(\031)r(;)8
b(\031)r Fu(];)16 b(if)150 2560 y(the)j(magnitude)h(is)f(zero,)g(then)h(so)e
(is)i(the)f(phase.)31 b(Sev)o(eral)19 b(comp)q(onen)o(t-extraction)h
(functions)f(are)150 2616 y(pro)o(vided:)p eop
%%Page: 62 76
bop 0 50 a Fu(62)1376 b Ft(6)45 b(BASIC)16 b(TYPES)p 9 205
1767 2 v 9 710 2 505 v 39 269 a Fq(data)47 b(\(RealFloat)22
b(a\))96 b(=>)23 b(Complex)g(a)h(=)f(a)h(:+)g(a)47 b(deriving)23
b(\(Eq,)g(Binary,)g(Text\))39 325 y(instance)f(\(RealFloat)h(a\))h(=>)f
(Floating)g(\(Complex)g(a\))39 405 y(realPart,)f(imagPart)119
b(::)23 b(\(RealFloat)g(a\))g(=>)h(Complex)f(a)g(->)h(a)39
461 y(conjugate)333 b(::)23 b(\(RealFloat)g(a\))g(=>)h(Complex)f(a)g(->)h
(Complex)f(a)39 518 y(mkPolar)381 b(::)23 b(\(RealFloat)g(a\))g(=>)h(a)f(->)h
(a)g(->)f(Complex)g(a)39 574 y(cis)477 b(::)23 b(\(RealFloat)g(a\))g(=>)h(a)f
(->)h(Complex)f(a)39 631 y(polar)429 b(::)23 b(\(RealFloat)g(a\))g(=>)h
(Complex)f(a)g(->)h(\(a,a\))39 687 y(magnitude,)e(phase)167
b(::)23 b(\(RealFloat)g(a\))g(=>)h(Complex)f(a)g(->)h(a)p 1774
710 V 9 712 1767 2 v 281 841 a Fu(Figure)15 b(10:)20 b(Numeric)c(classes)f
(and)h(related)g(op)q(erations)f(\(con)o(tin)o(ued\))71 994
y Fq(realPart)22 b(\(x:+y\))h(=)48 b(x)71 1051 y(imagPart)22
b(\(x:+y\))h(=)48 b(y)71 1107 y(magnitude)22 b(z)119 b(=)48
b(r)g(where)23 b(\(r,t\))g(=)h(polar)f(z)71 1164 y(phase)g(z)214
b(=)48 b(t)g(where)23 b(\(r,t\))g(=)h(polar)f(z)0 1241 y Fu(Also)16
b(de\014ned)g(on)f(complex)h(n)o(um)o(b)q(ers)g(is)f(the)h(conjugate)f
(function:)71 1323 y Fq(conjugate)22 b(\(x:+y\))h(=)48 b(x:+\(-y\))0
1468 y Fs(6.8.4)k(Arithmetic)18 b(and)g(Num)o(b)q(er-Theoretic)g(Op)q
(erations)0 1578 y Fu(The)k(in\014x)h(op)q(erations)f Fq(\(+\))o
Fu(,)h Fq(\(*\))p Fu(,)g Fq(\(-\))e Fu(and)h(the)g(unary)g(function)g
Fq(negate)f Fu(\(whic)o(h)i(can)f(also)f(b)q(e)0 1635 y(written)15
b(as)g(a)f(pre\014x)i(min)o(us)f(sign;)g(see)g(section)h(3.3\))e(apply)h(to)g
(all)h(n)o(um)o(b)q(ers.)k(The)15 b(op)q(erations)g Fq(quot)o
Fu(,)0 1691 y Fq(rem)p Fu(,)g Fq(div)p Fu(,)h(and)g Fq(mod)g
Fu(apply)h(only)f(to)g(in)o(tegral)g(n)o(um)o(b)q(ers,)g(while)i(the)e(op)q
(erations)g Fq(\(/\))g Fu(apply)h(only)g(to)0 1748 y(fractional)e(ones.)20
b(The)c Fq(quot)o Fu(,)f Fq(rem)p Fu(,)f Fq(div)p Fu(,)h(and)g
Fq(mod)g Fu(op)q(erations)g(satisfy)g(these)h(la)o(ws:)133
1850 y Fq(\(x)24 b Fp(\022)p Fq(quot)-10 b Fp(\022)24 b Fq(y\)*y)g(+)g(\(x)f
Fp(\022)p Fq(rem)-9 b Fp(\022)24 b Fq(y\))g(==)f(x\(x)h Fp(\022)p
Fq(div)-10 b Fp(\022)48 b Fq(y\)*y)24 b(+)f(\(x)h Fp(\022)p
Fq(mod)-9 b Fp(\022)24 b Fq(y\))f(==)h(x)0 1952 y(\\bkqB)o
Fu(quot)p Fq(\\bkqA)10 b Fu(is)h(in)o(teger)f(division)j(truncated)d(to)o(w)o
(ard)f(zero,)i(while)h(the)f(result)f(of)g Fq(\\bkqB)p Fu(div)p
Fq(\\bkqA)0 2008 y Fu(is)j(truncated)g(to)o(w)o(ard)e(negativ)o(e)h
(in\014nit)o(y)l(.)21 b(The)13 b Fq(quotRem)e Fu(op)q(eration)i(tak)o(es)f(a)
g(dividend)j(and)e(a)f(divisor)0 2065 y(as)j(argumen)o(ts)f(and)i(returns)f
(a)f(\(quotien)o(t,)h(remainder\))h(pair;)f Fq(divMod)f Fu(is)i(de\014ned)g
(similarly:)71 2145 y Fq(quotRem)22 b(x)i(y)48 b(=)f(\(x)24
b Fp(\022)p Fq(quot)-9 b Fp(\022)24 b Fq(y,)f(x)h Fp(\022)p
Fq(rem)-9 b Fp(\022)24 b Fq(y\))71 2201 y(divMod)46 b(x)24
b(y)48 b(=)f(\(x)24 b Fp(\022)p Fq(div)-9 b Fp(\022)24 b Fq(y,)f(x)h
Fp(\022)p Fq(mod)-9 b Fp(\022)24 b Fq(y\))0 2279 y Fu(Also)16
b(a)o(v)m(ailable)g(on)g(in)o(tegers)f(are)g(the)g(ev)o(en)h(and)f(o)q(dd)h
(predicates:)71 2356 y Fq(even)23 b(x)143 b(=)48 b(x)23 b Fp(\022)p
Fq(rem)-9 b Fp(\022)24 b Fq(2)g(==)f(0)71 2413 y(odd)214 b(=)48
b(not)23 b(.)h(even)16 2490 y Fu(Finally)l(,)17 b(there)f(are)g(the)f
(greatest)g(common)h(divisor)g(and)g(least)g(common)g(m)o(ultiple)h
(functions:)22 b Fq(gcd)0 2547 y Fr(x)13 b(y)i Fu(is)e(the)g(greatest)f(in)o
(teger)h(that)g(divides)h(b)q(oth)f Fr(x)g Fu(and)h Fr(y)r
Fu(.)19 b Fq(lcm)12 b Fr(x)h(y)i Fu(is)e(the)g(smallest)h(p)q(ositiv)o(e)g
(in)o(teger)0 2603 y(that)g(b)q(oth)i Fr(x)f Fu(and)g Fr(y)i
Fu(divide.)p eop
%%Page: 63 77
bop 150 50 a Ft(6.8)45 b(Num)o(b)q(ers)1473 b Fu(63)150 199
y Fs(6.8.5)52 b(Exp)q(onen)o(tiation)20 b(and)d(Logarithms)150
310 y Fu(The)c(one-argumen)o(t)f(exp)q(onen)o(tial)i(function)g
Fq(exp)e Fu(and)h(the)g(logarithm)f(function)i Fq(log)e Fu(act)g(on)h
(\015oating-)150 366 y(p)q(oin)o(t)19 b(n)o(um)o(b)q(ers)g(and)g(use)g(base)f
Fr(e)p Fu(.)30 b Fq(logBase)18 b Fr(a)h(x)f Fu(returns)h(the)f(logarithm)h
(of)f Fr(x)g Fu(in)i(base)f Fr(a)p Fu(.)30 b Fq(sqrt)150 423
y Fu(returns)13 b(the)h(principal)i(square)d(ro)q(ot)g(of)g(a)g(\015oating-p)
q(oin)o(t)i(n)o(um)o(b)q(er.)k(There)14 b(are)f(three)h(t)o(w)o(o-argumen)o
(t)150 479 y(exp)q(onen)o(tiation)21 b(op)q(erations:)28 b
Fq(\(^\))19 b Fu(raises)h(an)o(y)f(n)o(um)o(b)q(er)h(to)e(a)i(nonnegativ)o(e)
f(in)o(teger)h(p)q(o)o(w)o(er,)g Fq(\(^^\))150 536 y Fu(raises)f(a)f
(fractional)h(n)o(um)o(b)q(er)f(to)g(an)o(y)g(in)o(teger)h(p)q(o)o(w)o(er,)g
(and)f Fq(\(**\))g Fu(tak)o(es)g(t)o(w)o(o)f(\015oating-p)q(oin)o(t)i(argu-)
150 592 y(men)o(ts.)h(The)15 b(v)m(alue)h(of)f Fr(x)p Fq(^0)g
Fu(or)g Fr(x)p Fq(^^0)f Fu(is)i Fq(1)f Fu(for)g(an)o(y)g Fr(x)p
Fu(,)f(including)k(zero;)d Fq(0**)p Fr(y)i Fu(is)e(unde\014ned.)150
737 y Fs(6.8.6)52 b(Magnitude)18 b(and)g(Sign)150 848 y Fu(A)13
b(n)o(um)o(b)q(er)h(has)f(a)g Fp(magnitude)g Fu(and)h(a)e Fp(sign)p
Fu(.)19 b(The)13 b(functions)h Fq(abs)f Fu(and)g Fq(signum)f
Fu(apply)i(to)f(an)o(y)g(n)o(um)o(b)q(er)150 904 y(and)i(satisfy)g(the)h(la)o
(w:)221 986 y Fq(abs)23 b(x)h(*)f(signum)h(x)f(==)h(x)150 1067
y Fu(F)l(or)15 b(real)g(n)o(um)o(b)q(ers,)g(these)h(functions)g(are)e
(de\014ned)j(b)o(y:)221 1145 y Fq(abs)23 b(x)95 b(|)24 b(x)g(>=)f(0)48
b(=)24 b(x)435 1201 y(|)g(x)g(<)47 b(0)h(=)24 b(-x)221 1281
y(signum)f(x)g(|)h(x)g(>)47 b(0)h(=)24 b(1)435 1337 y(|)g(x)g(==)f(0)48
b(=)24 b(0)435 1394 y(|)g(x)g(<)47 b(0)h(=)24 b(-1)150 1471
y Fu(F)l(or)15 b(complex)h(n)o(um)o(b)q(ers,)f(the)g(de\014nitions)i(are)e
(di\013eren)o(t:)221 1549 y Fq(abs)23 b(z)310 b(=)48 b(magnitude)22
b(z)i(:+)g(0)221 1605 y(signum)f(0)238 b(=)48 b(0)221 1661
y(signum)23 b(z@\(x:+y\))70 b(=)48 b(x/r)23 b(:+)h(y/r)47 b(where)23
b(r)h(=)g(magnitude)e(z)150 1739 y Fu(That)f(is,)i Fq(abs)f
Fr(z)h Fu(is)g(a)e(n)o(um)o(b)q(er)h(with)g(the)g(magnitude)g(of)f
Fr(z)r Fu(,)i(but)f(orien)o(ted)g(in)g(the)g(p)q(ositiv)o(e)h(real)150
1795 y(direction,)c(whereas)f Fq(signum)f Fr(z)j Fu(has)d(the)h(phase)g(of)f
Fr(z)r Fu(,)h(but)g(unit)h(magnitude.)28 b(\()p Fq(abs)17 b
Fu(for)g(a)g(complex)150 1852 y(n)o(um)o(b)q(er)f(di\013ers)f(from)f
Fq(magnitude)g Fu(only)i(in)g(t)o(yp)q(e.)k(See)c(Section)g(6.8.3.\))150
1997 y Fs(6.8.7)52 b(T)l(rigonometric)18 b(F)l(unctions)150
2108 y Fu(The)e(circular)h(and)f(h)o(yp)q(erb)q(olic)i(sine,)f(cosine,)f(and)
g(tangen)o(t)f(functions)i(and)f(their)g(in)o(v)o(erses)h(are)e(pro-)150
2164 y(vided)21 b(for)e(\015oating-p)q(oin)o(t)i(n)o(um)o(b)q(ers.)34
b(A)20 b(v)o(ersion)g(of)f(arctangen)o(t)g(taking)h(t)o(w)o(o)e(real)i
(\015oating-p)q(oin)o(t)150 2221 y(argumen)o(ts)c(is)h(also)g(pro)o(vided:)23
b(F)l(or)16 b(real)h(\015oating)g Fr(x)f Fu(and)h Fr(y)r Fu(,)f
Fq(atan2)g Fr(y)j(x)d Fu(di\013ers)h(from)f Fq(atan)24 b(\()o
Fr(y)r Fq(/)p Fr(x)p Fq(\))150 2277 y Fu(in)c(that)e(its)h(range)g(is)g(\()p
Fl(\000)p Fr(\031)r(;)8 b(\031)r Fu(])17 b(rather)i(than)f(\()p
Fl(\000)p Fr(\031)r(=)p Fu(2)p Fr(;)8 b(\031)r(=)p Fu(2\))16
b(\(b)q(ecause)k(the)f(signs)g(of)g(the)g(argumen)o(ts)150
2333 y(pro)o(vide)d(quadran)o(t)e(information\),)h(and)g(that)g(it)g(is)h
(de\014ned)h(when)e Fr(x)g Fu(is)h(zero.)221 2415 y(The)g(precise)h
(de\014nition)h(of)e(the)g(ab)q(o)o(v)o(e)g(functions)h(is)f(as)g(in)h
(Common)e(Lisp)i([18],)e(whic)o(h)i(in)g(turn)150 2471 y(follo)o(ws)d(P)o
(en\014eld's)g(prop)q(osal)g(for)f(APL)h([13)o(].)19 b(See)14
b(these)f(references)i(for)d(discussions)k(of)d(branc)o(h)g(cuts,)150
2528 y(discon)o(tin)o(uities,)k(and)e(implemen)o(tation.)p
eop
%%Page: 64 78
bop 0 50 a Fu(64)1376 b Ft(6)45 b(BASIC)16 b(TYPES)0 199 y
Fs(6.8.8)52 b(Co)q(ercions)18 b(and)f(Comp)q(onen)o(t)h(Extraction)0
310 y Fu(The)e Fq(ceiling)o Fu(,)g Fq(floor)o Fu(,)g Fq(truncate)o
Fu(,)f(and)h Fq(round)f Fu(functions)i(eac)o(h)f(tak)o(e)f(a)h(real)g
(fractional)g(argumen)o(t)0 366 y(and)21 b(return)f(an)h(in)o(tegral)f
(result.)37 b Fq(ceiling)14 b Fr(x)20 b Fu(returns)h(the)f(least)h(in)o
(teger)g(not)f(less)h(than)f Fr(x)p Fu(,)i(and)0 423 y Fq(floor)14
b Fr(x)p Fu(,)j(the)g(greatest)f(in)o(teger)h(not)f(greater)g(than)h
Fr(x)p Fu(.)24 b Fq(truncate)14 b Fr(x)j Fu(yields)i(the)d(in)o(teger)h
(nearest)g Fr(x)0 479 y Fu(b)q(et)o(w)o(een)f(0)g(and)g Fr(x)p
Fu(,)g(inclusiv)o(e.)25 b Fq(round)14 b Fr(x)i Fu(returns)g(the)g(nearest)g
(in)o(teger)g(to)f Fr(x)p Fu(,)h(the)g(ev)o(en)g(in)o(teger)h(if)f
Fr(x)0 536 y Fu(is)g(equidistan)o(t)g(b)q(et)o(w)o(een)f(t)o(w)o(o)f(in)o
(tegers.)71 617 y(The)g(function)g Fq(properFraction)e Fu(tak)o(es)h(a)h
(real)g(fractional)g(n)o(um)o(b)q(er)h Fr(x)e Fu(and)h(returns)g(a)g(pair)g
(com-)0 674 y(prising)k Fr(x)e Fu(as)g(a)h(prop)q(er)g(fraction:)22
b(an)17 b(in)o(tegral)g(n)o(um)o(b)q(er)f(with)h(the)g(same)f(sign)h(as)g
Fr(x)f Fu(and)h(a)f(fraction)0 730 y(with)e(the)f(same)g(t)o(yp)q(e)g(and)h
(sign)f(as)g Fr(x)g Fu(and)h(with)f(absolute)h(v)m(alue)g(less)g(than)f(1.)19
b(The)14 b Fq(ceiling)o Fu(,)f Fq(floor)o Fu(,)0 787 y Fq(truncate)o
Fu(,)i(and)g Fq(round)g Fu(functions)g(can)h(b)q(e)g(de\014ned)g(in)g(terms)f
(of)g(this)g(one.)71 868 y(Tw)o(o)20 b(functions)h(con)o(v)o(ert)f(n)o(um)o
(b)q(ers)h(to)g(t)o(yp)q(e)g Fq(Rational)o Fu(:)31 b Fq(toRational)19
b Fu(returns)i(the)g(rational)0 924 y(equiv)m(alen)o(t)14 b(of)d(its)i(real)f
(argumen)o(t)f(with)i(full)g(precision;)h Fq(approxRational)c
Fu(tak)o(es)i(t)o(w)o(o)e(real)j(fractional)0 981 y(argumen)o(ts)g
Fr(x)g Fu(and)h Fr(\017)g Fu(and)g(returns)g(the)f(simplest)i(rational)f(n)o
(um)o(b)q(er)g(within)h Fr(\017)f Fu(of)f Fr(x)p Fu(,)h(where)f(a)h(rational)
0 1037 y Fr(p=q)20 b Fu(in)f(reduced)g(form)e(is)i Fp(simpler)e
Fu(than)h(another)g Fr(p)937 1021 y Fi(0)949 1037 y Fr(=q)994
1021 y Fi(0)1023 1037 y Fu(if)g Fl(j)p Fr(p)p Fl(j)f Fr(<)p
Fu(=)h Fl(j)p Fr(p)1257 1021 y Fi(0)1268 1037 y Fl(j)g Fu(and)g
Fr(q)i(<)p Fu(=)e Fr(q)1540 1021 y Fi(0)1551 1037 y Fu(.)29
b(Ev)o(ery)18 b(real)0 1094 y(in)o(terv)m(al)j(con)o(tains)f(a)g(unique)i
(simplest)f(rational;)i(in)e(particular,)g(note)f(that)g(0)p
Fr(=)p Fu(1)f(is)i(the)f(simplest)0 1150 y(rational)15 b(of)g(all[16,)g
(Section)h(6.5.5].)71 1232 y(The)j(op)q(erations)g(of)g(class)g
Fq(RealFloat)f Fu(allo)o(w)h(e\016cien)o(t,)i(mac)o(hine-indep)q(ende)q(n)o
(t)g(access)e(to)g(the)0 1288 y(comp)q(onen)o(ts)j(of)f(a)g(\015oating-p)q
(oin)o(t)i(n)o(um)o(b)q(er.)39 b(The)22 b(functions)h Fq(floatRadix)n
Fu(,)g Fq(floatDigits)o Fu(,)g(and)0 1344 y Fq(floatRange)16
b Fu(giv)o(e)h(the)h(parameters)e(of)h(a)g(\015oating-p)q(oin)o(t)g(t)o(yp)q
(e:)24 b(the)18 b(radix)f(of)g(the)g(represen)o(tation,)0 1401
y(the)f(n)o(um)o(b)q(er)g(of)f(digits)h(of)f(this)h(radix)g(in)h(the)e
(signi\014cand,)j(and)d(the)h(lo)o(w)o(est)f(and)h(highest)g(v)m(alues)h(the)
0 1457 y(exp)q(onen)o(t)g(ma)o(y)f(assume,)h(resp)q(ectiv)o(ely)l(.)26
b(The)17 b(function)h Fq(decodeFloat)d Fu(applied)j(to)e(a)h(real)g
(\015oating-)0 1514 y(p)q(oin)o(t)f(n)o(um)o(b)q(er)f(returns)g(the)g
(signi\014cand)i(expressed)f(as)e(an)h Fq(Integer)f Fu(and)h(an)g
(appropriately)h(scaled)0 1570 y(exp)q(onen)o(t)22 b(\(an)f
Fq(Int)p Fu(\).)38 b(If)22 b Fq(decodeFloat)g(x)f Fu(yields)i
Fq(\()p Fp(m)t Fq(,)p Fp(n)s Fq(\))p Fu(,)f(then)g Fq(x)g Fu(is)g(equal)g(in)
g(v)m(alue)h(to)e Fp(mb)1764 1554 y Fk(n)1787 1570 y Fu(,)0
1627 y(where)16 b Fp(b)j Fu(is)e(the)f(\015oating-p)q(oin)o(t)h(radix,)g(and)
f(furthermore,)g(either)h Fp(m)i Fu(and)e Fp(n)i Fu(are)d(b)q(oth)g(zero)g
(or)g(else)0 1683 y Fp(b)24 1667 y Fk(d)s Fi(\000)p Fk(1)106
1683 y Fl(\024)d Fp(m)j Fr(<)d Fp(b)279 1667 y Fk(d)301 1683
y Fu(,)g(where)h Fp(d)k Fu(is)13 b(the)h(v)m(alue)g(of)f Fq(floatDigits)22
b(x)p Fu(.)d Fq(encodeFloat)12 b Fu(p)q(erforms)g(the)i(in)o(v)o(erse)0
1740 y(of)20 b(this)h(transformation.)36 b(The)21 b(functions)g
Fq(significand)e Fu(and)i Fq(exponent)f Fu(together)g(pro)o(vide)h(the)0
1796 y(same)d(information)g(as)g Fq(decodeFloat)n Fu(,)h(but)f(rather)g(than)
g(an)g Fq(Integer)o Fu(,)g Fq(significand)23 b(x)18 b Fu(yields)h(a)0
1853 y(v)m(alue)d(of)f(the)g(same)g(t)o(yp)q(e)g(as)g Fq(x)o
Fu(,)g(scaled)h(to)e(lie)j(in)f(the)f(op)q(en)h(in)o(terv)m(al)g(\()p
Fl(\000)p Fp(1)6 b Fr(;)i Fp(1)e Fu(\))o(.)20 b Fq(exponent)j(0)15
b Fu(is)g(zero.)0 1909 y Fq(scaleFloat)f Fu(m)o(ultiplies)j(a)e(\015oating-p)
q(oin)o(t)h(n)o(um)o(b)q(er)g(b)o(y)f(an)g(in)o(teger)g(p)q(o)o(w)o(er)g(of)g
(the)g(radix.)71 1990 y(Also)g(a)o(v)m(ailable)i(are)e(the)g(follo)o(wing)h
(co)q(ercion)g(functions:)71 2068 y Fq(fromIntegral)22 b(::)h(\(Integral)g
(a,)h(Num)f(b\))h(=>)f(a)h(->)g(b)71 2124 y(fromRealFrac)e(::)h(\(RealFrac)g
(a,)h(Fractional)e(b\))i(=>)f(a)h(->)g(b)0 2268 y Fx(6.9)56
b(Arra)n(ys)0 2379 y Fu(Hask)o(ell)14 b(pro)o(vides)f(indexable)i
Fp(arr)n(ays)p Fu(,)e(whic)o(h)g(ma)o(y)g(b)q(e)g(though)o(t)f(of)g(as)h
(functions)g(whose)g(domains)g(are)0 2435 y(isomorphic)19 b(to)e(con)o
(tiguous)h(subsets)g(of)g(the)f(in)o(tegers.)29 b(F)l(unctions)18
b(restricted)g(in)h(this)f(w)o(a)o(y)f(can)h(b)q(e)0 2492 y(implemen)o(ted)d
(e\016cien)o(tly;)g(in)f(particular,)g(a)f(programmer)f(ma)o(y)h(reasonably)g
(exp)q(ect)h(rapid)g(access)g(to)0 2548 y(the)g(comp)q(onen)o(ts.)20
b(T)l(o)13 b(ensure)i(the)f(p)q(ossibilit)o(y)i(of)e(suc)o(h)g(an)g(implemen)
o(tation,)h(arra)o(ys)e(are)h(treated)f(as)0 2605 y(data,)h(not)h(as)g
(general)g(functions.)p eop
%%Page: 65 79
bop 150 50 a Ft(6.9)45 b(Arra)o(ys)1517 b Fu(65)150 199 y Fs(6.9.1)52
b(The)18 b(Class)f(Ix)150 310 y Fu(Arra)o(ys)11 b(ma)o(y)g(b)q(e)h
(subscripted)h(b)o(y)f(an)o(y)f(t)o(yp)q(e)h(in)g(the)g(class)g
Fq(Ix)p Fu(,)g(whic)o(h)g(is)g(de\014ned)h(as)f(follo)o(ws)f(\(de\014nition)
150 366 y(rep)q(eated)16 b(from)e(Section)i(4.3.2\))341 485
y Fq(class)23 b(\(Ord)g(a\))h(=>)g(Ix)f(a)h(where)532 542 y(range)71
b(::)23 b(\(a,a\))g(->)h([a])532 598 y(index)71 b(::)23 b(\(a,a\))g(->)h(a)g
(->)f(Int)532 655 y(inRange)g(::)g(\(a,a\))g(->)h(a)g(->)f(Bool)150
773 y Fu(The)18 b Fq(index)g Fu(op)q(eration)g(maps)g(the)g(lo)o(w)o(er)f
(and)i(upp)q(er)g(b)q(ounds)f(of)g(the)g(arra)o(y)l(,)f(and)i(a)e(subscript,)
j(to)150 830 y(an)h(in)o(teger.)36 b(T)o(ypically)l(,)23 b(this)e(in)o(teger)
g(is)g(used)h(to)e(index)i(a)e(linear)i(represen)o(tation)e(of)h(the)f(arra)o
(y)l(.)150 886 y(The)15 b Fq(range)f Fu(op)q(eration)h(en)o(umerates)g(all)g
(subscripts,)h(and)f(the)g Fq(inRange)e Fu(op)q(eration)i(tells)h(whether)f
(a)150 943 y(particular)h(subscript)g(lies)g(in)g(the)g(domain)f(of)g(the)g
(arra)o(y)l(.)221 1024 y(An)g(implemen)o(tation)i(is)e(en)o(titled)i(to)d
(assume)h(the)h(follo)o(wing)f(la)o(ws)g(ab)q(out)h(these)f(op)q(erations:)
341 1143 y Fq(range)23 b(\(l,u\))g(!!)h(index)f(\(l,u\))g(i)h(==)g(i)341
1256 y(inRange)f(\(l,u\))g(i)h(==)f(i)h(`elem`)f(range)g(\(l,u\))150
1374 y Fu(The)d(\014rst)f(la)o(w)g(allo)o(ws)g(the)h(implemen)o(tation)g(to)f
(allo)q(cate)h(a)f(suitably-sized)j(arra)o(y)c(represen)o(tation)150
1431 y(giv)o(en)24 b(only)g(the)g(arra)o(y)e(b)q(ounds.)46
b(The)24 b(second)g(la)o(w)g(is)g(an)g(ob)o(vious)g(consistency)g(condition)h
(on)150 1487 y Fq(inRange)o Fu(.)150 1632 y Fs(6.9.2)52 b(Arra)o(y)15
b(Construction)150 1743 y Fu(If)g Fq(a)f Fu(is)h(an)f(index)h(t)o(yp)q(e)g
(and)f Fq(b)h Fu(is)f(an)o(y)g(t)o(yp)q(e,)h(the)f(t)o(yp)q(e)g(of)g(arra)o
(ys)f(with)i(indices)h(in)f Fq(a)g Fu(and)f(elemen)o(ts)h(in)150
1799 y Fq(b)g Fu(is)h(written)f Fq(Array)23 b(a)h(b)p Fu(.)c(An)15
b(arra)o(y)f(ma)o(y)g(b)q(e)i(created)g(b)o(y)f(the)g(function)h
Fq(array)o Fu(:)221 1878 y Fq(array)23 b(::)g(\(Ix)h(a\))f(=>)h(\(a,a\))47
b(->)24 b([Assoc)f(a)g(b])h(->)g(Array)f(a)g(b)221 1934 y(data)47
b(Assoc)23 b(a)h(b)47 b(=)h(a)24 b(:=)f(b)164 2012 y Fu(The)15
b(\014rst)e(argumen)o(t)h(of)f Fq(array)h Fu(is)h(a)e(pair)i(of)f
Fp(b)n(ounds)p Fu(,)f(eac)o(h)h(of)g(the)g(index)i(t)o(yp)q(e)e(of)g(the)g
(arra)o(y)l(.)19 b(These)150 2069 y(b)q(ounds)e(are)f(the)g(lo)o(w)o(est)f
(and)i(highest)f(indices)i(in)f(the)f(arra)o(y)l(,)f(in)i(that)f(order.)22
b(F)l(or)15 b(example,)i(a)f(one-)150 2125 y(origin)e(v)o(ector)f(of)g
(length)h Fq(10)f Fu(has)g(b)q(ounds)i Fq(\(1,10\))o Fu(,)e(and)h(a)f
(one-origin)h Fq(10)f Fu(b)o(y)h Fq(10)f Fu(matrix)g(has)g(b)q(ounds)150
2181 y Fq(\(\(1,1\),\(10,10\)\))n Fu(.)221 2263 y(The)21 b(second)g(argumen)o
(t)f(of)h Fq(array)f Fu(is)i(a)e(list)i(of)e Fp(asso)n(ciations)g
Fu(of)h(the)g(form)f Fr(index)g Fq(:=)h Fr(v)r(al)q(ue)p Fu(.)150
2319 y(T)o(ypically)l(,)g(this)f(list)g(will)h(b)q(e)f(expressed)f(as)g(a)g
(comprehension.)33 b(An)19 b(asso)q(ciation)h Fq(i)j(:=)h(x)19
b Fu(de\014nes)150 2376 y(the)d(v)m(alue)h(of)e(the)h(arra)o(y)e(at)h(index)i
Fq(i)f Fu(to)f(b)q(e)h Fq(x)p Fu(.)21 b(The)16 b(arra)o(y)e(is)j(unde\014ned)
g(if)f(an)o(y)g(index)h(in)f(the)g(list)g(is)150 2432 y(out)h(of)h(b)q
(ounds.)29 b(If)18 b(an)o(y)f(t)o(w)o(o)g(asso)q(ciations)h(in)h(the)e(list)i
(ha)o(v)o(e)f(the)g(same)f(index,)i(the)f(v)m(alue)h(at)f(that)150
2489 y(index)e(is)g(unde\014ned.)22 b(Because)16 b(the)f(indices)i(m)o(ust)e
(b)q(e)g(c)o(hec)o(k)o(ed)h(for)f(these)g(errors,)f Fq(array)g
Fu(is)i(strict)f(in)150 2545 y(the)g(b)q(ounds)i(argumen)o(t)d(and)h(in)i
(the)e(indices)i(of)e(the)h(asso)q(ciation)f(list,)h(but)f(nonstrict)h(in)g
(the)f(v)m(alues.)150 2602 y(Th)o(us,)g(recurrences)h(suc)o(h)f(as)g(the)g
(follo)o(wing)h(are)f(p)q(ossible:)221 2683 y Fq(a)23 b(=)h(array)f
(\(1,100\))g(\(\(1)h(:=)f(1\))h(:)f([i)h(:=)g(i)f(*)h(a!\(i-1\))f(|)h(i)f(<-)
h([2..100]]\))p eop
%%Page: 66 80
bop 0 50 a Fu(66)1376 b Ft(6)45 b(BASIC)16 b(TYPES)p 9 205
1767 2 v 9 1058 2 853 v 39 265 a Fq(--)23 b(Scaling)g(an)h(array)f(of)h
(numbers)e(by)i(a)g(given)f(number:)39 321 y(scale)g(::)g(\(Num)h(a,)f(Ix)h
(b\))g(=>)f(a)h(->)f(Array)h(b)f(a)h(->)g(Array)f(b)h(a)39
378 y(scale)f(x)h(a)f(=)h(array)f(b)h([i)g(:=)f(a!i)h(*)f(x)h(|)g(i)f(<-)h
(range)f(b])325 434 y(where)g(b)h(=)g(bounds)f(a)39 514 y(--)g(Inverting)g
(an)g(array)h(that)f(holds)g(a)h(permutation)e(of)i(its)f(indices)39
570 y(invPerm)g(::)g(\(Ix)h(a\))f(=>)h(Array)f(a)h(a)f(->)h(Array)f(a)h(a)39
627 y(invPerm)f(a)g(=)h(array)f(b)h([a!i)f(:=)h(i)g(|)f(i)h(<-)g(range)f(b])
325 683 y(where)g(b)h(=)g(bounds)f(a)39 763 y(--)g(The)h(inner)f(product)g
(of)g(two)h(vectors)39 819 y(inner)f(::)g(\(Ix)h(a,)f(Num)h(b\))g(=>)f(Array)
g(a)h(b)g(->)f(Array)g(a)h(b)g(->)g(b)39 876 y(inner)f(v)h(w)f(=)h(if)g(b)f
(==)h(bounds)f(w)420 932 y(then)h(sum)f([v!i)h(*)f(w!i)h(|)f(i)h(<-)g(range)f
(b])420 989 y(else)h(error)f("inconformable)f(arrays)h(for)g(inner)h
(product")325 1045 y(where)f(b)h(=)g(bounds)f(v)p 1774 1058
V 9 1060 1767 2 v 634 1186 a Fu(Figure)15 b(11:)k(Arra)o(y)c(examples)0
1344 y(Not)f(ev)o(ery)g(index)i(within)f(the)g(b)q(ounds)g(of)f(the)g(arra)o
(y)f(need)j(app)q(ear)e(in)h(the)g(asso)q(ciation)f(list,)h(but)g(the)0
1400 y(v)m(alues)h(asso)q(ciated)f(with)h(indices)h(that)d(do)h(not)f(app)q
(ear)h(will)i(b)q(e)f(unde\014ned.)21 b(Figure)16 b(11)e(sho)o(ws)g(some)0
1456 y(examples)i(that)e(use)i(the)f Fq(array)g Fu(constructor.)71
1538 y Fq(\(!\))j Fu(denotes)h(arra)o(y)f(subscripting.)33
b(The)20 b Fq(bounds)e Fu(function)i(applied)h(to)d(an)h(arra)o(y)f(returns)h
(its)0 1594 y(b)q(ounds:)71 1663 y Fq(\(!\))95 b(::)23 b(\(Ix)h(a\))f(=>)h
(Array)f(a)h(b)f(->)h(a)g(->)f(b)71 1719 y(bounds)g(::)g(\(Ix)h(a\))f(=>)h
(Array)f(a)h(b)f(->)h(\(a,a\))0 1797 y Fu(The)18 b(functions)g
Fq(indices)o Fu(,)g Fq(elems)p Fu(,)f(and)h Fq(assocs)o Fu(,)g(when)h
(applied)g(to)e(an)h(arra)o(y)l(,)f(return)g(lists)i(of)e(the)0
1853 y(indices,)g(elemen)o(ts,)e(or)g(asso)q(ciations,)g(resp)q(ectiv)o(ely)l
(,)i(in)f(index)g(order:)71 1931 y Fq(indices::)22 b(\(Ix)i(a\))f(=>)h(Array)
f(a)h(b)f(->)h([a])71 1987 y(indices)e(=)i(range)f(.)h(bounds)71
2067 y(elems::)e(\(Ix)i(a\))g(=>)f(Array)g(a)h(b)g(->)f([b])71
2123 y(elems)g(a)g(=)h([a!i)g(|)f(i)h(<-)g(indices)e(a])71
2203 y(assocs::)g(\(Ix)i(a\))f(=>)h(Array)f(a)h(b)g(->)f([Assoc)g(a)h(b])71
2259 y(assocs)f(a)g(=)h([)g(i)g(:=)f(a!i)h(|)f(i)h(<-)g(indices)f(a])0
2337 y Fu(An)14 b(arra)o(y)d(ma)o(y)i(b)q(e)h(constructed)f(from)g(a)g(pair)g
(of)g(b)q(ounds)h(and)g(a)e(list)j(of)d(v)m(alues)j(in)f(index)g(order)f
(using)0 2393 y(the)i(function)h Fq(listArray)o Fu(:)71 2472
y Fq(listArray::)22 b(\(Ix)h(a\))h(=>)g(\(a,a\))f(->)g([b])h(->)f(Array)h(a)f
(b)71 2529 y(listArray)f(bnds)i(xs)f(=)h(array)f(bnds)g(\(zipWith)g(\(:=\))g
(\(range)g(bnds\))h(xs\))p eop
%%Page: 67 81
bop 150 50 a Ft(6.9)45 b(Arra)o(ys)1517 b Fu(67)150 199 y Fs(6.9.3)52
b(Accum)o(ulated)18 b(Arra)o(ys)150 308 y Fu(Another)12 b(arra)o(y)f
(creation)h(function,)h Fq(accumArray)o Fu(,)f(relaxes)h(the)f(restriction)h
(that)e(a)h(giv)o(en)g(index)i(ma)o(y)150 364 y(app)q(ear)g(at)f(most)g(once)
h(in)h(the)e(asso)q(ciation)i(list,)f(using)h(an)e Fp(ac)n(cumulating)i
(function)f Fu(whic)o(h)g(com)o(bines)150 421 y(the)h(v)m(alues)i(of)d(asso)q
(ciations)i(with)f(the)h(same)f(index)h([12)o(,)f(20)o(]:)221
499 y Fq(accumArray::\(Ix)21 b(a\))j(=>)g(\(b->c->b\))e(->)i(b)g(->)f
(\(a,a\))g(->)h([Assoc)f(a)h(c])f(->)h(Array)f(a)h(b)150 578
y Fu(The)c(\014rst)f(argumen)o(t)g(of)g Fq(accumArray)f Fu(is)j(the)e(accum)o
(ulating)i(function;)h(the)e(second)g(is)g(an)g(initial)150
635 y(v)m(alue;)g(the)f(remaining)g(t)o(w)o(o)e(argumen)o(ts)g(are)h(a)g(b)q
(ounds)h(pair)f(and)h(an)f(asso)q(ciation)g(list,)i(as)d(for)h(the)150
691 y Fq(array)f Fu(function.)30 b(F)l(or)17 b(example,)i(giv)o(en)g(a)f
(list)h(of)e(v)m(alues)j(of)d(some)h(index)h(t)o(yp)q(e,)g
Fq(hist)e Fu(pro)q(duces)i(a)150 748 y(histogram)c(of)f(the)i(n)o(um)o(b)q
(er)f(of)g(o)q(ccurrences)h(of)f(eac)o(h)g(index)i(within)f(a)f(sp)q
(eci\014ed)i(range:)221 823 y Fq(hist)23 b(::)g(\(Ix)h(a,)g(Num)f(b\))h(=>)f
(\(a,a\))g(->)h([a])f(->)h(Array)f(a)h(b)221 879 y(hist)f(bnds)g(is)h(=)g
(accumArray)e(\(+\))h(0)h(bnds)g([i)f(:=)h(1)f(|)h(i<-is,)f(inRange)g(bnds)g
(i])150 955 y Fu(If)14 b(the)f(accum)o(ulating)i(function)f(is)g(strict,)f
(then)h Fq(accumArray)e Fu(is)i(strict)g(in)g(the)g(v)m(alues,)g(as)f(w)o
(ell)i(as)e(the)150 1011 y(indices,)i(in)f(the)f(asso)q(ciation)g(list.)20
b(Th)o(us,)13 b(unlik)o(e)i(ordinary)e(arra)o(ys,)f(accum)o(ulated)i(arra)o
(ys)d(should)j(not)150 1067 y(in)i(general)g(b)q(e)g(recursiv)o(e.)150
1209 y Fs(6.9.4)52 b(Incremen)o(tal)17 b(Arra)o(y)f(Up)q(dates)150
1313 y Fq(\(//\))47 b(::)24 b(\(Ix)f(a\))h(=>)f(Array)h(a)f(b)h(->)g([Assoc)f
(a)g(b])h(->)g(Array)f(a)g(b)150 1370 y(accum)g(::)h(\(Ix)f(a\))h(=>)f(\(b)h
(->)g(c)f(->)h(b\))f(->)h(Array)f(a)h(b)g(->)f([Assoc)g(a)h(c])g(->)f(Array)g
(a)h(b)221 1445 y Fu(The)12 b(op)q(erator)f Fq(\(//\))g Fu(tak)o(es)g(an)h
(arra)o(y)f(and)h(a)g(list)h(of)e Fq(Assoc)g Fu(pairs)i(and)f(returns)f(an)h
(arra)o(y)f(iden)o(tical)150 1501 y(to)22 b(the)h(left)g(argumen)o(t)f
(except)h(that)f(it)h(has)g(b)q(een)h(up)q(dated)f(b)o(y)g(the)g(asso)q
(ciations)g(in)g(the)g(righ)o(t)150 1558 y(argumen)o(t.)f(\(As)15
b(with)i(the)f Fq(array)f Fu(function,)i(the)f(indices)i(in)f(the)f(asso)q
(ciation)g(list)h(m)o(ust)f(b)q(e)g(unique)150 1614 y(for)d(the)h(up)q(dated)
g(elemen)o(ts)g(to)f(b)q(e)h(de\014ned.\))21 b(F)l(or)13 b(example,)h(if)g
Fq(m)g Fu(is)g(a)f(1-origin,)h Fq(n)g Fu(b)o(y)f Fq(n)g Fu(matrix,)h(then)150
1671 y Fq(m//[\(i,i\))23 b(:=)g(0)h(|)g(i)f(<-)h([1..n]])14
b Fu(is)i(the)f(same)g(matrix,)g(except)g(with)h(the)f(diagonal)h(zero)q(ed.)
221 1750 y Fq(accum)e Fp(f)25 b Fu(tak)o(es)15 b(an)g(arra)o(y)f(and)i(an)f
(asso)q(ciation)h(list)g(and)g(accum)o(ulates)g(pairs)g(from)e(the)i(list)g
(in)o(to)150 1806 y(the)e(arra)o(y)f(with)h(the)g(accum)o(ulating)h(function)
g Fp(f)10 b Fu(.)19 b(Th)o(us)14 b Fq(accumArray)f Fu(can)h(b)q(e)h
(de\014ned)g(using)g Fq(accum)o Fu(:)221 1885 y Fq(accumArray)22
b(f)i(z)g(b)f(=)h(accum)f(f)h(\(array)f(b)h([i)f(:=)h(z)g(|)f(i)h(<-)g(range)
f(b]\))150 2027 y Fs(6.9.5)52 b(Deriv)o(ed)16 b(Arra)o(ys)150
2135 y Fu(The)22 b(t)o(w)o(o)e(functions)i Fq(amap)f Fu(and)g
Fq(ixmap)g Fu(deriv)o(e)h(new)g(arra)o(ys)e(from)h(existing)h(ones;)i(they)e
(ma)o(y)e(b)q(e)150 2191 y(though)o(t)d(of)g(as)g(pro)o(viding)i(function)f
(comp)q(osition)h(on)e(the)h(left)g(and)g(righ)o(t,)f(resp)q(ectiv)o(ely)l(,)
j(with)e(the)150 2248 y(mapping)e(that)e(the)i(original)g(arra)o(y)e(em)o(b)q
(o)q(dies:)221 2323 y Fq(amap)23 b(::)g(\(Ix)h(a\))g(=>)f(\(b)h(->)f(c\))h
(->)f(Array)h(a)f(b)h(->)g(Array)f(a)h(c)221 2379 y(amap)f(f)h(a)f(=)h(array)
f(b)h([i)g(:=)f(f)h(\(a!i\))f(|)h(i)g(<-)f(range)g(b])483 2436
y(where)g(b)h(=)g(bounds)f(a)221 2516 y(ixmap)g(::)g(\(Ix)h(a,)f(Ix)h(a'\))f
(=>)h(\(a',a'\))f(->)h(\(a'->a\))e(->)i(Array)f(a)h(b)g(->)f(Array)g(a')h(b)
221 2572 y(ixmap)f(bnds)g(f)h(a)g(=)f(array)g(bnds)h([i)f(:=)h(a)g(!)f(f)h(i)
g(|)g(i)f(<-)h(range)f(bnds])150 2647 y(amap)15 b Fu(is)h(the)f(arra)o(y)f
(analogue)i(of)f(the)g Fq(map)g Fu(function)h(on)g(lists,)g(while)g
Fq(ixmap)f Fu(allo)o(ws)h(for)e(transforma-)150 2704 y(tions)h(on)g(arra)o(y)
f(indices.)22 b(Figure)16 b(12)e(sho)o(ws)h(some)g(examples.)p
eop
%%Page: 68 82
bop 0 50 a Fu(68)1376 b Ft(6)45 b(BASIC)16 b(TYPES)p 9 205
1767 2 v 9 1035 2 830 v 39 265 a Fq(--)23 b(A)h(rectangular)e(subarray)39
321 y(subArray)g(::)i(\(Ix)f(a\))h(=>)g(\(a,a\))f(->)g(Array)h(a)f(b)h(->)g
(Array)f(a)h(b)39 378 y(subArray)e(bnds)i(=)f(ixmap)h(bnds)f(\(\\i->i\))39
457 y(--)g(A)h(row)f(of)h(a)g(matrix)39 514 y(row)f(::)h(\(Ix)f(a,)h(Ix)f
(b\))h(=>)g(a)f(->)h(Array)f(\(a,b\))g(c)h(->)f(Array)h(b)f(c)39
570 y(row)g(i)h(x)g(=)f(ixmap)g(\(l',u'\))g(\(\\j->\(i,j\)\))g(x)g(where)h
(\(\(l,l'\),\(u,u'\)\))d(=)j(bounds)f(x)39 650 y(--)g(Diagonal)g(of)h(a)f
(square)g(matrix)39 707 y(diag)g(::)h(\(Ix)f(a\))h(=>)f(Array)g(\(a,a\))h(b)f
(->)h(Array)f(a)h(b)39 763 y(diag)f(x)h(=)f(ixmap)h(\(l,u\))f
(\(\\i->\(i,i\)\))f(x)253 819 y(where)i(\(\(l,l'\),\(u,u'\)\))d(|)j(l)g(==)f
(l')h(&&)g(u)f(==)h(u')47 b(=)24 b(bounds)f(x)39 899 y(--)g(Projection)g(of)g
(first)h(components)e(of)i(an)f(array)g(of)h(pairs)39 956 y(firstArray)e(::)i
(\(Ix)f(a\))h(=>)f(Array)h(a)f(\(b,c\))g(->)h(Array)f(a)h(b)39
1012 y(firstArray)e(=)i(amap)f(\(\\\(x,y\)->x\))p 1774 1035
V 9 1037 1767 2 v 555 1163 a Fu(Figure)15 b(12:)20 b(Deriv)o(ed)15
b(arra)o(y)f(examples)0 1320 y Fx(6.10)56 b(Errors)0 1431 y
Fu(All)14 b(errors)e(in)i(Hask)o(ell)f(are)g(seman)o(tically)h(equiv)m(alen)o
(t)g(to)e Fl(?)p Fu(.)19 b Fq(error::)k(String)g(->)h(a)13
b Fu(tak)o(es)f(a)g(string)0 1488 y(argumen)o(t)18 b(and)g(returns)h
Fl(?)p Fu(.)30 b(An)19 b(application)h(of)e Fq(error)g Fu(terminates)h(ev)m
(aluation)g(of)f(the)h(program)0 1544 y(and)c(displa)o(ys)i(the)e(string)g
(as)g(appropriate.)p eop
%%Page: 69 83
bop 1905 50 a Fu(69)150 199 y Fy(7)67 b(Input/Output)150 326
y Fu(Hask)o(ell's)12 b(I/O)f(system)g(is)g(based)h(on)f(the)g(view)h(that)e
(a)h(program)f(comm)o(unicates)i(to)e(the)h(outside)h(w)o(orld)150
382 y(via)i Fp(str)n(e)n(ams)g(of)h(messages)p Fu(:)j(a)c(program)e(issues)j
(a)e(stream)g(of)h Fp(r)n(e)n(quests)e Fu(to)i(the)f(op)q(erating)h(system)g
(and)150 439 y(in)20 b(return)f(receiv)o(es)h(a)f(stream)g(of)g
Fp(r)n(esp)n(onses)p Fu(.)30 b(Since)21 b(a)e(stream)f(in)i(Hask)o(ell)g(is)g
(only)g(a)f(lazy)h(list,)g(a)150 495 y(Hask)o(ell)c(program)e(has)h(the)g(t)o
(yp)q(e:)221 576 y Fq(type)47 b(Dialogue)23 b(=)g([Response])g(->)g
([Request])150 658 y Fu(The)d(datat)o(yp)q(es)g Fq(Response)f
Fu(and)h Fq(Request)f Fu(are)h(de\014ned)i(b)q(elo)o(w.)35
b(In)o(tuitiv)o(ely)l(,)23 b Fq([Response])18 b Fu(is)j(an)150
714 y(ordered)c(list)h(of)f Fp(r)n(esp)n(onses)e Fu(and)i Fq([Request])f
Fu(is)i(an)f(ordered)g(list)h(of)f Fp(r)n(e)n(quests)p Fu(;)f(the)i
Fr(n)p Fu(th)f(resp)q(onse)g(is)150 771 y(the)e(op)q(erating)h(system's)e
(reply)i(to)f(the)g Fr(n)p Fu(th)g(request.)221 852 y(With)f(this)h(view)g
(of)e(I/O,)i(there)f(is)h(no)f(need)h(for)f(an)o(y)g(sp)q(ecial-purp)q(ose)i
(syn)o(tax)e(or)g(constructs)g(for)150 908 y(I/O;)j(the)g(I/O)g(system)g(is)g
(de\014ned)h(en)o(tirely)g(in)g(terms)e(of)g(ho)o(w)h(the)g(op)q(erating)g
(system)f(resp)q(onds)i(to)150 965 y(a)d(program)g(with)h(the)g(ab)q(o)o(v)o
(e)g(t)o(yp)q(e|i.e.)g(what)f(resp)q(onse)i(it)f(issues)g(for)f(eac)o(h)h
(request.)22 b(An)16 b(abstract)150 1021 y(sp)q(eci\014cation)g(of)e(this)h
(b)q(eha)o(viour)g(is)g(de\014ned)g(b)o(y)g(giving)g(a)f(de\014nition)i(of)e
(the)g(op)q(erating)h(system)e(as)h(a)150 1078 y(function)h(that)e(tak)o(es)g
(as)h(input)h(an)f(initial)i(state)d(and)i(a)e(collection)j(of)e(Hask)o(ell)h
(programs,)e(eac)o(h)h(with)150 1134 y(the)j(ab)q(o)o(v)o(e)f(t)o(yp)q(e.)24
b(This)18 b(sp)q(eci\014cation)g(app)q(ears)f(in)g(App)q(endix)i(D,)e(using)g
(standard)f(Hask)o(ell)i(syn)o(tax)150 1191 y(augmen)o(ted)d(with)h(a)e
(single)j(non-deterministic)g(merge)e(op)q(erator.)221 1272
y(One)g(can)h(de\014ne)g(a)f(con)o(tin)o(uation-based)h(v)o(ersion)f(of)g
(I/O)g(in)h(terms)f(of)g(a)f(stream-based)h(v)o(ersion.)150
1329 y(Suc)o(h)20 b(a)g(de\014nition)h(is)f(pro)o(vided)g(in)h(Section)f
(7.5.)32 b(The)20 b(sp)q(eci\014c)i(I/O)e(requests)f(a)o(v)m(ailable)i(in)g
(eac)o(h)150 1385 y(st)o(yle)c(are)g(iden)o(tical;)i(what)e(di\013ers)g(is)h
(the)f(w)o(a)o(y)f(they)h(are)g(expressed.)26 b(This)18 b(means)f(that)f
(programs)150 1441 y(in)f(either)g(st)o(yle)f(ma)o(y)g(b)q(e)h(com)o(bined)g
(with)g(a)f(w)o(ell-de\014ned)j(seman)o(tics.)i(In)c(b)q(oth)g(cases)f
(arbitrary)g(I/O)150 1498 y(requests)i(within)h(con)o(v)o(en)o(tional)f(op)q
(erating)h(systems)e(ma)o(y)g(b)q(e)i(induced)h(while)f(retaining)g(referen)o
(tial)150 1554 y(transparency)e(within)h(a)f(Hask)o(ell)h(program.)221
1636 y(The)f(required)h(requests)f(for)g(a)g(v)m(alid)i(implemen)o(tation)f
(are:)221 1713 y Fq(data)47 b(Request)23 b(=)340 1770 y(--)g(file)h(system)f
(requests:)579 1826 y(ReadFile)142 b(String)531 1882 y(|)24
b(WriteFile)118 b(String)23 b(String)531 1939 y(|)h(AppendFile)94
b(String)23 b(String)531 1995 y(|)h(ReadBinFile)70 b(String)531
2052 y(|)24 b(WriteBinFile)46 b(String)23 b(Bin)531 2108 y(|)h(AppendBinFile)
e(String)h(Bin)531 2165 y(|)h(DeleteFile)94 b(String)531 2221
y(|)24 b(StatusFile)94 b(String)340 2278 y(--)23 b(channel)g(system)g
(requests:)531 2334 y(|)h(ReadChan)142 b(String)531 2391 y(|)24
b(AppendChan)94 b(String)23 b(String)531 2447 y(|)h(ReadBinChan)70
b(String)531 2503 y(|)24 b(AppendBinChan)e(String)h(Bin)531
2560 y(|)h(StatusChan)94 b(String)p eop
%%Page: 70 84
bop 0 50 a Fu(70)1315 b Ft(7)45 b(INPUT/OUTPUT)190 193 y Fq(--)23
b(environment)g(requests:)381 250 y(|)h(Echo)238 b(Bool)381
306 y(|)24 b(GetArgs)381 362 y(|)g(GetProgName)381 419 y(|)g(GetEnv)190
b(String)381 475 y(|)24 b(SetEnv)190 b(String)23 b(String)71
555 y(stdin)166 b(=)24 b("stdin")71 612 y(stdout)142 b(=)24
b("stdout")71 668 y(stderr)142 b(=)24 b("stderr")71 724 y(stdecho)118
b(=)24 b("stdecho")0 800 y Fu(Conceptually)18 b(the)e(ab)q(o)o(v)o(e)g
(requests)g(can)h(b)q(e)f(organised)h(in)o(to)f(three)h(groups:)k(those)16
b(relating)h(to)f(the)0 856 y Fp(\014le)d(system)e Fu(comp)q(onen)o(t)h(of)g
(the)g(op)q(erating)h(system)f(\(the)f(\014rst)h(eigh)o(t\),)h(those)e
(relating)i(to)f(the)g Fp(channel)0 913 y(system)j Fu(\(the)g(next)g(\014v)o
(e\),)f(and)i(those)f(relating)h(to)e(the)h Fp(envir)n(onment)f
Fu(\(the)h(last)g(four\).)71 992 y(The)h(\014le)i(system)e(is)i(fairly)f(con)
o(v)o(en)o(tional:)23 b(a)16 b(mapping)i(of)e(\014le)i(names)e(to)g(con)o
(ten)o(ts.)24 b(The)17 b(c)o(han-)0 1048 y(nel)i(system)f(consists)g(of)g(a)f
(collection)j(of)e Fp(channels)p Fu(,)f(examples)h(of)g(whic)o(h)h(include)h
(standard)e(input)0 1105 y(\()p Fq(stdin)o Fu(\),)13 b(standard)g(output)g
(\()p Fq(stdout)o Fu(\),)g(standard)g(error)f(\()p Fq(stderr)o
Fu(\),)h(and)g(standard)g(ec)o(ho)h(\()p Fq(stdecho)n Fu(\))0
1161 y(c)o(hannels.)21 b(A)15 b(c)o(hannel)h(is)g(a)f(one-w)o(a)o(y)f(comm)o
(unication)i(medium|it)h(either)f(consumes)f(v)m(alues)i(from)0
1218 y(the)g(program)e(\(via)i Fq(AppendChan)e Fu(or)h Fq(AppendBinChan)n
Fu(\))h(or)f(pro)q(duces)h(v)m(alues)h(for)e(the)h(program)e(\(b)o(y)0
1274 y(resp)q(onding)k(to)e Fq(ReadChan)g Fu(or)g Fq(ReadBinChan)n
Fu(\).)28 b(Channels)18 b(comm)o(unicate)h(to)e(and)h(from)f
Fp(agents)g Fu(\(a)0 1330 y(concept)f(made)f(more)g(precise)h(in)g(App)q
(endix)h(D\).)j(Examples)15 b(of)g(agen)o(ts)g(include)i(line)g(prin)o(ters,)
e(disk)0 1387 y(con)o(trollers,)g(net)o(w)o(orks,)e(and)i(h)o(uman)f(b)q
(eings.)21 b(As)15 b(an)f(example)i(of)e(the)h(latter,)f(the)h
Fp(user)f Fu(is)h(normally)0 1443 y(the)g(consumer)g(of)g(standard)g(output)f
(and)i(the)f(pro)q(ducer)g(of)g(standard)g(input.)20 b(Channels)c(cannot)f(b)
q(e)0 1500 y(deleted,)h(nor)f(is)h(there)f(a)g(notion)g(of)g(creating)h(a)e
(c)o(hannel.)71 1579 y(Apart)23 b(from)g(these)i(required)g(requests,)g(sev)o
(eral)g(optional)f(requests)g(are)g(describ)q(ed)i(in)f(Ap-)0
1635 y(p)q(endix)17 b(D.1.)i(Although)c(not)g(required)h(for)e(a)h(v)m(alid)i
(Hask)o(ell)f(implemen)o(tation,)g(they)f(ma)o(y)f(b)q(e)i(useful)0
1692 y(in)g(particular)g(implemen)o(tations.)71 1771 y(Requests)i(to)e(the)i
(\014le)g(system)g(are)f(in)h(general)g(order-dep)q(enden)o(t;)i(if)e
Fr(i)e(>)g(j)k Fu(then)e(the)f(resp)q(onse)0 1827 y(to)g(the)g
Fr(i)p Fu(th)g(request)g(ma)o(y)g(dep)q(end)i(on)e(the)h Fr(j)s
Fu(th)e(request.)26 b(In)18 b(the)g(case)f(of)g(the)g(c)o(hannel)i(system)e
(the)0 1884 y(nature)f(of)f(the)g(dep)q(endencie)q(s)j(is)e(dictated)h(b)o(y)
e(the)h(agen)o(ts.)k(In)c(all)h(cases)f(external)g(e\013ects)f(ma)o(y)g(also)
0 1940 y(b)q(e)h(felt)f(\\b)q(et)o(w)o(een")g(in)o(ternal)h(e\013ects.)71
2019 y(Resp)q(onses)g(are)f(de\014ned)h(b)o(y:)71 2094 y Fq(data)47
b(Response)23 b(=)g(Success)429 2151 y(|)g(Str)h(String)429
2207 y(|)f(StrList)g([String])429 2264 y(|)g(Bn)48 b(Bin)429
2320 y(|)23 b(Failure)g(IOError)71 2400 y(data)47 b(IOError)g(=)23
b(WriteError)70 b(String)429 2456 y(|)23 b(ReadError)94 b(String)429
2513 y(|)23 b(SearchError)46 b(String)429 2569 y(|)23 b(FormatError)46
b(String)429 2626 y(|)23 b(OtherError)70 b(String)0 2704 y
Fu(The)14 b(resp)q(onse)g(to)e(a)h(request)h(is)g(either)g
Fq(Success)o Fu(,)f(when)h(no)g(v)m(alue)g(is)g(returned;)g
Fq(Str)24 b Fp(s)16 b Fu([)p Fq(Bn)24 b Fp(b)r Fu(],)13 b(when)p
eop
%%Page: 71 85
bop 150 50 a Ft(7.1)45 b(I/O)15 b(Mo)q(des)1433 b Fu(71)150
199 y(a)15 b(string)g([binary])g(v)m(alue)i Fp(s)h Fu([)p Fp(b)r
Fu(])d(is)h(returned;)f(or)g Fq(Failure)23 b Fp(e)s Fu(,)15
b(indicating)i(failure)f(with)g(I/O)f(error)g Fr(e)p Fu(.)221
280 y(The)j(nature)h(of)f(a)g(failure)h(is)g(de\014ned)h(b)o(y)e(the)h
Fq(IOError)e Fu(datat)o(yp)q(e,)i(whic)o(h)g(captures)f(the)h(most)150
336 y(common)12 b(kinds)h(of)f(errors.)18 b(The)13 b Fq(String)e
Fu(comp)q(onen)o(ts)h(of)g(these)g(errors)g(are)g(implemen)o(tation)h(dep)q
(en-)150 393 y(den)o(t,)f(and)g(ma)o(y)f(b)q(e)i(used)f(to)f(re\014ne)i(the)f
(description)h(of)e(the)h(error)f(\(for)g(example,)i(for)e
Fq(ReadError)o Fu(,)h(the)150 449 y(string)k(migh)o(t)h(b)q(e)g
Fq("file)23 b(locked")o Fu(,)16 b Fq("access)23 b(rights)g(violation")o
Fu(,)16 b(etc.\).)23 b(An)17 b(implemen)o(tation)150 506 y(is)f(free)f(to)g
(extend)g Fq(IOError)f Fu(as)h(required.)150 651 y Fx(7.1)56
b(I/O)18 b(Mo)r(des)150 761 y Fu(The)d(I/O)g(requests)f Fq(ReadFile)o
Fu(,)g Fq(WriteFile)o Fu(,)g Fq(AppendFile)o Fu(,)g Fq(ReadChan)o
Fu(,)g(and)h Fq(AppendChan)e Fu(all)i(w)o(ork)150 818 y(with)f
Fp(text)g Fu(v)m(alues|i.e.)h(strings.)k(An)o(y)14 b(v)m(alue)h(whose)e(t)o
(yp)q(e)h(is)g(an)g(instance)g(of)g(the)f(class)h Fq(Text)f
Fu(ma)o(y)g(b)q(e)150 874 y(written)j(to)g(a)g(\014le)i(\(or)d(comm)o
(unicated)i(on)g(a)f(c)o(hannel\))h(b)o(y)g(using)g(the)f(appropriate)h
(output)f(request)150 931 y(if)h(it)f(is)h(\014rst)f(con)o(v)o(erted)f(to)h
(a)g(string,)g(using)h Fq(shows)e Fu(\(see)h(Section)h(4.3.3\).)k(Similarly)l
(,)e Fq(reads)c Fu(can)h(b)q(e)150 987 y(used)d(with)g(the)g(appropriate)f
(input)i(request)e(to)g(read)g(suc)o(h)h(a)f(v)m(alue)i(from)e(a)g(\014le)i
(\(or)d(a)i(c)o(hannel\).)19 b(This)150 1044 y(is)d(text)e(mo)q(de)i(I/O.)221
1124 y(F)l(or)23 b(b)q(oth)i(e\016ciency)h(and)e(transparency)l(,)i(Hask)o
(ell)f(also)g(supp)q(orts)f(a)g(corresp)q(onding)h(set)f(of)150
1181 y Fp(binary)f Fu(I/O)h(requests|)p Fq(ReadBinFile)o Fu(,)h
Fq(WriteBinFile)o Fu(,)g Fq(AppendBinFile)n Fu(,)g Fq(ReadBinChan)o
Fu(,)g(and)150 1237 y Fq(AppendBinChan)n Fu(.)37 b Fq(showBin)20
b Fu(and)h Fq(readBin)f Fu(are)h(using)g(analogously)g(to)g
Fq(shows)f Fu(and)h Fq(reads)f Fu(\(see)150 1294 y(Section)c(4.3.3\))d(for)i
(v)m(alues)h(whose)f(t)o(yp)q(es)h(are)e(instances)i(of)f(the)g(class)h
Fq(Binary)e Fu(\(see)i(Section)g(6.7\).)221 1374 y(Binary)j(mo)q(de)h(I/O)f
(ensures)h(transparency)f Fp(within)g Fu(an)g(implemen)o(tation|i.e.)i
(\\what)d(is)i(read)150 1431 y(is)c(what)g(w)o(as)f(written.")22
b(Implemen)o(tations)17 b(on)f(con)o(v)o(en)o(tional)g(mac)o(hines)h(will)h
(probably)e(b)q(e)h(able)g(to)150 1487 y(realise)f(binary)g(mo)q(de)f(more)f
(e\016cien)o(tly)j(than)d(text)h(mo)q(de.)20 b(On)15 b(the)g(other)g(hand,)g
(the)g Fq(Bin)f Fu(datat)o(yp)q(e)150 1544 y(itself)i(is)g(implemen)o(tation)
h(dep)q(enden)o(t,)g(and)f(th)o(us)f(binary)h(mo)q(de)g Fp(should)h(not)e
Fu(b)q(e)h(used)g(as)g(a)f(metho)q(d)150 1600 y(to)g(ensure)g(transparency)g
Fp(b)n(etwe)n(en)f Fu(implemen)o(tations.)221 1681 y(In)e(the)g(remainder)g
(of)f(this)h(section,)h(v)m(arious)f(asp)q(ects)g(of)f(text)g(mo)q(de)h(will)
h(b)q(e)g(discussed,)g(including)150 1737 y(the)i(b)q(eha)o(viour)h(of)f
(standard)g(c)o(hannels)h(suc)o(h)g(as)e Fq(stdin)h Fu(and)g
Fq(stdout)p Fu(.)150 1881 y Fs(7.1.1)52 b(T)l(ransparen)o(t)17
b(Character)g(Set)150 1991 y Fu(The)e Fp(tr)n(ansp)n(ar)n(ent)h(char)n(acter)
g(set)f Fu(is)h(de\014ned)g(b)o(y:)245 2068 y(the)g(52)e(upp)q(ercase)j(and)e
(lo)o(w)o(ercase)g(alphab)q(etic)i(c)o(haracters)245 2124 y(the)f(10)e
(decimal)j(digits)245 2181 y(the)f(32)e(graphic)i(c)o(haracters:)306
2237 y Fq(!)f(")g(#)g($)g(\045)g(&)g Fp(\023)h Fq(\()f(\))g(*)g(+)g(,)g(-)g
(.)g(/)g(:)g(;)g(<)g(=)g(>)g(?)g Fu(@)g Fq([)g(\\)g(])g(^)g(_)g
Fp(\022)h Fq({)f(|)g(})g(~)245 2294 y Fu(the)h(space)f(c)o(haracter)150
2373 y(\(This)g(is)h(iden)o(tical)h(to)e(the)g Fp(any)k Fu(syn)o(tactic)c
(category)g(de\014ned)h(in)g(Section)g(2.2,)e(with)i Fp(tab)i
Fu(excluded.\))221 2454 y(A)h Fp(tr)n(ansp)n(ar)n(ent)f(line)g
Fu(is)h(a)g(list)h(of)e(no)h(more)f(than)h(254)f(transparen)o(t)g(c)o
(haracters)g(follo)o(w)o(ed)h(b)o(y)g(a)150 2510 y Fq(\\n)d
Fu(c)o(haracter)h(\(i.e.)f(no)h(more)f(than)h(255)f(c)o(haracters)g(in)i
(total\).)23 b(A)17 b Fp(tr)n(ansp)n(ar)n(ent)g(string)f Fu(is)h(the)g
(\014nite)150 2566 y(concatenation)e(of)g(zero)g(or)g(more)g(transparen)o(t)f
(lines.)221 2647 y(Hask)o(ell's)f Fp(text)i(mo)n(de)g(for)g(\014les)e(is)h
(tr)n(ansp)n(ar)n(ent)g(whenever)g(the)h(string)f(b)n(eing)f(use)n(d)h(is)h
(tr)n(ansp)n(ar)n(ent)p Fu(.)150 2704 y(An)h(implemen)o(tation)h(m)o(ust)f
(ensure)g(that)f(a)h(transparen)o(t)f(string)h(written)f(to)h(a)f(\014le)i
(in)g(text)e(mo)q(de)h(is)p eop
%%Page: 72 86
bop 0 50 a Fu(72)1315 b Ft(7)45 b(INPUT/OUTPUT)0 199 y Fu(iden)o(tical)18
b(to)e(the)h(string)f(read)g(bac)o(k)h(from)e(the)i(same)f(\014le)h(in)g
(text)f(mo)q(de)h(\(assuming)f(there)h(w)o(ere)f(no)0 256 y(in)o(terv)o
(ening)g(external)g(e\013ects\).)71 337 y(The)e(transparen)o(t)f(c)o
(haracter)g(set)g(is)i(restricted)f(b)q(ecause)h(of)e(the)h(inconsisten)o(t)h
(treatmen)o(t)e(of)g(text)0 394 y(\014les)23 b(b)o(y)e(op)q(erating)h
(systems.)39 b(F)l(or)21 b(example,)j(some)d(systems)g(translate)g(the)h
(newline)i(c)o(haracter)0 450 y Fq(\\n)18 b Fu(in)o(to)h Fq(CR/LF)o
Fu(,)g(and)g(others)f(in)o(to)g(just)g Fq(CR)g Fu(or)g(just)h
Fq(LF)o Fu(|so)g(none)g(of)f(these)h(c)o(haracters)e(can)i(b)q(e)g(in)0
506 y(the)f(transparen)o(t)f(c)o(haracter)h(set.)29 b(Similarly)l(,)21
b(some)c(systems)h(truncate)g(lines)i(exceeding)g(a)e(certain)0
563 y(length,)h(others)f(do)g(not.)28 b(Hask)o(ell's)19 b(transparen)o(t)e
(string)h(is)h(in)o(tended)g(to)f(pro)o(vide)h(a)e(useful)j(degree)0
619 y(of)d(p)q(ortabilit)o(y)h(of)f(text)f(\014le)i(manipulating)h(programs.)
25 b(Of)17 b(course,)g(an)g(implemen)o(tation)i(is)e(free)h(to)0
676 y(guaran)o(tee)f(a)g(higher)h(degree)g(of)f(transparency)h(than)f(that)g
(de\014ned)i(here)f(\(suc)o(h)f(as)h(longer)f(lines)i(or)0
732 y(more)c(c)o(haracter)f(t)o(yp)q(es\).)71 814 y(Besides)i(this)f
(de\014nition)h(of)e(text)g(mo)q(de)h(transparency)l(,)g(the)f(standard)h
(input)g(and)g(output)g(c)o(han-)0 870 y(nels)h(carry)f(with)g(them)h
(notions)f(of)g(standard)f Fp(pr)n(esentation)h Fu(and)g Fp(ac)n(c)n(eptanc)n
(e)p Fu(,)f(as)h(de\014ned)h(b)q(elo)o(w.)0 1015 y Fs(7.1.2)52
b(Presen)o(tation)0 1126 y Fp(Standar)n(d)14 b(text)g(mo)n(de)h(pr)n
(esentation)d Fu(guaran)o(tees)g(a)g(minim)o(um)i(kind)g(of)e(presen)o(table)
i(output)f(on)f(stan-)0 1182 y(dard)20 b(output)g(devices;)k(th)o(us)d(it)f
(is)h(only)g(de\014ned)h(for)d Fq(AppendChan)g Fu(using)i(the)g(c)o(hannels)g
Fq(stdout)o Fu(,)0 1239 y Fq(stderr)o Fu(,)14 b(and)f Fq(stdecho)o
Fu(.)19 b(Abstractly)l(,)14 b(these)g(c)o(hannels)g(are)f(assumed)h(to)f(b)q
(e)h(attac)o(hed)f(to)g(a)g(sequence)0 1295 y(of)i(rectangular)h(grids)g(of)f
(c)o(haracters)g(called)i Fp(p)n(ages)p Fu(;)e(eac)o(h)h(page)g(consists)g
(of)f(a)g(n)o(um)o(b)q(er)h(of)f(lines)j(and)0 1352 y(columns,)h(with)g(the)f
(\014rst)f(line)j(presen)o(ted)e(at)g(the)g(\\top")f(and)h(the)g(\014rst)g
(column)h(presen)o(ted)f(to)g(the)0 1408 y(\\left.")31 b(The)19
b(width)h(of)f(a)f(column)i(is)g(assumed)f(to)f(b)q(e)i(constan)o(t.)31
b(\(On)19 b(a)f(pap)q(er)i(prin)o(ting)g(device,)0 1464 y(w)o(e)15
b(exp)q(ect)i(an)e(abstract)g(page)g(to)g(corresp)q(ond)h(to)f(a)g(ph)o
(ysical)i(page;)f(on)f(a)g(terminal)i(displa)o(y)l(,)f(it)g(will)0
1521 y(corresp)q(ond)j(to)g(whatev)o(er)f(abstraction)h(is)h(presen)o(ted)f
(b)o(y)g(the)h(terminal,)g(but)f(at)g(a)g(minim)o(um)h(the)0
1577 y(terminal)c(should)g(supp)q(ort)f(displa)o(y)i(of)e(at)f(least)h(one)h
(full)g(page.\))71 1659 y(Characters)11 b(obtained)i(from)f
Fq(AppendChan)f Fu(requests)i(are)f(written)h(sequen)o(tially)h(in)o(to)e
(these)h(pages)0 1715 y(starting)j(at)h(the)g(top)g(left)g(hand)h(corner)f
(of)f(the)i(\014rst)e(page.)26 b(The)17 b(c)o(haracters)f(are)h(written)g(in)
h(order)0 1772 y(horizon)o(tally)e(across)e(the)h(page)g(un)o(til)h(a)e
(newline)j(c)o(haracter)d(\()p Fq(\\n)o Fu(\))h(is)g(pro)q(cessed,)h(at)e
(whic)o(h)i(p)q(oin)o(t)f(the)0 1828 y(subsequen)o(t)i(c)o(haracters)e(are)g
(written)h(starting)g(in)h(column)f(one)g(of)g(line)i(t)o(w)o(o,)c(and)i(so)g
(on.)22 b(If)16 b(a)g(form)0 1885 y(feed)j(c)o(haracter)f(\()p
Fq(\\f)p Fu(\))g(is)h(pro)q(cessed,)h(writing)g(starts)d(at)h(the)h(top)f
(left)h(hand)h(corner)e(of)h(the)f(second)0 1941 y(page,)d(and)g(so)g(on.)71
2022 y(Maxim)o(um)i(line)j(length)f(and)f(page)g(length)h(for)e(the)i(output)
f(c)o(hannels)h Fq(stdout)o Fu(,)f Fq(stdecho)o Fu(,)h(and)0
2079 y Fq(stderr)f Fu(ma)o(y)g(b)q(e)h(obtained)h(via)f(the)g
Fq(StatusChan)e Fu(request)i(as)f(describ)q(ed)j(in)e(Section)h(7.3.)30
b(These)0 2135 y(are)16 b(implemen)o(tation-dep)q(end)q(en)o(t)j(constan)o
(ts,)d(but)h(m)o(ust)f(b)q(e)i(at)e(least)h(40)f(c)o(haracters)g(and)h(20)f
(lines,)0 2192 y(resp)q(ectiv)o(ely)l(.)22 b Fq(AppendChan)14
b Fu(ma)o(y)g(induce)j(a)e Fq(FormatError)e Fu(if)j(either)g(of)f(these)g
(limits)i(is)e(exceeded.)71 2273 y(Presen)o(tation)e(of)f(the)i(transparen)o
(t)e(c)o(haracter)h(set)g(ma)o(y)g(b)q(e)h(in)g(an)o(y)f(readable)h(fon)o(t.)
k(Presen)o(tation)0 2330 y(of)i Fq(\\n)h Fu(and)g Fq(\\f)g
Fu(is)g(as)f(de\014ned)j(ab)q(o)o(v)o(e.)36 b(Presen)o(tation)21
b(of)f(an)o(y)h(other)f(c)o(haracter)g(is)i(not)e(de\014ned|)0
2386 y(presen)o(tation)h(of)f(suc)o(h)i(a)e(c)o(haracter)h(ma)o(y)f(in)o(v)m
(alidate)j(standard)d(presen)o(tation)h(of)f(all)i(subsequen)o(t)0
2442 y(c)o(haracters.)c(An)13 b(implemen)o(tation,)h(of)e(course,)h(ma)o(y)f
(guaran)o(tee)f(other)i(forms)e(of)h(useful)i(presen)o(tation)0
2499 y(b)q(ey)o(ond)i(what)e(is)i(sp)q(eci\014ed)i(here.)71
2580 y(T)l(o)10 b(facilitate)h(pro)q(cessing)g(of)f(text)f(to)h(and)g(from)g
(standard)g(input/output)g(c)o(hannels,)i(the)f(auxiliary)0
2637 y(functions)16 b(sho)o(wn)f(in)h(Figures)f(13{14)f(are)h(pro)o(vided)h
(in)g(the)f(standard)g(prelude.)p eop
%%Page: 73 87
bop 150 50 a Ft(7.1)45 b(I/O)15 b(Mo)q(des)1433 b Fu(73)p 159
205 1767 2 v 159 959 2 754 v 189 269 a Fq(span,)23 b(break)309
b(::)24 b(\(a)g(->)f(Bool\))g(->)h([a])f(->)h(\([a],[a]\))189
325 y(span)f(p)h(xs)357 b(=)48 b(\(takeWhile)22 b(p)i(xs,)g(dropWhile)e(p)i
(xs\))189 382 y(break)f(p)405 b(=)48 b(span)23 b(\(not)h(.)f(p\))189
461 y(lines)452 b(::)24 b(String)f(->)h([String])189 518 y(lines)f("")381
b(=)48 b([])189 574 y(lines)23 b(s)405 b(=)48 b(l)24 b(:)f(\(if)h(null)f(s')h
(then)f([])h(else)f(lines)g(\(tail)g(s'\)\))833 631 y(where)g(\(l,)h(s'\))f
(=)h(break)f(\(\(==\))g('\\n'\))g(s)189 710 y(words)452 b(::)24
b(String)f(->)h([String])189 767 y(words)f(s)405 b(=)48 b(case)23
b(dropWhile)g(isSpace)g(s)h(of)952 823 y("")g(->)f([])952 880
y(s')h(->)f(w)h(:)g(words)f(s'')1095 936 y(where)h(\(w,)f(s''\))g(=)h(break)f
(isSpace)g(s')p 1924 959 V 159 961 1767 2 v 260 1107 a Fu(Figure)16
b(13:)j(Auxiliary)e(F)l(unctions)f(for)e(T)l(ext)h(Pro)q(cessing)h(of)f
(Standard)g(Output,)g(P)o(art)f(1)p 159 1213 V 159 1604 2 392
v 189 1276 a Fq(unlines)404 b(::)24 b([String])f(->)g(String)189
1333 y(unlines)g(ls)333 b(=)24 b(concat)f(\(map)g(\(\\l)h(->)f(l)h(++)g
("\\n"\))f(ls\))189 1412 y(unwords)404 b(::)24 b([String])f(->)g(String)189
1469 y(unwords)g([])333 b(=)24 b("")189 1525 y(unwords)f([w])309
b(=)24 b(w)189 1582 y(unwords)f(\(w:ws\))237 b(=)24 b(w)g(++)f(concat)g
(\(map)h(\(')f(')h(:\))g(ws\))p 1924 1604 V 159 1606 1767 2
v 260 1752 a Fu(Figure)16 b(14:)j(Auxiliary)e(F)l(unctions)f(for)e(T)l(ext)h
(Pro)q(cessing)h(of)f(Standard)g(Output,)g(P)o(art)f(2)150
1881 y Fs(7.1.3)52 b(Acceptance)150 1987 y Fp(Standar)n(d)13
b(text)g(mo)n(de)f(ac)n(c)n(eptanc)n(e)f Fu(guaran)o(tees)f(a)h(minim)o(um)i
(kind)f(of)f(c)o(haracter)f(input)j(from)d(standard)150 2044
y(input)20 b(devices;)h(th)o(us)e(it)g(is)g(only)g(de\014ned)h(for)e
Fq(ReadChan)g Fu(using)h(the)g(c)o(hannel)h Fq(stdin)o Fu(.)30
b(Abstractly)l(,)150 2100 y Fq(stdin)17 b Fu(is)h(assumed)f(to)g(b)q(e)h
(attac)o(hed)f(to)g(a)g Fp(keyb)n(o)n(ar)n(d)p Fu(.)26 b(The)18
b(only)g(requiremen)o(t)g(of)f(the)g(k)o(eyb)q(oard)g(is)150
2156 y(that)d(it)i(ha)o(v)o(e)f(k)o(eys)g(to)f(supp)q(ort)i(the)f(transparen)
o(t)f(c)o(haracter)h(set)g(plus)h(the)f(newline)i(\()p Fq(\\n)p
Fu(\))d(c)o(haracter.)150 2295 y Fs(7.1.4)52 b(Ec)o(hoing)150
2401 y Fu(The)20 b(c)o(hannel)g Fq(stdecho)f Fu(is)g(assumed)h(connected)g
(to)f(the)h(displa)o(y)g(asso)q(ciated)g(with)f(the)h(device)h(to)150
2457 y(whic)o(h)c Fq(stdin)e Fu(is)h(connected.)23 b(It)16
b(ma)o(y)f(b)q(e)h(p)q(ossible)i(for)d Fq(stdout)g Fu(and)h
Fq(stdecho)f Fu(to)g(b)q(e)i(connected)g(to)150 2514 y(the)e(same)h(device,)g
(but)f(this)h(is)g(not)f(required.)22 b(It)15 b(ma)o(y)g(b)q(e)h(p)q(ossible)
h(in)f(some)f(op)q(erating)h(systems)f(to)150 2570 y(redirect)h
Fq(stdout)e Fu(to)h(a)g(\014le)h(while)h(still)f(displa)o(ying)h(information)
e(to)g(the)g(user)h(on)f Fq(stdecho)o Fu(.)221 2647 y(The)c
Fq(Echo)f Fu(request)g(\(describ)q(ed)j(in)e(Section)h(7.4\))d(con)o(trols)i
(ec)o(hoing)g(of)g Fq(stdin)f Fu(on)g Fq(stdecho)o Fu(.)19
b(When)150 2704 y(ec)o(hoing)g(is)f(enabled,)i(c)o(haracters)e(t)o(yp)q(ed)g
(at)f(the)i(terminal)f(connected)h(to)f Fq(stdin)f Fu(are)h(ec)o(ho)q(ed)h
(on)o(to)p eop
%%Page: 74 88
bop 0 50 a Fu(74)1315 b Ft(7)45 b(INPUT/OUTPUT)0 199 y Fq(stdecho)o
Fu(,)15 b(with)g(optional)h(implemen)o(tation-sp)q(eci\014c)i(line-editing)g
(functions)e(a)o(v)m(ailable.)21 b(The)16 b(list)f(of)0 256
y(c)o(haracters)g(returned)h(b)o(y)g(a)f(read)h(request)f(to)g
Fq(stdin)g Fu(should)i(b)q(e)f(the)g(result)g(of)g(this)g(pro)q(cessing.)22
b(As)0 312 y(an)16 b(en)o(tire)h(line)g(ma)o(y)f(b)q(e)h(erased)f(b)o(y)g
(the)g(user,)g(a)g(program)f(will)j(not)d(see)i(an)o(y)f(of)f(the)h(line)i
(un)o(til)f(a)f Fq(\\n)0 369 y Fu(c)o(haracter)e(is)i(t)o(yp)q(ed.)71
450 y(A)c(displa)o(y)i(ma)o(y)e(receiv)o(e)h(data)f(from)g(four)g(di\013eren)
o(t)h(sources:)18 b(ec)o(hoing)13 b(from)f Fq(stdin)o Fu(,)h(and)g(explicit)0
506 y(output)k(to)h Fq(stdecho)o Fu(,)f Fq(stdout)p Fu(,)h(and)f
Fq(stderr)p Fu(.)27 b(The)18 b(result)g(is)g(an)g(in)o(terlea)o(ving)h(of)e
(these)h(c)o(haracter)0 563 y(streams,)c(but)i(it)f(is)h(not)f(an)g
(arbitrary)g(one,)g(b)q(ecause)h(of)f(t)o(w)o(o)f(constrain)o(ts:)20
b(\(1\))14 b Fp(explicit)h Fu(output)g(\(via)0 619 y Fq(AppendChan)o
Fu(\))g(m)o(ust)g(app)q(ear)h(as)g(the)g(concatenation)g(of)f(the)h
(individual)j(streams;)c(i.e.)h(they)g(cannot)0 676 y(b)q(e)21
b(in)o(terlea)o(v)o(ed)f(\(this)g(is)h(consisten)o(t)f(with)g(the)g(h)o(yp)q
(erstrict)h(nature)f(of)f Fq(AppendChan)o Fu(\),)h(and)g(\(2\))f(if)0
732 y(ec)o(hoing)14 b(is)g(on,)f(c)o(haracters)f(from)h Fq(stdin)f
Fu(that)h(a)g(program)f(dep)q(ends)j(on)e(for)g(some)g(I/O)g(request)h(m)o
(ust)0 789 y(app)q(ear)21 b(on)f(the)g(displa)o(y)i(b)q(efore)f(that)e(I/O)i
(o)q(ccurs.)36 b(These)21 b(constrain)o(ts)e(p)q(ermit)j(a)e(user)g(to)g(t)o
(yp)q(e)0 845 y(ahead,)15 b(but)g(prev)o(en)o(t)g(a)g(system)g(from)f(prin)o
(ting)i(a)f(reply)h(b)q(efore)g(ec)o(hoing)g(the)f(user's)g(request.)0
992 y Fx(7.2)56 b(File)17 b(System)g(Requests)0 1103 y Fu(In)i(this)g
(section,)g(eac)o(h)f(request)h(is)g(describ)q(ed)h(using)f(the)f(stream)g
(mo)q(del|the)i(corresp)q(onding)f(b)q(e-)0 1159 y(ha)o(viour)f(using)g(the)f
(con)o(tin)o(uation)h(mo)q(del)h(should)f(b)q(e)g(ob)o(vious.)27
b(Optional)19 b(requests,)f(not)f(required)0 1215 y(of)e(a)g(v)m(alid)h(Hask)
o(ell)h(implemen)o(tation,)f(are)f(describ)q(ed)i(in)f(App)q(endix)h(D.1.)68
1347 y Fl(\017)23 b Fq(ReadFile)94 b(name)114 1403 y(ReadBinFile)22
b(name)114 1478 y Fu(Returns)f(the)g(con)o(ten)o(ts)f(of)g(\014le)h
Fq(name)f Fu(treated)h(as)f(a)g(text)g([binary])h(\014le.)37
b(If)21 b(successful,)i(the)114 1535 y(resp)q(onse)18 b(will)i(b)q(e)f(of)f
(the)g(form)f Fq(Str)24 b(s)18 b Fu([)p Fq(Bn)23 b(b)p Fu(],)18
b(where)g Fq(s)g Fu([)p Fq(b)p Fu(])f(is)i(a)f(string)g([binary])g(v)m(alue.)
30 b(If)114 1591 y(the)21 b(\014le)i(is)f(not)f(found,)i(the)f(resp)q(onse)g
Fq(Failure)h(\(SearchError)f(string\))f Fu(is)h(induced;)k(if)114
1648 y(it)20 b(is)h(unreadable)g(for)e(some)h(other)g(reason,)g(the)h
Fq(Failure)h(\(ReadError)h(string\))c Fu(error)g(is)114 1704
y(induced.)68 1798 y Fl(\017)k Fq(WriteFile)94 b(name)23 b(string)114
1854 y(WriteBinFile)f(name)h(bin)114 1929 y Fu(W)l(rites)15
b Fq(string)g Fu([)p Fq(bin)o Fu(])h(to)f(\014le)h Fq(name)p
Fu(.)21 b(If)16 b(the)g(\014le)g(do)q(es)g(not)g(exist,)f(it)h(is)h(created.)
k(If)16 b(it)g(already)114 1986 y(exists,)21 b(it)f(is)h(o)o(v)o(erwritten.)
34 b(A)20 b(successful)h(resp)q(onse)g(has)f(form)f Fq(Success)o
Fu(;)j(the)e(only)h(failure)114 2042 y(p)q(ossible)c(has)e(the)g(form)f
Fq(Failure)23 b(\(WriteError)g(string\))o Fu(.)114 2117 y(Both)d(of)g(these)h
(requests)f(are)g(\\h)o(yp)q(erstrict")h(in)g(their)g(second)g(argumen)o(t:)
30 b(no)20 b(resp)q(onse)h(is)114 2174 y(returned)15 b(un)o(til)i(the)e(en)o
(tire)g(list)i(of)d(v)m(alues)j(is)e(completely)i(ev)m(aluated.)68
2268 y Fl(\017)23 b Fq(AppendFile)94 b(name)23 b(string)114
2324 y(AppendBinFile)f(name)h(bin)114 2399 y Fu(Iden)o(tical)14
b(to)f Fq(WriteFile)f Fu([)p Fq(WriteBinFile)n Fu(],)h(except)g(that)g(\(1\))
f(the)h Fq(string)f Fu([)p Fq(bin)o Fu(])h(argumen)o(t)f(is)114
2456 y(app)q(ended)i(to)e(the)h(curren)o(t)g(con)o(ten)o(ts)f(of)g(the)h
(\014le)h(named)f Fq(name)p Fu(;)g(\(2\))f(if)h(the)g(I/O)g(mo)q(de)g(do)q
(es)g(not)114 2512 y(matc)o(h)f(the)g(previous)i(mo)q(de)f(with)g(whic)o(h)g
Fq(name)f Fu(w)o(as)g(written,)h(the)f(b)q(eha)o(viour)i(is)f(not)f(sp)q
(eci\014ed;)114 2569 y(and)i(\(3\))f(if)h(the)g(\014le)h(do)q(es)f(not)f
(exist,)h(the)g(resp)q(onse)h Fq(Failure)23 b(\(SearchError)f(string\))13
b Fu(is)h(in-)114 2625 y(duced.)20 b(All)13 b(other)e(errors)h(ha)o(v)o(e)f
(form)g Fq(Failure)23 b(\(WriteError)g(string\))o Fu(,)12 b(and)g(b)q(oth)g
(requests)114 2682 y(are)j(h)o(yp)q(erstrict)g(in)h(their)g(second)g(argumen)
o(t.)p eop
%%Page: 75 89
bop 150 50 a Ft(7.3)45 b(Channel)16 b(System)f(Requests)1138
b Fu(75)218 199 y Fl(\017)23 b Fq(DeleteFile)f(name)264 273
y Fu(Deletes)e(\014le)h Fq(name)p Fu(,)f(with)h(successful)g(resp)q(onse)f
Fq(Success)o Fu(.)35 b(If)20 b(the)g(\014le)h(do)q(es)f(not)g(exist,)h(the)
264 329 y(resp)q(onse)11 b Fq(Failure)23 b(\(SearchError)f(string\))10
b Fu(is)i(induced.)20 b(If)11 b(it)g(cannot)g(b)q(e)h(deleted)g(for)e(some)
264 386 y(other)k(reason,)h(a)g(resp)q(onse)g(of)g(the)h(form)e
Fq(Failure)23 b(\(WriteError)f(string\))14 b Fu(is)i(induced.)218
477 y Fl(\017)23 b Fq(StatusFile)f(name)264 550 y Fu(Induces)16
b Fq(Failure)22 b(\(SearchError)h(string\))13 b Fu(if)i(an)f(ob)s(ject)g
Fq(name)g Fu(do)q(es)h(not)f(exist,)h(otherwise)264 607 y(induces)f
Fq(Str)24 b(status)12 b Fu(where)h Fq(status)f Fu(is)h(a)g(string)f(con)o
(taining,)i(in)g(this)f(order:)19 b(\(1\))11 b(either)j Fp(\023)p
Fq(t)p Fp(\023)p Fu(,)264 663 y Fp(\023)p Fq(b)p Fp(\023)p
Fu(,)h Fp(\023)p Fq(d)p Fp(\023)p Fu(,)g(or)f Fp(\023)p Fq(u)p
Fp(\023)h Fu(dep)q(ending)j(on)c(whether)i(the)f(ob)s(ject)f(is)i(a)e(text)h
(\014le,)h(binary)f(\014le,)h(directory)l(,)264 720 y(or)g(something)h(else,)
h(resp)q(ectiv)o(ely)g(\(if)f(text)g(and)g(binary)g(\014les)h(cannot)f(b)q(e)
g(distinguished,)j Fp(\023)p Fq(f)p Fp(\023)264 776 y Fu(indicates)c(either)g
(text)e(or)g(binary)i(\014le\);)f(\(2\))f Fp(\023)p Fq(r)p
Fp(\023)h Fu(if)h(the)f(ob)s(ject)f(is)i(readable)f(b)o(y)g(this)g(program,)
264 833 y Fp(\023)p Fq(-)p Fp(\023)10 b Fu(if)h(not;)h(and)f(\(3\))e
Fp(\023)p Fq(w)p Fp(\023)i Fu(if)g(the)g(ob)s(ject)f(is)h(writable)g(b)o(y)f
(this)h(program,)f Fp(\023)q Fq(-)p Fp(\023)g Fu(if)h(not.)18
b(F)l(or)10 b(example)264 889 y Fq("dr-")17 b Fu(denotes)h(a)g(directory)g
(that)f(can)h(b)q(e)h(read)e(but)h(not)g(written.)28 b(An)18
b(implemen)o(tation)h(is)264 945 y(free)c(to)f(app)q(end)j(more)e(status)f
(information)h(to)g(this)g(string.)221 1063 y Fp(Note)e(1.)19
b Fu(A)11 b(prop)q(er)h(implemen)o(tation)h(of)e Fq(ReadFile)g
Fu(or)g Fq(ReadBinFile)f Fu(ma)o(y)h(ha)o(v)o(e)g(to)g(mak)o(e)g(copies)150
1120 y(of)18 b(\014les)i(in)f(order)f(to)g(preserv)o(e)h(referen)o(tial)g
(transparency|a)g(successful)g(read)g(of)f(a)g(\014le)i(returns)e(a)150
1176 y Fp(lazy)g(list)f Fu(whose)h(con)o(ten)o(ts)g(should)h(b)q(e)f(preserv)
o(ed,)h(despite)g(future)f(writes)g(to)f(or)h(deletions)h(of)f(that)150
1232 y(\014le,)e(ev)o(en)f(if)h(the)f(lazy)h(list)g(has)f(not)g(y)o(et)g(b)q
(een)h(completely)h(ev)m(aluated.)221 1311 y Fp(Note)f(2.)k
Fu(Giv)o(en)c(the)f(t)o(w)o(o)f(juxtap)q(osed)h(requests:)221
1389 y Fq([)23 b(...,)h(WriteFile)e(name)i(contents1,)e(ReadFile)h(name,)g
(...)g(])150 1468 y Fu(with)16 b(the)f(corresp)q(onding)h(resp)q(onses:)221
1546 y Fq([)23 b(...,)h(Success,)e(Str)i(contents2,)e(...)i(])150
1624 y Fu(then)17 b Fq(contents1)23 b(==)h(contents2)15 b Fu(if)j
Fq(contents1)d Fu(is)j(a)e(transparen)o(t)g(string,)h(assuming)h(that)e
(there)150 1681 y(w)o(ere)f(no)g(external)h(e\013ects.)j(A)c(similar)i
(result)e(w)o(ould)h(hold)g(if)g(the)f(binary)h(v)o(ersions)f(w)o(ere)g
(used.)150 1823 y Fx(7.3)56 b(Channel)19 b(System)d(Requests)150
1931 y Fu(Channels)22 b(are)e(inheren)o(tly)i(di\013eren)o(t)f(from)f
(\014les|they)j(con)o(tain)d(ephemeral)i(streams)e(of)g(data)g(as)150
1987 y(opp)q(osed)g(to)e(p)q(ersisten)o(t)i(stationary)e(v)m(alues.)32
b(The)20 b(most)e(common)g(c)o(hannels)j(are)d(standard)h(input)150
2043 y(\()p Fq(stdin)o Fu(\),)12 b(standard)f(output)h(\()p
Fq(stdout)o Fu(\),)g(standard)f(error)h(\()p Fq(stderr)n Fu(\),)g(and)g
(standard)g(ec)o(ho)g(\()p Fq(stdecho)o Fu(\);)150 2100 y(these)j(four)g(are)
g(the)g(only)h(required)g(c)o(hannels)h(in)f(a)f(v)m(alid)i(implemen)o
(tation.)218 2218 y Fl(\017)23 b Fq(ReadChan)94 b(name)264
2274 y(ReadBinChan)22 b(name)264 2348 y Fu(Op)q(ens)h(c)o(hannel)g
Fq(name)e Fu(for)g(input.)41 b(A)21 b(successful)j(resp)q(onse)e(returns)g
(the)f(con)o(ten)o(ts)h(of)f(the)264 2404 y(c)o(hannel)c(as)e(a)g(lazy)i
(stream)d(of)i(c)o(haracters)f([a)g(binary)h(v)m(alue].)22
b(If)16 b(the)g(c)o(hannel)h(do)q(es)f(not)g(exist)264 2461
y(the)f(resp)q(onse)i Fq(Failure)23 b(\(SearchError)f(string\))15
b Fu(is)h(induced;)h(all)g(other)e(errors)g(ha)o(v)o(e)h(form)264
2517 y Fq(Failure)23 b(\(ReadError)f(string\))o Fu(.)264 2591
y(Unlik)o(e)14 b(\014les,)h(once)e(a)g Fq(ReadChan)g Fu(or)f
Fq(ReadBinChan)g Fu(request)h(has)h(b)q(een)g(issued)h(for)d(a)h(particular)
264 2647 y(c)o(hannel,)h(it)g(cannot)f(b)q(e)h(issued)g(again)f(for)g(the)h
(same)f(c)o(hannel)h(in)g(that)f(program.)18 b(This)c(re\015ects)264
2704 y(the)h(ephemeral)h(nature)f(of)g(its)g(con)o(ten)o(ts)g(and)g(prev)o
(en)o(ts)g(a)g(serious)h(space)f(leak.)p eop
%%Page: 76 90
bop 0 50 a Fu(76)1315 b Ft(7)45 b(INPUT/OUTPUT)68 199 y Fl(\017)23
b Fq(AppendChan)94 b(name)23 b(string)114 256 y(AppendBinChan)f(name)h(bin)
114 331 y Fu(W)l(rites)18 b Fq(string)g Fu([)p Fq(bin)o Fu(])g(to)f(c)o
(hannel)j Fq(name)p Fu(.)29 b(The)18 b(seman)o(tics)h(is)g(as)f(for)f
Fq(AppendFile)o Fu(,)i(except:)114 387 y(\(1\))h(the)h(second)h(argumen)o(t)f
(is)h(app)q(ended)h(to)d(whatev)o(er)h(w)o(as)g(previously)h(written)g(\(if)f
(an)o(y-)114 444 y(thing\);)d(\(2\))e(if)i Fq(AppendChan)e
Fu(and)h Fq(AppendBinChan)f Fu(are)h(b)q(oth)g(issued)i(to)e(the)g(same)g(c)o
(hannel,)114 500 y(the)k(resulting)i(b)q(eha)o(viour)f(is)g(not)f(sp)q
(eci\014ed;)27 b(\(3\))21 b(if)h(the)f(c)o(hannel)i(do)q(es)f(not)f(exist,)i
(the)f(re-)114 557 y(sp)q(onse)h Fq(Failure)e(\(SearchError)g(string\))g
Fu(is)i(induced;)28 b(and)22 b(\(4\))g(if)g(the)h(maxim)o(um)f(line)114
613 y(or)e(page)h(length)h(of)f Fq(stdout)o Fu(,)h Fq(stderr)p
Fu(,)g(or)e Fq(stdecho)h Fu(is)g(exceeded,)j(the)d(resp)q(onse)h
Fq(Failure)114 670 y(\(FormatError)d(string\))h Fu(is)h(induced)i(\(see)e
(Section)h(7.1.2\).)34 b(All)23 b(other)d(errors)g(ha)o(v)o(e)h(form)114
726 y Fq(Failure)15 b(\(WriteError)g(string\))p Fu(.)24 b(Both)16
b(requests)h(are)f(h)o(yp)q(erstrict)h(in)h(their)f(second)g(argu-)114
782 y(men)o(t.)68 876 y Fl(\017)23 b Fq(StatusChan)f(name)114
951 y Fu(Induces)e Fq(Failure)j(\(SearchError)f(string\))c
Fu(if)h(c)o(hannel)h Fq(name)e Fu(do)q(es)h(not)f(exist,)i(otherwise)114
1008 y(induces)f Fq(Str)k(status)17 b Fu(where)h Fq(status)e
Fu(is)i(a)f(string)h(con)o(taining)g(implemen)o(tation-dep)q(endent)114
1064 y(information)e(ab)q(out)h(the)f(named)h(c)o(hannel.)25
b(The)17 b(only)g(information)g(required)h(of)e(a)g(v)m(alid)i(im-)114
1121 y(plemen)o(tation)f(is)g(that)f(for)g(the)g(output)h(c)o(hannels)g
Fq(stdout)o Fu(,)g Fq(stdecho)o Fu(,)f(and)h Fq(stderr)o Fu(:)23
b(the)16 b(b)q(e-)114 1177 y(ginning)h(of)e(the)h(status)f(string)g(m)o(ust)g
(con)o(tain)h(t)o(w)o(o)f(in)o(tegers)g(separated)h(b)o(y)f(a)h(space,)g(the)
f(\014rst)114 1234 y(in)o(teger)j(indicating)j(the)e(maxim)o(um)f(line)j
(length)e(\(in)g(c)o(haracters\))f(allo)o(w)o(ed)h(on)f(the)h(c)o(hannel,)114
1290 y(the)14 b(second)g(indicating)i(the)e(maxim)o(um)g(page)g(length)h
(\(in)g(lines\))g(allo)o(w)o(ed)f(\(see)g(Section)h(7.1.2\).)114
1347 y(A)g(zero)g(length)h(implies)h(that)e(there)g(is)h(no)f(b)q(ound.)0
1493 y Fx(7.4)56 b(En)n(vironmen)n(t)17 b(Requests)68 1604
y Fl(\017)23 b Fq(Echo)g(bool)114 1679 y(Echo)g(True)c Fu(enables)h(ec)o
(hoing)h(of)e Fq(stdin)f Fu(on)i Fq(stdecho)o Fu(;)h Fq(Echo)i(False)c
Fu(disables)i(it)f(\(see)f(Sec-)114 1736 y(tion)c(7.1.4\).)j(Either)e
Fq(Success)e Fu(or)h Fq(Failure)22 b(\(OtherError)h(string\))14
b Fu(is)i(induced.)114 1811 y(The)i(ec)o(ho)f(mo)q(de)h(can)g(only)h(b)q(e)f
(set)g(once)g(b)o(y)f(a)h(particular)g(program,)f(and)h(it)g(m)o(ust)f(b)q(e)
i(done)114 1867 y(b)q(efore)c(an)o(y)f(I/O)i(op)q(eration)f(in)o(v)o(olving)h
Fq(stdin)o Fu(.)k(If)15 b(no)g Fq(Echo)f Fu(request)h(is)h(made,)e(a)h(v)m
(alid)h(imple-)114 1924 y(men)o(tation)f(is)h(exp)q(ected)g(to)f(use)h(the)f
(ec)o(hoing)h(mo)q(de)g(of)f(the)h(OS)g(at)e(the)i(time)g(the)f(program)f(is)
114 1980 y(run.)68 2074 y Fl(\017)23 b Fq(GetArgs)114 2149
y Fu(Induces)18 b(the)g(resp)q(onse)g Fq(StrList)23 b(str_list)o
Fu(,)17 b(where)h Fq(str_list)e Fu(is)i(a)f(list)h(of)f(the)h(program's)114
2205 y(explicit)f(command)e(line)i(argumen)o(ts.)68 2299 y
Fl(\017)23 b Fq(GetProgName)114 2374 y Fu(Returns)11 b(the)g(short)f(name)h
(of)g(the)g(curren)o(t)f(program,)h(not)f(including)k(searc)o(h)c(path)h
(information.)114 2431 y(If)i(successful,)h(the)f(resp)q(onse)g(will)h(b)q(e)
f(of)g(the)f(form)g Fq(Str)24 b(s)p Fu(,)12 b(where)h Fq(s)g
Fu(is)g(a)f(string.)19 b(If)13 b(the)g(op)q(erat-)114 2487
y(ing)k(system)f(is)h(unable)g(to)f(pro)o(vide)h(the)g(program)e(name,)i
Fq(Failure)23 b(\(OtherError)f(string\))114 2544 y Fu(is)15
b(induced.)p eop
%%Page: 77 91
bop 150 50 a Ft(7.5)45 b(Con)o(tin)o(uation-based)15 b(I/O)1176
b Fu(77)218 199 y Fl(\017)23 b Fq(GetEnv)g(name)264 274 y Fu(Returns)c(the)f
(v)m(alue)i(of)e(en)o(vironmen)o(t)h(v)m(ariable)h Fq(name)o
Fu(.)30 b(If)18 b(successful,)j(the)d(resp)q(onse)h(will)h(b)q(e)264
331 y(of)15 b(the)i(form)e Fq(Str)24 b(s)p Fu(,)16 b(where)g
Fq(s)g Fu(is)h(a)f(string.)23 b(If)16 b(the)g(en)o(vironmen)o(t)h(v)m
(ariable)g(do)q(es)g(not)f(exist,)g(a)264 387 y Fq(SearchError)d
Fu(is)j(induced.)218 481 y Fl(\017)23 b Fq(SetEnv)g(name)g(string)264
556 y Fu(Sets)15 b(en)o(vironmen)o(t)g(v)m(ariable)h Fq(name)e
Fu(to)h(v)m(alue)h Fq(string)o Fu(,)e(with)i(resp)q(onse)f
Fq(Success)o Fu(.)20 b(If)15 b(the)g(en)o(vi-)264 613 y(ronmen)o(t)f(v)m
(ariable)j(do)q(es)e(not)g(exist,)g(it)h(is)g(created.)150
759 y Fx(7.5)56 b(Con)n(tin)n(uation-based)19 b(I/O)150 870
y Fu(Hask)o(ell)11 b(supp)q(orts)g(an)f(alternativ)o(e)h(st)o(yle)g(of)f(I/O)
h(called)h Fp(c)n(ontinuation-b)n(ase)n(d)f(I/O)p Fu(.)e(Under)i(this)g(mo)q
(del,)150 927 y(a)j(Hask)o(ell)h(program)f(still)h(has)g(t)o(yp)q(e)f
Fq([Response]->[Request])m Fu(,)g(but)h(instead)g(of)f(the)g(user)h(manipu-)
150 983 y(lating)h(the)f(requests)f(and)i(resp)q(onses)f(directly)l(,)h(a)f
(collection)h(of)f Fp(tr)n(ansactions)f Fu(de\014ned)i(in)g(a)e(con)o(tin)o
(u-)150 1039 y(ation)h(st)o(yle,)g(captures)g(the)h(e\013ect)f(of)f(eac)o(h)i
(request/resp)q(onse)f(pair.)221 1121 y(T)l(ransactions)h(are)g(functions.)25
b(F)l(or)16 b(eac)o(h)h(request)g Fq(Req)f Fu(there)g(corresp)q(onds)h(a)g
(transaction)f Fq(req)o Fu(,)150 1177 y(as)24 b(sho)o(wn)g(in)h(Figures)f
(15{16.)46 b(F)l(or)24 b(example,)j Fq(ReadFile)c Fu(induces)j(either)f(a)f
(failure)h(resp)q(onse)150 1234 y Fq(Failure)e(msg)e Fu(or)g(success)h(resp)q
(onse)g Fq(Str)i(contents)n Fu(.)39 b(In)22 b(con)o(trast)e(the)i
(transaction)f Fq(readFile)150 1290 y Fu(w)o(ould)16 b(b)q(e)f(used)h(in)g
(con)o(tin)o(uation-based)g(I/O,)g(as)e(for)h(example,)221
1370 y Fq(readFile)22 b(name)i(\(\\)f(msg)h(->)f(errorTransaction\))555
1427 y(\(\\)g(contents)g(->)h(successTransaction\))150 1504
y Fu(where)12 b(the)g(second)g(and)g(third)g(argumen)o(ts)f(are)h(the)g
Fp(failur)n(e)h(c)n(ontinuation)e Fu(and)h Fp(suc)n(c)n(ess)f(c)n
(ontinuation)p Fu(,)150 1561 y(resp)q(ectiv)o(ely)l(.)40 b(If)21
b(the)h(transaction)f(fails)h(then)f(the)h(error)e(con)o(tin)o(uation)i(is)g
(applied)h(to)d(the)i(error)150 1617 y(message;)17 b(if)g(it)g(succeeds)h
(then)f(the)g(success)h(con)o(tin)o(uation)f(is)g(applied)i(to)d(the)h(con)o
(ten)o(ts)f(of)g(the)h(\014le.)150 1673 y(The)k(follo)o(wing)g(t)o(yp)q(e)g
(synon)o(yms)f(and)h(auxiliary)h(functions)f(are)f(de\014ned)i(for)e(con)o
(tin)o(uation-based)150 1730 y(I/O:)221 1810 y Fq(type)47 b(Dialogue)118
b(=)48 b([Response])22 b(->)i([Request])221 1866 y(type)47
b(SuccCont)118 b(=)382 b(Dialogue)221 1923 y(type)47 b(StrCont)142
b(=)48 b(String)118 b(->)24 b(Dialogue)221 1979 y(type)47 b(StrListCont)f(=)i
([String])70 b(->)24 b(Dialogue)221 2036 y(type)47 b(BinCont)142
b(=)48 b(Bin)190 b(->)24 b(Dialogue)221 2092 y(type)47 b(FailCont)118
b(=)48 b(IOError)94 b(->)24 b(Dialogue)p eop
%%Page: 78 92
bop 0 50 a Fu(78)1315 b Ft(7)45 b(INPUT/OUTPUT)p 9 205 1767
2 v 9 1350 2 1145 v 39 265 a Fq(done)238 b(::)1145 b(Dialogue)39
321 y(readFile)142 b(::)23 b(String)g(->)263 b(FailCont)22
b(->)i(StrCont)118 b(->)24 b(Dialogue)39 378 y(writeFile)118
b(::)23 b(String)g(->)h(String)f(->)h(FailCont)e(->)i(SuccCont)94
b(->)24 b(Dialogue)39 434 y(appendFile)94 b(::)23 b(String)g(->)h(String)f
(->)h(FailCont)e(->)i(SuccCont)94 b(->)24 b(Dialogue)39 491
y(readBinFile)70 b(::)23 b(String)g(->)263 b(FailCont)22 b(->)i(BinCont)118
b(->)24 b(Dialogue)39 547 y(writeBinFile)46 b(::)23 b(String)g(->)h(Bin)95
b(->)24 b(FailCont)e(->)i(SuccCont)94 b(->)24 b(Dialogue)39
604 y(appendBinFile)e(::)h(String)g(->)h(Bin)95 b(->)24 b(FailCont)e(->)i
(SuccCont)94 b(->)24 b(Dialogue)39 660 y(deleteFile)94 b(::)23
b(String)g(->)263 b(FailCont)22 b(->)i(SuccCont)94 b(->)24
b(Dialogue)39 717 y(statusFile)94 b(::)23 b(String)g(->)263
b(FailCont)22 b(->)i(StrCont)118 b(->)24 b(Dialogue)39 773
y(readChan)142 b(::)23 b(String)g(->)263 b(FailCont)22 b(->)i(StrCont)118
b(->)24 b(Dialogue)39 829 y(appendChan)94 b(::)23 b(String)g(->)h(String)f
(->)h(FailCont)e(->)i(SuccCont)94 b(->)24 b(Dialogue)39 886
y(readBinChan)70 b(::)23 b(String)g(->)263 b(FailCont)22 b(->)i(BinCont)118
b(->)24 b(Dialogue)39 942 y(appendBinChan)e(::)h(String)g(->)h(Bin)95
b(->)24 b(FailCont)e(->)i(SuccCont)94 b(->)24 b(Dialogue)39
999 y(statusChan)94 b(::)23 b(String)g(->)263 b(FailCont)22
b(->)i(StrCont)118 b(->)24 b(Dialogue)39 1055 y(echo)238 b(::)23
b(Bool)71 b(->)263 b(FailCont)22 b(->)i(SuccCont)94 b(->)24
b(Dialogue)39 1112 y(getArgs)166 b(::)501 b(FailCont)22 b(->)i(StrListCont)e
(->)i(Dialogue)39 1168 y(getProgName)70 b(::)501 b(FailCont)22
b(->)i(StrCont)118 b(->)24 b(Dialogue)39 1225 y(getEnv)190
b(::)23 b(String)g(->)263 b(FailCont)22 b(->)i(StrCont)118
b(->)24 b(Dialogue)39 1281 y(setEnv)190 b(::)23 b(String)g(->)h(String)f(->)h
(FailCont)e(->)i(SuccCont)94 b(->)24 b(Dialogue)p 1774 1350
V 9 1352 1767 2 v 265 1501 a Fu(Figure)15 b(15:)20 b(T)l(ransactions)15
b(of)g(con)o(tin)o(uation-based)h(I/O)f({)g(signatures.)71
1635 y Fq(strDispatch)22 b(fail)h(succ)h(\(resp:resps\))e(=)357
1691 y(case)h(resp)h(of)f(Str)h(val)119 b(->)23 b(succ)g(val)h(resps)667
1748 y(Failure)f(msg)h(->)f(fail)g(msg)h(resps)71 1804 y(strListDispatch)d
(fail)j(succ)f(\(resp:resps\))f(=)357 1860 y(case)h(resp)h(of)f(StrList)g
(val)h(->)f(succ)g(val)h(resps)667 1917 y(Failure)f(msg)h(->)f(fail)g(msg)h
(resps)71 1973 y(binDispatch)e(fail)h(succ)h(\(resp:resps\))e(=)357
2030 y(case)h(resp)h(of)f(Bn)h(val)143 b(->)23 b(succ)g(val)h(resps)667
2086 y(Failure)f(msg)h(->)f(fail)g(msg)h(resps)71 2143 y(succDispatch)e(fail)
h(succ)g(\(resp:resps\))g(=)357 2199 y(case)g(resp)h(of)f(Success)119
b(->)23 b(succ)g(resps)667 2256 y(Failure)g(msg)h(->)f(fail)g(msg)h(resps)p
eop
%%Page: 79 93
bop 150 50 a Ft(7.5)45 b(Con)o(tin)o(uation-based)15 b(I/O)1176
b Fu(79)p 159 653 1767 2 v 159 2094 2 1442 v 189 716 a Fq(done)23
b(resps)g(=)h([])189 773 y(readFile)e(name)i(fail)f(succ)g(resps)h(=)286
b(--similarly)22 b(for)i(readBinFile)260 829 y(\(ReadFile)f(name\))g(:)h
(strDispatch)e(fail)h(succ)h(resps)189 886 y(writeFile)e(name)i(contents)e
(fail)i(succ)f(resps)g(=)48 b(--similarly)22 b(for)i(writeBinFile)260
942 y(\(WriteFile)f(name)g(contents\))g(:)g(succDispatch)g(fail)g(succ)g
(resps)189 999 y(appendFile)f(name)h(contents)g(fail)h(succ)f(resps)g(=)h
(--similarly)e(for)i(appendBinFile)260 1055 y(\(AppendFile)f(name)g
(contents\))g(:)g(succDispatch)f(fail)i(succ)f(resps)189 1111
y(deleteFile)f(name)h(fail)h(succ)f(resps)g(=)260 1168 y(\(DeleteFile)g
(name\))g(:)h(succDispatch)e(fail)h(succ)g(resps)189 1224 y(statusFile)f
(name)h(fail)h(succ)f(resps)g(=)239 b(--similarly)22 b(for)i(statusChan)260
1281 y(\(StatusFile)f(name\))g(:)h(strDispatch)e(fail)h(succ)g(resps)189
1337 y(readChan)f(name)i(fail)f(succ)g(resps)h(=)286 b(--similarly)22
b(for)i(readBinChan)260 1394 y(\(ReadChan)f(name\))g(:)h(strDispatch)e(fail)h
(succ)h(resps)189 1450 y(appendChan)e(name)h(contents)g(fail)h(succ)f(resps)g
(=)h(--similarly)e(for)i(appendBinChan)260 1507 y(\(AppendChan)f(name)g
(contents\))g(:)g(succDispatch)f(fail)i(succ)f(resps)189 1563
y(echo)g(bool)g(fail)h(succ)f(resps)g(=)260 1620 y(\(Echo)g(bool\))h(:)f
(succDispatch)g(fail)g(succ)g(resps)189 1676 y(getArgs)g(fail)g(succ)g(resps)
g(=)260 1732 y(GetArgs)g(:)h(strListDispatch)e(fail)h(succ)g(resps)189
1789 y(getProgName)f(fail)h(succ)h(resps)f(=)260 1845 y(GetProgName)g(:)g
(strDispatch)g(fail)g(succ)g(resps)189 1902 y(getEnv)g(name)g(fail)g(succ)h
(resps)f(=)260 1958 y(\(GetEnv)g(name\))g(:)h(strDispatch)e(fail)i(succ)f
(resps)189 2015 y(setEnv)g(name)g(contents)g(fail)g(succ)g(resps)h(=)260
2071 y(\(SetEnv)f(name)g(contents\))g(:)h(succDispatch)e(fail)h(succ)h(resps)
p 1924 2094 V 159 2096 1767 2 v 413 2245 a Fu(Figure)15 b(16:)k(T)l
(ransactions)c(of)g(con)o(tin)o(uation-based)h(I/O)g({)f(de\014nitions.)p
eop
%%Page: 80 94
bop 0 50 a Fu(80)1315 b Ft(7)45 b(INPUT/OUTPUT)71 193 y Fq(abort)118
b(::)48 b(FailCont)71 250 y(abort)23 b(err)47 b(=)h(done)71
329 y(exit)118 b(::)48 b(FailCont)71 386 y(exit)23 b(err)47
b(=)h(appendChan)22 b(stderr)h(msg)h(abort)f(done)381 442 y(where)g(msg)g(=)h
(case)f(err)h(of)g(ReadError)70 b(s)24 b(->)f(s)954 499 y(WriteError)46
b(s)24 b(->)f(s)954 555 y(SearchError)f(s)i(->)f(s)954 612
y(FormatError)f(s)i(->)f(s)954 668 y(OtherError)46 b(s)24 b(->)f(s)71
779 y(print)261 b(::)24 b(\(Text)f(a\))h(=>)f(a)h(->)g(Dialogue)71
835 y(print)f(x)214 b(=)48 b(appendChan)22 b(stdout)i(\(show)f(x\))g(exit)h
(done)71 892 y(prints)237 b(::)24 b(\(Text)f(a\))h(=>)f(a)h(->)g(String)f(->)
g(Dialogue)71 948 y(prints)g(x)g(s)143 b(=)48 b(appendChan)22
b(stdout)i(\(shows)f(x)g(s\))h(exit)f(done)71 1028 y(interact)46
b(::)i(\(String)23 b(->)g(String\))g(->)h(Dialogue)71 1084
y(interact)e(f)i(=)g(readChan)f(stdin)g(exit)596 1141 y(\(\\x)g(->)h
(appendChan)e(stdout)h(\(f)h(x\))f(exit)h(done\))0 1282 y Fx(7.6)56
b(A)19 b(Small)e(Example)0 1391 y Fu(Both)12 b(of)h(the)f(follo)o(wing)i
(programs)d(prompt)h(the)h(user)g(for)f(the)h(name)f(of)h(a)f(\014le,)i(and)f
(then)g(lo)q(ok)g(up)g(and)0 1447 y(displa)o(y)19 b(the)e(con)o(ten)o(ts)g
(of)g(the)h(\014le)h(on)e(standard-output.)27 b(The)18 b(\014lename)g(as)g(t)
o(yp)q(ed)g(b)o(y)f(the)h(user)f(is)0 1504 y(also)e(ec)o(ho)q(ed.)21
b(The)15 b(\014rst)g(program)f(uses)i(the)f(stream-based)g(st)o(yle)g(\(note)
g(the)g(irrefutable)h(patterns\):)71 1582 y Fq(main)23 b(~\(Success)g(:)g
(~\(\(Str)g(userInput\))g(:)h(~\(Success)e(:)i(~\(r4)f(:)h(_\)\)\)\))f(=)118
1638 y([)h(AppendChan)f(stdout)g("please)f(type)i(a)g(filename\\n",)166
1695 y(ReadChan)f(stdin,)166 1751 y(AppendChan)g(stdout)g(name,)166
1808 y(ReadFile)g(name,)166 1864 y(AppendChan)g(stdout)g(\(case)g(r4)g(of)h
(Str)f(contents)95 b(->)23 b(contents)882 1921 y(Failure)g(ioerror)g(->)g
("can't)g(open)h(file"\))118 1977 y(])g(where)f(\(name)g(:)h(_\))g(=)f(lines)
h(userInput)0 2053 y Fu(The)15 b(second)h(program)e(uses)i(the)f(con)o(tin)o
(uation-based)h(st)o(yle:)71 2128 y Fq(main)23 b(=)h(appendChan)e(stdout)h
("please)g(type)g(a)h(filename\\n")e(exit)i(\()238 2185 y(readChan)e(stdin)i
(exit)f(\(\\)g(userInput)g(->)238 2241 y(let)g(\(name)g(:)h(_\))g(=)f(lines)g
(userInput)g(in)238 2298 y(appendChan)f(stdout)h(name)g(exit)h(\()238
2354 y(readFile)e(name)i(\(\\)f(ioerror)g(->)h(appendChan)e(stdout)906
2411 y("can't)h(open)g(file")g(exit)h(done\))572 2467 y(\(\\)f(contents)g(->)
238 2524 y(appendChan)f(stdout)h(contents)g(exit)g(done\)\)\)\))71
2647 y Fu(More)14 b(examples)h(and)g(a)g(general)g(discussion)h(of)e(b)q(oth)
h(forms)f(of)h(I/O)g(ma)o(y)f(b)q(e)h(found)g(in)h(a)e(rep)q(ort)0
2704 y(b)o(y)h(Hudak)h(and)f(Sundaresh)h([8)o(].)p eop
%%Page: 81 95
bop 150 50 a Ft(7.7)45 b(An)15 b(Example)h(In)o(v)o(olving)g(Sync)o
(hronisation)875 b Fu(81)150 199 y Fx(7.7)56 b(An)19 b(Example)d(In)n(v)n
(olving)i(Sync)n(hronisation)150 310 y Fu(The)c(follo)o(wing)h(program)d
(reads)i(t)o(w)o(o)f(n)o(um)o(b)q(ers)h(and)g(prin)o(ts)g(their)g(sum.)20
b(After)13 b(the)h(initial)i Fq(readChan)150 366 y Fu(request,)j(the)f(v)m
(alue)i(of)e(the)g(input)h(stream)f(m)o(ust)g(b)q(e)h(passed)f(in)h(and)g
(out)f(of)g(the)g(functions)h(whic)o(h)150 423 y(actually)c(obtain)g(the)g
(user)f(input.)21 b(The)15 b(programmer)e(m)o(ust)h(con)o(trol)g(the)g(sync)o
(hronisation)i(b)q(et)o(w)o(een)150 479 y(the)d Fq(appendChan)e
Fu(requests)i(and)g(when)g(the)g(program)e(stops)i(to)f(read)g(input.)20
b(The)13 b Fq(readChan)f Fu(request)150 536 y(do)q(es)j(not)f(actually)i
(cause)f(the)g(program)f(to)g(stop)g(and)h(w)o(ait)f(for)g(the)h(user)g(to)f
(en)o(ter)h(the)g(en)o(tire)g(input)150 592 y(stream;)j(only)g(at)f(demands)h
(for)f(actual)g(input)i(c)o(haracters)e(will)i(execution)g(pause)e(for)g
(input.)28 b(This)150 649 y(program)15 b(assures)h(that)g(this)g(demand)h(is)
g(prop)q(erly)g(sync)o(hronised)g(with)g(the)f Fq(appendChan)f
Fu(requests)150 705 y(b)o(y)g(v)o(erifying)h(input)g(v)m(alues)h(in)f(the)f
Fq(readInt)f Fu(function.)221 783 y Fq(main)23 b(::)g(Dialogue)221
862 y(main)g(=)h(readChan)e(stdin)i(exit)f(\(\\)g(userInput)g(->)h(readNums)e
(\(lines)i(userInput\)\))221 942 y(readNums)e(::)i([String])f(->)g(Dialogue)
221 1022 y(readNums)f(inputLines)h(=)292 1078 y(readInt)g("Enter)g(first)g
(number:)g(")h(inputLines)340 1135 y(\(\\)f(num1)h(inputLines1)e(->)459
1191 y(readInt)h("Enter)g(second)g(number:)g(")h(inputLines1)531
1247 y(\(\\)f(num2)h(_)f(->)h(reportResult)e(num1)i(num2\)\))221
1304 y(reportResult)e(::)h(Int)h(->)f(Int)h(->)f(Dialogue)221
1384 y(reportResult)f(num1)h(num2)g(=)268 1440 y(appendChan)g(stdout)g
(\("Their)g(sum)g(is:)h(")f(++)h(show)f(\(num1)g(+)h(num2\)\))f(exit)h(done)
221 1555 y(--)f(readInt)g(prints)g(a)h(prompt)f(and)g(then)h(reads)f(a)h
(line)f(of)g(input.)47 b(If)24 b(the)221 1611 y(--)f(line)g(contains)g(an)h
(integer,)f(the)g(value)g(of)h(the)f(integer)g(is)h(passed)f(to)g(the)221
1668 y(--)g(success)g(continuation.)46 b(If)24 b(a)f(line)h(cannot)f(be)g
(parsed)g(as)h(an)g(integer,)221 1724 y(--)f(an)h(error)f(message)g(is)g
(printed)g(and)h(the)f(user)h(is)f(asked)g(to)h(try)f(again.)221
1780 y(--)g(If)h(EOF)f(is)h(detected,)e(the)i(program)f(is)g(aborted.)221
1860 y(readInt)f(::)i(String)f(->)h([String])e(->)i(\(Int)f(->)h([String])f
(->)g(Dialogue\))g(->)h(Dialogue)221 1940 y(readInt)e(prompt)i(inputLines)e
(succ)h(=)268 1996 y(appendChan)g(stdout)g(prompt)g(exit)316
2053 y(\(case)g(inputLines)g(of)388 2109 y(\(l1)g(:)h(rest\))f(->)h(case)f
(\(reads)g(l1\))g(of)793 2166 y([\(x,""\)])g(->)h(succ)f(x)h(rest)793
2222 y(_)191 b(->)24 b(appendChan)e(stdout)1127 2279 y("Error)h(-)h(retype)f
(the)h(number\\n")e(exit)1151 2335 y(\(readInt)h(prompt)g(rest)g(succ\))388
2392 y(_)262 b(->)24 b(appendChan)e(stdout)h("Early)g(EOF")g(exit)h(done\))p
eop
%%Page: 82 96
bop 0 50 a Fu(82)1178 b Ft(A)45 b(ST)l(AND)o(ARD)16 b(PRELUDE)0
199 y Fy(A)67 b(Standard)24 b(Prelude)0 326 y Fu(In)15 b(this)g(app)q(endix)i
(the)d(en)o(tire)i(Hask)o(ell)f(prelude)h(is)f(giv)o(en.)21
b(It)14 b(is)h(organised)g(in)o(to)g(a)f(ro)q(ot)g(mo)q(dule)i(and)0
382 y(eigh)o(t)f(sub-mo)q(dules.)0 484 y Fq(--)24 b(Standard)e(value)i
(bindings)0 564 y(module)f(Prelude)g(\()95 621 y(PreludeCore..,)f
(PreludeRatio..,)g(PreludeComplex..,)g(PreludeList..,)95 677
y(PreludeArray..,)g(PreludeText..,)g(PreludeIO..,)95 733 y(nullBin,)h
(isNullBin,)g(appendBin,)95 790 y(\(&&\),)h(\(||\),)f(not,)g(otherwise,)95
846 y(minChar,)g(maxChar,)g(ord,)g(chr,)95 903 y(isAscii,)g(isControl,)g
(isPrint,)f(isSpace,)95 959 y(isUpper,)h(isLower,)g(isAlpha,)g(isDigit,)g
(isAlphanum,)95 1016 y(toUpper,)g(toLower,)95 1072 y(minInt,)g(maxInt,)g
(subtract,)g(gcd,)g(lcm,)h(\(^\),)f(\(^^\),)95 1129 y(fromIntegral,)g
(fromRealFrac,)f(atan2,)95 1185 y(fst,)i(snd,)f(id,)h(const,)f(\(.\),)g
(flip,)g(\($\),)g(until,)g(asTypeOf,)g(error)g(\))h(where)0
1280 y(import)f(PreludeBuiltin)0 1336 y(import)g(PreludeCore)0
1392 y(import)g(PreludeList)0 1449 y(import)g(PreludeArray)0
1505 y(import)g(PreludeRatio)0 1562 y(import)g(PreludeComplex)0
1618 y(import)g(PreludeText)0 1675 y(import)g(PreludeIO)0 1769
y(infixr)g(9)48 b(.)0 1826 y(infixr)23 b(8)48 b(^,)23 b(^^)0
1882 y(infixr)g(3)48 b(&&)0 1939 y(infixr)23 b(2)48 b(||)0
1995 y(infixr)23 b(0)48 b($)0 2090 y(--)24 b(Binary)f(functions)0
2169 y(nullBin)405 b(::)23 b(Bin)0 2226 y(nullBin)405 b(=)47
b(primNullBin)0 2320 y(isNullBin)357 b(::)23 b(Bin)h(->)f(Bool)0
2377 y(isNullBin)357 b(=)47 b(primIsNullBin)0 2471 y(appendBin)357
b(::)23 b(Bin)h(->)f(Bin)h(->)f(Bin)0 2528 y(appendBin)357
b(=)47 b(primAppendBin)p eop
%%Page: 83 97
bop 1905 50 a Fu(83)150 193 y Fq(--)24 b(Boolean)e(functions)150
273 y(\(&&\),)h(\(||\))334 b(::)23 b(Bool)h(->)f(Bool)h(->)f(Bool)150
329 y(True)47 b(&&)24 b(x)334 b(=)47 b(x)150 386 y(False)23
b(&&)h(_)334 b(=)47 b(False)150 442 y(True)g(||)24 b(_)334
b(=)47 b(True)150 499 y(False)23 b(||)h(x)334 b(=)47 b(x)150
593 y(not)501 b(::)23 b(Bool)h(->)f(Bool)150 650 y(not)g(True)382
b(=)47 b(False)150 706 y(not)23 b(False)358 b(=)47 b(True)150
800 y(otherwise)357 b(::)23 b(Bool)150 857 y(otherwise)357
b(=)47 b(True)150 951 y(--)24 b(Character)e(functions)150 1031
y(minChar,)h(maxChar)190 b(::)23 b(Char)150 1088 y(minChar)405
b(=)23 b('\\0')150 1144 y(maxChar)405 b(=)23 b('\\255')150
1239 y(ord)501 b(::)23 b(Char)h(->)f(Int)150 1295 y(ord)501
b(=)47 b(primCharToInt)150 1389 y(chr)501 b(::)23 b(Int)h(->)f(Char)150
1446 y(chr)501 b(=)47 b(primIntToChar)150 1540 y(isAscii,)23
b(isControl,)f(isPrint,)h(isSpace)285 b(::)24 b(Char)f(->)h(Bool)150
1597 y(isUpper,)f(isLower,)g(isAlpha,)f(isDigit,)h(isAlphanum)46
b(::)24 b(Char)f(->)h(Bool)150 1691 y(isAscii)f(c)358 b(=)47
b(ord)24 b(c)f(<)h(128)150 1748 y(isControl)f(c)310 b(=)47
b(c)24 b(<)g(')f(')h(||)g(c)g(==)f('\\DEL')150 1804 y(isPrint)g(c)358
b(=)47 b(c)24 b(>=)g(')f(')h(&&)g(c)f(<=)h('~')150 1861 y(isSpace)f(c)358
b(=)47 b(c)24 b(==)g(')f(')h(||)g(c)f(==)h('\\t')f(||)h(c)g(==)f('\\n')h(||)
794 1917 y(c)g(==)g('\\r')f(||)h(c)f(==)h('\\f')f(||)h(c)f(==)h('\\v')150
1974 y(isUpper)f(c)358 b(=)47 b(c)24 b(>=)g('A')f(&&)h(c)f(<=)h('Z')150
2030 y(isLower)f(c)358 b(=)47 b(c)24 b(>=)g('a')f(&&)h(c)f(<=)h('z')150
2087 y(isAlpha)f(c)358 b(=)47 b(isUpper)23 b(c)h(||)g(isLower)e(c)150
2143 y(isDigit)h(c)358 b(=)47 b(c)24 b(>=)g('0')f(&&)h(c)f(<=)h('9')150
2199 y(isAlphanum)e(c)287 b(=)47 b(isAlpha)23 b(c)h(||)g(isDigit)e(c)150
2294 y(toUpper,)h(toLower)190 b(::)23 b(Char)h(->)f(Char)150
2350 y(toUpper)g(c)h(|)f(isLower)g(c)72 b(=)23 b(chr)h(\(\(ord)f(c)h(-)g(ord)
f('a'\))g(+)h(ord)f('A'\))389 2407 y(|)g(otherwise)71 b(=)23
b(c)150 2501 y(toLower)g(c)h(|)f(isUpper)g(c)72 b(=)23 b(chr)h(\(\(ord)f(c)h
(-)g(ord)f('A'\))g(+)h(ord)f('a'\))389 2558 y(|)g(otherwise)71
b(=)23 b(c)p eop
%%Page: 84 98
bop 0 50 a Fu(84)1178 b Ft(A)45 b(ST)l(AND)o(ARD)16 b(PRELUDE)0
193 y Fq(--)24 b(Numeric)e(functions)0 273 y(minInt,)h(maxInt)47
b(::)23 b(Int)0 329 y(minInt)238 b(=)47 b(primMinInt)0 386
y(maxInt)238 b(=)47 b(primMaxInt)0 480 y(subtract)190 b(::)23
b(\(Num)h(a\))f(=>)h(a)g(->)f(a)h(->)g(a)0 537 y(subtract)190
b(=)47 b(flip)24 b(\(-\))0 631 y(gcd)310 b(::)23 b(\(Integral)g(a\))h(=>)f(a)
h(->)g(a)f(->)h(a)0 688 y(gcd)f(0)h(0)215 b(=)47 b(error)24
b("gcd{Prelude}:)e(gcd)h(0)h(0)f(is)h(undefined")0 744 y(gcd)f(x)h(y)215
b(=)47 b(gcd')24 b(\(abs)f(x\))h(\(abs)f(y\))453 800 y(where)h(gcd')f(x)h(0)
47 b(=)h(x)597 857 y(gcd')23 b(x)h(y)47 b(=)h(gcd')23 b(y)h(\(x)f(`rem`)h
(y\))0 951 y(lcm)310 b(::)23 b(\(Integral)g(a\))h(=>)f(a)h(->)g(a)f(->)h(a)0
1008 y(lcm)f(_)h(0)215 b(=)47 b(0)0 1064 y(lcm)23 b(0)h(_)215
b(=)47 b(0)0 1121 y(lcm)23 b(x)h(y)215 b(=)47 b(abs)24 b(\(\(x)f(`quot`)g
(\(gcd)h(x)f(y\)\))h(*)g(y\))0 1215 y(\(^\))310 b(::)23 b(\(Num)h(a,)f
(Integral)g(b\))h(=>)f(a)h(->)g(b)f(->)h(a)0 1272 y(x)g(^)f(0)263
b(=)47 b(1)0 1328 y(x)24 b(^)f(\(n+1\))167 b(=)47 b(f)24 b(x)g(n)g(x)453
1385 y(where)g(f)f(_)h(0)g(y)f(=)h(y)597 1441 y(f)f(x)h(n)g(y)f(=)h(g)g(x)g
(n)47 b(where)835 1498 y(g)24 b(x)g(n)f(|)h(even)f(n)48 b(=)24
b(g)f(\(x*x\))h(\(n)f(`quot`)g(2\))978 1554 y(|)h(otherwise)f(=)g(f)h(x)g
(\(n-1\))f(\(x*y\))0 1610 y(_)h(^)f(_)263 b(=)24 b(error)f("\(^\){Prelude}:)f
(negative)g(exponent")0 1705 y(\(^^\))286 b(::)23 b(\(Fractional)g(a,)g
(Integral)g(b\))h(=>)f(a)h(->)g(b)f(->)h(a)0 1761 y(x)g(^^)f(n)239
b(=)47 b(if)24 b(n)g(>=)f(0)h(then)f(x^n)h(else)f(recip)g(\(x^\(-n\)\))0
1856 y(fromIntegral)94 b(::)23 b(\(Integral)g(a,)h(Num)f(b\))h(=>)f(a)h(->)g
(b)0 1912 y(fromIntegral)94 b(=)47 b(fromInteger)23 b(.)g(toInteger)0
2007 y(fromRealFrac)94 b(::)23 b(\(RealFrac)g(a,)h(Fractional)e(b\))i(=>)f(a)
h(->)g(b)0 2063 y(fromRealFrac)94 b(=)47 b(fromRational)23
b(.)g(toRational)0 2158 y(atan2)262 b(::)23 b(\(RealFloat)g(a\))g(=>)h(a)g
(->)f(a)h(->)g(a)0 2214 y(atan2)f(y)h(x)167 b(=)47 b(case)24
b(\(signum)f(y,)g(signum)g(x\))h(of)573 2271 y(\()f(0,)h(1\))g(->)47
b(0)573 2327 y(\()23 b(1,)h(0\))g(->)47 b(pi/2)573 2384 y(\()23
b(0,-1\))h(->)47 b(pi)573 2440 y(\(-1,)23 b(0\))h(->)f(-pi/2)573
2496 y(\()g(_,)h(1\))g(->)47 b(atan)23 b(\(y/x\))573 2553 y(\()g(_,-1\))h(->)
47 b(atan)23 b(\(y/x\))h(+)f(pi)573 2609 y(\()g(0,)h(0\))g(->)47
b(error)23 b("atan2{Prelude}:)f(atan2)h(of)h(origin")p eop
%%Page: 85 99
bop 1905 50 a Fu(85)150 193 y Fq(--)24 b(Some)f(standard)g(functions:)150
250 y(--)h(component)e(projections)h(for)g(pairs:)150 306 y(fst)501
b(::)23 b(\(a,b\))g(->)h(a)150 362 y(fst)f(\(x,y\))358 b(=)47
b(x)150 457 y(snd)501 b(::)23 b(\(a,b\))g(->)h(b)150 513 y(snd)f(\(x,y\))358
b(=)47 b(y)150 608 y(--)24 b(identity)e(function)150 664 y(id)525
b(::)23 b(a)h(->)g(a)150 721 y(id)g(x)477 b(=)47 b(x)150 815
y(--)24 b(constant)e(function)150 872 y(const)453 b(::)23 b(a)h(->)g(b)f(->)h
(a)150 928 y(const)f(x)h(_)358 b(=)47 b(x)150 1023 y(--)24
b(function)e(composition)150 1079 y(\(.\))501 b(::)23 b(\(b)h(->)f(c\))h(->)g
(\(a)f(->)h(b\))f(->)h(a)g(->)f(c)150 1136 y(f)h(.)f(g)454
b(=)47 b(\\)24 b(x)g(->)f(f)h(\(g)g(x\))150 1230 y(--)g(flip)f(f)47
b(takes)24 b(its)f(\(first\))g(two)g(arguments)g(in)h(the)f(reverse)g(order)g
(of)h(f.)150 1287 y(flip)477 b(::)23 b(\(a)h(->)f(b)h(->)g(c\))f(->)h(b)g(->)
f(a)h(->)g(c)150 1343 y(flip)f(f)h(x)g(y)334 b(=)47 b(f)24
b(y)g(x)150 1437 y(--)g(right-associating)d(infix)i(application)g(operator)f
(\(useful)h(in)h(continuation-)150 1494 y(--)g(passing)e(style\))150
1550 y(\($\))501 b(::)23 b(\(a)h(->)f(b\))h(->)g(a)f(->)h(b)150
1607 y(f)g($)f(x)454 b(=)47 b(f)24 b(x)150 1701 y(--)g(until)f(p)g(f)48
b(yields)23 b(the)h(result)f(of)g(applying)g(f)h(until)f(p)h(holds.)150
1758 y(until)453 b(::)23 b(\(a)h(->)f(Bool\))h(->)f(\(a)h(->)f(a\))h(->)g(a)f
(->)h(a)150 1814 y(until)f(p)h(f)g(x)f(|)h(p)g(x)167 b(=)47
b(x)436 1871 y(|)24 b(otherwise)f(=)47 b(until)23 b(p)h(f)g(\(f)g(x\))150
1965 y(--)g(asTypeOf)e(is)i(a)g(type-restricted)d(version)i(of)h(const.)47
b(It)23 b(is)h(usually)f(used)150 2022 y(--)h(as)f(an)h(infix)f(operator,)g
(and)g(its)g(typing)h(forces)f(its)g(first)g(argument)150 2078
y(--)h(\(which)f(is)g(usually)g(overloaded\))f(to)i(have)f(the)h(same)f(type)
g(as)h(the)g(second.)150 2134 y(asTypeOf)381 b(::)23 b(a)h(->)g(a)f(->)h(a)
150 2191 y(asTypeOf)381 b(=)47 b(const)p eop
%%Page: 86 100
bop 0 50 a Fu(86)1178 b Ft(A)45 b(ST)l(AND)o(ARD)16 b(PRELUDE)0
199 y Fx(A.1)56 b(Prelude)18 b Fb(PreludeBu)o(ilt)o(in)0 310
y Fq(interface)23 b(PreludeBuiltin)45 b(where)0 400 y(infixr)23
b(5)h(:)0 495 y(--)g(The)f(following)g(are)g(algebraic)g(types)g(with)g
(special)g(syntax.)47 b(All)23 b(of)h(their)0 551 y(--)g(standard)e
(instances)h(are)g(derived)g(here,)h(except)f(for)g(class)g(Text,)g(for)0
608 y(--)h(which)f(the)g(special)g(syntax)g(must)g(be)h(taken)f(into)h
(account.)46 b(See)24 b(PreludeText)0 664 y(--)g(for)f(the)g(Text)h
(instances)e(of)i(lists)f(and)h(the)f(trivial)g(type)g(and)h(a)g(scheme)0
721 y(--)g(for)f(Tuple)g(Text)h(instances.)0 777 y(--)0 833
y(--)g(data)f([a])g(=)h([])g(|)f(a)h(:)g([a])47 b(deriving)23
b(\(Eq,)g(Ord,)h(Binary\))118 b(Lists)0 890 y(--)24 b(data)f(\(\))g(=)h(\(\))
48 b(deriving)22 b(\(Eq,)i(Ord,)f(Ix,)h(Enum,)f(Binary\))142
b(Trivial)23 b(Type)0 946 y(--)h(data)f(\(a,b\))g(=)h(\(a,b\))47
b(deriving)23 b(\(Eq,)g(Ord,)g(Ix,)h(Binary\))142 b(Pairs)0
1003 y(--)24 b(data)f(\(a,b,c\))g(=)h(\(a,b,c\))46 b(deriving)23
b(\(Eq,)g(Ord,)h(Ix,)f(Binary\))47 b(Triples)0 1059 y(--)24
b(et)f(cetera)1121 b(Other)23 b(Tuples)0 1162 y(--)h(The)f(primitive)g
(types:)0 1242 y(data)g(Char)0 1298 y(data)g(Int)0 1355 y(data)g(Integer)0
1411 y(data)g(Float)0 1468 y(data)g(Double)0 1524 y(data)g(Bin)0
1619 y(instance)g(Binary)g(Char)0 1675 y(instance)g(Binary)g(Int)0
1732 y(instance)g(Binary)g(Integer)0 1788 y(instance)g(Binary)g(Float)0
1844 y(instance)g(Binary)g(Double)0 1939 y(primMinInt,)f(primMaxInt)238
b(::)23 b(Int)0 1995 y(primCharToInt)452 b(::)23 b(Char)h(->)f(Int)0
2052 y(primIntToChar)452 b(::)23 b(Int)h(->)f(Char)0 2108 y(primIntToInteger)
380 b(::)23 b(Int)h(->)f(Integer)0 2165 y(primIntegerToInt)380
b(::)23 b(Integer)g(->)h(Int)0 2259 y(primEqInt,)e(primLeInt)286
b(::)23 b(Int)h(->)f(Int)h(->)f(Bool)0 2316 y(primPlusInt,)f(primMulInt)214
b(::)23 b(Int)h(->)f(Int)h(->)f(Int)0 2372 y(primNegInt)524
b(::)23 b(Int)h(->)f(Int)0 2429 y(primQuotRemInt)428 b(::)23
b(Int)h(->)f(Int)h(->)f(\(Int,Int\))0 2523 y(primEqInteger,)f(primLeInteger)
94 b(::)23 b(Integer)g(->)h(Integer)f(->)g(Bool)0 2580 y(primPlusInteger,)f
(primMulInteger)g(::)h(Integer)g(->)h(Integer)f(->)g(Integer)0
2636 y(primNegInteger)428 b(::)23 b(Integer)g(->)h(Integer)0
2692 y(primQuotRemInteger)332 b(::)23 b(Integer)g(->)h(Integer)f(->)g
(\(Integer,Integer\))p eop
%%Page: 87 101
bop 150 50 a Ft(A.1)45 b(Prelude)16 b Fq(PreludeBuiltin)1137
b Fu(87)150 193 y Fq(primFloatRadix)619 b(::)23 b(Integer)150
250 y(primFloatDigits,)f(primFloatMinExp,)245 306 y(primFloatMaxExp)500
b(::)23 b(Int)150 362 y(primDecodeFloat)595 b(::)23 b(Float)g(->)h
(\(Integer,Int\))150 419 y(primEncodeFloat)595 b(::)23 b(Integer)g(->)h(Int)f
(->)h(Float)150 475 y(primEqFloat,)e(primLeFloat)381 b(::)23
b(Float)g(->)h(Float)f(->)h(Bool)150 532 y(primPlusFloat,)e(primMulFloat,)245
588 y(primDivFloat)572 b(::)23 b(Float)g(->)h(Float)f(->)h(Float)150
645 y(primNegFloat)667 b(::)23 b(Float)g(->)h(Float)150 739
y(primPiFloat)691 b(::)23 b(Float)150 796 y(primExpFloat,)f(primLogFloat,)245
852 y(primSqrtFloat,)g(primSinFloat,)245 909 y(primCosFloat,)h(primTanFloat,)
245 965 y(primAsinFloat,)f(primAcosFloat,)245 1022 y(primAtanFloat,)g
(primSinhFloat,)245 1078 y(primCoshFloat,)g(primTanhFloat,)245
1134 y(primAsinhFloat,)g(primAcoshFloat,)245 1191 y(primAtanhFloat)524
b(::)23 b(Float)g(->)h(Float)150 1285 y(primDoubleRadix)595
b(::)23 b(Integer)150 1342 y(primDoubleDigits,)f(primDoubleMinExp,)245
1398 y(primDoubleMaxExp)476 b(::)23 b(Int)150 1455 y(primDecodeDouble)571
b(::)23 b(Double)g(->)h(\(Integer,Int\))150 1511 y(primEncodeDouble)571
b(::)23 b(Integer)g(->)h(Int)f(->)h(Double)150 1568 y(primEqDouble,)e
(primLeDouble)333 b(::)23 b(Double)g(->)h(Double)f(->)g(Bool)150
1624 y(primPlusDouble,)f(primMulDouble,)245 1681 y(primDivDouble)548
b(::)23 b(Double)g(->)h(Double)f(->)g(Double)150 1737 y(primNegDouble)643
b(::)23 b(Double)g(->)h(Double)150 1793 y(primPiDouble)667
b(::)23 b(Double)150 1850 y(primExpDouble,)f(primLogDouble,)245
1906 y(primSqrtDouble,)g(primSinDouble,)245 1963 y(primCosDouble,)g
(primTanDouble,)245 2019 y(primAsinDouble,)g(primAcosDouble,)245
2076 y(primAtanDouble,)g(primSinhDouble,)245 2132 y(primCoshDouble,)g
(primTanhDouble,)245 2189 y(primAsinhDouble,)g(primAcoshDouble,)245
2245 y(primAtanhDouble)500 b(::)23 b(Double)g(->)h(Double)150
2340 y(primNullBin)691 b(::)23 b(Bin)150 2396 y(primIsNullBin)643
b(::)23 b(Bin)h(->)f(Bool)150 2452 y(primAppendBin)643 b(::)23
b(Bin)h(->)f(Bin)h(->)f(Bin)p eop
%%Page: 88 102
bop 0 50 a Fu(88)1178 b Ft(A)45 b(ST)l(AND)o(ARD)16 b(PRELUDE)0
193 y Fq(--)24 b(error)f(is)g(applied)g(to)h(a)g(string,)e(returns)h(any)h
(type,)f(and)g(is)h(everywhere)0 250 y(--)g(undefined.)e(Operationally,)g
(the)h(intent)h(is)f(that)g(its)h(application)0 306 y(--)g(terminate)e
(execution)h(of)g(the)h(program)f(and)g(display)g(the)h(argument)e(string)0
362 y(--)i(in)f(some)g(appropriate)g(way.)0 419 y(error)453
b(::)23 b(String)g(->)h(a)p eop
%%Page: 89 103
bop 150 50 a Ft(A.2)45 b(Prelude)16 b Fq(PreludeCore)1209 b
Fu(89)150 199 y Fx(A.2)56 b(Prelude)18 b Fb(PreludeCo)o(re)150
297 y Fq(--)24 b(Standard)e(types,)h(classes,)g(and)h(instances)150
377 y(module)f(PreludeCore)f(\()245 433 y(Eq\(\(==\),)h(\(/=\)\),)245
490 y(Ord\(\(<\),)g(\(<=\),)g(\(>=\),)h(\(>\),)f(max,)g(min\),)245
546 y(Num\(\(+\),)g(\(-\),)h(\(*\),)f(negate,)g(abs,)g(signum,)g
(fromInteger\),)245 603 y(Integral\(quot,)f(rem,)i(div,)f(mod,)g(quotRem,)g
(divMod,)g(even,)g(odd,)h(toInteger\),)245 659 y(Fractional\(\(/\),)e
(fromRational\),)245 716 y(Floating\(pi,)h(exp,)g(log,)g(sqrt,)g(\(**\),)h
(logBase,)460 772 y(sin,)g(cos,)f(tan,)g(asin,)g(acos,)h(atan,)460
829 y(sinh,)f(cosh,)h(tanh,)f(asinh,)g(acosh,)g(atanh\),)245
885 y(Real\(toRational\),)245 941 y(RealFrac\(properFraction,)e(truncate,)i
(round,)g(ceiling,)f(floor\),)245 998 y(RealFloat\(floatRadix,)f
(floatDigits,)i(floatRange,)484 1054 y(encodeFloat,)f(decodeFloat,)h
(exponent,)f(significand,)g(scaleFloat\),)245 1111 y(Ix\(range,)h(index,)g
(inRange\),)245 1167 y(Enum\(enumFrom,)f(enumFromThen,)g(enumFromTo,)h
(enumFromThenTo\),)245 1224 y(Text\(readsPrec,)f(showsPrec,)h(readList,)f
(showList\),)h(ReadS\(..\),)f(ShowS\(..\),)245 1280 y(Binary\(readBin,)g
(showBin\),)150 1337 y(--)47 b(List)24 b(type:)f([_]\(\(:\),)g([]\))150
1393 y(--)47 b(Tuple)24 b(types:)f(\(_,_\),)g(\(_,_,_\),)f(etc.)150
1450 y(--)47 b(Trivial)23 b(type:)h(\(\))245 1506 y(Bool\(True,)f(False\),)
245 1562 y(Char,)h(Int,)f(Integer,)g(Float,)g(Double,)g(Bin,)245
1619 y(Ratio,)g(Complex\(\(:+\)\),)f(Assoc\(\(:=\)\),)h(Array,)245
1675 y(String\(..\),)g(Rational\(..\))f(\))48 b(where)150 1770
y(import)23 b(PreludeBuiltin)150 1826 y(import)g(Prelude\(iterate\))150
1883 y(import)g(PreludeText\(Text\(readsPrec)o(,)e(showsPrec,)i(readList,)f
(showList\)\))150 1939 y(import)h(PreludeRatio\(Ratio,)e(Rational\(..\)\))150
1996 y(import)i(PreludeComplex\(Complex\(\(:+)o(\)\)\))150
2052 y(import)g(PreludeArray\(Assoc\(\(:=\)\),)d(Array\))150
2109 y(import)j(PreludeIO\(Request,)e(Response,)i(IOError,)556
2165 y(Dialogue\(..\),)f(SuccCont\(..\),)g(StrCont\(..\),)556
2221 y(StrListCont\(..\),)f(BinCont\(..\),)i(FailCont\(..\)\))150
2316 y(infixr)g(8)48 b(**)150 2372 y(infixl)23 b(7)48 b(*,)23
b(/,)h(`quot`,)f(`rem`,)g(`div`,)g(`mod`)150 2429 y(infixl)g(6)48
b(+,)23 b(-)150 2485 y(infix)47 b(4)h(==,)23 b(/=,)h(<,)f(<=,)h(>=,)f(>)p
eop
%%Page: 90 104
bop 0 50 a Fu(90)1178 b Ft(A)45 b(ST)l(AND)o(ARD)16 b(PRELUDE)0
193 y Fq(--)24 b(Equality)e(and)i(Ordered)f(classes)0 273 y(class)47
b(Eq)24 b(a)47 b(where)95 329 y(\(==\),)24 b(\(/=\))238 b(::)23
b(a)h(->)g(a)f(->)h(Bool)95 409 y(x)g(/=)g(y)334 b(=)47 b(not)24
b(\(x)f(==)h(y\))0 503 y(class)47 b(\(Eq)23 b(a\))h(=>)g(Ord)f(a)48
b(where)95 560 y(\(<\),)24 b(\(<=\),)f(\(>=\),)g(\(>\)::)g(a)h(->)g(a)f(->)h
(Bool)95 616 y(max,)g(min)286 b(::)23 b(a)h(->)g(a)f(->)h(a)95
696 y(x)g(<)48 b(y)334 b(=)47 b(x)24 b(<=)g(y)f(&&)h(x)g(/=)f(y)95
753 y(x)h(>=)g(y)334 b(=)47 b(y)24 b(<=)g(x)95 809 y(x)g(>)48
b(y)334 b(=)47 b(y)24 b(<)48 b(x)95 889 y(--)24 b(The)f(following)g(default)g
(methods)g(are)g(appropriate)g(for)g(partial)g(orders.)95 945
y(--)h(Note)f(that)h(the)f(second)g(guards)g(in)h(each)f(function)g(can)g(be)
h(replaced)95 1002 y(--)g(by)g("otherwise")e(and)h(the)h(error)f(cases,)g
(eliminated)g(for)g(total)g(orders.)95 1058 y(max)h(x)g(y)f(|)h(x)g(>=)f(y)96
b(=)47 b(x)286 1114 y(|)24 b(y)g(>=)f(x)96 b(=)47 b(y)286 1171
y(|otherwise)g(=)g(error)23 b("max{PreludeCore}:)f(no)h(ordering)g(relation")
95 1227 y(min)h(x)g(y)f(|)h(x)g(<=)f(y)96 b(=)47 b(x)286 1284
y(|)24 b(y)g(<=)f(x)96 b(=)47 b(y)286 1340 y(|otherwise)g(=)g(error)23
b("min{PreludeCore}:)f(no)h(ordering)g(relation")0 1435 y(--)h(Numeric)e
(classes)0 1514 y(class)47 b(\(Eq)23 b(a,)h(Text)f(a\))h(=>)g(Num)f(a)48
b(where)95 1571 y(\(+\),)24 b(\(-\),)f(\(*\))167 b(::)23 b(a)h(->)g(a)f(->)h
(a)95 1627 y(negate)334 b(::)23 b(a)h(->)g(a)95 1684 y(abs,)g(signum)214
b(::)23 b(a)h(->)g(a)95 1740 y(fromInteger)214 b(::)23 b(Integer)g(->)h(a)95
1820 y(x)g(-)g(y)358 b(=)47 b(x)24 b(+)g(negate)f(y)0 1914
y(class)47 b(\(Num)23 b(a,)h(Enum)f(a\))h(=>)f(Real)h(a)47
b(where)95 1971 y(toRational)238 b(::)47 b(a)24 b(->)f(Rational)p
eop
%%Page: 91 105
bop 150 50 a Ft(A.2)45 b(Prelude)16 b Fq(PreludeCore)1209 b
Fu(91)150 193 y Fq(class)47 b(\(Real)23 b(a,)h(Ix)f(a\))h(=>)g(Integral)e(a)
48 b(where)245 250 y(quot,)24 b(rem,)f(div,)g(mod)h(::)f(a)h(->)g(a)f(->)h(a)
245 306 y(quotRem,)f(divMod)119 b(::)23 b(a)h(->)g(a)f(->)h(\(a,a\))245
362 y(even,)g(odd)262 b(::)23 b(a)h(->)g(Bool)245 419 y(toInteger)262
b(::)23 b(a)h(->)g(Integer)245 499 y(n)g(`quot`)f(d)239 b(=)47
b(q)h(where)23 b(\(q,r\))g(=)h(quotRem)f(n)h(d)245 555 y(n)g(`rem`)f(d)263
b(=)47 b(r)h(where)23 b(\(q,r\))g(=)h(quotRem)f(n)h(d)245 612
y(n)g(`div`)f(d)263 b(=)47 b(q)h(where)23 b(\(q,r\))g(=)h(divMod)f(n)h(d)245
668 y(n)g(`mod`)f(d)263 b(=)47 b(r)h(where)23 b(\(q,r\))g(=)h(divMod)f(n)h(d)
245 724 y(divMod)f(n)h(d)239 b(=)47 b(if)24 b(signum)f(r)h(==)f(-)h(signum)f
(d)h(then)f(\(q-1,)g(r+d\))h(else)f(qr)794 781 y(where)g(qr@\(q,r\))g(=)h
(quotRem)f(n)h(d)245 837 y(even)g(n)334 b(=)47 b(n)24 b(`rem`)f(2)h(==)g(0)
245 894 y(odd)406 b(=)47 b(not)24 b(.)f(even)150 988 y(class)47
b(\(Num)23 b(a\))h(=>)g(Fractional)e(a)48 b(where)245 1045
y(\(/\))406 b(::)23 b(a)h(->)g(a)f(->)h(a)245 1101 y(recip)358
b(::)23 b(a)h(->)g(a)245 1158 y(fromRational)190 b(::)23 b(Rational)g(->)h(a)
245 1237 y(recip)g(x)310 b(=)47 b(1)24 b(/)g(x)150 1332 y(class)47
b(\(Fractional)22 b(a\))i(=>)g(Floating)e(a)48 b(where)245
1388 y(pi)430 b(::)23 b(a)245 1445 y(exp,)h(log,)f(sqrt)143
b(::)23 b(a)h(->)g(a)245 1501 y(\(**\),)g(logBase)166 b(::)23
b(a)h(->)g(a)f(->)h(a)245 1558 y(sin,)g(cos,)f(tan)167 b(::)23
b(a)h(->)g(a)245 1614 y(asin,)g(acos,)f(atan)95 b(::)23 b(a)h(->)g(a)245
1671 y(sinh,)g(cosh,)f(tanh)95 b(::)23 b(a)h(->)g(a)245 1727
y(asinh,)f(acosh,)h(atanh)f(::)g(a)h(->)g(a)245 1807 y(x)g(**)g(y)334
b(=)47 b(exp)24 b(\(log)f(x)h(*)g(y\))245 1863 y(logBase)f(x)h(y)215
b(=)47 b(log)24 b(y)f(/)h(log)g(x)245 1920 y(sqrt)g(x)334 b(=)47
b(x)24 b(**)g(0.5)245 1976 y(tan)48 b(x)334 b(=)47 b(sin)h(x)23
b(/)h(cos)47 b(x)245 2033 y(tanh)24 b(x)334 b(=)47 b(sinh)24
b(x)f(/)h(cosh)f(x)p eop
%%Page: 92 106
bop 0 50 a Fu(92)1178 b Ft(A)45 b(ST)l(AND)o(ARD)16 b(PRELUDE)0
193 y Fq(class)47 b(\(Real)23 b(a,)h(Fractional)e(a\))i(=>)f(RealFrac)g(a)48
b(where)95 250 y(properFraction)142 b(::)23 b(\(Integral)g(b\))h(=>)f(a)h(->)
f(\(b,a\))95 306 y(truncate,)g(round)119 b(::)23 b(\(Integral)g(b\))h(=>)f(a)
h(->)f(b)95 362 y(ceiling,)g(floor)143 b(::)23 b(\(Integral)g(b\))h(=>)f(a)h
(->)f(b)95 442 y(truncate)g(x)239 b(=)47 b(m)h(where)23 b(\(m,_\))g(=)h
(properFraction)e(x)95 522 y(round)i(x)310 b(=)47 b(let)24
b(\(n,r\))f(=)h(properFraction)e(x)740 578 y(m)119 b(=)24 b(if)f(r)h(<)g(0)f
(then)h(n)f(-)h(1)g(else)f(n)h(+)g(1)644 635 y(in)g(case)f(signum)g(\(abs)h
(r)f(-)h(0.5\))f(of)764 691 y(-1)g(->)h(n)764 748 y(0)47 b(->)24
b(if)f(even)h(n)f(then)h(n)f(else)h(m)764 804 y(1)47 b(->)24
b(m)95 884 y(ceiling)f(x)263 b(=)47 b(if)24 b(r)g(>)f(0)h(then)f(n)h(+)g(1)g
(else)f(n)644 940 y(where)g(\(n,r\))h(=)f(properFraction)f(x)95
1020 y(floor)i(x)310 b(=)47 b(if)24 b(r)g(<)f(0)h(then)f(n)h(-)g(1)g(else)f
(n)644 1076 y(where)g(\(n,r\))h(=)f(properFraction)f(x)0 1171
y(class)47 b(\(RealFrac)23 b(a,)g(Floating)g(a\))h(=>)f(RealFloat)g(a)47
b(where)95 1227 y(floatRadix)238 b(::)23 b(a)h(->)g(Integer)95
1284 y(floatDigits)214 b(::)23 b(a)h(->)g(Int)95 1340 y(floatRange)238
b(::)23 b(a)h(->)g(\(Int,Int\))95 1397 y(decodeFloat)214 b(::)23
b(a)h(->)g(\(Integer,Int\))95 1453 y(encodeFloat)214 b(::)23
b(Integer)g(->)h(Int)f(->)h(a)95 1510 y(exponent)286 b(::)23
b(a)h(->)g(Int)95 1566 y(significand)214 b(::)23 b(a)h(->)g(a)95
1623 y(scaleFloat)238 b(::)23 b(Int)h(->)f(a)h(->)g(a)95 1702
y(exponent)f(x)239 b(=)47 b(if)24 b(m)g(==)f(0)h(then)f(0)h(else)f(n)h(+)g
(floatDigits)e(x)644 1759 y(where)h(\(m,n\))h(=)f(decodeFloat)g(x)95
1838 y(significand)g(x)167 b(=)47 b(encodeFloat)23 b(m)g(\(-)h(floatDigits)e
(x\))644 1895 y(where)h(\(m,_\))h(=)f(decodeFloat)g(x)95 1975
y(scaleFloat)g(k)h(x)143 b(=)47 b(encodeFloat)23 b(m)g(\(n+k\))644
2031 y(where)g(\(m,n\))h(=)f(decodeFloat)g(x)0 2126 y(--)h(Index)f(and)g
(Enumeration)g(classes)0 2205 y(class)47 b(\(Ord)23 b(a\))h(=>)g(Ix)f(a)48
b(where)95 2262 y(range)358 b(::)23 b(\(a,a\))g(->)h([a])95
2318 y(index)358 b(::)23 b(\(a,a\))g(->)h(a)g(->)f(Int)95 2375
y(inRange)310 b(::)23 b(\(a,a\))g(->)h(a)g(->)f(Bool)p eop
%%Page: 93 107
bop 150 50 a Ft(A.2)45 b(Prelude)16 b Fq(PreludeCore)1209 b
Fu(93)150 193 y Fq(class)47 b(\(Ord)23 b(a\))h(=>)g(Enum)f(a)191
b(where)245 250 y(enumFrom)286 b(::)23 b(a)h(->)g([a])309 b(--)24
b([n..])245 306 y(enumFromThen)190 b(::)23 b(a)h(->)g(a)f(->)h([a])190
b(--)24 b([n,n'..])245 362 y(enumFromTo)238 b(::)23 b(a)h(->)g(a)f(->)h([a])
190 b(--)24 b([n..m])245 419 y(enumFromThenTo)142 b(::)23 b(a)h(->)g(a)f(->)h
(a)g(->)f([a])71 b(--)24 b([n,n'..m])245 499 y(enumFromTo)f(n)h(m)143
b(=)47 b(takeWhile)23 b(\(<=)g(m\))h(\(enumFrom)f(n\))245 555
y(enumFromThenTo)f(n)i(n')g(m)723 612 y(=)47 b(takeWhile)23
b(\(if)g(n')h(>=)g(n)f(then)h(\(<=)f(m\))h(else)f(\(>=)g(m\)\))1033
668 y(\(enumFromThen)f(n)i(n'\))150 762 y(--)g(Text)f(class)150
842 y(type)47 b(ReadS)23 b(a)h(=)g(String)f(->)g([\(a,String\)])150
899 y(type)47 b(ShowS)71 b(=)24 b(String)f(->)g(String)150
993 y(class)47 b(Text)23 b(a)48 b(where)245 1050 y(readsPrec)23
b(::)h(Int)f(->)h(ReadS)f(a)245 1106 y(showsPrec)g(::)h(Int)f(->)h(a)f(->)h
(ShowS)245 1162 y(readList)47 b(::)24 b(ReadS)f([a])245 1219
y(showList)47 b(::)24 b([a])f(->)h(ShowS)245 1299 y(readList)95
b(=)24 b(readParen)e(False)h(\(\\r)h(->)f([pr)h(|)g(\("[",s\))46
b(<-)24 b(lex)f(r,)1272 1355 y(pr)166 b(<-)24 b(readl)f(s]\))580
1412 y(where)g(readl)47 b(s)23 b(=)h([\([],t\))71 b(|)24 b(\("]",t\))46
b(<-)24 b(lex)f(s])h(++)985 1468 y([\(x:xs,u\))f(|)h(\(x,t\))94
b(<-)24 b(reads)f(s,)1272 1524 y(\(xs,u\))70 b(<-)24 b(readl')f(t])723
1581 y(readl')g(s)g(=)h([\([],t\))71 b(|)24 b(\("]",t\))46
b(<-)24 b(lex)f(s])h(++)985 1637 y([\(x:xs,v\))f(|)h(\(",",t\))46
b(<-)24 b(lex)f(s,)1272 1694 y(\(x,u\))94 b(<-)24 b(read)f(t,)1272
1750 y(\(xs,v\))70 b(<-)24 b(readl')f(u])245 1807 y(showList)g([])h(=)g
(showString)e("[]")245 1863 y(showList)h(\(x:xs\))532 1920
y(=)h(showChar)e('[')i(.)f(shows)h(x)f(.)h(showl)f(xs)580 1976
y(where)g(showl)g([])119 b(=)24 b(showChar)e(']')723 2033 y(showl)h(\(x:xs\))
g(=)h(showString)e(",)i(")f(.)h(shows)f(x)h(.)g(showl)f(xs)150
2127 y(--)h(Binary)f(class)150 2207 y(class)47 b(Binary)23
b(a)48 b(where)245 2263 y(readBin)310 b(::)23 b(Bin)h(->)f(\(a,Bin\))245
2320 y(showBin)310 b(::)23 b(a)h(->)g(Bin)f(->)h(Bin)p eop
%%Page: 94 108
bop 0 50 a Fu(94)1178 b Ft(A)45 b(ST)l(AND)o(ARD)16 b(PRELUDE)0
193 y Fq(--)24 b(Trivial)e(type)0 273 y(--)i(data)47 b(\(\))g(=)h(\(\))f
(deriving)23 b(\(Eq,)g(Ord,)h(Ix,)f(Enum,)g(Binary\))0 353
y(instance)47 b(Text)23 b(\(\))47 b(where)95 409 y(readsPrec)23
b(p)95 b(=)24 b(readParen)f(False)668 465 y(\(\\r)h(->)f([\(\(\),t\))g(|)h
(\("\(",s\))f(<-)g(lex)h(r,)1074 522 y(\("\)",t\))f(<-)g(lex)h(s)g(])f(\))95
578 y(showsPrec)g(p)h(\(\))f(=)h(showString)f("\(\)")0 673
y(--)h(Binary)f(type)0 753 y(instance)47 b(Text)23 b(Bin)47
b(where)95 809 y(readsPrec)23 b(p)h(s)47 b(=)h(error)23 b
("readsPrec{PreludeText}:)e(Cannot)i(read)g(Bin.")95 865 y(showsPrec)g(p)h(b)
47 b(=)h(showString)22 b("<<Bin>>")0 960 y(--)i(Boolean)e(type)0
1040 y(data)47 b(Bool)g(=)h(False)23 b(|)h(True)119 b(deriving)22
b(\(Eq,)i(Ord,)f(Ix,)g(Enum,)h(Text,)f(Binary\))0 1134 y(--)h(Character)e
(type)0 1214 y(instance)47 b(Eq)23 b(Char)47 b(where)95 1270
y(c)24 b(==)g(c')310 b(=)47 b(ord)24 b(c)f(==)h(ord)g(c')0
1365 y(instance)47 b(Ord)23 b(Char)47 b(where)95 1421 y(c)24
b(<=)g(c')310 b(=)47 b(ord)24 b(c)f(<=)h(ord)g(c')0 1516 y(instance)47
b(Ix)23 b(Char)47 b(where)95 1572 y(range)24 b(\(c,c'\))190
b(=)47 b([c..c'])95 1629 y(index)24 b(b@\(c,c'\))e(ci)191 1685
y(|)i(inRange)f(b)g(ci)48 b(=)f(ord)24 b(ci)f(-)h(ord)g(c)191
1741 y(|)g(otherwise)118 b(=)47 b(error)23 b("index{PreludeCore}:)f(Index)h
(out)g(of)h(range.")95 1798 y(inRange)f(\(c,c'\))g(ci)72 b(=)47
b(ord)24 b(c)f(<=)h(i)g(&&)f(i)h(<=)g(ord)f(c')644 1854 y(where)g(i)h(=)g
(ord)f(ci)0 1949 y(instance)47 b(Enum)23 b(Char)47 b(where)95
2005 y(enumFrom)23 b(c)239 b(=)47 b(map)24 b(chr)f([ord)h(c)f(..)h(ord)f
(maxChar])95 2062 y(enumFromThen)g(c)g(c')72 b(=)47 b(map)24
b(chr)f([ord)h(c,)f(ord)h(c')f(..)h(ord)f(lastChar])644 2118
y(where)g(lastChar)g(=)h(if)g(c')f(<)h(c)g(then)f(minChar)g(else)g(maxChar)p
eop
%%Page: 95 109
bop 150 50 a Ft(A.2)45 b(Prelude)16 b Fq(PreludeCore)1209 b
Fu(95)150 193 y Fq(instance)47 b(Text)23 b(Char)47 b(where)245
250 y(readsPrec)23 b(p)143 b(=)24 b(readParen)e(False)818 306
y(\(\\r)i(->)f([\(c,t\))g(|)h(\('\\'':s,t\)<-)e(lex)i(r,)1200
362 y(\(c,_\))119 b(<-)23 b(readLitChar)g(s]\))245 442 y(showsPrec)g(p)h
('\\'')f(=)h(showString)e("'\\\\''")245 499 y(showsPrec)h(p)h(c)95
b(=)24 b(showChar)f('\\'')g(.)h(showLitChar)e(c)i(.)f(showChar)g('\\'')245
578 y(readList)g(=)h(readParen)f(False)g(\(\\r)g(->)h([\(l,t\))f(|)h
(\('"':s,)e(t\))i(<-)g(lex)f(r,)1272 635 y(\(l,_\))142 b(<-)24
b(readl)f(s)h(]\))508 691 y(where)f(readl)g(\('"':s\))143 b(=)23
b([\("",s\)])651 748 y(readl)g(\('\\\\':'&':s\))g(=)g(readl)g(s)651
804 y(readl)g(s)287 b(=)23 b([\(c:cs,u\))g(|)h(\(c)f(,t\))h(<-)f(readLitChar)
g(s,)1439 861 y(\(cs,u\))g(<-)g(readl)g(t)167 b(])245 940 y(showList)23
b(cs)h(=)g(showChar)e('"')i(.)f(showl)h(cs)556 997 y(where)f(showl)g("")167
b(=)24 b(showChar)e('"')699 1053 y(showl)h(\('"':cs\))g(=)h(showString)e
("\\\\\\"")h(.)h(showl)f(cs)699 1110 y(showl)g(\(c:cs\))71
b(=)24 b(showLitChar)e(c)i(.)f(showl)h(cs)150 1204 y(type)47
b(String)23 b(=)h([Char])150 1299 y(--)g(Standard)e(Integral)h(types)150
1378 y(instance)47 b(Eq)23 b(Int)48 b(where)245 1435 y(\(==\))382
b(=)47 b(primEqInt)150 1529 y(instance)g(Eq)23 b(Integer)47
b(where)245 1586 y(\(==\))382 b(=)47 b(primEqInteger)150 1680
y(instance)g(Ord)23 b(Int)47 b(where)245 1737 y(\(<=\))382
b(=)47 b(primLeInt)150 1831 y(instance)g(Ord)23 b(Integer)47
b(where)245 1888 y(\(<=\))382 b(=)47 b(primLeInteger)150 1982
y(instance)g(Num)23 b(Int)47 b(where)245 2039 y(\(+\))406 b(=)47
b(primPlusInt)245 2095 y(negate)334 b(=)47 b(primNegInt)245
2151 y(\(*\))406 b(=)47 b(primMulInt)245 2208 y(abs)406 b(=)47
b(absReal)245 2264 y(signum)334 b(=)47 b(signumReal)245 2321
y(fromInteger)214 b(=)47 b(primIntegerToInt)p eop
%%Page: 96 110
bop 0 50 a Fu(96)1178 b Ft(A)45 b(ST)l(AND)o(ARD)16 b(PRELUDE)0
193 y Fq(instance)47 b(Num)23 b(Integer)47 b(where)95 250 y(\(+\))406
b(=)47 b(primPlusInteger)95 306 y(negate)334 b(=)47 b(primNegInteger)95
362 y(\(*\))406 b(=)47 b(primMulInteger)95 419 y(abs)406 b(=)47
b(absReal)95 475 y(signum)334 b(=)47 b(signumReal)95 532 y(fromInteger)23
b(x)167 b(=)47 b(x)0 626 y(absReal)23 b(x)95 b(|)24 b(x)g(>=)f(0)96
b(=)47 b(x)310 683 y(|)24 b(otherwise)f(=)47 b(-)24 b(x)0 777
y(signumReal)e(x)i(|)g(x)g(==)f(0)96 b(=)47 b(0)310 834 y(|)24
b(x)g(>)f(0)120 b(=)47 b(1)310 890 y(|)24 b(otherwise)f(=)g(-1)0
985 y(instance)47 b(Real)23 b(Int)47 b(where)95 1041 y(toRational)23
b(x)191 b(=)47 b(toInteger)23 b(x)h(\045)f(1)0 1136 y(instance)47
b(Real)23 b(Integer)47 b(where)95 1192 y(toRational)23 b(x)191
b(=)47 b(x)24 b(\045)g(1)0 1287 y(instance)47 b(Integral)22
b(Int)48 b(where)95 1343 y(quotRem)310 b(=)47 b(primQuotRemInt)95
1399 y(toInteger)262 b(=)47 b(primIntToInteger)0 1494 y(instance)g(Integral)
22 b(Integer)47 b(where)95 1550 y(quotRem)310 b(=)47 b(primQuotRemInteger)95
1607 y(toInteger)23 b(x)215 b(=)47 b(x)0 1701 y(instance)g(Ix)23
b(Int)48 b(where)95 1758 y(range)24 b(\(m,n\))214 b(=)47 b([m..n])95
1814 y(index)24 b(b@\(m,n\))f(i)191 1871 y(|)h(inRange)f(b)g(i)72
b(=)47 b(i)24 b(-)g(m)191 1927 y(|)g(otherwise)118 b(=)47 b(error)23
b("index{PreludeCore}:)f(Index)h(out)g(of)h(range.")95 1984
y(inRange)f(\(m,n\))h(i)119 b(=)47 b(m)24 b(<=)g(i)f(&&)h(i)g(<=)f(n)0
2078 y(instance)47 b(Ix)23 b(Integer)47 b(where)95 2134 y(range)24
b(\(m,n\))214 b(=)47 b([m..n])95 2191 y(index)24 b(b@\(m,n\))f(i)191
2247 y(|)h(inRange)f(b)g(i)72 b(=)47 b(fromInteger)23 b(\(i)g(-)h(m\))191
2304 y(|)g(otherwise)118 b(=)47 b(error)23 b("index{PreludeCore}:)f(Index)h
(out)g(of)h(range.")95 2360 y(inRange)f(\(m,n\))h(i)119 b(=)47
b(m)24 b(<=)g(i)f(&&)h(i)g(<=)f(n)0 2455 y(instance)47 b(Enum)23
b(Int)47 b(where)95 2511 y(enumFrom)286 b(=)47 b(numericEnumFrom)95
2568 y(enumFromThen)190 b(=)47 b(numericEnumFromThen)p eop
%%Page: 97 111
bop 150 50 a Ft(A.2)45 b(Prelude)16 b Fq(PreludeCore)1209 b
Fu(97)150 193 y Fq(instance)47 b(Enum)23 b(Integer)47 b(where)245
250 y(enumFrom)286 b(=)47 b(numericEnumFrom)245 306 y(enumFromThen)190
b(=)47 b(numericEnumFromThen)150 400 y(numericEnumFrom)213
b(::)23 b(\(Real)g(a\))h(=>)g(a)f(->)h([a])150 457 y(numericEnumFromThen)117
b(::)23 b(\(Real)g(a\))h(=>)g(a)f(->)h(a)g(->)f([a])150 513
y(numericEnumFrom)213 b(=)47 b(iterate)23 b(\(+1\))150 570
y(numericEnumFromThen)e(n)j(m)g(=)47 b(iterate)23 b(\(+\(m-n\)\))g(n)150
664 y(instance)47 b(Text)23 b(Int)47 b(where)245 721 y(readsPrec)23
b(p)215 b(=)23 b(readSigned)g(readDec)245 777 y(showsPrec)262
b(=)23 b(showSigned)g(showInt)150 872 y(instance)47 b(Text)23
b(Integer)47 b(where)245 928 y(readsPrec)23 b(p)215 b(=)23
b(readSigned)g(readDec)245 985 y(showsPrec)262 b(=)23 b(showSigned)g(showInt)
150 1079 y(--)h(Standard)e(Floating)h(types)150 1159 y(instance)47
b(Eq)23 b(Float)47 b(where)245 1215 y(\(==\))382 b(=)47 b(primEqFloat)150
1310 y(instance)g(Eq)23 b(Double)47 b(where)245 1366 y(\(==\))382
b(=)47 b(primEqDouble)150 1461 y(instance)g(Ord)23 b(Float)47
b(where)245 1517 y(\(<=\))382 b(=)47 b(primLeFloat)150 1612
y(instance)g(Ord)23 b(Double)47 b(where)245 1668 y(\(<=\))382
b(=)47 b(primLeDouble)150 1763 y(instance)g(Num)23 b(Float)47
b(where)245 1819 y(\(+\))406 b(=)47 b(primPlusFloat)245 1875
y(negate)334 b(=)47 b(primNegFloat)245 1932 y(\(*\))406 b(=)47
b(primMulFloat)245 1988 y(abs)406 b(=)47 b(absReal)245 2045
y(signum)334 b(=)47 b(signumReal)245 2101 y(fromInteger)23
b(n)167 b(=)47 b(encodeFloat)23 b(n)g(0)150 2196 y(instance)47
b(Num)23 b(Double)47 b(where)245 2252 y(\(+\))406 b(=)47 b(primPlusDouble)245
2309 y(negate)334 b(=)47 b(primNegDouble)245 2365 y(\(*\))406
b(=)47 b(primMulDouble)245 2422 y(abs)406 b(=)47 b(absReal)245
2478 y(signum)334 b(=)47 b(signumReal)245 2534 y(fromInteger)23
b(n)167 b(=)47 b(encodeFloat)23 b(n)g(0)150 2629 y(instance)47
b(Real)23 b(Float)47 b(where)245 2685 y(toRational)238 b(=)47
b(realFloatToRational)p eop
%%Page: 98 112
bop 0 50 a Fu(98)1178 b Ft(A)45 b(ST)l(AND)o(ARD)16 b(PRELUDE)0
193 y Fq(instance)47 b(Real)23 b(Double)47 b(where)95 250 y(toRational)238
b(=)47 b(realFloatToRational)0 344 y(realFloatToRational)21
b(x)72 b(=)47 b(\(m\0451\)*\(b\0451\)^^n)644 400 y(where)23
b(\(m,n\))h(=)f(decodeFloat)g(x)787 457 y(b)120 b(=)23 b(floatRadix)47
b(x)0 551 y(instance)g(Fractional)22 b(Float)47 b(where)95
608 y(\(/\))406 b(=)47 b(primDivFloat)95 664 y(fromRational)190
b(=)47 b(rationalToRealFloat)0 759 y(instance)g(Fractional)22
b(Double)47 b(where)95 815 y(\(/\))406 b(=)47 b(primDivDouble)95
872 y(fromRational)190 b(=)47 b(rationalToRealFloat)0 966 y
(rationalToRealFloat)21 b(x)72 b(=)23 b(x')191 1023 y(where)g(x')95
b(=)24 b(f)g(e)334 1079 y(f)g(e)71 b(=)24 b(if)g(e')f(==)h(e)f(then)h(y)g
(else)f(f)h(e')525 1136 y(where)f(y)143 b(=)24 b(encodeFloat)e(\(round)h(\(x)
h(*)g(\(1\045b\)^^e\))e(e)668 1192 y(\(_,e'\))h(=)h(decodeFloat)e(y)334
1248 y(\(_,e\))h(=)h(decodeFloat)e(\(fromInteger)h(\(numerator)f(x\))i
(`asTypeOf`)e(x')955 1305 y(/)h(fromInteger)g(\(denominator)f(x\)\))334
1361 y(b)119 b(=)24 b(floatRadix)e(x')0 1456 y(instance)47
b(Floating)22 b(Float)47 b(where)95 1512 y(pi)430 b(=)47 b(primPiFloat)95
1569 y(exp)406 b(=)47 b(primExpFloat)95 1625 y(log)406 b(=)47
b(primLogFloat)95 1682 y(sqrt)382 b(=)47 b(primSqrtFloat)95
1738 y(sin)406 b(=)47 b(primSinFloat)95 1795 y(cos)406 b(=)47
b(primCosFloat)95 1851 y(tan)406 b(=)47 b(primTanFloat)95 1908
y(asin)382 b(=)47 b(primAsinFloat)95 1964 y(acos)382 b(=)47
b(primAcosFloat)95 2020 y(atan)382 b(=)47 b(primAtanFloat)95
2077 y(sinh)382 b(=)47 b(primSinhFloat)95 2133 y(cosh)382 b(=)47
b(primCoshFloat)95 2190 y(tanh)382 b(=)47 b(primTanhFloat)95
2246 y(asinh)358 b(=)47 b(primAsinhFloat)95 2303 y(acosh)358
b(=)47 b(primAcoshFloat)95 2359 y(atanh)358 b(=)47 b(primAtanhFloat)p
eop
%%Page: 99 113
bop 150 50 a Ft(A.2)45 b(Prelude)16 b Fq(PreludeCore)1209 b
Fu(99)150 193 y Fq(instance)47 b(Floating)22 b(Double)47 b(where)245
250 y(pi)430 b(=)47 b(primPiDouble)245 306 y(exp)406 b(=)47
b(primExpDouble)245 362 y(log)406 b(=)47 b(primLogDouble)245
419 y(sqrt)382 b(=)47 b(primSqrtDouble)245 475 y(sin)406 b(=)47
b(primSinDouble)245 532 y(cos)406 b(=)47 b(primCosDouble)245
588 y(tan)406 b(=)47 b(primTanDouble)245 645 y(asin)382 b(=)47
b(primAsinDouble)245 701 y(acos)382 b(=)47 b(primAcosDouble)245
758 y(atan)382 b(=)47 b(primAtanDouble)245 814 y(sinh)382 b(=)47
b(primSinhDouble)245 871 y(cosh)382 b(=)47 b(primCoshDouble)245
927 y(tanh)382 b(=)47 b(primTanhDouble)245 983 y(asinh)358
b(=)47 b(primAsinhDouble)245 1040 y(acosh)358 b(=)47 b(primAcoshDouble)245
1096 y(atanh)358 b(=)47 b(primAtanhDouble)150 1191 y(instance)g(RealFrac)22
b(Float)47 b(where)245 1247 y(properFraction)142 b(=)47 b
(floatProperFraction)150 1342 y(instance)g(RealFrac)22 b(Double)47
b(where)245 1398 y(properFraction)142 b(=)47 b(floatProperFraction)150
1493 y(floatProperFraction)21 b(x)341 1549 y(|)j(n)f(>=)h(0)191
b(=)47 b(\(fromInteger)23 b(m)g(*)h(fromInteger)e(b)i(^)g(n,)f(0\))341
1606 y(|)h(otherwise)118 b(=)47 b(\(fromInteger)23 b(w,)g(encodeFloat)f(r)i
(n\))723 1662 y(where)f(\(m,n\))g(=)h(decodeFloat)e(x)866 1719
y(b)119 b(=)24 b(floatRadix)e(x)866 1775 y(\(w,r\))h(=)h(quotRem)f(m)g
(\(b^\(-n\)\))150 1869 y(instance)47 b(RealFloat)22 b(Float)47
b(where)245 1926 y(floatRadix)23 b(_)191 b(=)47 b(primFloatRadix)245
1982 y(floatDigits)23 b(_)167 b(=)47 b(primFloatDigits)245
2039 y(floatRange)23 b(_)191 b(=)47 b(\(primFloatMinExp,primFloatMa)o(xExp\))
245 2095 y(decodeFloat)214 b(=)47 b(primDecodeFloat)245 2152
y(encodeFloat)214 b(=)47 b(primEncodeFloat)150 2246 y(instance)g(RealFloat)22
b(Double)47 b(where)245 2303 y(floatRadix)23 b(_)191 b(=)47
b(primDoubleRadix)245 2359 y(floatDigits)23 b(_)167 b(=)47
b(primDoubleDigits)245 2416 y(floatRange)23 b(_)191 b(=)47
b(\(primDoubleMinExp,primDouble)o(MaxExp\))245 2472 y(decodeFloat)214
b(=)47 b(primDecodeDouble)245 2529 y(encodeFloat)214 b(=)47
b(primEncodeDouble)p eop
%%Page: 100 114
bop 0 50 a Fu(100)1155 b Ft(A)45 b(ST)l(AND)o(ARD)16 b(PRELUDE)0
193 y Fq(instance)47 b(Enum)23 b(Float)47 b(where)95 250 y(enumFrom)286
b(=)47 b(numericEnumFrom)95 306 y(enumFromThen)190 b(=)47 b
(numericEnumFromThen)0 400 y(instance)g(Enum)23 b(Double)47
b(where)95 457 y(enumFrom)286 b(=)47 b(numericEnumFrom)95 513
y(enumFromThen)190 b(=)47 b(numericEnumFromThen)0 608 y(instance)g(Text)23
b(Float)47 b(where)95 664 y(readsPrec)23 b(p)215 b(=)23 b(readSigned)g
(readFloat)95 721 y(showsPrec)262 b(=)23 b(showSigned)g(showFloat)0
815 y(instance)47 b(Text)23 b(Double)47 b(where)95 872 y(readsPrec)23
b(p)215 b(=)23 b(readSigned)g(readFloat)95 928 y(showsPrec)262
b(=)23 b(showSigned)g(showFloat)0 1023 y(--)h(Lists)0 1102
y(--)g(data)47 b([a])g(=)h([])23 b(|)h(a)g(:)f([a])48 b(deriving)23
b(\(Eq,)g(Ord,)g(Binary\))0 1182 y(instance)47 b(\(Text)23
b(a\))g(=>)h(Text)f([a])48 b(where)95 1239 y(readsPrec)23 b(p)215
b(=)23 b(readList)95 1295 y(showsPrec)g(p)215 b(=)23 b(showList)0
1389 y(--)h(Tuples)0 1469 y(--)g(data)47 b(\(a,b\))g(=)g(\(a,b\))g(deriving)
23 b(\(Eq,)h(Ord,)f(Ix,)g(Binary\))0 1549 y(instance)47 b(\(Text)23
b(a,)g(Text)h(b\))f(=>)h(Text)f(\(a,b\))47 b(where)95 1605
y(readsPrec)23 b(p)h(=)g(readParen)e(False)668 1662 y(\(\\r)i(->)f
([\(\(x,y\),)g(w\))h(|)f(\("\(",s\))g(<-)h(lex)f(r,)1169 1718
y(\(x,t\))71 b(<-)24 b(reads)f(s,)1169 1775 y(\(",",u\))g(<-)h(lex)f(t,)1169
1831 y(\(y,v\))71 b(<-)24 b(reads)f(u,)1169 1888 y(\("\)",w\))g(<-)h(lex)f(v)
h(])g(\))95 1967 y(showsPrec)f(p)h(\(x,y\))f(=)h(showChar)e('\(')i(.)g(shows)
f(x)h(.)f(showChar)g(',')h(.)931 2024 y(shows)f(y)h(.)f(showChar)g('\)')0
2080 y(--)h(et)f(cetera)0 2183 y(--)h(Functions)0 2263 y(instance)47
b(Text)23 b(\(a)h(->)f(b\))48 b(where)95 2319 y(readsPrec)23
b(p)h(s)47 b(=)h(error)23 b("readsPrec{PreludeCore}:)e(Cannot)i(read)g
(functions.")95 2376 y(showsPrec)g(p)h(f)47 b(=)h(showString)22
b("<<function>>")p eop
%%Page: 101 115
bop 150 50 a Ft(A.3)45 b(Prelude)16 b Fq(PreludeRatio)1162
b Fu(101)150 199 y Fx(A.3)56 b(Prelude)18 b Fb(PreludeRa)o(tio)150
297 y Fq(--)24 b(Standard)e(functions)h(on)h(rational)e(numbers)150
377 y(module)47 b(PreludeRatio)22 b(\()245 433 y(Ratio,)h(Rational\(..\),)g
(\(\045\),)g(numerator,)f(denominator,)h(approxRational)f(\))h(where)150
528 y(infixl)g(7)48 b(\045,)23 b(:\045)150 618 y(prec)g(=)h(7)150
713 y(data)47 b(\(Integral)23 b(a\))143 b(=>)23 b(Ratio)g(a)h(=)g(a)g(:\045)f
(a)48 b(deriving)23 b(\(Eq,)g(Binary\))150 769 y(type)47 b(Rational)238
b(=)47 b(Ratio)23 b(Integer)150 864 y(\(\045\))501 b(::)23
b(\(Integral)g(a\))h(=>)f(a)h(->)f(a)h(->)g(Ratio)f(a)150 920
y(numerator,)f(denominator)47 b(::)23 b(\(Integral)g(a\))h(=>)f(Ratio)g(a)h
(->)g(a)150 976 y(approxRational)237 b(::)23 b(\(RealFrac)g(a\))h(->)f(a)h
(->)f(a)h(->)g(Rational)150 1071 y(reduce)f(_)h(0)334 b(=)47
b(error)23 b("\(\045\){PreludeRatio}:)f(zero)h(denominator")150
1127 y(reduce)g(x)h(y)334 b(=)47 b(\(x)24 b(`quot`)f(d\))h(:\045)f(\(y)h
(`quot`)f(d\))794 1184 y(where)g(d)h(=)g(gcd)f(x)h(y)150 1278
y(x)g(\045)f(y)454 b(=)47 b(reduce)23 b(\(x)h(*)g(signum)f(y\))g(\(abs)h(y\))
150 1369 y(numerator)f(\(x:\045y\))190 b(=)47 b(x)150 1459
y(denominator)22 b(\(x:\045y\))143 b(=)47 b(y)150 1553 y(instance)g
(\(Integral)22 b(a\))48 b(=>)23 b(Ord)h(\(Ratio)f(a\))47 b(where)245
1610 y(\(x:\045y\))23 b(<=)h(\(x':\045y'\))47 b(=)g(x)24 b(*)g(y')f(<=)h(x')g
(*)f(y)245 1666 y(\(x:\045y\))g(<)48 b(\(x':\045y'\))f(=)g(x)24
b(*)g(y')f(<)48 b(x')24 b(*)f(y)150 1761 y(instance)47 b(\(Integral)22
b(a\))48 b(=>)23 b(Num)h(\(Ratio)f(a\))47 b(where)245 1817
y(\(x:\045y\))23 b(+)h(\(x':\045y'\))71 b(=)47 b(reduce)23
b(\(x*y')h(+)f(x'*y\))g(\(y*y'\))245 1874 y(\(x:\045y\))g(*)h(\(x':\045y'\))
71 b(=)47 b(reduce)23 b(\(x)h(*)g(x'\))f(\(y)h(*)f(y'\))245
1930 y(negate)g(\(x:\045y\))167 b(=)47 b(\(-x\))24 b(:\045)f(y)245
1987 y(abs)h(\(x:\045y\))238 b(=)47 b(abs)24 b(x)f(:\045)h(y)245
2043 y(signum)f(\(x:\045y\))167 b(=)47 b(signum)23 b(x)h(:\045)g(1)245
2100 y(fromInteger)f(x)167 b(=)47 b(fromInteger)23 b(x)g(:\045)h(1)150
2194 y(instance)47 b(\(Integral)22 b(a\))48 b(=>)23 b(Real)h(\(Ratio)f(a\))47
b(where)245 2251 y(toRational)23 b(\(x:\045y\))71 b(=)47 b(toInteger)23
b(x)h(:\045)f(toInteger)g(y)150 2345 y(instance)47 b(\(Integral)22
b(a\))48 b(=>)23 b(Fractional)g(\(Ratio)g(a\))47 b(where)245
2401 y(\(x:\045y\))23 b(/)h(\(x':\045y'\))71 b(=)47 b(\(x*y'\))23
b(\045)h(\(y*x'\))245 2458 y(recip)g(\(x:\045y\))190 b(=)47
b(if)24 b(x)g(<)f(0)h(then)f(\(-y\))h(:\045)f(\(-x\))h(else)f(y)h(:\045)f(x)
245 2514 y(fromRational)g(\(x:\045y\))g(=)47 b(fromInteger)23
b(x)g(:\045)h(fromInteger)e(y)p eop
%%Page: 102 116
bop 0 50 a Fu(102)1155 b Ft(A)45 b(ST)l(AND)o(ARD)16 b(PRELUDE)0
193 y Fq(instance)47 b(\(Integral)22 b(a\))48 b(=>)23 b(RealFrac)g(\(Ratio)g
(a\))48 b(where)95 250 y(properFraction)22 b(\(x:\045y\))h(=)h
(\(fromIntegral)e(q,)i(r:\045y\))668 306 y(where)f(\(q,r\))h(=)f(quotRem)g(x)
h(y)0 400 y(instance)47 b(\(Integral)22 b(a\))48 b(=>)23 b(Enum)h(\(Ratio)f
(a\))47 b(where)95 457 y(enumFrom)286 b(=)47 b(iterate)23 b(\(\(+\)1\))95
513 y(enumFromThen)g(n)g(m)96 b(=)47 b(iterate)23 b(\(\(+\)\(m-n\)\))g(n)0
608 y(instance)47 b(\(Integral)22 b(a\))i(=>)f(Text)h(\(Ratio)f(a\))47
b(where)95 664 y(readsPrec)23 b(p)48 b(=)f(readParen)23 b(\(p)g(>)h(prec\))
716 721 y(\(\\r)f(->)h([\(x\045y,u\))f(|)g(\(x,s\))71 b(<-)24
b(reads)f(r,)1145 777 y(\("\045",t\))g(<-)h(lex)f(s,)1145 834
y(\(y,u\))71 b(<-)24 b(reads)f(t)h(]\))95 913 y(showsPrec)f(p)h(\(x:\045y\))
47 b(=)g(showParen)23 b(\(p)h(>)f(prec\))740 970 y(\(shows)g(x)h(.)f
(showString)g(")g(\045)h(")g(.)g(shows)f(y\))0 1064 y(--)h(approxRational,)d
(applied)i(to)h(two)f(real)h(fractional)e(numbers)h(x)h(and)f(epsilon,)0
1121 y(--)h(returns)e(the)i(simplest)f(rational)f(number)i(within)f(epsilon)f
(of)i(x.)48 b(A)23 b(rational)0 1177 y(--)h(number)f(n\045d)g(in)h(reduced)f
(form)g(is)g(said)h(to)f(be)h(simpler)f(than)g(another)g(n'\045d')g(if)0
1234 y(--)h(abs)f(n)h(<=)f(abs)h(n')f(&&)h(d)g(<=)f(d'.)48
b(Any)23 b(real)g(interval)g(contains)g(a)h(unique)0 1290 y(--)g(simplest)e
(rational;)h(here,)g(for)h(simplicity,)e(we)i(assume)f(a)g(closed)g(rational)
0 1347 y(--)h(interval.)46 b(If)24 b(such)f(an)h(interval)e(includes)h(at)h
(least)f(one)g(whole)h(number,)e(then)0 1403 y(--)i(the)f(simplest)g
(rational)g(is)g(the)h(absolutely)e(least)h(whole)g(number.)47
b(Otherwise,)0 1460 y(--)24 b(the)f(bounds)g(are)h(of)f(the)h(form)f(q\0451)g
(+)h(r\045d)g(and)f(q\0451)g(+)h(r'\045d',)f(where)g(abs)h(r)g(<)f(d)0
1516 y(--)h(and)f(abs)g(r')h(<)g(d',)f(and)h(the)f(simplest)g(rational)g(is)g
(q\0451)h(+)f(the)h(reciprocal)e(of)0 1572 y(--)i(the)f(simplest)g(rational)g
(between)f(d'\045r')i(and)f(d\045r.)0 1652 y(approxRational)f(x)i(eps)95
b(=)47 b(simplest)23 b(\(x-eps\))g(\(x+eps\))191 1709 y(where)g(simplest)g(x)
h(y)f(|)h(y)g(<)f(x)144 b(=)47 b(simplest)23 b(y)h(x)644 1765
y(|)g(x)g(==)f(y)120 b(=)47 b(xr)644 1822 y(|)24 b(x)g(>)f(0)144
b(=)47 b(simplest')23 b(n)g(d)h(n')g(d')644 1878 y(|)g(y)g(<)f(0)144
b(=)47 b(-)24 b(simplest')e(\(-n'\))i(d')f(\(-n\))h(d)644 1934
y(|)g(otherwise)47 b(=)g(0)24 b(:\045)f(1)955 1991 y(where)g(xr@\(n:\045d\))f
(=)i(toRational)f(x)1098 2047 y(\(n':\045d'\))46 b(=)24 b(toRational)f(y)334
2127 y(simplest')g(n)g(d)h(n')g(d')167 b(--)23 b(assumes)g(0)h(<)f(n\045d)h
(<)g(n'\045d')573 2183 y(|)f(r)h(==)g(0)119 b(=)48 b(q)23 b(:\045)h(1)573
2240 y(|)f(q)h(/=)g(q')95 b(=)48 b(\(q+1\))23 b(:\045)g(1)573
2296 y(|)g(otherwise)47 b(=)h(\(q*n''+d''\))22 b(:\045)h(n'')883
2353 y(where)g(\(q,r\))143 b(=)47 b(quotRem)23 b(n)h(d)1026
2409 y(\(q',r'\))95 b(=)47 b(quotRem)23 b(n')h(d')1026 2466
y(\(n'':\045d''\))f(=)47 b(simplest')23 b(d')g(r')h(d)g(r)p
eop
%%Page: 103 117
bop 150 50 a Ft(A.4)45 b(Prelude)16 b Fq(PreludeComplex)1114
b Fu(103)150 199 y Fx(A.4)56 b(Prelude)18 b Fb(PreludeCo)o(mpl)o(ex)150
308 y Fq(--)24 b(Complex)e(Numbers)150 388 y(module)h(PreludeComplex)f(where)
150 483 y(infix)47 b(6)h(:+)150 573 y(data)f(\(RealFloat)23
b(a\))119 b(=>)23 b(Complex)g(a)h(=)g(a)f(:+)h(a)48 b(deriving)22
b(\(Eq,Binary,Text\))150 667 y(instance)47 b(\(RealFloat)22
b(a\))i(=>)f(Num)h(\(Complex)f(a\))47 b(where)245 724 y(\(x:+y\))23
b(+)h(\(x':+y'\))71 b(=)47 b(\(x+x'\))23 b(:+)h(\(y+y'\))245
780 y(\(x:+y\))f(-)h(\(x':+y'\))71 b(=)47 b(\(x-x'\))23 b(:+)h(\(y-y'\))245
837 y(\(x:+y\))f(*)h(\(x':+y'\))71 b(=)47 b(\(x*x'-y*y'\))23
b(:+)g(\(x*y'+y*x'\))245 893 y(negate)g(\(x:+y\))167 b(=)47
b(negate)23 b(x)h(:+)g(negate)f(y)245 950 y(abs)h(z)358 b(=)47
b(magnitude)23 b(z)h(:+)f(0)245 1006 y(signum)g(0)287 b(=)47
b(0)245 1062 y(signum)23 b(z@\(x:+y\))119 b(=)47 b(x/r)24 b(:+)f(y/r)48
b(where)23 b(r)h(=)f(magnitude)g(z)245 1119 y(fromInteger)g(n)167
b(=)47 b(fromInteger)23 b(n)g(:+)h(0)150 1213 y(instance)47
b(\(RealFloat)22 b(a\))i(=>)f(Fractional)g(\(Complex)g(a\))47
b(where)245 1270 y(\(x:+y\))23 b(/)h(\(x':+y'\))71 b(=)47 b(\(x*x''+y*y''\))
22 b(/)i(d)g(:+)f(\(y*x''-x*y''\))g(/)g(d)794 1326 y(where)g(x'')h(=)g
(scaleFloat)e(k)i(x')937 1383 y(y'')g(=)g(scaleFloat)e(k)i(y')937
1439 y(k)72 b(=)24 b(-)f(max)h(\(exponent)e(x'\))i(\(exponent)f(y'\))937
1496 y(d)72 b(=)24 b(x'*x'')f(+)g(y'*y'')245 1575 y(fromRational)g(a)143
b(=)47 b(fromRational)23 b(a)g(:+)h(0)p eop
%%Page: 104 118
bop 0 50 a Fu(104)1155 b Ft(A)45 b(ST)l(AND)o(ARD)16 b(PRELUDE)0
193 y Fq(instance)47 b(\(RealFloat)22 b(a\))i(=>)f(Floating)g(\(Complex)g
(a\))g(where)95 250 y(pi)310 b(=)48 b(pi)24 b(:+)f(0)95 306
y(exp)h(\(x:+y\))118 b(=)48 b(expx)23 b(*)h(cos)f(y)h(:+)g(expx)f(*)h(sin)f
(y)525 362 y(where)g(expx)g(=)h(exp)g(x)95 419 y(log)g(z)238
b(=)48 b(log)23 b(\(magnitude)g(z\))h(:+)f(phase)g(z)95 499
y(sqrt)h(0)214 b(=)48 b(0)95 555 y(sqrt)24 b(z@\(x:+y\))46
b(=)i(u)24 b(:+)f(\(if)h(y)f(<)h(0)g(then)f(-v)h(else)f(v\))525
612 y(where)g(\(u,v\))g(=)h(if)g(x)f(<)h(0)g(then)f(\(v',u'\))g(else)g
(\(u',v'\))668 668 y(v')95 b(=)24 b(abs)g(y)f(/)h(\(u'*2\))668
724 y(u')95 b(=)24 b(sqrt)f(\(\(magnitude)g(z)g(+)h(abs)g(x\))f(/)h(2\))95
804 y(sin)g(\(x:+y\))118 b(=)48 b(sin)23 b(x)h(*)g(cosh)f(y)h(:+)g(cos)f(x)h
(*)f(sinh)h(y)95 861 y(cos)g(\(x:+y\))118 b(=)48 b(cos)23 b(x)h(*)g(cosh)f(y)
h(:+)g(\(-)f(sin)h(x)f(*)h(sinh)f(y\))95 917 y(tan)h(\(x:+y\))118
b(=)48 b(\(sinx*coshy:+cosx*sinhy\)/\()o(cosx*co)o(shy:+\(-s)o(inx*sin)o
(hy\)\))525 974 y(where)23 b(sinx)47 b(=)24 b(sin)g(x)668 1030
y(cosx)47 b(=)24 b(cos)g(x)668 1086 y(sinhy)f(=)h(sinh)f(y)668
1143 y(coshy)g(=)h(cosh)f(y)95 1223 y(sinh)h(\(x:+y\))94 b(=)48
b(cos)23 b(y)h(*)g(sinh)f(x)h(:+)g(sin)47 b(y)24 b(*)f(cosh)h(x)95
1279 y(cosh)g(\(x:+y\))94 b(=)48 b(cos)23 b(y)h(*)g(cosh)f(x)h(:+)g(sin)f(y)h
(*)f(sinh)h(x)95 1335 y(tanh)g(\(x:+y\))94 b(=)48 b
(\(cosy*sinhx:+siny*coshx\)/\()o(cosy*co)o(shx:+sin)o(y*sinhx)o(\))525
1392 y(where)23 b(siny)47 b(=)24 b(sin)g(y)668 1448 y(cosy)47
b(=)24 b(cos)g(y)668 1505 y(sinhx)f(=)h(sinh)f(x)668 1561 y(coshx)g(=)h(cosh)
f(x)95 1641 y(asin)h(z@\(x:+y\))46 b(=)i(y':+\(-x'\))525 1697
y(where)f(\(x':+y'\))23 b(=)h(log)f(\(\(-y:+x\))g(+)g(sqrt)h(\(1)f(-)h
(z*z\)\))95 1754 y(acos)g(z@\(x:+y\))46 b(=)i(y'':+\(-x''\))525
1810 y(where)23 b(\(x'':+y''\))g(=)g(log)h(\(z)f(+)h(\(\(-y'\):+x'\)\))668
1867 y(\(x':+y'\))71 b(=)23 b(sqrt)h(\(1)f(-)h(z*z\))95 1923
y(atan)g(z@\(x:+y\))46 b(=)i(y':+\(-x'\))525 1980 y(where)23
b(\(x':+y'\))g(=)h(log)f(\(\(\(1-y\):+x\))f(/)i(sqrt)g(\(1+z*z\)\))95
2059 y(asinh)g(z)190 b(=)48 b(log)23 b(\(z)h(+)g(sqrt)f(\(1+z*z\)\))95
2116 y(acosh)h(z)190 b(=)48 b(log)23 b(\(z)h(+)g(\(z+1\))f(*)h(sqrt)f
(\(\(z-1\)/\(z+1\)\)\))95 2172 y(atanh)h(z)190 b(=)48 b(log)23
b(\(\(1+z\))g(/)h(sqrt)g(\(1-z*z\)\))0 2267 y(realPart,)f(imagPart)f(::)i
(\(RealFloat)e(a\))i(=>)g(Complex)f(a)g(->)h(a)0 2323 y(realPart)f(\(x:+y\))
47 b(=)g(x)0 2380 y(imagPart)23 b(\(x:+y\))47 b(=)g(y)0 2474
y(conjugate)190 b(::)23 b(\(RealFloat)g(a\))g(=>)h(Complex)f(a)h(->)f
(Complex)g(a)0 2531 y(conjugate)g(\(x:+y\))g(=)47 b(x)24 b(:+)g(\(-y\))0
2625 y(mkPolar)238 b(::)23 b(\(RealFloat)g(a\))g(=>)h(a)g(->)f(a)h(->)g
(Complex)e(a)0 2682 y(mkPolar)h(r)h(theta)47 b(=)g(r)24 b(*)g(cos)f(theta)g
(:+)h(r)g(*)f(sin)h(theta)p eop
%%Page: 105 119
bop 150 50 a Ft(A.4)45 b(Prelude)16 b Fq(PreludeComplex)1114
b Fu(105)150 193 y Fq(cis)334 b(::)23 b(\(RealFloat)g(a\))g(=>)h(a)g(->)f
(Complex)g(a)150 250 y(cis)g(theta)191 b(=)47 b(cos)24 b(theta)f(:+)g(sin)h
(theta)150 344 y(polar)286 b(::)23 b(\(RealFloat)g(a\))g(=>)h(Complex)f(a)h
(->)f(\(a,a\))150 400 y(polar)g(z)239 b(=)47 b(\(magnitude)23
b(z,)g(phase)h(z\))150 495 y(magnitude,)e(phase)i(::)f(\(RealFloat)g(a\))g
(=>)h(Complex)f(a)h(->)f(a)150 551 y(magnitude)g(\(x:+y\))g(=)47
b(scaleFloat)23 b(k)651 608 y(\(sqrt)g(\(\(scaleFloat)g(mk)g(x\)^2)g(+)h
(\(scaleFloat)f(mk)g(y\)^2\)\))627 664 y(where)g(k)48 b(=)24
b(max)f(\(exponent)g(x\))g(\(exponent)g(y\))770 721 y(mk)h(=)g(-)f(k)150
815 y(phase)g(\(x:+y\))119 b(=)47 b(atan2)23 b(y)h(x)p eop
%%Page: 106 120
bop 0 50 a Fu(106)1155 b Ft(A)45 b(ST)l(AND)o(ARD)16 b(PRELUDE)0
199 y Fx(A.5)56 b(Prelude)18 b Fb(PreludeLi)o(st)0 297 y Fq(--)24
b(Standard)e(list)i(functions)0 377 y(module)f(PreludeList)46
b(where)0 471 y(infixl)23 b(9)48 b(!!)0 528 y(infix)f(5)h(\\\\)0
584 y(infixr)23 b(5)48 b(++)0 641 y(infix)f(4)24 b(`elem`,)f(`notElem`)0
735 y(--)h(head)f(and)g(tail)h(extract)f(the)g(first)g(element)g(and)h
(remaining)e(elements,)0 792 y(--)i(respectively,)e(of)h(a)h(list,)f(which)g
(must)h(be)f(non-empty.)47 b(last)23 b(and)g(init)0 848 y(--)h(are)f(the)g
(dual)h(functions)e(working)h(from)h(the)f(end)h(of)f(a)h(finite)f(list,)0
905 y(--)h(rather)f(than)g(the)g(beginning.)0 984 y(head)477
b(::)23 b([a])h(->)f(a)0 1041 y(head)g(\(x:_\))334 b(=)47 b(x)0
1097 y(head)23 b([])406 b(=)47 b(error)23 b("head{PreludeList}:)f(head)h([]")
0 1192 y(last)477 b(::)23 b([a])h(->)f(a)0 1248 y(last)g([x])382
b(=)47 b(x)0 1305 y(last)23 b(\(_:xs\))310 b(=)47 b(last)24
b(xs)0 1361 y(last)f([])406 b(=)47 b(error)23 b("last{PreludeList}:)f(last)h
([]")0 1456 y(tail)477 b(::)23 b([a])h(->)f([a])0 1512 y(tail)g(\(_:xs\))310
b(=)47 b(xs)0 1568 y(tail)23 b([])406 b(=)47 b(error)23 b
("tail{PreludeList}:)f(tail)h([]")0 1663 y(init)477 b(::)23
b([a])h(->)f([a])0 1719 y(init)g([x])382 b(=)47 b([])0 1776
y(init)23 b(\(x:xs\))310 b(=)47 b(x)24 b(:)g(init)f(xs)0 1832
y(init)g([])406 b(=)47 b(error)23 b("init{PreludeList}:)f(init)h([]")0
1927 y(--)h(null)f(determines)f(if)i(a)g(list)f(is)h(empty.)0
1983 y(null)477 b(::)23 b([a])h(->)f(Bool)0 2040 y(null)g([])406
b(=)47 b(True)0 2096 y(null)23 b(\(_:_\))334 b(=)47 b(False)0
2191 y(--)24 b(list)f(concatenation)f(\(right-associative\))0
2247 y(\(++\))477 b(::)23 b([a])h(->)f([a])h(->)f([a])0 2303
y(xs)h(++)f(ys)382 b(=)47 b(foldr)23 b(\(:\))h(ys)g(xs)p eop
%%Page: 107 121
bop 150 50 a Ft(A.5)45 b(Prelude)16 b Fq(PreludeList)1186 b
Fu(107)150 193 y Fq(--)24 b(list)f(difference)f(\(non-associative\).)46
b(In)23 b(the)h(result)f(of)g(xs)h(\\\\)g(ys,)150 250 y(--)g(the)f(first)g
(occurrence)g(of)g(each)h(element)f(of)g(ys)h(in)f(turn)h(\(if)f(any\))150
306 y(--)h(has)f(been)g(removed)g(from)h(xs.)47 b(Thus,)23
b(\(xs)h(++)f(ys\))h(\\\\)f(xs)h(==)f(ys.)150 362 y(\(\\\\\))477
b(::)23 b(\(Eq)h(a\))f(=>)h([a])f(->)h([a])f(->)h([a])150 419
y(\(\\\\\))477 b(=)47 b(foldl)23 b(del)794 475 y(where)g([])h(`del`)f(_)215
b(=)24 b([])937 532 y(\(x:xs\))g(`del`)f(y)1105 588 y(|)g(x)h(==)g(y)95
b(=)24 b(xs)1105 645 y(|)f(otherwise)g(=)h(x)f(:)h(xs)g(`del`)f(y)150
739 y(--)h(length)f(returns)g(the)g(length)g(of)h(a)f(finite)g(list)h(as)f
(an)h(Int;)f(it)h(is)f(an)h(instance)150 796 y(--)g(of)f(the)h(more)f
(general)g(genericLength,)f(the)h(result)g(type)h(of)f(which)g(may)h(be)150
852 y(--)g(any)f(kind)g(of)h(number.)150 932 y(genericLength)261
b(::)23 b(\(Num)h(a\))f(=>)h([b])f(->)h(a)150 988 y(genericLength)261
b(=)47 b(foldl)23 b(\(\\n)h(_)g(->)f(n+1\))h(0)150 1083 y(length)429
b(::)23 b([a])h(->)f(Int)150 1139 y(length)429 b(=)47 b(genericLength)150
1234 y(--)24 b(List)f(index)g(\(subscript\))f(operator,)h(0-origin)150
1290 y(\(!!\))477 b(::)23 b(\(Integral)g(a\))h(=>)f([b])h(->)f(a)h(->)f(b)150
1347 y(\(x:_\))47 b(!!)24 b(0)310 b(=)47 b(x)150 1403 y(\(_:xs\))23
b(!!)h(\(n+1\))214 b(=)47 b(xs)24 b(!!)f(n)150 1460 y(\(_:_\))47
b(!!)24 b(_)310 b(=)47 b(error)23 b("\(!!\){PreludeList}:)f(negative)h
(index")150 1516 y([])119 b(!!)24 b(\(_+1\))214 b(=)47 b(error)23
b("\(!!\){PreludeList}:)f(index)h(too)g(large")150 1610 y(--)h(map)f(f)h(xs)f
(applies)g(f)h(to)g(each)f(element)g(of)g(xs;)h(i.e.,)f(map)g(f)h(xs)g(==)f
([f)h(x)g(|)f(x)h(<-)g(xs].)150 1667 y(map)501 b(::)23 b(\(a)h(->)f(b\))h(->)
g([a])f(->)h([b])150 1723 y(map)f(f)h([])382 b(=)47 b([])150
1780 y(map)23 b(f)h(\(x:xs\))286 b(=)47 b(f)24 b(x)g(:)f(map)h(f)g(xs)150
1874 y(--)g(filter,)e(applied)h(to)h(a)g(predicate)e(and)i(a)g(list,)f
(returns)g(the)g(list)g(of)h(those)150 1931 y(--)g(elements)e(that)i(satisfy)
f(the)g(predicate;)g(i.e.,)150 1987 y(--)h(filter)f(p)g(xs)h(==)g([x)f(|)h(x)
g(<-)f(xs,)h(p)f(x].)150 2044 y(filter)429 b(::)23 b(\(a)h(->)f(Bool\))h(->)f
([a])h(->)f([a])150 2100 y(filter)g(p)382 b(=)47 b(foldr)23
b(\(\\x)h(xs)g(->)f(if)h(p)f(x)h(then)f(x:xs)h(else)f(xs\))h([])150
2195 y(--)g(partition)e(takes)h(a)h(predicate)f(and)g(a)h(list)f(and)h
(returns)f(a)g(pair)h(of)f(lists:)150 2251 y(--)h(those)f(elements)g(of)g
(the)h(argument)e(list)i(that)f(do)h(and)f(do)h(not)f(satisfy)g(the)150
2308 y(--)h(predicate,)e(respectively;)g(i.e.,)150 2364 y(--)i(partition)e(p)
i(xs)g(==)f(\(filter)g(p)h(xs,)f(filter)g(\(not)h(.)f(p\))h(xs\).)150
2420 y(partition)357 b(::)23 b(\(a)h(->)f(Bool\))h(->)f([a])h(->)f
(\([a],[a]\))150 2477 y(partition)g(p)310 b(=)47 b(foldr)23
b(select)h(\([],[]\))794 2533 y(where)f(select)h(x)f(\(ts,fs\))g(|)h(p)g(x)
167 b(=)23 b(\(x:ts,fs\))1343 2590 y(|)h(otherwise)f(=)g(\(ts,x:fs\))p
eop
%%Page: 108 122
bop 0 50 a Fu(108)1155 b Ft(A)45 b(ST)l(AND)o(ARD)16 b(PRELUDE)0
193 y Fq(--)24 b(foldl,)f(applied)g(to)g(a)h(binary)f(operator,)g(a)g
(starting)g(value)g(\(typically)g(the)0 250 y(--)h(left-identity)e(of)h(the)h
(operator\),)e(and)i(a)f(list,)h(reduces)e(the)i(list)f(using)0
306 y(--)h(the)f(binary)g(operator,)g(from)g(left)g(to)h(right:)0
362 y(--)143 b(foldl)23 b(f)h(z)g([x1,)f(x2,)g(...,)h(xn])f(==)h(\(...\(\(z)f
(`f`)g(x1\))g(`f`)h(x2\))f(`f`...\))g(`f`)h(xn)0 419 y(--)g(foldl1)f(is)g(a)h
(variant)f(that)g(has)h(no)f(starting)g(value)g(argument,)g(and)47
b(thus)23 b(must)0 475 y(--)h(be)f(applied)g(to)h(non-empty)e(lists.)47
b(scanl)23 b(is)h(similar)f(to)g(foldl,)h(but)f(returns)0 532
y(--)h(a)f(list)h(of)f(successive)g(reduced)g(values)g(from)g(the)g(left:)0
588 y(--)143 b(scanl)23 b(f)h(z)g([x1,)f(x2,)g(...])h(==)f([z,)h(z)f(`f`)h
(x1,)f(\(z)h(`f`)f(x1\))h(`f`)f(x2,)h(...])0 645 y(--)g(Note)f(that)47
b(last)23 b(\(scanl)g(f)h(z)g(xs\))f(==)h(foldl)f(f)h(z)g(xs.)0
701 y(--)g(scanl1)f(is)g(similar,)g(again)g(without)g(the)h(starting)e
(element:)0 758 y(--)143 b(scanl1)23 b(f)h([x1,)f(x2,)g(...])h(==)f([x1,)h
(x1)f(`f`)h(x2,)f(...])0 837 y(foldl)453 b(::)23 b(\(a)h(->)f(b)h(->)g(a\))f
(->)h(a)g(->)f([b])h(->)f(a)0 894 y(foldl)g(f)h(z)g([])286
b(=)47 b(z)0 950 y(foldl)23 b(f)h(z)g(\(x:xs\))190 b(=)47 b(foldl)23
b(f)h(\(f)g(z)g(x\))f(xs)0 1045 y(foldl1)429 b(::)23 b(\(a)h(->)f(a)h(->)g
(a\))f(->)h([a])f(->)h(a)0 1101 y(foldl1)f(f)h(\(x:xs\))214
b(=)47 b(foldl)23 b(f)h(x)g(xs)0 1158 y(foldl1)f(_)h([])310
b(=)47 b(error)23 b("foldl1{PreludeList}:)e(empty)j(list")0
1252 y(scanl)453 b(::)23 b(\(a)h(->)f(b)h(->)g(a\))f(->)h(a)g(->)f([b])h(->)f
([a])0 1309 y(scanl)g(f)h(q)g(xs)286 b(=)47 b(q)24 b(:)g(\(case)f(xs)h(of)764
1365 y([])71 b(->)24 b([])764 1422 y(x:xs)f(->)h(scanl)f(f)g(\(f)h(q)g(x\))f
(xs\))0 1516 y(scanl1)429 b(::)23 b(\(a)h(->)f(a)h(->)g(a\))f(->)h([a])f(->)h
([a])0 1572 y(scanl1)f(f)h(\(x:xs\))214 b(=)47 b(scanl)23 b(f)h(x)g(xs)0
1629 y(scanl1)f(_)h([])310 b(=)47 b(error)23 b("scanl1{PreludeList}:)e(empty)
j(list")0 1723 y(--)g(foldr,)f(foldr1,)g(scanr,)g(and)g(scanr1)g(are)h(the)f
(right-to-left)f(duals)h(of)h(the)0 1780 y(--)g(above)f(functions.)0
1860 y(foldr)453 b(::)23 b(\(a)h(->)f(b)h(->)g(b\))f(->)h(b)g(->)f([a])h(->)f
(b)0 1916 y(foldr)g(f)h(z)g([])286 b(=)47 b(z)0 1972 y(foldr)23
b(f)h(z)g(\(x:xs\))190 b(=)47 b(f)24 b(x)g(\(foldr)f(f)h(z)f(xs\))0
2067 y(foldr1)429 b(::)23 b(\(a)h(->)f(a)h(->)g(a\))f(->)h([a])f(->)h(a)0
2123 y(foldr1)f(f)h([x])286 b(=)47 b(x)0 2180 y(foldr1)23 b(f)h(\(x:xs\))214
b(=)47 b(f)24 b(x)g(\(foldr1)f(f)g(xs\))0 2236 y(foldr1)g(_)h([])310
b(=)47 b(error)23 b("foldr1{PreludeList}:)e(empty)j(list")0
2331 y(scanr)453 b(::)23 b(\(a)h(->)f(b)h(->)g(b\))f(->)h(b)g(->)f([a])h(->)f
([b])0 2387 y(scanr)g(f)h(q0)f([])263 b(=)47 b([q0])0 2444
y(scanr)23 b(f)h(q0)f(\(x:xs\))167 b(=)47 b(f)24 b(x)g(q)f(:)h(qs)644
2500 y(where)f(qs@\(q:_\))g(=)h(scanr)f(f)h(q0)f(xs)p eop
%%Page: 109 123
bop 150 50 a Ft(A.5)45 b(Prelude)16 b Fq(PreludeList)1186 b
Fu(109)150 193 y Fq(scanr1)429 b(::)23 b(\(a)h(->)f(a)h(->)g(a\))f(->)h([a])f
(->)h([a])150 250 y(scanr1)f(f)48 b([x])262 b(=)47 b([x])150
306 y(scanr1)23 b(f)48 b(\(x:xs\))190 b(=)47 b(f)24 b(x)g(q)f(:)h(qs)794
362 y(where)f(qs@\(q:_\))g(=)h(scanr1)f(f)h(xs)150 419 y(scanr1)f(_)h([])310
b(=)47 b(error)23 b("scanr1{PreludeList}:)e(empty)j(list")150
513 y(--)g(iterate)e(f)i(x)g(returns)f(an)g(infinite)g(list)h(of)f(repeated)g
(applications)f(of)i(f)f(to)h(x:)150 570 y(--)g(iterate)e(f)i(x)g(==)g([x,)f
(f)h(x,)f(f)h(\(f)g(x\),)f(...])150 626 y(iterate)405 b(::)23
b(\(a)h(->)f(a\))h(->)g(a)f(->)h([a])150 683 y(iterate)f(f)h(x)310
b(=)47 b(x)24 b(:)g(iterate)f(f)g(\(f)h(x\))150 777 y(--)g(repeat)f(x)g(is)h
(an)g(infinite)e(list,)h(with)h(x)g(the)f(value)g(of)h(every)f(element.)150
834 y(repeat)429 b(::)23 b(a)h(->)g([a])150 890 y(repeat)f(x)382
b(=)47 b(xs)24 b(where)f(xs)h(=)f(x:xs)150 985 y(--)h(cycle)f(ties)g(a)h
(finite)f(list)g(into)g(a)h(circular)f(one,)g(or)h(equivalently,)150
1041 y(--)g(the)f(infinite)g(repetition)f(of)i(the)f(original)g(list.)47
b(It)24 b(is)f(the)h(identity)150 1098 y(--)g(on)f(infinite)g(lists.)150
1177 y(cycle)453 b(::)23 b([a])h(->)f([a])150 1234 y(cycle)g(xs)382
b(=)47 b(xs')24 b(where)f(xs')g(=)h(xs)g(++)f(xs')150 1328
y(--)h(take)f(n,)g(applied)g(to)h(a)g(list)f(xs,)g(returns)g(the)h(prefix)f
(of)g(xs)h(of)g(length)f(n,)150 1385 y(--)h(or)f(xs)h(itself)f(if)g(n)h(>)g
(length)f(xs.)47 b(drop)24 b(n)f(xs)h(returns)f(the)g(suffix)g(of)h(xs)150
1441 y(--)g(after)f(the)g(first)g(n)h(elements,)f(or)g([])h(if)g(n)f(>)h
(length)f(xs.)47 b(splitAt)23 b(n)h(xs)150 1498 y(--)g(is)f(equivalent)g(to)g
(\(take)g(n)h(xs,)g(drop)f(n)h(xs\).)150 1577 y(take)477 b(::)23
b(\(Integral)g(a\))h(=>)f(a)h(->)f([b])h(->)f([b])150 1634
y(take)47 b(0)119 b(_)263 b(=)47 b([])150 1690 y(take)g(_)119
b([])239 b(=)47 b([])150 1747 y(take)23 b(\(n+1\))g(\(x:xs\))167
b(=)47 b(x)24 b(:)g(take)f(n)h(xs)150 1841 y(drop)477 b(::)23
b(\(Integral)g(a\))h(=>)f(a)h(->)f([b])h(->)f([b])150 1898
y(drop)47 b(0)119 b(xs)239 b(=)47 b(xs)150 1954 y(drop)g(_)119
b([])239 b(=)47 b([])150 2010 y(drop)23 b(\(n+1\))g(\(_:xs\))167
b(=)47 b(drop)24 b(n)f(xs)150 2105 y(splitAt)405 b(::)23 b(\(Integral)g(a\))h
(=>)f(a)h(->)f([b])h(->)f(\([b],[b]\))150 2161 y(splitAt)47
b(0)119 b(xs)167 b(=)47 b(\([],xs\))150 2218 y(splitAt)g(_)119
b([])167 b(=)47 b(\([],[]\))150 2274 y(splitAt)23 b(\(n+1\))g(\(x:xs\))95
b(=)47 b(\(x:xs',xs''\))23 b(where)g(\(xs',xs''\))f(=)i(splitAt)f(n)h(xs)p
eop
%%Page: 110 124
bop 0 50 a Fu(110)1155 b Ft(A)45 b(ST)l(AND)o(ARD)16 b(PRELUDE)0
193 y Fq(--)24 b(takeWhile,)e(applied)h(to)h(a)f(predicate)g(p)h(and)f(a)h
(list)f(xs,)h(returns)f(the)g(longest)0 250 y(--)h(prefix)f(\(possibly)f
(empty\))h(of)h(xs)f(of)h(elements)f(that)g(satisfy)g(p.)48
b(dropWhile)22 b(p)i(xs)0 306 y(--)g(returns)e(the)i(remaining)f(suffix.)46
b(Span)24 b(p)f(xs)h(is)g(equivalent)e(to)0 362 y(--)i(\(takeWhile)e(p)i(xs,)
f(dropWhile)g(p)h(xs\),)f(while)g(break)g(p)h(uses)f(the)h(negation)f(of)g
(p.)0 442 y(takeWhile)357 b(::)23 b(\(a)h(->)f(Bool\))h(->)f([a])h(->)f([a])0
499 y(takeWhile)g(p)g([])239 b(=)47 b([])0 555 y(takeWhile)23
b(p)g(\(x:xs\))286 612 y(|)h(p)g(x)167 b(=)47 b(x)24 b(:)g(takeWhile)e(p)i
(xs)286 668 y(|)g(otherwise)f(=)47 b([])0 762 y(dropWhile)357
b(::)23 b(\(a)h(->)f(Bool\))h(->)f([a])h(->)f([a])0 819 y(dropWhile)g(p)g([])
239 b(=)47 b([])0 875 y(dropWhile)23 b(p)g(xs@\(x:xs'\))286
932 y(|)h(p)g(x)167 b(=)47 b(dropWhile)23 b(p)h(xs')286 988
y(|)g(otherwise)f(=)47 b(xs)0 1083 y(span,)23 b(break)310 b(::)23
b(\(a)h(->)f(Bool\))h(->)f([a])h(->)f(\([a],[a]\))0 1139 y(span)g(p)h([])358
b(=)47 b(\([],[]\))0 1196 y(span)23 b(p)h(xs@\(x:xs'\))262
1252 y(|)g(p)g(x)191 b(=)47 b(let)24 b(\(ys,zs\))f(=)g(span)h(p)f(xs')h(in)f
(\(x:ys,zs\))262 1309 y(|)h(otherwise)47 b(=)g(\([],xs\))0
1365 y(break)23 b(p)406 b(=)47 b(span)24 b(\(not)f(.)h(p\))0
1460 y(--)g(lines)f(breaks)g(a)h(string)f(up)g(into)g(a)h(list)g(of)f
(strings)g(at)h(newline)f(characters.)0 1516 y(--)h(The)f(resulting)g
(strings)g(do)g(not)h(contain)f(newlines.)46 b(Similary,)23
b(words)0 1572 y(--)h(breaks)f(a)g(string)g(up)h(into)f(a)h(list)f(of)h
(words,)f(which)g(were)g(delimited)g(by)0 1629 y(--)h(white)f(space.)47
b(unlines)23 b(and)g(unwords)g(are)g(the)h(inverse)f(operations.)0
1685 y(--)h(unlines)e(joins)i(lines)f(with)g(terminating)g(newlines,)f(and)i
(unwords)f(joins)0 1742 y(--)h(words)f(with)g(separating)g(spaces.)0
1822 y(lines)453 b(::)23 b(String)g(->)h([String])0 1878 y(lines)f("")382
b(=)47 b([])0 1934 y(lines)23 b(s)406 b(=)47 b(let)24 b(\(l,)f(s'\))h(=)f
(break)h(\(==)f('\\n'\))g(s)644 1991 y(in)48 b(l)23 b(:)h(case)g(s')f(of)955
2047 y([])142 b(->)24 b([])955 2104 y(\(_:s''\))e(->)i(lines)f(s'')0
2198 y(words)453 b(::)23 b(String)g(->)h([String])0 2255 y(words)f(s)406
b(=)47 b(case)24 b(dropWhile)e(isSpace)h(s)h(of)764 2311 y("")f(->)h([])764
2368 y(s')f(->)h(w)g(:)f(words)g(s'')907 2424 y(where)g(\(w,)g(s''\))h(=)f
(break)h(isSpace)f(s')0 2519 y(unlines)405 b(::)23 b([String])g(->)h(String)0
2575 y(unlines)405 b(=)47 b(concat)23 b(.)h(map)g(\(++)f("\\n"\))p
eop
%%Page: 111 125
bop 150 50 a Ft(A.5)45 b(Prelude)16 b Fq(PreludeList)1186 b
Fu(111)150 193 y Fq(unwords)405 b(::)23 b([String])g(->)h(String)150
250 y(unwords)f([])334 b(=)47 b("")150 306 y(unwords)23 b(ws)334
b(=)47 b(foldr1)23 b(\(\\w)h(s)g(->)f(w)h(++)f(')h(':s\))f(ws)150
400 y(--)h(nub)f(\(meaning)g("essence"\))f(removes)h(duplicate)g(elements)g
(from)g(its)g(list)h(argument.)150 457 y(nub)501 b(::)23 b(\(Eq)h(a\))f(=>)h
([a])f(->)h([a])150 513 y(nub)f([])430 b(=)47 b([])150 570
y(nub)23 b(\(x:xs\))334 b(=)47 b(x)24 b(:)g(nub)f(\(filter)g(\(/=)h(x\))f
(xs\))150 664 y(--)h(reverse)e(xs)i(returns)f(the)g(elements)g(of)h(xs)f(in)h
(reverse)f(order.)47 b(xs)23 b(must)h(be)f(finite.)150 721
y(reverse)405 b(::)23 b([a])h(->)f([a])150 777 y(reverse)405
b(=)47 b(foldl)23 b(\(flip)h(\(:\)\))f([])150 872 y(--)h(and)f(returns)g(the)
g(conjunction)g(of)g(a)h(Boolean)f(list.)47 b(For)23 b(the)h(result)f(to)h
(be)150 928 y(--)g(True,)f(the)g(list)h(must)f(be)g(finite;)g(False,)g
(however,)g(results)g(from)g(a)h(False)150 985 y(--)g(value)f(at)g(a)h
(finite)f(index)g(of)h(a)g(finite)f(or)g(infinite)g(list.)47
b(or)24 b(is)f(the)150 1041 y(--)h(disjunctive)e(dual)h(of)h(and.)150
1098 y(and,)f(or)406 b(::)23 b([Bool])g(->)h(Bool)150 1154
y(and)501 b(=)47 b(foldr)23 b(\(&&\))h(True)150 1210 y(or)525
b(=)47 b(foldr)23 b(\(||\))h(False)150 1305 y(--)g(Applied)e(to)i(a)g
(predicate)e(and)i(a)g(list,)f(any)g(determines)g(if)g(any)h(element)150
1361 y(--)g(of)f(the)h(list)f(satisfies)g(the)g(predicate.)46
b(Similarly,)23 b(for)g(all.)150 1418 y(any,)g(all)382 b(::)23
b(\(a)h(->)f(Bool\))h(->)f([a])h(->)f(Bool)150 1474 y(any)g(p)454
b(=)47 b(or)24 b(.)g(map)f(p)150 1531 y(all)g(p)454 b(=)47
b(and)24 b(.)f(map)h(p)150 1625 y(--)g(elem)f(is)g(the)h(list)f(membership)g
(predicate,)f(usually)h(written)g(in)h(infix)f(form,)150 1682
y(--)h(e.g.,)f(x)g(`elem`)h(xs.)47 b(notElem)23 b(is)g(the)h(negation.)150
1738 y(elem,)f(notElem)262 b(::)23 b(\(Eq)h(a\))f(=>)h(a)g(->)f([a])h(->)f
(Bool)150 1795 y(elem)477 b(=)47 b(any)24 b(.)f(\(==\))150
1851 y(notElem)405 b(=)47 b(all)24 b(.)f(\(/=\))150 1946 y(--)h(sum)f(and)g
(product)g(compute)g(the)h(sum)f(or)h(product)f(of)g(a)h(finite)f(list)g(of)h
(numbers.)150 2002 y(sum,)f(product)286 b(::)23 b(\(Num)h(a\))f(=>)h([a])f
(->)h(a)150 2058 y(sum)501 b(=)47 b(foldl)23 b(\(+\))h(0)150
2115 y(product)405 b(=)47 b(foldl)23 b(\(*\))h(1)150 2209 y(--)g(sums)f(and)g
(products)g(give)g(a)h(list)f(of)h(running)f(sums)g(or)h(products)f(from)150
2266 y(--)h(a)f(list)h(of)f(numbers.)47 b(For)23 b(example,)47
b(sums)23 b([1,2,3])g(==)h([0,1,3,6].)150 2322 y(sums,)f(products)238
b(::)23 b(\(Num)h(a\))f(=>)h([a])f(->)h([a])150 2379 y(sums)477
b(=)47 b(scanl)23 b(\(+\))h(0)150 2435 y(products)381 b(=)47
b(scanl)23 b(\(*\))h(1)p eop
%%Page: 112 126
bop 0 50 a Fu(112)1155 b Ft(A)45 b(ST)l(AND)o(ARD)16 b(PRELUDE)0
193 y Fq(--)24 b(maximum)e(and)i(minimum)f(return)g(the)g(maximum)g(or)h
(minimum)f(value)g(from)g(a)h(list,)0 250 y(--)g(which)f(must)g(be)h
(non-empty,)e(finite,)h(and)h(of)f(an)h(ordered)f(type.)0 306
y(maximum,)g(minimum)190 b(::)23 b(\(Ord)h(a\))f(=>)h([a])f(->)h(a)0
362 y(maximum)405 b(=)47 b(foldl1)23 b(max)0 419 y(minimum)405
b(=)47 b(foldl1)23 b(min)0 513 y(--)h(concat,)e(applied)h(to)h(a)g(list)f(of)
h(lists,)f(returns)g(their)g(flattened)f(concatenation.)0 570
y(concat)429 b(::)23 b([[a]])g(->)h([a])0 626 y(concat)429
b(=)47 b(foldr)23 b(\(++\))h([])0 721 y(--)g(transpose,)e(applied)h(to)h(a)f
(list)h(of)f(lists,)g(returns)g(that)g(list)h(with)f(the)0
777 y(--)h("rows")f(and)g("columns")g(interchanged.)46 b(The)23
b(input)g(need)h(not)f(be)h(rectangular)0 834 y(--)g(\(a)f(list)g(of)h
(equal-length)e(lists\))h(to)h(be)g(completely)e(transposable,)g(but)i(can)0
890 y(--)g(be)f("triangular":)46 b(Each)23 b(successive)g(component)g(list)g
(must)g(be)h(not)f(longer)0 947 y(--)h(than)f(the)g(previous)g(one;)g(any)h
(elements)f(outside)g(of)g(the)h("triangular")0 1003 y(--)g(transposable)e
(region)h(are)g(lost.)47 b(The)24 b(input)f(can)g(be)h(infinite)f(in)g
(either)0 1060 y(--)h(dimension)e(or)i(both.)0 1116 y(transpose)357
b(::)23 b([[a]])g(->)h([[a]])0 1172 y(transpose)357 b(=)47
b(foldr)692 1229 y(\(\\xs)23 b(xss)h(->)f(zipWith)g(\(:\))h(xs)f(\(xss)h(++)f
(repeat)g([]\)\))692 1285 y([])0 1380 y(--)h(zip)f(takes)g(two)h(lists)f(and)
g(returns)g(a)h(list)f(of)h(corresponding)e(pairs.)47 b(If)23
b(one)0 1436 y(--)h(input)f(list)g(is)h(short,)f(excess)g(elements)g(of)g
(the)h(longer)f(list)g(are)g(discarded.)0 1493 y(--)h(zip3)f(takes)g(three)g
(lists)g(and)h(returns)f(a)h(list)f(of)g(triples,)g(etc.)47
b(Versions)0 1549 y(--)24 b(of)f(zip)h(producing)e(up)i(to)f(septuplets)g
(are)g(defined)g(here.)0 1629 y(zip)501 b(::)23 b([a])h(->)f([b])h(->)f
([\(a,b\)])0 1685 y(zip)501 b(=)47 b(zipWith)23 b(\(\\a)h(b)f(->)h(\(a,b\)\))
0 1780 y(zip3)477 b(::)23 b([a])h(->)f([b])h(->)f([c])h(->)f([\(a,b,c\)])0
1836 y(zip3)477 b(=)47 b(zipWith3)23 b(\(\\a)h(b)f(c)h(->)g(\(a,b,c\)\))0
1931 y(zip4)477 b(::)23 b([a])h(->)f([b])h(->)f([c])h(->)f([d])h(->)f
([\(a,b,c,d\)])0 1987 y(zip4)477 b(=)47 b(zipWith4)23 b(\(\\a)h(b)f(c)h(d)g
(->)f(\(a,b,c,d\)\))0 2082 y(zip5)477 b(::)23 b([a])h(->)f([b])h(->)f([c])h
(->)f([d])h(->)f([e])h(->)g([\(a,b,c,d,e\)])0 2138 y(zip5)477
b(=)47 b(zipWith5)23 b(\(\\a)h(b)f(c)h(d)g(e)f(->)h(\(a,b,c,d,e\)\))0
2233 y(zip6)477 b(::)23 b([a])h(->)f([b])h(->)f([c])h(->)f([d])h(->)f([e])h
(->)g([f])644 2289 y(->)g([\(a,b,c,d,e,f\)])0 2346 y(zip6)477
b(=)47 b(zipWith6)23 b(\(\\a)h(b)f(c)h(d)g(e)f(f)h(->)g(\(a,b,c,d,e,f\)\))0
2440 y(zip7)477 b(::)23 b([a])h(->)f([b])h(->)f([c])h(->)f([d])h(->)f([e])h
(->)g([f])f(->)h([g])644 2496 y(->)g([\(a,b,c,d,e,f,g\)])0
2553 y(zip7)477 b(=)47 b(zipWith7)23 b(\(\\a)h(b)f(c)h(d)g(e)f(f)h(g)g(->)f
(\(a,b,c,d,e,f,g\)\))p eop
%%Page: 113 127
bop 150 50 a Ft(A.5)45 b(Prelude)16 b Fq(PreludeList)1186 b
Fu(113)150 193 y Fq(--)24 b(The)f(zipWith)g(family)g(generalises)f(the)i(zip)
f(family)g(by)h(zipping)f(with)g(the)150 250 y(--)h(function)e(given)i(as)f
(the)h(first)f(argument,)f(instead)h(of)h(a)g(tupling)f(function.)150
306 y(--)h(For)f(example,)g(zipWith)g(\(+\))g(is)h(applied)f(to)g(two)h
(lists)f(to)g(produce)g(the)h(list)150 362 y(--)g(of)f(corresponding)f(sums.)
150 442 y(zipWith)405 b(::)23 b(\(a->b->c\))g(->)h([a]->[b]->[c])150
499 y(zipWith)f(z)h(\(a:as\))f(\(b:bs\))g(=)47 b(z)24 b(a)g(b)f(:)h(zipWith)f
(z)h(as)f(bs)150 555 y(zipWith)g(_)h(_)f(_)263 b(=)47 b([])150
650 y(zipWith3)381 b(::)23 b(\(a->b->c->d\))g(->)g([a]->[b]->[c]->[d])150
706 y(zipWith3)g(z)g(\(a:as\))h(\(b:bs\))f(\(c:cs\))723 762
y(=)47 b(z)24 b(a)g(b)f(c)h(:)g(zipWith3)f(z)g(as)h(bs)g(cs)150
819 y(zipWith3)f(_)g(_)h(_)g(_)191 b(=)47 b([])150 913 y(zipWith4)381
b(::)23 b(\(a->b->c->d->e\))f(->)i([a]->[b]->[c]->[d]->[e])150
970 y(zipWith4)f(z)g(\(a:as\))h(\(b:bs\))f(\(c:cs\))g(\(d:ds\))723
1026 y(=)47 b(z)24 b(a)g(b)f(c)h(d)g(:)g(zipWith4)e(z)i(as)g(bs)f(cs)h(ds)150
1083 y(zipWith4)f(_)g(_)h(_)g(_)g(_)143 b(=)47 b([])150 1177
y(zipWith5)381 b(::)23 b(\(a->b->c->d->e->f\))794 1234 y(->)h
([a]->[b]->[c]->[d]->[e]->)o([f])150 1290 y(zipWith5)f(z)g(\(a:as\))h
(\(b:bs\))f(\(c:cs\))g(\(d:ds\))g(\(e:es\))723 1347 y(=)47
b(z)24 b(a)g(b)f(c)h(d)g(e)g(:)f(zipWith5)g(z)h(as)f(bs)h(cs)g(ds)f(es)150
1403 y(zipWith5)g(_)g(_)h(_)g(_)g(_)f(_)96 b(=)47 b([])150
1498 y(zipWith6)381 b(::)23 b(\(a->b->c->d->e->f->g\))794 1554
y(->)h([a]->[b]->[c]->[d]->[e]->)o([f]->[g])150 1610 y(zipWith6)f(z)g
(\(a:as\))h(\(b:bs\))f(\(c:cs\))g(\(d:ds\))g(\(e:es\))g(\(f:fs\))723
1667 y(=)47 b(z)24 b(a)g(b)f(c)h(d)g(e)g(f)f(:)h(zipWith6)f(z)h(as)f(bs)h(cs)
f(ds)h(es)g(fs)150 1723 y(zipWith6)f(_)g(_)h(_)g(_)g(_)f(_)h(_)48
b(=)f([])150 1818 y(zipWith7)381 b(::)23 b(\(a->b->c->d->e->f->g->h\))794
1874 y(->)h([a]->[b]->[c]->[d]->[e]->)o([f]->[g])o(->[h])150
1931 y(zipWith7)f(z)g(\(a:as\))h(\(b:bs\))f(\(c:cs\))g(\(d:ds\))g(\(e:es\))g
(\(f:fs\))g(\(g:gs\))603 1987 y(=)48 b(z)24 b(a)f(b)h(c)g(d)g(e)f(f)h(g)g(:)g
(zipWith7)e(z)i(as)g(bs)f(cs)h(ds)f(es)h(fs)g(gs)150 2044 y(zipWith7)f(_)g(_)
h(_)g(_)g(_)f(_)h(_)g(_)g(=)47 b([])150 2138 y(--)24 b(unzip)f(transforms)f
(a)i(list)f(of)h(pairs)f(into)g(a)h(pair)f(of)h(lists.)47 b(As)24
b(with)f(zip,)150 2195 y(--)h(a)f(family)g(of)h(such)f(functions)g(up)g(to)h
(septuplets)f(is)g(provided.)150 2274 y(unzip)453 b(::)23 b([\(a,b\)])g(->)h
(\([a],[b]\))150 2331 y(unzip)453 b(=)47 b(foldr)23 b(\(\\\(a,b\))g
(~\(as,bs\))g(->)h(\(a:as,b:bs\)\))e(\([],[]\))150 2425 y(unzip3)429
b(::)23 b([\(a,b,c\)])g(->)h(\([a],[b],[c]\))150 2482 y(unzip3)429
b(=)47 b(foldr)23 b(\(\\\(a,b,c\))g(~\(as,bs,cs\))f(->)i
(\(a:as,b:bs,c:cs\)\))937 2538 y(\([],[],[]\))p eop
%%Page: 114 128
bop 0 50 a Fu(114)1155 b Ft(A)45 b(ST)l(AND)o(ARD)16 b(PRELUDE)0
193 y Fq(unzip4)429 b(::)23 b([\(a,b,c,d\)])g(->)g(\([a],[b],[c],[d]\))0
250 y(unzip4)429 b(=)47 b(foldr)23 b(\(\\\(a,b,c,d\))g(~\(as,bs,cs,ds\))f(->)
955 306 y(\(a:as,b:bs,c:cs,d:ds\)\))787 362 y(\([],[],[],[]\))0
457 y(unzip5)429 b(::)23 b([\(a,b,c,d,e\)])f(->)i(\([a],[b],[c],[d],[e]\))0
513 y(unzip5)429 b(=)47 b(foldr)23 b(\(\\\(a,b,c,d,e\))g(~\(as,bs,cs,ds,es\))
e(->)955 570 y(\(a:as,b:bs,c:cs,d:ds,e:)o(es\)\))787 626 y
(\([],[],[],[],[]\))0 721 y(unzip6)429 b(::)23 b([\(a,b,c,d,e,f\)])f(->)i
(\([a],[b],[c],[d],[e],[f])o(\))0 777 y(unzip6)429 b(=)47 b(foldr)23
b(\(\\\(a,b,c,d,e,f\))f(~\(as,bs,cs,ds,es,fs\))f(->)955 834
y(\(a:as,b:bs,c:cs,d:ds,e:)o(es,f:fs)o(\)\))787 890 y(\([],[],[],[],[],[]\))0
985 y(unzip7)429 b(::)23 b([\(a,b,c,d,e,f,g\)])f(->)h
(\([a],[b],[c],[d],[e],[f],[g]\))0 1041 y(unzip7)429 b(=)47
b(foldr)23 b(\(\\\(a,b,c,d,e,f,g\))f(~\(as,bs,cs,ds,es,fs,gs\))f(->)955
1098 y(\(a:as,b:bs,c:cs,d:ds,e:)o(es,f:fs)o(,g:gs\)\))787 1154
y(\([],[],[],[],[],[],[]\))p eop
%%Page: 115 129
bop 150 50 a Ft(A.6)45 b(Prelude)16 b Fq(PreludeArray)1162
b Fu(115)150 199 y Fx(A.6)56 b(Prelude)18 b Fb(PreludeAr)o(ray)150
308 y Fq(module)47 b(PreludeArray)22 b(\()i(Array,)f(Assoc\(\(:=\)\),)f
(array,)h(listArray,)g(\(!\),)g(bounds,)651 365 y(indices,)g(elems,)g
(assocs,)g(accumArray,)f(\(//\),)h(accum,)g(amap,)651 421 y(ixmap)603
478 y(\))h(where)150 572 y(--)g(This)f(module)g(specifies)g(the)g(semantics)g
(of)g(arrays)g(only:)g(it)h(is)g(not)150 629 y(--)g(intended)e(as)i(an)g
(efficient)e(implementation.)150 708 y(infixl)h(9)48 b(!)150
765 y(infixl)23 b(9)48 b(//)150 821 y(infix)f(1)h(:=)150 916
y(data)f(Assoc)23 b(a)h(b)g(=)47 b(a)24 b(:=)g(b)47 b(deriving)23
b(\(Eq,)g(Ord,)h(Ix,)f(Text,)g(Binary\))150 972 y(data)47 b(\(Ix)24
b(a\))95 b(=>)23 b(Array)h(a)f(b)h(=)g(MkArray)f(\(a,a\))g(\(a)g(->)h(b\))g
(deriving)e(\(\))150 1067 y(array)262 b(::)23 b(\(Ix)h(a\))f(=>)h(\(a,a\))f
(->)h([Assoc)f(a)h(b])f(->)h(Array)f(a)h(b)150 1123 y(listArray)166
b(::)23 b(\(Ix)h(a\))f(=>)h(\(a,a\))f(->)h([b])f(->)h(Array)f(a)h(b)150
1179 y(\(!\))310 b(::)23 b(\(Ix)h(a\))f(=>)h(Array)f(a)h(b)g(->)f(a)h(->)g(b)
150 1236 y(bounds)238 b(::)23 b(\(Ix)h(a\))f(=>)h(Array)f(a)h(b)g(->)f
(\(a,a\))150 1292 y(indices)214 b(::)23 b(\(Ix)h(a\))f(=>)h(Array)f(a)h(b)g
(->)f([a])150 1349 y(elems)262 b(::)23 b(\(Ix)h(a\))f(=>)h(Array)f(a)h(b)g
(->)f([b])150 1405 y(assocs)238 b(::)23 b(\(Ix)h(a\))f(=>)h(Array)f(a)h(b)g
(->)f([Assoc)g(a)h(b])150 1462 y(accumArray)142 b(::)23 b(\(Ix)h(a\))f(=>)h
(\(b)g(->)f(c)h(->)g(b\))f(->)h(b)f(->)h(\(a,a\))f(->)h([Assoc)f(a)h(c])842
1518 y(->)g(Array)f(a)h(b)150 1575 y(\(//\))286 b(::)23 b(\(Ix)h(a\))f(=>)h
(Array)f(a)h(b)g(->)f([Assoc)g(a)h(b])g(->)f(Array)g(a)h(b)150
1631 y(accum)262 b(::)23 b(\(Ix)h(a\))f(=>)h(\(b)g(->)f(c)h(->)g(b\))f(->)h
(Array)f(a)h(b)f(->)h([Assoc)f(a)h(c])842 1688 y(->)g(Array)f(a)h(b)150
1744 y(amap)286 b(::)23 b(\(Ix)h(a\))f(=>)h(\(b)g(->)f(c\))h(->)f(Array)h(a)f
(b)h(->)g(Array)f(a)h(c)150 1800 y(ixmap)262 b(::)23 b(\(Ix)h(a,)f(Ix)h(b\))g
(=>)f(\(a,a\))g(->)h(\(a)g(->)f(b\))h(->)f(Array)h(b)f(c)842
1857 y(->)h(Array)f(a)h(c)150 1951 y(array)f(b)h(ivs)f(=)245
2008 y(if)h(and)f([inRange)g(b)h(i)g(|)f(i:=_)h(<-)f(ivs])341
2064 y(then)g(MkArray)g(b)651 2121 y(\(\\j)h(->)f(case)g([v)h(|)g(\(i)f(:=)h
(v\))g(<-)f(ivs,)g(i)h(==)g(j])f(of)818 2177 y([v])71 b(->)24
b(v)818 2234 y([])95 b(->)24 b(error)f("\(!\){PreludeArray}:)e(\\)1176
2290 y(\\undefined)i(array)g(element")818 2347 y(_)119 b(->)24
b(error)f("\(!\){PreludeArray}:)e(\\)1176 2403 y(\\multiply)i(defined)g
(array)g(element"\))341 2460 y(else)g(error)g("array{PreludeArray}:)e
(out-of-range)i(array)g(association")150 2554 y(listArray)g(b)g(vs)191
b(=)24 b(array)f(b)h(\(zipWith)e(\(:=\))i(\(range)f(b\))g(vs\))150
2644 y(\(!\))g(\(MkArray)g(_)h(f\))119 b(=)24 b(f)p eop
%%Page: 116 130
bop 0 50 a Fu(116)1155 b Ft(A)45 b(ST)l(AND)o(ARD)16 b(PRELUDE)0
199 y Fq(bounds)23 b(\(MkArray)g(b)h(_\))47 b(=)24 b(b)0 290
y(indices)357 b(=)24 b(range)f(.)h(bounds)0 380 y(elems)f(a)358
b(=)24 b([a!i)f(|)h(i)f(<-)h(indices)f(a])0 470 y(assocs)g(a)334
b(=)24 b([i)f(:=)h(a!i)f(|)h(i)g(<-)f(indices)g(a])0 565 y(a)h(//)f(us)358
b(=)24 b(array)f(\(bounds)g(a\))668 621 y(\([i)h(:=)f(a!i)h(|)f(i)h(<-)g
(indices)f(a)g(\\\\)h([i)g(|)f(i:=_)h(<-)f(us]])692 678 y(++)h(us\))0
772 y(accum)f(f)358 b(=)24 b(foldl)f(\(\\a)g(\(i)h(:=)g(v\))f(->)h(a)f(//)h
([i)g(:=)f(f)h(\(a!i\))f(v]\))0 862 y(accumArray)f(f)i(z)g(b)143
b(=)24 b(accum)f(f)h(\(array)f(b)g([i)h(:=)g(z)f(|)h(i)g(<-)f(range)h(b]\))0
957 y(amap)f(f)h(a)334 b(=)24 b(array)f(b)h([i)f(:=)h(f)g(\(a!i\))f(|)g(i)h
(<-)g(range)f(b])573 1013 y(where)g(b)h(=)f(bounds)g(a)0 1108
y(ixmap)g(b)h(f)g(a)262 b(=)24 b(array)f(b)h([i)f(:=)h(a)g(!)f(f)h(i)g(|)f(i)
h(<-)g(range)f(b])0 1202 y(instance)47 b(\(Ix)23 b(a,)h(Eq)f(b\))48
b(=>)23 b(Eq)h(\(Array)f(a)h(b\))47 b(where)95 1259 y(a)24
b(==)g(a')310 b(=)47 b(assocs)23 b(a)h(==)g(assocs)f(a')0 1353
y(instance)47 b(\(Ix)23 b(a,)h(Ord)f(b\))h(=>)f(Ord)h(\(Array)f(a)h(b\))47
b(where)95 1410 y(a)24 b(<=)48 b(a')286 b(=)47 b(assocs)23
b(a)h(<=)48 b(assocs)23 b(a')0 1504 y(instance)47 b(\(Ix)23
b(a,)h(Text)f(a,)h(Text)f(b\))g(=>)h(Text)f(\(Array)g(a)h(b\))48
b(where)95 1561 y(showsPrec)23 b(p)h(a)g(=)f(showParen)g(\(p)g(>)h(9\))g(\()
477 1617 y(showString)f("array)g(")h(.)477 1673 y(shows)f(\(bounds)g(a\))h(.)
g(showChar)e(')i(')g(.)477 1730 y(shows)f(\(assocs)g(a\))430
b(\))95 1810 y(readsPrec)23 b(p)h(=)g(readParen)e(\(p)i(>)f(9\))262
1866 y(\(\\r)h(->)g([\(array)e(b)i(as,)g(u\))f(|)h(\("array",s\))e(<-)i(lex)f
(r,)883 1923 y(\(b,t\))166 b(<-)24 b(reads)f(s,)883 1979 y(\(as,u\))142
b(<-)24 b(reads)f(t)72 b(])430 2035 y(++)430 2092 y([\(listArray)22
b(b)i(xs,)f(u\))h(|)f(\("listArray",s\))f(<-)i(lex)f(r,)978
2148 y(\(b,t\))262 b(<-)24 b(reads)f(s,)978 2205 y(\(xs,u\))238
b(<-)24 b(reads)f(t)h(]\))0 2299 y(instance)47 b(\(Ix)23 b(a,)h(Binary)f(a,)g
(Binary)g(b\))h(=>)g(Binary)f(\(Array)g(a)g(b\))48 b(where)95
2356 y(showBin)23 b(a)h(=)g(showBin)f(\(bounds)g(a\))g(.)h(showBin)f(\(elems)
g(a\))95 2435 y(readBin)g(bin)h(=)g(\(listArray)e(b)i(vs,)f(bin''\))406
2492 y(where)g(\(b,bin'\))70 b(=)24 b(readBin)f(bin)549 2548
y(\(vs,bin''\))f(=)i(readBin)f(bin')p eop
%%Page: 117 131
bop 150 50 a Ft(A.7)45 b(Prelude)16 b Fq(PreludeText)1186 b
Fu(117)150 199 y Fx(A.7)56 b(Prelude)18 b Fb(PreludeTe)o(xt)150
297 y Fq(module)47 b(PreludeText)22 b(\()341 354 y(reads,)h(shows,)g(show,)g
(read,)g(lex,)341 410 y(showChar,)g(showString,)f(readParen,)g(showParen,)h
(readLitChar,)f(showLitChar,)341 467 y(readSigned,)g(showSigned,)h(readDec,)f
(showInt,)h(readFloat,)g(showFloat)f(\))i(where)150 561 y(reads)262
b(::)23 b(\(Text)h(a\))f(=>)h(ReadS)f(a)150 617 y(reads)262
b(=)47 b(readsPrec)23 b(0)150 712 y(shows)262 b(::)23 b(\(Text)h(a\))f(=>)h
(a)f(->)h(ShowS)150 768 y(shows)262 b(=)47 b(showsPrec)23 b(0)150
863 y(read)286 b(::)23 b(\(Text)h(a\))f(=>)h(String)f(->)g(a)150
919 y(read)g(s)239 b(=)47 b(case)24 b([x)f(|)h(\(x,t\))f(<-)h(reads)f(s,)h
(\("",""\))e(<-)i(lex)g(t])f(of)723 976 y([x])g(->)h(x)723
1032 y([])47 b(->)24 b(error)f("read{PreludeText}:)e(no)j(parse")723
1089 y(_)71 b(->)24 b(error)f("read{PreludeText}:)e(ambiguous)i(parse")150
1183 y(show)286 b(::)23 b(\(Text)h(a\))f(=>)h(a)f(->)h(String)150
1240 y(show)f(x)239 b(=)47 b(shows)24 b(x)f("")150 1334 y(showChar)190
b(::)23 b(Char)h(->)f(ShowS)150 1391 y(showChar)190 b(=)47
b(\(:\))150 1485 y(showString)142 b(::)23 b(String)g(->)h(ShowS)150
1542 y(showString)142 b(=)47 b(\(++\))150 1636 y(showParen)166
b(::)23 b(Bool)h(->)f(ShowS)g(->)h(ShowS)150 1692 y(showParen)f(b)g(p)72
b(=)47 b(if)24 b(b)g(then)f(showChar)g('\(')g(.)h(p)g(.)f(showChar)g('\)')h
(else)f(p)150 1787 y(readParen)166 b(::)23 b(Bool)h(->)f(ReadS)g(a)h(->)g
(ReadS)f(a)150 1843 y(readParen)g(b)g(g)72 b(=)47 b(if)24 b(b)g(then)f
(mandatory)g(else)g(optional)603 1900 y(where)h(optional)e(r)48
b(=)24 b(g)f(r)h(++)g(mandatory)e(r)747 1956 y(mandatory)g(r)i(=)g([\(x,u\))f
(|)g(\("\(",s\))g(<-)h(lex)f(r,)1295 2013 y(\(x,t\))71 b(<-)24
b(optional)f(s,)1295 2069 y(\("\)",u\))g(<-)h(lex)f(t)96 b(])150
2164 y(lex)501 b(::)23 b(ReadS)g(String)150 2220 y(lex)g("")430
b(=)23 b([\("",""\)])150 2277 y(lex)g(\(c:s\))h(|)f(isSpace)g(c)72
b(=)23 b(lex)h(\(dropWhile)e(isSpace)h(s\))150 2333 y(lex)g(\('-':'-':s\))214
b(=)23 b(case)h(dropWhile)e(\(/=)i('\\n'\))f(s)h(of)937 2390
y('\\n':t)g(->)f(lex)h(t)937 2446 y(_)144 b(->)23 b([])h(--)f(unterminated)g
(end-of-line)1248 2502 y(--)g(comment)p eop
%%Page: 118 132
bop 0 50 a Fu(118)1155 b Ft(A)45 b(ST)l(AND)o(ARD)16 b(PRELUDE)0
193 y Fq(lex)23 b(\('{':'-':s\))214 b(=)23 b(lexNest)g(lex)h(s)620
250 y(where)620 306 y(lexNest)f(f)h(\('-':'}':s\))e(=)i(f)g(s)620
362 y(lexNest)f(f)h(\('{':'-':s\))e(=)i(lexNest)f(\(lexNest)g(f\))g(s)620
419 y(lexNest)g(f)h(\(c:s\))310 b(=)23 b(lexNest)g(f)h(s)620
475 y(lexNest)f(_)h("")238 b(=)24 b([])g(--)f(unterminated)1265
532 y(--)g(nested)g(comment)0 626 y(lex)g(\('<':'-':s\))214
b(=)23 b([\("<-",s\)])0 683 y(lex)g(\('\\'':s\))286 b(=)23
b([\('\\'':ch++"'",)f(t\))i(|)g(\(ch,'\\'':t\))46 b(<-)23 b(lexLitChar)g(s,)
1122 739 y(ch)g(/=)h("'")381 b(])0 796 y(lex)23 b(\('"':s\))310
b(=)23 b([\('"':str,)g(t\))143 b(|)24 b(\(str,t\))e(<-)i(lexString)f(s])620
852 y(where)620 909 y(lexString)g(\('"':s\))g(=)h([\("\\"",s\)])620
965 y(lexString)f(s)h(=)g([\(ch++str,)e(u\))1145 1022 y(|)i(\(ch,t\))47
b(<-)24 b(lexStrItem)e(s,)1193 1078 y(\(str,u\))h(<-)h(lexString)e(t)48
b(])620 1158 y(lexStrItem)23 b(\('\\\\':'&':s\))f(=)i([\("\\\\&",s\)])620
1214 y(lexStrItem)f(\('\\\\':c:s\))f(|)i(isSpace)f(c)716 1271
y(=)h([\("\\\\&",t\))e(|)i('\\\\':t)f(<-)g([dropWhile)g(isSpace)g(s]])620
1327 y(lexStrItem)g(s)286 b(=)24 b(lexLitChar)e(s)0 1422 y(lex)h(\(c:s\))h(|)
f(isSingle)g(c)48 b(=)23 b([\([c],s\)])239 1478 y(|)g(isSym1)g(c)96
b(=)23 b([\(c:sym,t\))214 b(|)24 b(\(sym,t\))e(<-)i([span)f(isSym)g(s]])239
1534 y(|)g(isAlpha)g(c)72 b(=)23 b([\(c:nam,t\))214 b(|)24
b(\(nam,t\))e(<-)i([span)f(isIdChar)g(s]])239 1591 y(|)g(isDigit)g(c)72
b(=)23 b([\(c:ds++fe,t\))142 b(|)24 b(\(ds,s\))46 b(<-)24 b([span)f(isDigit)g
(s],)1122 1647 y(\(fe,t\))46 b(<-)24 b(lexFracExp)f(s)119 b(])239
1704 y(|)23 b(otherwise)71 b(=)23 b([])96 b(--)23 b(bad)h(character)382
1760 y(where)382 1817 y(isSingle)f(c)47 b(=)h(c)23 b(`elem`)h(",;\(\)[]{}_")
382 1873 y(isSym1)f(c)95 b(=)48 b(c)23 b(`elem`)h("-~")f(||)g(isSym)h(c)382
1930 y(isSym)f(c)119 b(=)48 b(c)23 b(`elem`)h("!@#$\045&*+./<=>?\\\\^|:")382
1986 y(isIdChar)f(c)47 b(=)h(isAlphanum)22 b(c)i(||)g(c)f(`elem`)g("_'")382
2066 y(lexFracExp)f(\('.':s\))h(=)h([\('.':ds++e,u\))e(|)i(\(ds,t\))f(<-)g
(lexDigits)g(s,)1289 2122 y(\(e,u\))47 b(<-)23 b(lexExp)g(t)96
b(])382 2179 y(lexFracExp)22 b(s)167 b(=)24 b([\("",s\)])382
2258 y(lexExp)f(\(e:s\))g(|)h(e)f(`elem`)h("eE")597 2315 y(=)f([\(e:c:ds,u\))
g(|)g(\(c:t\))47 b(<-)24 b([s],)f(c)h(`elem`)f("+-",)1217 2371
y(\(ds,u\))g(<-)h(lexDigits)e(t])i(++)644 2428 y([\(e:ds,t\))71
b(|)23 b(\(ds,t\))g(<-)h(lexDigits)f(s])382 2484 y(lexExp)g(s)h(=)f
([\("",s\)])0 2579 y(lexDigits)357 b(::)23 b(ReadS)g(String)0
2635 y(lexDigits)357 b(=)47 b(nonnull)23 b(isDigit)p eop
%%Page: 119 133
bop 150 50 a Ft(A.7)45 b(Prelude)16 b Fq(PreludeText)1186 b
Fu(119)150 193 y Fq(nonnull)405 b(::)23 b(\(Char)g(->)h(Bool\))f(->)h(ReadS)f
(String)150 250 y(nonnull)g(p)h(s)310 b(=)47 b([\(cs,t\))23
b(|)h(\(cs@\(_:_\),t\))e(<-)i([span)f(p)h(s]])150 344 y(lexLitChar)333
b(::)23 b(ReadS)g(String)150 400 y(lexLitChar)f(\('\\\\':s\))119
b(=)47 b([\('\\\\':esc,)23 b(t\))g(|)h(\(esc,t\))f(<-)g(lexEsc)h(s])341
457 y(where)341 513 y(lexEsc)f(\(c:s\))119 b(|)23 b(c)h(`elem`)f
("abfnrtv\\\\\\"'")f(=)i([\([c],s\)])341 570 y(lexEsc)f(\('^':c:s\))g(|)g(c)h
(>=)g('@')f(&&)h(c)f(<=)h('_')47 b(=)24 b([\(['^',c],s\)])341
626 y(lexEsc)f(s@\(d:_\))71 b(|)23 b(isDigit)g(d)310 b(=)24
b(lexDigits)f(s)341 683 y(lexEsc)g(\('o':s\))47 b(=)g([\('o':os,)23
b(t\))h(|)f(\(os,t\))g(<-)h(nonnull)f(isOctDigit)f(s])341 739
y(lexEsc)h(\('x':s\))47 b(=)g([\('x':xs,)23 b(t\))h(|)f(\(xs,t\))g(<-)h
(nonnull)f(isHexDigit)f(s])341 796 y(lexEsc)h(s@\(c:_\))71
b(|)23 b(isUpper)g(c)723 852 y(=)47 b(case)24 b([\(mne,s'\))e(|)i(mne)f(<-)h
("DEL")f(:)h(elems)f(asciiTab,)1200 909 y(\([],s'\))g(<-)g([match)h(mne)f(s])
143 b(])794 965 y(of)24 b(\(pr:_\))f(->)h([pr])866 1022 y([])119
b(->)24 b([])341 1078 y(lexEsc)f(_)191 b(=)47 b([])150 1134
y(lexLitChar)22 b(\(c:s\))191 b(=)47 b([\([c],s\)])150 1191
y(lexLitChar)22 b("")263 b(=)47 b([])150 1285 y(isOctDigit)22
b(c)48 b(=)g(c)23 b(>=)h('0')f(&&)h(c)g(<=)f('7')150 1342 y(isHexDigit)f(c)48
b(=)g(isDigit)23 b(c)g(||)h(c)g(>=)f('A')h(&&)f(c)h(<=)g('F')794
1398 y(||)g(c)g(>=)f('a')h(&&)f(c)h(<=)g('f')150 1493 y(match)453
b(::)23 b(\(Eq)h(a\))f(=>)h([a])f(->)h([a])f(->)h(\([a],[a]\))150
1549 y(match)f(\(x:xs\))g(\(y:ys\))g(|)h(x)g(==)f(y)48 b(=)f(match)24
b(xs)f(ys)150 1606 y(match)g(xs)119 b(ys)358 b(=)47 b(\(xs,ys\))150
1700 y(asciiTab)23 b(=)g(listArray)g(\('\\NUL',)g(')h('\))412
1757 y(["NUL",)f("SOH",)g("STX",)g("ETX",)h("EOT",)f("ENQ",)g("ACK",)g
("BEL",)436 1813 y("BS",)47 b("HT",)g("LF",)g("VT",)h("FF",)f("CR",)g("SO",)g
("SI",)436 1869 y("DLE",)23 b("DC1",)g("DC2",)g("DC3",)h("DC4",)f("NAK",)g
("SYN",)g("ETB",)436 1926 y("CAN",)g("EM",)47 b("SUB",)23 b("ESC",)h("FS",)47
b("GS",)g("RS",)g("US",)436 1982 y("SP"])p eop
%%Page: 120 134
bop 0 50 a Fu(120)1155 b Ft(A)45 b(ST)l(AND)o(ARD)16 b(PRELUDE)0
193 y Fq(readLitChar)309 b(::)23 b(ReadS)g(Char)0 250 y(readLitChar)f
(\('\\\\':s\))95 b(=)47 b(readEsc)23 b(s)191 306 y(where)191
362 y(readEsc)g(\('a':s\))47 b(=)23 b([\('\\a',s\)])191 419
y(readEsc)g(\('b':s\))47 b(=)23 b([\('\\b',s\)])191 475 y(readEsc)g
(\('f':s\))47 b(=)23 b([\('\\f',s\)])191 532 y(readEsc)g(\('n':s\))47
b(=)23 b([\('\\n',s\)])191 588 y(readEsc)g(\('r':s\))47 b(=)23
b([\('\\r',s\)])191 645 y(readEsc)g(\('t':s\))47 b(=)23 b([\('\\t',s\)])191
701 y(readEsc)g(\('v':s\))47 b(=)23 b([\('\\v',s\)])191 758
y(readEsc)g(\('\\\\':s\))g(=)g([\('\\\\',s\)])191 814 y(readEsc)g(\('"':s\))
47 b(=)23 b([\('"',s\)])191 871 y(readEsc)g(\('\\'':s\))g(=)g([\('\\'',s\)])
191 927 y(readEsc)g(\('^':c:s\))f(|)i(c)g(>=)f('@')h(&&)g(c)f(<=)h('_')597
983 y(=)f([\(chr)g(\(ord)h(c)g(-)f(ord)h('@'\),)f(s\)])191
1040 y(readEsc)g(s@\(d:_\))g(|)g(isDigit)g(d)597 1096 y(=)g([\(chr)g(n,)h
(t\))g(|)f(\(n,t\))h(<-)f(readDec)g(s])191 1153 y(readEsc)g(\('o':s\))47
b(=)23 b([\(chr)g(n,)h(t\))g(|)f(\(n,t\))h(<-)f(readOct)g(s])191
1209 y(readEsc)g(\('x':s\))47 b(=)23 b([\(chr)g(n,)h(t\))g(|)f(\(n,t\))h(<-)f
(readHex)g(s])191 1266 y(readEsc)g(s@\(c:_\))g(|)g(isUpper)g(c)597
1322 y(=)g(let)h(table)f(=)h(\('\\DEL')f(:=)g("DEL"\))g(:)h(assocs)f
(asciiTab)644 1379 y(in)h(case)f([\(c,s'\))g(|)h(\(c)f(:=)h(mne\))f(<-)h
(table,)1074 1435 y(\([],s'\))f(<-)g([match)g(mne)h(s]])716
1492 y(of)f(\(pr:_\))h(->)f([pr])787 1548 y([])120 b(->)23
b([])191 1604 y(readEsc)g(_)191 b(=)23 b([])0 1661 y(readLitChar)f(\(c:s\))
167 b(=)47 b([\(c,s\)])0 1755 y(showLitChar)380 b(::)24 b(Char)f(->)h(ShowS)0
1812 y(showLitChar)e(c)i(|)g(c)g(>)f('\\DEL')g(=)48 b(showChar)23
b('\\\\')g(.)h(protectEsc)e(isDigit)h(\(shows)g(\(ord)g(c\)\))0
1868 y(showLitChar)f('\\DEL')214 b(=)48 b(showString)22 b("\\\\DEL")0
1925 y(showLitChar)g('\\\\')262 b(=)48 b(showString)22 b("\\\\\\\\")0
1981 y(showLitChar)g(c)i(|)g(c)g(>=)f(')h(')71 b(=)48 b(showChar)23
b(c)0 2038 y(showLitChar)f('\\a')262 b(=)48 b(showString)22
b("\\\\a")0 2094 y(showLitChar)g('\\b')262 b(=)48 b(showString)22
b("\\\\b")0 2151 y(showLitChar)g('\\f')262 b(=)48 b(showString)22
b("\\\\f")0 2207 y(showLitChar)g('\\n')262 b(=)48 b(showString)22
b("\\\\n")0 2264 y(showLitChar)g('\\r')262 b(=)48 b(showString)22
b("\\\\r")0 2320 y(showLitChar)g('\\t')262 b(=)48 b(showString)22
b("\\\\t")0 2376 y(showLitChar)g('\\v')262 b(=)48 b(showString)22
b("\\\\v")0 2433 y(showLitChar)g('\\SO')238 b(=)48 b(protectEsc)22
b(\(==)i('H'\))f(\(showString)g("\\\\SO"\))0 2489 y(showLitChar)f(c)334
b(=)48 b(showString)22 b(\('\\\\')i(:)f(asciiTab!c\))0 2584
y(protectEsc)f(p)i(f)310 b(=)24 b(f)g(.)f(cont)692 2640 y(where)g(cont)h
(s@\(c:_\))e(|)i(p)g(c)g(=)f("\\\\&")h(++)f(s)835 2697 y(cont)h(s)310
b(=)23 b(s)p eop
%%Page: 121 135
bop 150 50 a Ft(A.7)45 b(Prelude)16 b Fq(PreludeText)1186 b
Fu(121)150 193 y Fq(readDec,)23 b(readOct,)g(readHex)f(::)i(\(Integral)f(a\))
g(=>)h(ReadS)f(a)150 250 y(readDec)g(=)h(readInt)f(10)g(isDigit)g(\(\\d)g(->)
h(ord)g(d)f(-)h(ord)f('0'\))150 306 y(readOct)g(=)h(readInt)46
b(8)24 b(isOctDigit)f(\(\\d)g(->)h(ord)f(d)h(-)g(ord)f('0'\))150
362 y(readHex)g(=)h(readInt)f(16)g(isHexDigit)g(hex)436 419
y(where)h(hex)f(d)h(=)f(ord)h(d)g(-)f(\(if)h(isDigit)f(d)g(then)h(ord)f('0')
985 475 y(else)h(ord)f(\(if)g(isUpper)g(d)h(then)f('A')h(else)f('a'\))1105
532 y(-)g(10\))150 626 y(readInt)g(::)g(\(Integral)g(a\))h(=>)f(a)h(->)g
(\(Char)f(->)g(Bool\))h(->)f(\(Char)g(->)h(Int\))f(->)h(ReadS)f(a)150
683 y(readInt)g(radix)g(isDig)g(digToInt)g(s)h(=)245 739 y([\(foldl1)f(\(\\n)
h(d)f(->)h(n)g(*)f(radix)h(+)f(d\))h(\(map)f(\(fromIntegral)f(.)i(digToInt\))
f(ds\),)g(r\))341 796 y(|)h(\(ds,r\))f(<-)g(nonnull)g(isDig)g(s)h(])150
890 y(showInt)f(::)g(\(Integral)g(a\))h(=>)f(a)h(->)g(ShowS)150
947 y(showInt)f(n)h(r)f(=)h(let)g(\(n',d\))f(=)g(quotRem)g(n)h(10)580
1003 y(r')f(=)h(chr)f(\(ord)h('0')f(+)h(fromIntegral)e(d\))i(:)f(r)484
1060 y(in)h(if)f(n')h(==)f(0)h(then)f(r')h(else)f(showInt)g(n')h(r')150
1154 y(readSigned::)e(\(Real)h(a\))h(=>)g(ReadS)f(a)g(->)h(ReadS)f(a)150
1210 y(readSigned)f(readPos)h(=)h(readParen)f(False)g(read')651
1267 y(where)g(read')g(r)48 b(=)24 b(read'')f(r)h(++)1057 1323
y([\(-x,t\))f(|)g(\("-",s\))g(<-)h(lex)f(r,)1295 1380 y(\(x,t\))71
b(<-)24 b(read'')f(s])794 1436 y(read'')g(r)h(=)g([\(n,s\))47
b(|)23 b(\(str,s\))g(<-)h(lex)f(r,)1295 1493 y(\(n,""\))47
b(<-)24 b(readPos)f(str])150 1587 y(showSigned::)f(\(Real)h(a\))h(=>)g(\(a)f
(->)h(ShowS\))f(->)g(Int)h(->)f(a)h(->)g(ShowS)150 1644 y(showSigned)e
(showPos)h(p)h(x)g(=)g(if)f(x)h(<)g(0)f(then)h(showParen)e(\(p)i(>)g(6\))1319
1700 y(\(showChar)f('-')g(.)h(showPos)f(\(-x\)\))961 1757 y(else)h(showPos)f
(x)p eop
%%Page: 122 136
bop 0 50 a Fu(122)1155 b Ft(A)45 b(ST)l(AND)o(ARD)16 b(PRELUDE)0
193 y Fq(--)24 b(The)f(functions)g(readFloat)f(and)i(showFloat)e(below)i(use)
f(rational)g(arithmetic)0 250 y(--)h(to)f(insure)g(correct)g(conversion)g
(between)g(the)g(floating-point)f(radix)h(and)0 306 y(--)h(decimal.)46
b(It)24 b(is)f(often)h(possible)e(to)i(use)f(a)h(higher-precision)e
(floating-)0 362 y(--)i(point)f(type)g(to)h(obtain)f(the)g(same)g(results.)0
442 y(readFloat::)f(\(RealFloat)h(a\))g(=>)h(ReadS)f(a)0 499
y(readFloat)g(r)g(=)h([\(fromRational)e(\(\(n\0451\)*10^^\(k-d\)\),)f(t\))j
(|)g(\(n,d,s\))f(<-)g(readFix)g(r,)1265 555 y(\(k,t\))71 b(<-)23
b(readExp)g(s])334 612 y(where)g(readFix)g(r)h(=)g([\(read)f(\(ds++ds'\),)f
(length)h(ds',)h(t\))955 668 y(|)f(\(ds,'.':s\))g(<-)g(lexDigits)g(r,)1002
724 y(\(ds',t\))95 b(<-)23 b(lexDigits)g(s)h(])477 804 y(readExp)f(\(e:s\))g
(|)h(e)g(`elem`)f("eE")g(=)h(readExp')f(s)477 861 y(readExp)g(s)501
b(=)24 b([\(0,s\)])477 940 y(readExp')f(\('-':s\))g(=)h([\(-k,t\))f(|)g
(\(k,t\))g(<-)h(readDec)f(s])477 997 y(readExp')g(\('+':s\))g(=)h(readDec)f
(s)477 1053 y(readExp')g(s)167 b(=)24 b(readDec)f(s)p eop
%%Page: 123 137
bop 150 50 a Ft(A.7)45 b(Prelude)16 b Fq(PreludeText)1186 b
Fu(123)150 193 y Fq(--)24 b(The)f(number)g(of)h(decimal)f(digits)g(m)g(below)
h(is)f(chosen)g(to)h(guarantee)150 250 y(--)g(read)f(\(show)g(x\))h(==)f(x.)
48 b(See)150 306 y(--)143 b(Matula,)23 b(D.)g(W.)48 b(A)24
b(formalization)e(of)h(floating-point)f(numeric)h(base)150
362 y(--)143 b(conversion.)46 b(IEEE)23 b(Transactions)g(on)g(Computers)g
(C-19,)g(8)h(\(1970)f(August\),)150 419 y(--)143 b(681-692.)150
499 y(showFloat::)22 b(\(RealFloat)h(a\))g(=>)h(a)g(->)f(ShowS)150
555 y(showFloat)g(x)g(=)245 612 y(if)h(x)g(==)f(0)h(then)f(showString)g
(\("0.")g(++)h(take)f(\(m-1\))g(\(repeat)g('0'\)\))484 668
y(else)g(if)h(e)g(>=)f(m-1)h(||)f(e)h(<)g(0)g(then)f(showSci)g(else)g
(showFix)245 724 y(where)245 781 y(showFix)119 b(=)24 b(showString)e(whole)h
(.)h(showChar)f('.')g(.)h(showString)e(frac)580 837 y(where)h(\(whole,frac\))
f(=)i(splitAt)f(\(e+1\))g(\(show)g(sig\))245 894 y(showSci)119
b(=)24 b(showChar)e(d)i(.)g(showChar)f('.')g(.)h(showString)e(frac)675
950 y(.)i(showChar)e('e')i(.)g(shows)f(e)580 1007 y(where)g(\(d:frac\))f(=)i
(show)g(sig)245 1063 y(\(m,)g(sig,)f(e\))h(=)g(if)f(b)h(==)f(10)h(then)f
(\(w,)72 b(s,)f(n+w-1\))842 1120 y(else)23 b(\(m',)h(sig',)f(e')71
b(\))245 1176 y(m')239 b(=)24 b(ceiling)675 1233 y(\(fromIntegral)e(w)i(*)g
(log)f(\(fromInteger)f(b\))i(/)g(log)f(10)h(::)f(Double\))580
1289 y(+)g(1)245 1345 y(\(sig',)g(e'\))48 b(=)24 b(if)142 b(sig1)24
b(>=)f(10^m')119 b(then)23 b(\(round)g(\(t/10\),)g(e1+1\))580
1402 y(else)g(if)g(sig1)h(<)47 b(10^\(m'-1\))23 b(then)g(\(round)g(\(t*10\),)
g(e1-1\))1200 1458 y(else)g(\(sig1,)214 b(e1)48 b(\))245 1515
y(sig1)191 b(=)24 b(round)f(t)245 1571 y(t)263 b(=)24 b(s\0451)f(*)h
(\(b\0451\)^^n)e(*)i(10^^\(m'-e1-1\))245 1628 y(e1)239 b(=)24
b(floor)f(\(logBase)f(10)i(x\))245 1684 y(\(s,)g(n\))143 b(=)24
b(decodeFloat)e(x)245 1741 y(b)263 b(=)24 b(floatRadix)e(x)245
1797 y(w)263 b(=)24 b(floatDigits)e(x)p eop
%%Page: 124 138
bop 0 50 a Fu(124)1155 b Ft(A)45 b(ST)l(AND)o(ARD)16 b(PRELUDE)0
199 y Fx(A.8)56 b(Prelude)18 b Fb(PreludeIO)0 297 y Fq(--)24
b(I/O)f(functions)g(and)g(definitions)0 377 y(module)g(PreludeIO)47
b(where)0 471 y(--)24 b(File)f(and)g(channel)g(names:)0 551
y(stdin)166 b(=)48 b("stdin")0 608 y(stdout)142 b(=)48 b("stdout")0
664 y(stderr)142 b(=)48 b("stderr")0 720 y(stdecho)118 b(=)48
b("stdecho")0 815 y(--)24 b(Requests)e(and)i(responses:)0 895
y(data)f(Request)g(=)48 b(--)23 b(file)h(system)f(requests:)620
951 y(ReadFile)143 b(String)573 1008 y(|)23 b(WriteFile)119
b(String)23 b(String)573 1064 y(|)g(AppendFile)95 b(String)23
b(String)573 1120 y(|)g(ReadBinFile)71 b(String)573 1177 y(|)23
b(WriteBinFile)47 b(String)23 b(Bin)573 1233 y(|)g(AppendBinFile)g(String)g
(Bin)573 1290 y(|)g(DeleteFile)95 b(String)573 1346 y(|)23
b(StatusFile)95 b(String)382 1403 y(--)23 b(channel)g(system)g(requests:)573
1459 y(|)g(ReadChan)143 b(String)573 1516 y(|)23 b(AppendChan)95
b(String)23 b(String)573 1572 y(|)g(ReadBinChan)71 b(String)573
1629 y(|)23 b(AppendBinChan)g(String)g(Bin)573 1685 y(|)g(StatusChan)95
b(String)382 1741 y(--)23 b(environment)g(requests:)573 1798
y(|)g(Echo)239 b(Bool)573 1854 y(|)23 b(GetArgs)573 1911 y(|)g(GetProgName)
573 1967 y(|)g(GetEnv)191 b(String)573 2024 y(|)23 b(SetEnv)191
b(String)23 b(String)382 2080 y(deriving)g(Text)0 2175 y(data)g(Response)g(=)
262 b(Success)573 2231 y(|)23 b(Str)h(String)573 2288 y(|)f(StrList)g
([String])573 2344 y(|)g(Bn)48 b(Bin)573 2400 y(|)23 b(Failure)g(IOError)382
2457 y(deriving)g(Text)p eop
%%Page: 125 139
bop 150 50 a Ft(A.8)45 b(Prelude)16 b Fq(PreludeIO)1234 b Fu(125)150
193 y Fq(data)23 b(IOError)g(=)286 b(WriteError)71 b(String)723
250 y(|)23 b(ReadError)95 b(String)723 306 y(|)23 b(SearchError)47
b(String)723 362 y(|)23 b(FormatError)47 b(String)723 419 y(|)23
b(OtherError)71 b(String)532 475 y(deriving)23 b(Text)150 570
y(--)h(Continuation-based)d(I/O:)150 650 y(type)i(Dialogue)95
b(=)47 b([Response])23 b(->)g([Request])150 706 y(type)g(SuccCont)95
b(=)381 b(Dialogue)150 762 y(type)23 b(StrCont)119 b(=)47 b(String)119
b(->)23 b(Dialogue)150 819 y(type)g(StrListCont)g(=)47 b([String])71
b(->)23 b(Dialogue)150 875 y(type)g(BinCont)119 b(=)47 b(Bin)191
b(->)23 b(Dialogue)150 932 y(type)g(FailCont)95 b(=)47 b(IOError)95
b(->)23 b(Dialogue)150 1026 y(done)238 b(::)1145 b(Dialogue)150
1083 y(readFile)142 b(::)24 b(String)f(->)262 b(FailCont)23
b(->)g(StrCont)119 b(->)23 b(Dialogue)150 1139 y(writeFile)118
b(::)24 b(String)f(->)g(String)g(->)h(FailCont)f(->)g(SuccCont)95
b(->)23 b(Dialogue)150 1196 y(appendFile)94 b(::)24 b(String)f(->)g(String)g
(->)h(FailCont)f(->)g(SuccCont)95 b(->)23 b(Dialogue)150 1252
y(readBinFile)70 b(::)24 b(String)f(->)262 b(FailCont)23 b(->)g(BinCont)119
b(->)23 b(Dialogue)150 1309 y(writeBinFile)46 b(::)24 b(String)f(->)g(Bin)95
b(->)24 b(FailCont)f(->)g(SuccCont)95 b(->)23 b(Dialogue)150
1365 y(appendBinFile)f(::)i(String)f(->)g(Bin)95 b(->)24 b(FailCont)f(->)g
(SuccCont)95 b(->)23 b(Dialogue)150 1422 y(deleteFile)94 b(::)24
b(String)f(->)262 b(FailCont)23 b(->)g(SuccCont)95 b(->)23
b(Dialogue)150 1478 y(statusFile)94 b(::)24 b(String)f(->)262
b(FailCont)23 b(->)g(StrCont)119 b(->)23 b(Dialogue)150 1534
y(readChan)142 b(::)24 b(String)f(->)262 b(FailCont)23 b(->)g(StrCont)119
b(->)23 b(Dialogue)150 1591 y(appendChan)94 b(::)24 b(String)f(->)g(String)g
(->)h(FailCont)f(->)g(SuccCont)95 b(->)23 b(Dialogue)150 1647
y(readBinChan)70 b(::)24 b(String)f(->)262 b(FailCont)23 b(->)g(BinCont)119
b(->)23 b(Dialogue)150 1704 y(appendBinChan)f(::)i(String)f(->)g(Bin)95
b(->)24 b(FailCont)f(->)g(SuccCont)95 b(->)23 b(Dialogue)150
1760 y(statusChan)94 b(::)24 b(String)f(->)262 b(FailCont)23
b(->)g(StrCont)119 b(->)23 b(Dialogue)150 1817 y(echo)238 b(::)24
b(Bool)f(->)310 b(FailCont)23 b(->)g(SuccCont)95 b(->)23 b(Dialogue)150
1873 y(getArgs)166 b(::)501 b(FailCont)23 b(->)g(StrListCont)g(->)g(Dialogue)
150 1930 y(getProgName)70 b(::)501 b(FailCont)23 b(->)g(StrCont)119
b(->)23 b(Dialogue)150 1986 y(getEnv)190 b(::)24 b(String)f(->)262
b(FailCont)23 b(->)g(StrCont)119 b(->)23 b(Dialogue)150 2043
y(setEnv)190 b(::)24 b(String)f(->)g(String)g(->)h(FailCont)f(->)g(SuccCont)
95 b(->)23 b(Dialogue)150 2137 y(done)g(resps)95 b(=)48 b([])150
2231 y(readFile)23 b(name)g(fail)g(succ)h(resps)f(=)269 2288
y(\(ReadFile)g(name\))g(:)h(strDispatch)e(fail)i(succ)f(resps)150
2382 y(writeFile)g(name)g(contents)g(fail)g(succ)g(resps)h(=)245
2439 y(\(WriteFile)f(name)g(contents\))g(:)h(succDispatch)e(fail)h(succ)g
(resps)150 2533 y(appendFile)f(name)i(contents)f(fail)g(succ)g(resps)g(=)245
2590 y(\(AppendFile)g(name)g(contents\))g(:)g(succDispatch)g(fail)g(succ)g
(resps)p eop
%%Page: 126 140
bop 0 50 a Fu(126)1155 b Ft(A)45 b(ST)l(AND)o(ARD)16 b(PRELUDE)0
193 y Fq(readBinFile)22 b(name)i(fail)f(succ)g(resps)g(=)95
250 y(\(ReadBinFile)g(name\))g(:)h(binDispatch)e(fail)h(succ)h(resps)0
344 y(writeBinFile)e(name)i(contents)e(fail)i(succ)f(resps)g(=)95
400 y(\(WriteBinFile)g(name)g(contents\))f(:)i(succDispatch)e(fail)i(succ)f
(resps)0 495 y(appendBinFile)f(name)h(contents)g(fail)g(succ)h(resps)f(=)95
551 y(\(AppendBinFile)f(name)i(contents\))e(:)i(succDispatch)e(fail)i(succ)f
(resps)0 646 y(deleteFile)f(name)i(fail)f(succ)g(resps)h(=)95
702 y(\(DeleteFile)f(name\))g(:)h(succDispatch)e(fail)h(succ)h(resps)0
797 y(statusFile)e(name)i(fail)f(succ)g(resps)h(=)95 853 y(\(StatusFile)f
(name\))g(:)h(strDispatch)e(fail)h(succ)h(resps)0 948 y(readChan)f(name)g
(fail)g(succ)h(resps)f(=)95 1004 y(\(ReadChan)g(name\))g(:)h(strDispatch)e
(fail)i(succ)f(resps)0 1099 y(appendChan)f(name)i(contents)f(fail)g(succ)g
(resps)g(=)95 1155 y(\(AppendChan)g(name)g(contents\))g(:)g(succDispatch)g
(fail)g(succ)g(resps)0 1250 y(readBinChan)f(name)i(fail)f(succ)g(resps)g(=)95
1306 y(\(ReadBinChan)g(name\))g(:)h(binDispatch)e(fail)h(succ)h(resps)0
1401 y(appendBinChan)e(name)h(contents)g(fail)g(succ)h(resps)f(=)95
1457 y(\(AppendBinChan)f(name)i(contents\))e(:)i(succDispatch)e(fail)i(succ)f
(resps)0 1552 y(statusChan)f(name)i(fail)f(succ)g(resps)h(=)95
1608 y(\(StatusChan)f(name\))g(:)h(strDispatch)e(fail)h(succ)h(resps)0
1702 y(echo)f(bool)h(fail)f(succ)g(resps)g(=)95 1759 y(\(Echo)h(bool\))f(:)h
(succDispatch)e(fail)h(succ)g(resps)0 1853 y(getArgs)g(fail)g(succ)h(resps)f
(=)191 1910 y(GetArgs)g(:)h(strListDispatch)d(fail)j(succ)f(resps)0
2004 y(getProgName)f(fail)i(succ)f(resps)g(=)191 2061 y(GetProgName)f(:)i
(strDispatch)e(fail)i(succ)f(resps)0 2155 y(getEnv)g(name)g(fail)h(succ)f
(resps)g(=)191 2212 y(\(GetEnv)g(name\))g(:)h(strDispatch)e(fail)h(succ)h
(resps)0 2306 y(setEnv)f(name)g(val)h(fail)f(succ)g(resps)h(=)191
2363 y(\(SetEnv)f(name)g(val\))g(:)h(succDispatch)e(fail)i(succ)f(resps)0
2457 y(strDispatch)f(fail)i(succ)f(\(resp:resps\))f(=)286 2514
y(case)i(resp)f(of)h(Str)f(val)119 b(->)24 b(succ)f(val)g(resps)597
2570 y(Failure)f(msg)i(->)g(fail)f(msg)g(resps)p eop
%%Page: 127 141
bop 150 50 a Ft(A.8)45 b(Prelude)16 b Fq(PreludeIO)1234 b Fu(127)150
193 y Fq(strListDispatch)22 b(fail)h(succ)g(\(resp:resps\))g(=)436
250 y(case)h(resp)f(of)h(StrList)e(val)i(->)g(succ)f(val)g(resps)747
306 y(Failure)f(msg)i(->)g(fail)f(msg)g(resps)150 400 y(binDispatch)f(fail)i
(succ)f(\(resp:resps\))f(=)436 457 y(case)i(resp)f(of)h(Bn)f(val)143
b(->)24 b(succ)f(val)g(resps)747 513 y(Failure)f(msg)i(->)g(fail)f(msg)g
(resps)150 608 y(succDispatch)f(fail)i(succ)f(\(resp:resps\))f(=)436
664 y(case)i(resp)f(of)h(Success)118 b(->)24 b(succ)f(resps)747
721 y(Failure)f(msg)i(->)g(fail)f(msg)g(resps)150 815 y(abort)262
b(::)23 b(FailCont)150 872 y(abort)g(err)167 b(=)47 b(done)150
966 y(exit)286 b(::)23 b(FailCont)150 1023 y(exit)g(err)191
b(=)24 b(appendChan)e(stderr)h(\(msg)g(++)h("\\n"\))f(abort)g(done)580
1079 y(where)g(msg)g(=)h(case)f(err)h(of)f(ReadError)g(s)71
b(->)24 b(s)1152 1136 y(WriteError)f(s)47 b(->)24 b(s)1152
1192 y(SearchError)f(s)g(->)h(s)1152 1248 y(FormatError)f(s)g(->)h(s)1152
1305 y(OtherError)f(s)47 b(->)24 b(s)150 1399 y(print)262 b(::)23
b(\(Text)h(a\))f(=>)h(a)f(->)h(Dialogue)150 1456 y(print)f(x)215
b(=)47 b(appendChan)23 b(stdout)g(\(show)g(x\))h(exit)f(done)150
1512 y(prints)238 b(::)23 b(\(Text)h(a\))f(=>)h(a)f(->)h(String)f(->)h
(Dialogue)150 1569 y(prints)f(x)h(s)143 b(=)47 b(appendChan)23
b(stdout)g(\(shows)g(x)h(s\))f(exit)h(done)150 1663 y(interact)190
b(::)23 b(\(String)g(->)h(String\))f(->)g(Dialogue)150 1720
y(interact)g(f)143 b(=)47 b(readChan)23 b(stdin)g(exit)818
1776 y(\(\\x)h(->)f(appendChan)g(stdout)g(\(f)g(x\))h(exit)f(done\))p
eop
%%Page: 128 142
bop 0 50 a Fu(128)1463 b Ft(B)45 b(SYNT)l(AX)0 199 y Fy(B)67
b(Syn)n(tax)0 326 y Fx(B.1)55 b(Notational)18 b(Con)n(v)n(en)n(tions)0
435 y Fu(These)e(notational)f(con)o(v)o(en)o(tions)g(are)g(used)h(for)e
(presen)o(ting)i(syn)o(tax:)418 552 y([)p Fp(p)n(attern)s Fu(])64
b(optional)408 608 y Fl(f)p Fp(p)n(attern)s Fl(g)54 b Fu(zero)15
b(or)g(more)g(rep)q(etitions)413 664 y(\()p Fp(p)n(attern)s
Fu(\))59 b(grouping)397 721 y Fp(p)n(at)456 728 y Fk(1)496
721 y Fl(j)16 b Fp(p)n(at)584 728 y Fk(2)651 721 y Fu(c)o(hoice)429
777 y Fp(p)n(at)488 784 y Fi(h)p Fk(p)n(at)550 776 y Fh(0)561
784 y Fi(i)651 777 y Fu(di\013erence|elemen)o(ts)i(generated)d(b)o(y)g
Fp(p)n(at)651 834 y Fu(except)h(those)f(generated)g(b)o(y)g
Fp(p)n(at)1246 817 y Fi(0)395 890 y Fq(fibonacci)40 b Fu(terminal)16
b(syn)o(tax)f(in)h(t)o(yp)q(ewriter)f(fon)o(t)71 1007 y(BNF-lik)o(e)h(syn)o
(tax)e(is)i(used)g(throughout,)e(with)i(pro)q(ductions)g(ha)o(ving)f(form:)0
1120 y Fp(nonterm)42 b Fl(!)59 b Fp(alt)363 1127 y Fk(1)402
1120 y Fl(j)16 b Fp(alt)481 1127 y Fk(2)521 1120 y Fl(j)23
b Fr(:)8 b(:)g(:)22 b Fl(j)16 b Fp(alt)713 1127 y Fk(n)71 1233
y Fu(There)22 b(are)f(some)h(families)h(of)f(non)o(terminals)h(indexed)g(b)o
(y)f(precedence)i(lev)o(els)f(\(written)f(as)f(a)0 1290 y(sup)q(erscript\).)f
(Similarly)l(,)d(the)e(non)o(terminals)g Fp(op)s Fu(,)f Fp(var)n(op)t
Fu(,)g(and)h Fp(c)n(onop)i Fu(ma)o(y)c(ha)o(v)o(e)i(a)f(double)h(index:)21
b(a)0 1346 y(letter)c Fp(l)5 b Fu(,)17 b Fp(r)5 b Fu(,)17 b(or)g
Fp(n)j Fu(for)c(left-,)i(righ)o(t-)f(or)g(nonasso)q(ciativit)o(y)h(and)f(a)g
(precedence)i(lev)o(el.)27 b(A)17 b(precedence-)0 1403 y(lev)o(el)g(v)m
(ariable)g Fp(i)j Fu(ranges)15 b(from)f(0)h(to)g(9;)g(an)g(asso)q(ciativit)o
(y)h(v)m(ariable)h Fp(a)i Fu(v)m(aries)d(o)o(v)o(er)f Fl(f)p
Fp(l)5 b Fr(;)23 b Fp(r)5 b Fr(;)23 b Fp(n)s Fl(g)p Fu(.)d(Th)o(us,)0
1459 y(for)15 b(example)0 1572 y Fp(aexp)121 b Fl(!)59 b Fq(\()16
b Fp(exp)421 1556 y Fk(i)s Fo(+)p Fk(1)499 1572 y Fp(op)548
1556 y Fo(\()p Fk(a)s Fj(;)p Fk(i)s Fo(\))636 1572 y Fq(\))0
1686 y Fu(actually)g(stands)f(for)f(30)h(pro)q(ductions,)h(with)f(10)g
(substitutions)h(for)e Fp(i)20 b Fu(and)c(3)e(for)h Fp(a)t
Fu(.)71 1765 y(In)h(b)q(oth)g(the)g(lexical)i(and)e(the)g(con)o(text-free)g
(syn)o(tax,)f(there)h(are)g(some)f(am)o(biguities)j(that)d(are)h(to)0
1822 y(b)q(e)21 b(resolv)o(ed)f(b)o(y)g(making)h(grammatical)e(phrases)i(as)e
(long)i(as)e(p)q(ossible,)k(pro)q(ceeding)f(from)d(left)i(to)0
1878 y(righ)o(t)e(\(in)h(shift-reduce)h(parsing,)g(resolving)f(shift/reduce)g
(con\015icts)h(b)o(y)e(shifting\).)33 b(In)20 b(the)g(lexical)0
1935 y(syn)o(tax,)d(this)g(is)h(the)f(\\consume)h(longest)f(lexeme")h(rule.)
27 b(In)18 b(the)f(con)o(text-free)g(syn)o(tax,)f(this)i(means)0
1991 y(that)h(conditionals,)j(let-expressions,)g(and)e(lam)o(b)q(da)h
(abstractions)e(extend)h(to)f(the)h(righ)o(t)g(as)f(far)g(as)0
2048 y(p)q(ossible.)0 2192 y Fx(B.2)55 b(Syn)n(tax)19 b(Changes)0
2301 y Fs(B.2.1)52 b(Minor)17 b(Syn)o(tax)g(Changes)g(in)h(V)l(ersion)f(1.1)0
2410 y Fu(This)11 b(section)h(is)f(a)g(list)h(of)e(the)h(non-trivial)h(c)o
(hanges)f(to)g(the)g(Hask)o(ell)g(syn)o(tax)g(b)q(et)o(w)o(een)g(v)o(ersions)
g(1.0)f(and)0 2467 y(1.1)g(of)h(this)g(rep)q(ort,)g Fp(excluding)g
Fu(those)g(men)o(tioned)h(in)f(the)h(1.1)e(preface)h(\(page)g(ix\).)18
b(Other)12 b(clari\014cations)0 2523 y(and)j(corrections)h(are)f(re\015ected)
h(in)g(the)f(full)h(syn)o(tax)f(in)h(the)f(follo)o(wing)h(sections.)56
2647 y(1.)22 b(Empt)o(y)13 b(declarations)i(and)f(declaration)h(lists)f
(ending)h(with)g Fq(;)f Fu(ha)o(v)o(e)f(b)q(een)i(added,)g(to)e(aid)h(auto-)
114 2704 y(matic)h(program)f(generation.)p eop
%%Page: 129 143
bop 150 50 a Ft(B.3)45 b(Lexical)17 b(Syn)o(tax)1325 b Fu(129)206
199 y(2.)22 b(Guards)14 b(ha)o(v)o(e)h(b)q(een)i(eliminated)g(from)d(lam)o(b)
q(da)i(expressions.)206 293 y(3.)22 b(List)15 b(comprehensions)i(m)o(ust)d
(ha)o(v)o(e)h(at)g(least)g(one)g(quali\014er.)206 387 y(4.)22
b Fq(Case)14 b Fu(expressions)i(ma)o(y)f(ha)o(v)o(e)g(more)f(than)h(one)h
(guard)f(p)q(er)g(clause.)206 481 y(5.)22 b(Instance)16 b(declarations)h(can)
g(only)f(ha)o(v)o(e)g Fp(valdefs)j Fu(in)e(their)g(b)q(o)q(dy;)g(in)g
(particular,)g(they)f(cannot)264 537 y(ha)o(v)o(e)e(t)o(yp)q(e)i(signatures)f
(in)h(their)g(b)q(o)q(dy)l(.)150 682 y Fs(B.2.2)52 b(Changes)17
b(from)g(V)l(ersion)f(1.1)h(to)h(V)l(ersion)f(1.2)150 793 y
Fu(A)12 b(few)f(c)o(hanges)g(ha)o(v)o(e)g(b)q(een)i(made)f(for)e(V)l(ersion)j
(1.2.)k(These)12 b(are)f(mainly)i(clari\014cations)g(or)e(corrections)150
849 y(of)17 b(the)h(V)l(ersion)g(1.1)f(syn)o(tax.)26 b(A)17
b(full)i(list)g(of)e(c)o(hanges)g(is)h(con)o(tained)h(in)f(the)g(1.2)e
(preface)i(\(page)f(xi\).)150 906 y(The)e(principal)j(c)o(hanges)d(are)g(rep)
q(eated)h(b)q(elo)o(w.)206 1037 y(1.)22 b(The)15 b(precedence)i(of)e(t)o(yp)q
(e)g(applications)i(has)e(b)q(een)h(made)f(explicit.)206 1131
y(2.)22 b(Successor)15 b(patterns)g(are)g(restricted)g(to)g(v)m
(ariable/wildcard)j(patterns.)206 1225 y(3.)k(The)15 b(precedence)i(of)e
(pre\014x)g(min)o(us)h(has)f(b)q(een)i(made)e(explicit.)206
1318 y(4.)22 b(The)15 b(syn)o(tax)g(of)f(left-hand)i(sides)h(has)e(b)q(een)h
(simpli\014ed.)206 1412 y(5.)22 b(Some)d(c)o(hanges)g(ha)o(v)o(e)f(b)q(een)i
(made)f(to)f(the)h(precedences)i(of)e Fq(let)o Fu(,)h Fq(case)o
Fu(,)g Fq(if)e Fu(and)h(lam)o(b)q(da\()p Fq(\\)p Fu(\))264
1469 y(expressions.)150 1615 y Fx(B.3)55 b(Lexical)17 b(Syn)n(tax)150
1726 y Fp(pr)n(o)n(gr)n(am)50 b Fl(!)59 b(f)16 b Fp(lexeme)j
Fl(j)d Fp(whitesp)n(ac)n(e)j Fl(g)150 1782 y Fp(lexeme)76 b
Fl(!)59 b Fp(varid)21 b Fl(j)16 b Fp(c)n(onid)k Fl(j)c Fp(varsym)k
Fl(j)c Fp(c)n(onsym)j Fl(j)d Fp(liter)n(al)k Fl(j)c Fp(sp)n(e)n(cial)k
Fl(j)c Fp(r)n(eserve)n(dop)i Fl(j)e Fp(r)n(eserve)n(did)150
1839 y(liter)n(al)95 b Fl(!)59 b Fp(inte)n(ger)20 b Fl(j)c
Fp(\015o)n(at)k Fl(j)c Fp(char)22 b Fl(j)16 b Fp(string)150
1895 y(sp)n(e)n(cial)80 b Fl(!)59 b Fq(\()16 b Fl(j)g Fq(\))g
Fl(j)g Fq(,)g Fl(j)g Fq(;)g Fl(j)g Fq([)g Fl(j)g Fq(])g Fl(j)g
Fq(_)g Fl(j)g Fp(\022)g Fl(j)g Fq({)g Fl(j)g Fq(})150 2008
y Fp(whitesp)n(ac)n(e)s Fl(!)59 b Fp(whitestu\013)26 b Fl(f)p
Fp(whitestu\013)10 b Fl(g)150 2065 y Fp(whitestu\013)20 b Fl(!)59
b Fp(white)n(char)21 b Fl(j)16 b Fp(c)n(omment)21 b Fl(j)15
b Fp(nc)n(omment)150 2121 y(white)n(char)22 b Fl(!)59 b Fp(new)r(line)18
b Fl(j)e Fp(sp)n(ac)n(e)j Fl(j)d Fp(tab)j Fl(j)d Fp(vertab)k
Fl(j)15 b Fp(formfe)n(e)n(d)150 2178 y(new)r(line)57 b Fl(!)i
Fu(a)15 b(newline)i(\(system)d(dep)q(enden)o(t\))150 2234 y
Fp(sp)n(ac)n(e)106 b Fl(!)59 b Fu(a)15 b(space)150 2291 y Fp(tab)150
b Fl(!)59 b Fu(a)15 b(horizon)o(tal)g(tab)150 2347 y Fp(vertab)89
b Fl(!)59 b Fu(a)15 b(v)o(ertical)g(tab)150 2403 y Fp(formfe)n(e)n(d)41
b Fl(!)59 b Fu(a)15 b(form)f(feed)150 2460 y Fp(c)n(omment)31
b Fl(!)59 b Fq(--)16 b Fl(f)p Fp(any)t Fl(g)f Fp(new)r(line)150
2516 y(nc)n(omment)5 b Fl(!)59 b Fq({-)16 b Fp(ANYse)n(q)i
Fl(f)p Fp(nc)n(omment)i(ANYse)n(q)t Fl(g)14 b Fq(-})150 2573
y Fp(ANYse)n(q)48 b Fl(!)59 b(f)p Fp(ANY)8 b Fl(g)619 2589
y Fi(hf)p Fk(ANY)e Fi(g)16 b Fo(\()g Fq({-)g Fi(j)h Fq(-})f
Fo(\))g Fi(f)p Fk(ANY)6 b Fi(gi)150 2635 y Fp(ANY)107 b Fl(!)59
b Fp(any)20 b Fl(j)c Fp(new)r(line)i Fl(j)e Fp(vertab)k Fl(j)15
b Fp(formfe)n(e)n(d)150 2692 y(any)138 b Fl(!)59 b Fp(gr)n(aphic)19
b Fl(j)d Fp(sp)n(ac)n(e)j Fl(j)c Fp(tab)p eop
%%Page: 130 144
bop 0 50 a Fu(130)1463 b Ft(B)45 b(SYNT)l(AX)0 199 y Fp(gr)n(aphic)67
b Fl(!)59 b Fp(lar)n(ge)19 b Fl(j)d Fp(smal)r(l)k Fl(j)c Fp(digit)225
256 y Fl(j)75 b Fq(!)16 b Fl(j)g Fq(")g Fl(j)g Fq(#)g Fl(j)g
Fq($)g Fl(j)g Fq(\045)g Fl(j)g Fq(&)g Fl(j)g Fp(\023)g Fl(j)g
Fq(\()g Fl(j)g Fq(\))g Fl(j)g Fq(*)g Fl(j)g Fq(+)225 312 y
Fl(j)75 b Fq(,)16 b Fl(j)g Fq(-)g Fl(j)g Fq(.)g Fl(j)g Fq(/)g
Fl(j)g Fq(:)g Fl(j)g Fq(;)g Fl(j)g Fq(<)g Fl(j)g Fq(=)g Fl(j)g
Fq(>)g Fl(j)g Fq(?)g Fl(j)g Fu(@)225 369 y Fl(j)75 b Fq([)16
b Fl(j)g Fq(\\)g Fl(j)g Fq(])g Fl(j)g Fq(^)g Fl(j)g Fq(_)g
Fl(j)g Fp(\022)g Fl(j)g Fq({)g Fl(j)g Fq(|)g Fl(j)g Fq(})g
Fl(j)g Fq(~)0 482 y Fp(smal)r(l)104 b Fl(!)59 b Fq(a)16 b Fl(j)g
Fq(b)g Fl(j)23 b Fr(:)8 b(:)g(:)22 b Fl(j)16 b Fq(z)0 538 y
Fp(lar)n(ge)115 b Fl(!)59 b Fq(A)16 b Fl(j)g Fq(B)g Fl(j)23
b Fr(:)8 b(:)g(:)22 b Fl(j)16 b Fq(Z)0 594 y Fp(digit)122 b
Fl(!)59 b Fq(0)16 b Fl(j)g Fq(1)g Fl(j)23 b Fr(:)8 b(:)g(:)22
b Fl(j)16 b Fq(9)0 744 y Fp(varid)109 b Fl(!)59 b Fu(\()p Fp(smal)r(l)20
b Fl(f)p Fp(smal)r(l)g Fl(j)c Fp(lar)n(ge)j Fl(j)d Fp(digit)21
b Fl(j)16 b Fp(\023)g Fl(j)g Fq(_)p Fl(g)p Fu(\))1045 751 y
Fi(h)p Fk(r)n(eserve)n(did)s Fi(i)0 800 y Fp(c)n(onid)104 b
Fl(!)59 b Fp(lar)n(ge)19 b Fl(f)p Fp(smal)r(l)h Fl(j)c Fp(lar)n(ge)j
Fl(j)d Fp(digit)21 b Fl(j)16 b Fp(\023)g Fl(j)g Fq(_)p Fl(g)0
856 y Fp(r)n(eserve)n(did)c Fl(!)59 b Fq(case)15 b Fl(j)h Fq(class)g
Fl(j)g Fq(data)f Fl(j)h Fq(default)g Fl(j)f Fq(deriving)h Fl(j)g
Fq(else)f Fl(j)h Fq(hiding)225 913 y Fl(j)75 b Fq(if)16 b Fl(j)g
Fq(import)f Fl(j)h Fq(in)g Fl(j)g Fq(infix)f Fl(j)h Fq(infixl)g
Fl(j)g Fq(infixr)f Fl(j)h Fq(instance)f Fl(j)h Fq(interface)225
969 y Fl(j)75 b Fq(let)15 b Fl(j)h Fq(module)g Fl(j)g Fq(of)g
Fl(j)g Fq(renaming)f Fl(j)h Fq(then)f Fl(j)h Fq(to)g Fl(j)g
Fq(type)g Fl(j)g Fq(where)0 1118 y Fp(varsym)68 b Fl(!)59 b
Fu(\()16 b(\()g Fp(symb)n(ol)k Fl(j)c Fp(pr)n(esymb)n(ol)k
Fu(\))c Fl(f)p Fp(symb)n(ol)k Fl(j)c Fq(:)o Fl(g)g Fu(\))1093
1125 y Fi(h)p Fk(r)n(eserve)n(dop)r Fi(i)0 1175 y Fp(c)n(onsym)63
b Fl(!)c Fu(\()p Fq(:)15 b Fl(f)p Fp(symb)n(ol)20 b Fl(j)c
Fq(:)p Fl(g)p Fu(\))639 1182 y Fi(h)p Fk(r)n(eserve)n(dop)r
Fi(i)0 1231 y Fp(pr)n(esymb)n(ol)g Fl(!)59 b Fq(-)16 b Fl(j)g
Fq(~)0 1288 y Fp(symb)n(ol)77 b Fl(!)59 b Fq(!)16 b Fl(j)g
Fq(#)g Fl(j)g Fq($)g Fl(j)g Fq(\045)g Fl(j)g Fq(&)g Fl(j)g
Fq(*)g Fl(j)g Fq(+)g Fl(j)g Fq(.)g Fl(j)g Fq(/)g Fl(j)g Fq(<)g
Fl(j)g Fq(=)g Fl(j)g Fq(>)g Fl(j)g Fq(?)g Fl(j)g Fu(@)g Fl(j)g
Fq(\\)g Fl(j)g Fq(^)g Fl(j)g Fq(|)0 1344 y Fp(r)n(eserve)n(dop)s
Fl(!)59 b Fq(..)16 b Fl(j)g Fq(::)f Fl(j)h Fq(=>)g Fl(j)g Fq(=)g
Fl(j)g Fu(@)h Fl(j)f Fq(\\)g Fl(j)g Fq(|)g Fl(j)g Fq(~)g Fl(j)g
Fq(<-)g Fl(j)g Fq(->)0 1493 y Fp(tyvar)109 b Fl(!)59 b Fp(varid)776
b Fu(\(t)o(yp)q(e)15 b(v)m(ariables)r(\))0 1550 y Fp(tyc)n(on)104
b Fl(!)59 b Fp(c)n(onid)771 b Fu(\(t)o(yp)q(e)15 b(constructors\))0
1606 y Fp(tycls)120 b Fl(!)59 b Fp(c)n(onid)771 b Fu(\(t)o(yp)q(e)15
b(classes)q(\))0 1663 y Fp(mo)n(did)91 b Fl(!)59 b Fp(c)n(onid)771
b Fu(\(mo)q(dules)q(\))0 1812 y Fp(inte)n(ger)74 b Fl(!)59
b Fp(digit)t Fl(f)p Fp(digit)t Fl(g)0 1868 y Fp(\015o)n(at)123
b Fl(!)59 b Fp(inte)n(ger)5 b Fq(.)o Fp(inte)n(ger)g Fu([\()p
Fq(e)14 b Fl(j)i Fq(E)p Fu(\)[)p Fq(-)f Fl(j)h Fq(+)p Fu(])p
Fp(inte)n(ger)5 b Fu(])0 2017 y Fp(char)123 b Fl(!)59 b Fp(\023)16
b Fu(\()p Fp(gr)n(aphic)512 2033 y Fi(h)p Fp(\023)h Fi(j)f
Fq(\\)p Fi(i)647 2017 y Fl(j)g Fp(sp)n(ac)n(e)j Fl(j)c Fp(esc)n(ap)n(e)950
2033 y Fi(h)p Fq(\\&)p Fi(i)1026 2017 y Fu(\))h Fp(\023)0 2080
y(string)95 b Fl(!)59 b Fq(")16 b Fl(f)p Fp(gr)n(aphic)518
2096 y Fi(h)p Fq(")g Fi(j)g Fq(\\)p Fi(i)653 2080 y Fl(j)g
Fp(sp)n(ac)n(e)j Fl(j)d Fp(esc)n(ap)n(e)j Fl(j)c Fp(gap)s Fl(g)i
Fq(")0 2143 y Fp(esc)n(ap)n(e)85 b Fl(!)59 b Fq(\\)16 b Fu(\()g
Fp(char)n(esc)i Fl(j)e Fp(ascii)21 b Fl(j)15 b Fp(inte)n(ger)21
b Fl(j)16 b Fq(o)g Fp(o)n(ctit)t Fl(f)p Fp(o)n(ctit)t Fl(g)g(j)g
Fq(x)g Fp(hexit)t Fl(f)p Fp(hexit)t Fl(g)h Fu(\))0 2199 y Fp(char)n(esc)64
b Fl(!)59 b Fq(a)16 b Fl(j)g Fq(b)g Fl(j)g Fq(f)g Fl(j)g Fq(n)g
Fl(j)g Fq(r)g Fl(j)g Fq(t)g Fl(j)g Fq(v)g Fl(j)g Fq(\\)g Fl(j)g
Fq(")g Fl(j)g Fp(\023)g Fl(j)g Fq(&)0 2256 y Fp(ascii)118 b
Fl(!)59 b Fq(^)o Fp(cntrl)21 b Fl(j)16 b Fq(NUL)g Fl(j)f Fq(SOH)h
Fl(j)g Fq(STX)g Fl(j)g Fq(ETX)g Fl(j)g Fq(EOT)g Fl(j)f Fq(ENQ)h
Fl(j)g Fq(ACK)225 2312 y Fl(j)75 b Fq(BEL)15 b Fl(j)h Fq(BS)g
Fl(j)g Fq(HT)g Fl(j)g Fq(LF)g Fl(j)g Fq(VT)g Fl(j)g Fq(FF)g
Fl(j)g Fq(CR)g Fl(j)g Fq(SO)g Fl(j)g Fq(SI)g Fl(j)f Fq(DLE)225
2369 y Fl(j)75 b Fq(DC1)15 b Fl(j)h Fq(DC2)g Fl(j)g Fq(DC3)g
Fl(j)g Fq(DC4)g Fl(j)g Fq(NAK)f Fl(j)h Fq(SYN)g Fl(j)g Fq(ETB)g
Fl(j)g Fq(CAN)225 2425 y Fl(j)75 b Fq(EM)16 b Fl(j)g Fq(SUB)f
Fl(j)h Fq(ESC)g Fl(j)g Fq(FS)g Fl(j)g Fq(GS)g Fl(j)g Fq(RS)g
Fl(j)g Fq(US)g Fl(j)f Fq(SP)h Fl(j)g Fq(DEL)0 2481 y Fp(cntrl)116
b Fl(!)59 b Fp(lar)n(ge)19 b Fl(j)d Fu(@)g Fl(j)g Fq([)g Fl(j)g
Fq(\\)g Fl(j)g Fq(])g Fl(j)g Fq(^)g Fl(j)g Fq(_)0 2538 y Fp(gap)142
b Fl(!)59 b Fq(\\)16 b Fp(white)n(char)22 b Fl(f)p Fp(white)n(char)5
b Fl(g)16 b Fq(\\)0 2594 y Fp(hexit)115 b Fl(!)59 b Fp(digit)20
b Fl(j)c Fq(A)g Fl(j)g Fq(B)g Fl(j)g Fq(C)g Fl(j)g Fq(D)g Fl(j)g
Fq(E)g Fl(j)g Fq(F)g Fl(j)g Fq(a)g Fl(j)g Fq(b)g Fl(j)g Fq(c)g
Fl(j)g Fq(d)g Fl(j)g Fq(e)g Fl(j)g Fq(f)0 2651 y Fp(o)n(ctit)123
b Fl(!)59 b Fq(0)16 b Fl(j)g Fq(1)g Fl(j)g Fq(2)g Fl(j)g Fq(3)g
Fl(j)g Fq(4)g Fl(j)g Fq(5)g Fl(j)g Fq(6)g Fl(j)g Fq(7)p eop
%%Page: 131 145
bop 150 50 a Ft(B.4)45 b(La)o(y)o(out)1480 b Fu(131)150 199
y Fx(B.4)55 b(La)n(y)n(out)150 310 y Fu(De\014nitions:)21 b(The)15
b(inden)o(tation)h(of)e(a)h(lexeme)h(is)f(the)g(column)h(n)o(um)o(b)q(er)f
(indicating)i(the)e(start)e(of)i(that)150 366 y(lexeme;)21
b(the)d(inden)o(tation)i(of)e(a)g(line)i(is)f(the)g(inden)o(tation)g(of)f
(its)h(leftmost)f(lexeme.)31 b(T)l(o)18 b(determine)150 423
y(the)g(column)h(n)o(um)o(b)q(er,)g(assume)f(a)f(\014xed-width)j(fon)o(t)d
(with)i(this)f(tab)g(con)o(v)o(en)o(tion:)25 b(tab)18 b(stops)g(are)f(8)150
479 y(c)o(haracters)i(apart,)g(and)h(a)f(tab)g(c)o(haracter)g(causes)h(the)f
(insertion)i(of)e(enough)h(spaces)g(to)e(align)j(the)150 536
y(curren)o(t)15 b(p)q(osition)h(with)g(the)f(next)g(tab)g(stop.)221
617 y(In)e(the)h(syn)o(tax)e(giv)o(en)i(in)g(the)f(rest)g(of)f(the)h(rep)q
(ort,)g Fp(de)n(clar)n(ation)h(lists)e Fu(are)h(alw)o(a)o(ys)f(preceded)j(b)o
(y)e(the)150 674 y(k)o(eyw)o(ord)i Fq(where)p Fu(,)h Fq(let)f
Fu(or)h Fq(of)p Fu(,)g(and)g(are)g(enclosed)h(within)h(curly)f(braces)f(\()p
Fq({)23 b(})p Fu(\))16 b(with)h(the)f(individual)150 730 y(declarations)g
(separated)f(b)o(y)g(semicolons)h(\()p Fq(;)p Fu(\).)j(F)l(or)c(example,)g
(the)h(syn)o(tax)e(of)h(a)g Fq(let)g Fu(expression)h(is:)606
832 y Fq(let)23 b({)15 b Fr(decl)819 839 y Fo(1)852 832 y Fq(;)g
Fr(decl)970 839 y Fo(2)1003 832 y Fq(;)g Fr(:::)f Fq(;)h Fr(decl)1213
839 y Fj(n)1250 832 y Fu([)p Fq(;)o Fu(])g Fq(})24 b(in)14
b Fr(exp)221 959 y Fu(Hask)o(ell)g(p)q(ermits)g(the)f(omission)h(of)f(the)h
(braces)f(and)h(semicolons)g(b)o(y)g(using)g Fp(layout)g Fu(to)f(con)o(v)o
(ey)g(the)150 1016 y(same)g(information.)20 b(This)14 b(allo)o(ws)g(b)q(oth)f
(la)o(y)o(out-sensitiv)o(e)h(and)g(-insensitiv)o(e)i(st)o(yles)d(of)h(co)q
(ding,)g(whic)o(h)150 1072 y(can)h(b)q(e)h(freely)g(mixed)g(within)g(one)g
(program.)i(Because)e(la)o(y)o(out)f(is)g(not)g(required,)h(Hask)o(ell)g
(programs)150 1129 y(can)f(b)q(e)h(straigh)o(tforw)o(ardly)e(pro)q(duced)i(b)
o(y)f(other)g(programs.)221 1210 y(The)f(la)o(y)o(out)f(\(or)h
(\\o\013-side"\))f(rule)i(tak)o(es)e(e\013ect)h(whenev)o(er)h(the)f(op)q(en)h
(brace)f(is)g(omitted)h(after)e(the)150 1266 y(k)o(eyw)o(ord)e
Fq(where)p Fu(,)h Fq(let)f Fu(or)h Fq(of)p Fu(.)19 b(When)12
b(this)g(happ)q(ens,)i(the)e(inden)o(tation)h(of)f(the)g(next)g(lexeme)h
(\(whether)150 1323 y(or)g(not)f(on)h(a)g(new)g(line\))i(is)e(remem)o(b)q
(ered)h(and)f(the)h(omitted)f(op)q(en)g(brace)h(is)f(inserted)h(\(the)f
(whitespace)150 1379 y(preceding)j(the)g(lexeme)g(ma)o(y)e(include)j(commen)o
(ts\).)i(F)l(or)c(eac)o(h)g(subsequen)o(t)g(line,)i(if)e(it)g(con)o(tains)g
(only)150 1436 y(whitespace)j(or)e(is)h(inden)o(ted)h(more,)e(then)h(the)g
(previous)h(item)f(is)g(con)o(tin)o(ued)h(\(nothing)f(is)g(inserted\);)150
1492 y(if)f(it)g(is)g(inden)o(ted)h(the)f(same)f(amoun)o(t,)f(then)i(a)g(new)
f(item)h(b)q(egins)h(\(a)e(semicolon)i(is)f(inserted\);)g(and)f(if)150
1549 y(it)i(is)g(inden)o(ted)h(less,)g(then)f(the)f(declaration)i(list)f
(ends)h(\(a)e(close)h(brace)g(is)g(inserted\).)25 b(A)16 b(close)i(brace)150
1605 y(is)g(also)f(inserted)i(whenev)o(er)e(the)h(syn)o(tactic)f(category)g
(con)o(taining)h(the)f(declaration)i(list)f(ends;)h(that)150
1662 y(is,)c(if)h(an)f(illegal)i(lexeme)g(is)e(encoun)o(tered)h(at)f(a)f(p)q
(oin)o(t)i(where)f(a)g(close)h(brace)f(w)o(ould)h(b)q(e)g(legal,)f(a)g(close)
150 1718 y(brace)i(is)h(inserted.)27 b(The)18 b(la)o(y)o(out)e(rule)i(will)h
(matc)o(h)e(only)h(those)f(op)q(en)h(braces)f(that)g(it)g(has)g(inserted;)150
1774 y(an)e(op)q(en)g(brace)g(that)f(the)h(user)g(has)f(inserted)i(m)o(ust)e
(b)q(e)i(matc)o(hed)e(b)o(y)h(a)f(close)i(brace)f(inserted)g(b)o(y)g(the)150
1831 y(user.)221 1912 y(Giv)o(en)c(these)h(rules,)g(a)f(single)i(newline)g
(ma)o(y)e(actually)h(terminate)f(sev)o(eral)h(declaration)g(lists.)19
b(Also,)150 1969 y(these)c(rules)h(p)q(ermit:)221 2046 y Fq(f)23
b(x)h(=)g(let)f(a)h(=)g(1;)f(b)h(=)g(2)459 2103 y(g)g(y)g(=)f(exp2)h(in)f
(exp1)150 2180 y Fu(making)15 b Fq(a)p Fu(,)g Fq(b)g Fu(and)g
Fq(g)g Fu(all)i(part)d(of)h(the)g(same)g(declaration)h(list.)221
2262 y(T)l(o)f(facilitate)h(the)f(use)h(of)f(la)o(y)o(out)g(at)f(the)i(top)f
(lev)o(el)h(of)f(a)g(mo)q(dule)i(\(sev)o(eral)e(mo)q(dules)h(ma)o(y)f(reside)
150 2318 y(in)21 b(one)f(\014le\),)h(the)g(k)o(eyw)o(ords)e
Fq(module)g Fu(and)h Fq(interface)f Fu(and)h(the)g(end-of-\014le)i(tok)o(en)d
(are)h(assumed)150 2374 y(to)g(o)q(ccur)g(in)h(column)g(0)f(\(whereas)g
(normally)h(the)f(\014rst)g(column)h(is)g(1\).)34 b(Otherwise,)22
b(all)f(top-lev)o(el)150 2431 y(declarations)16 b(w)o(ould)f(ha)o(v)o(e)g(to)
g(b)q(e)h(inden)o(ted.)221 2512 y(Section)g(1.5)e(giv)o(es)h(an)g(example)h
(whic)o(h)g(uses)g(the)f(la)o(y)o(out)g(rule.)p eop
%%Page: 132 146
bop 0 50 a Fu(132)1463 b Ft(B)45 b(SYNT)l(AX)0 199 y Fx(B.5)55
b(Con)n(text-F)-5 b(ree)18 b(Syn)n(tax)0 309 y Fp(mo)n(dule)71
b Fl(!)59 b Fq(module)15 b Fp(mo)n(did)22 b Fu([)p Fp(exp)n(orts)t
Fu(])15 b Fq(where)g Fp(b)n(o)n(dy)225 366 y Fl(j)75 b Fp(b)n(o)n(dy)0
422 y(b)n(o)n(dy)124 b Fl(!)59 b Fq({)16 b Fu([)p Fp(imp)n(de)n(cls)i
Fq(;)p Fu(])e([[)p Fp(\014xde)n(cls)i Fq(;)p Fu(])e Fp(top)n(de)n(cls)j
Fu([)p Fq(;)o Fu(]])d Fq(})225 479 y Fl(j)75 b Fq({)16 b Fp(imp)n(de)n(cls)j
Fu([)p Fq(;)o Fu(])d Fq(})0 592 y Fp(imp)n(de)n(cls)43 b Fl(!)59
b Fp(imp)n(de)n(cl)460 599 y Fk(1)499 592 y Fq(;)23 b Fr(:)8
b(:)g(:)22 b Fq(;)16 b Fp(imp)n(de)n(cl)810 599 y Fk(n)1299
592 y Fu(\()p Fp(n)f Fl(\025)e Fp(1)6 b Fu(\))0 767 y Fp(exp)n(orts)70
b Fl(!)59 b Fq(\()16 b Fp(exp)n(ort)473 774 y Fk(1)513 767
y Fq(,)24 b Fr(:)8 b(:)g(:)21 b Fq(,)c Fp(exp)n(ort)798 774
y Fk(n)838 767 y Fq(\))437 b Fu(\()p Fp(n)15 b Fl(\025)e Fp(1)6
b Fu(\))0 880 y Fp(exp)n(ort)89 b Fl(!)59 b Fp(entity)225 936
y Fl(j)75 b Fp(mo)n(did)21 b Fq(..)0 1111 y Fp(imp)n(de)n(cl)62
b Fl(!)d Fq(import)15 b Fp(mo)n(did)22 b Fu([)p Fp(impsp)n(e)n(c)s
Fu(])14 b([)p Fq(renaming)h Fp(r)n(enamings)t Fu(])0 1168 y
Fp(impsp)n(e)n(c)55 b Fl(!)k Fq(\()16 b Fp(imp)n(ort)482 1175
y Fk(1)522 1168 y Fq(,)24 b Fr(:)8 b(:)g(:)22 b Fq(,)16 b Fp(imp)n(ort)816
1175 y Fk(n)856 1168 y Fq(\))419 b Fu(\()p Fp(n)15 b Fl(\025)e
Fp(0)6 b Fu(\))225 1224 y Fl(j)75 b Fq(hiding)15 b(\()h Fp(imp)n(ort)641
1231 y Fk(1)681 1224 y Fq(,)24 b Fr(:)8 b(:)g(:)22 b Fq(,)16
b Fp(imp)n(ort)975 1231 y Fk(n)1016 1224 y Fq(\))259 b Fu(\()p
Fp(n)15 b Fl(\025)e Fp(1)6 b Fu(\))0 1280 y Fp(imp)n(ort)80
b Fl(!)59 b Fp(entity)0 1337 y(r)n(enamings)6 b Fl(!)58 b Fq(\()16
b Fp(r)n(enaming)538 1344 y Fk(1)577 1337 y Fq(,)23 b Fr(:)8
b(:)g(:)22 b Fq(,)16 b Fp(r)n(enaming)926 1344 y Fk(n)965 1337
y Fq(\))310 b Fu(\()p Fp(n)15 b Fl(\025)e Fp(1)6 b Fu(\))0
1393 y Fp(r)n(enaming)24 b Fl(!)59 b Fp(var)376 1400 y Fk(1)416
1393 y Fq(to)16 b Fp(var)543 1400 y Fk(2)225 1450 y Fl(j)75
b Fp(c)n(on)381 1457 y Fk(1)420 1450 y Fq(to)16 b Fp(c)n(on)552
1457 y Fk(2)0 1563 y Fp(entity)96 b Fl(!)59 b Fp(var)225 1619
y Fl(j)75 b Fp(tyc)n(on)225 1676 y Fl(j)g Fp(tyc)n(on)19 b
Fq(\(..\))225 1732 y Fl(j)75 b Fp(tyc)n(on)19 b Fq(\()d Fp(c)n(on)545
1739 y Fk(1)584 1732 y Fq(,)24 b Fr(:)8 b(:)g(:)22 b Fq(,)16
b Fp(c)n(on)817 1739 y Fk(n)856 1732 y Fq(\))419 b Fu(\()p
Fp(n)15 b Fl(\025)e Fp(1)6 b Fu(\))225 1789 y Fl(j)75 b Fp(tycls)19
b Fq(\(..\))225 1845 y Fl(j)75 b Fp(tycls)19 b Fq(\()d Fp(var)524
1852 y Fk(1)564 1845 y Fq(,)24 b Fr(:)8 b(:)g(:)22 b Fq(,)16
b Fp(var)792 1852 y Fk(n)832 1845 y Fq(\))443 b Fu(\()p Fp(n)15
b Fl(\025)e Fp(0)6 b Fu(\))0 2020 y Fp(\014xde)n(cls)68 b Fl(!)59
b Fp(\014x)360 2027 y Fk(1)399 2020 y Fq(;)24 b Fr(:)8 b(:)g(:)22
b Fq(;)16 b Fp(\014x)611 2027 y Fk(n)1299 2020 y Fu(\()p Fp(n)f
Fl(\025)e Fp(1)6 b Fu(\))0 2077 y Fp(\014x)162 b Fl(!)59 b
Fq(infixl)15 b Fu([)p Fp(digit)t Fu(])h Fp(ops)225 2133 y Fl(j)75
b Fq(infixr)15 b Fu([)p Fp(digit)t Fu(])h Fp(ops)225 2189 y
Fl(j)75 b Fq(infix)39 b Fu([)p Fp(digit)t Fu(])16 b Fp(ops)0
2246 y(ops)144 b Fl(!)59 b Fp(op)359 2253 y Fk(1)399 2246 y
Fq(,)23 b Fr(:)8 b(:)g(:)22 b Fq(,)16 b Fp(op)609 2253 y Fk(n)1299
2246 y Fu(\()p Fp(n)f Fl(\025)e Fp(1)6 b Fu(\))0 2421 y Fp(top)n(de)n(cls)56
b Fl(!)j Fp(top)n(de)n(cl)447 2428 y Fk(1)486 2421 y Fq(;)24
b Fr(:)8 b(:)g(:)21 b Fq(;)c Fp(top)n(de)n(cl)785 2428 y Fk(n)1299
2421 y Fu(\()p Fp(n)e Fl(\025)e Fp(1)6 b Fu(\))0 2477 y Fp(top)n(de)n(cl)75
b Fl(!)59 b Fq(type)15 b Fp(simple)k Fq(=)e Fp(typ)n(e)225
2534 y Fl(j)75 b Fq(data)15 b Fu([)p Fp(c)n(ontext)20 b Fq(=>)p
Fu(])c Fp(simple)j Fq(=)d Fp(c)n(onstrs)j Fu([)p Fq(deriving)c
Fu(\()p Fp(tycls)k Fl(j)c Fq(\()p Fp(tyclses)t Fq(\))o Fu(\)])225
2590 y Fl(j)75 b Fq(class)15 b Fu([)p Fp(c)n(ontext)20 b Fq(=>)p
Fu(])c Fp(class)j Fu([)p Fq(where)c({)h Fp(cb)n(o)n(dy)k Fu([)p
Fq(;)o Fu(])c Fq(})p Fu(])225 2647 y Fl(j)75 b Fq(instance)15
b Fu([)p Fp(c)n(ontext)20 b Fq(=>)o Fu(])c Fp(tycls)j(inst)h
Fu([)p Fq(where)15 b({)i Fp(valdefs)i Fu([)p Fq(;)o Fu(])d
Fq(})p Fu(])225 2703 y Fl(j)75 b Fq(default)15 b Fu(\()p Fp(typ)n(e)k
Fl(j)d Fq(\()p Fp(typ)n(e)744 2710 y Fk(1)784 2703 y Fq(,)23
b Fr(:)8 b(:)g(:)22 b Fq(,)16 b Fp(typ)n(e)1027 2710 y Fk(n)1051
2703 y Fq(\))p Fu(\))206 b(\()p Fp(n)15 b Fl(\025)e Fp(0)6
b Fu(\))p eop
%%Page: 133 147
bop 150 50 a Ft(B.5)45 b(Con)o(text-F)l(ree)14 b(Syn)o(tax)1208
b Fu(133)375 199 y Fl(j)75 b Fp(de)n(cl)150 312 y(de)n(cls)115
b Fl(!)59 b Fp(de)n(cl)538 319 y Fk(1)577 312 y Fq(;)23 b Fr(:)8
b(:)g(:)22 b Fq(;)16 b Fp(de)n(cl)816 319 y Fk(n)1449 312 y
Fu(\()p Fp(n)f Fl(\025)e Fp(0)6 b Fu(\))150 369 y Fp(de)n(cl)134
b Fl(!)59 b Fp(vars)20 b Fq(::)c Fu([)p Fp(c)n(ontext)j Fq(=>)p
Fu(])d Fp(typ)n(e)375 425 y Fl(j)75 b Fp(valdef)150 585 y(typ)n(e)130
b Fl(!)59 b Fp(btyp)n(e)19 b Fu([)p Fq(->)d Fp(typ)n(e)s Fu(])150
698 y Fp(btyp)n(e)109 b Fl(!)59 b Fp(tyc)n(on)19 b(atyp)n(e)689
705 y Fk(1)736 698 y Fr(:)8 b(:)g(:)22 b Fp(atyp)n(e)915 705
y Fk(k)1339 698 y Fu(\(arit)o(y)16 b Fp(tyc)n(on)g Fu(=)d Fp(k)5
b Fr(;)23 b Fp(k)17 b Fl(\025)c Fp(1)6 b Fu(\))375 755 y Fl(j)75
b Fp(atyp)n(e)150 868 y(atyp)n(e)107 b Fl(!)59 b Fp(tyvar)375
924 y Fl(j)75 b Fp(tyc)n(on)771 b Fu(\(arit)o(y)16 b Fp(tyc)n(on)g
Fu(=)d Fp(0)6 b Fu(\))375 981 y Fl(j)75 b Fq(\(\))828 b Fu(\(unit)16
b(t)o(yp)q(e\))375 1037 y Fl(j)75 b Fq(\()16 b Fp(typ)n(e)j
Fq(\))714 b Fu(\(paren)o(thesised)16 b(t)o(yp)q(e\))375 1093
y Fl(j)75 b Fq(\()16 b Fp(typ)n(e)582 1100 y Fk(1)621 1093
y Fq(,)24 b Fr(:)8 b(:)g(:)22 b Fq(,)16 b Fp(typ)n(e)865 1100
y Fk(k)902 1093 y Fq(\))413 b Fu(\(tuple)16 b(t)o(yp)q(e)p
Fr(;)24 b Fp(k)17 b Fl(\025)c Fp(2)6 b Fu(\))375 1150 y Fl(j)75
b Fq([)16 b Fp(typ)n(e)j Fq(])150 1310 y Fp(c)n(ontext)69 b
Fl(!)59 b Fp(class)375 1367 y Fl(j)75 b Fq(\()16 b Fp(class)597
1374 y Fk(1)635 1367 y Fq(,)24 b Fr(:)8 b(:)g(:)22 b Fq(,)16
b Fp(class)894 1374 y Fk(n)933 1367 y Fq(\))382 b Fu(\()p Fp(n)16
b Fl(\025)d Fp(1)6 b Fu(\))150 1423 y Fp(class)115 b Fl(!)59
b Fp(tycls)19 b(tyvar)150 1592 y(cb)n(o)n(dy)103 b Fl(!)59
b Fp(csigns)18 b Fu([)e Fq(;)g Fp(valdef)26 b Fu([)16 b Fq(;)g
Fp(valdefs)j Fu(])d(])375 1649 y Fl(j)75 b Fp(valdefs)150 1705
y(csigns)89 b Fl(!)59 b Fp(csign)564 1712 y Fk(1)602 1705 y
Fq(;)24 b Fr(:)8 b(:)g(:)22 b Fq(;)16 b Fp(csign)868 1712 y
Fk(n)1339 1705 y Fu(\()p Fp(n)g Fl(\025)d Fp(1)6 b Fu(\))150
1762 y Fp(csign)108 b Fl(!)59 b Fp(vars)20 b Fq(::)c Fu([)p
Fp(c)n(ontext)j Fq(=>)p Fu(])d Fp(typ)n(e)150 1875 y(vars)127
b Fl(!)59 b Fp(var)526 1882 y Fk(1)566 1875 y Fq(,)23 b Fr(:)8
b(:)g(:)e Fq(,)16 b Fp(var)777 1882 y Fk(n)1339 1875 y Fu(\()p
Fp(n)g Fl(\025)d Fp(1)6 b Fu(\))150 2035 y Fp(simple)83 b Fl(!)59
b Fp(tyc)n(on)19 b(tyvar)687 2042 y Fk(1)735 2035 y Fr(:)8
b(:)g(:)22 b Fp(tyvar)912 2042 y Fk(k)1339 2035 y Fu(\(arit)o(y)16
b Fp(tyc)n(on)g Fu(=)d Fp(k)5 b Fr(;)23 b Fp(k)17 b Fl(\025)c
Fp(0)6 b Fu(\))150 2091 y Fp(c)n(onstrs)69 b Fl(!)59 b Fp(c)n(onstr)584
2098 y Fk(1)623 2091 y Fq(|)23 b Fr(:)8 b(:)g(:)22 b Fq(|)16
b Fp(c)n(onstr)908 2098 y Fk(n)1339 2091 y Fu(\()p Fp(n)g Fl(\025)d
Fp(1)6 b Fu(\))150 2148 y Fp(c)n(onstr)88 b Fl(!)59 b Fp(c)n(on)19
b(atyp)n(e)652 2155 y Fk(1)699 2148 y Fr(:)8 b(:)g(:)22 b Fp(atyp)n(e)878
2155 y Fk(k)1339 2148 y Fu(\(arit)o(y)16 b Fp(c)n(on)f Fu(=)e
Fp(k)5 b Fr(;)24 b Fp(k)17 b Fl(\025)c Fp(0)6 b Fu(\))375 2204
y Fl(j)75 b Fp(btyp)n(e)563 2211 y Fk(1)602 2204 y Fp(c)n(onop)19
b(btyp)n(e)835 2211 y Fk(2)1339 2204 y Fu(\(in\014x)e Fp(c)n(onop)s
Fu(\))150 2261 y Fp(tyclses)80 b Fl(!)59 b Fp(tycls)552 2268
y Fk(1)574 2261 y Fq(,)24 b Fr(:)8 b(:)g(:)e Fq(,)16 b Fp(tycls)812
2268 y Fk(n)1339 2261 y Fu(\()p Fp(n)g Fl(\025)d Fp(0)6 b Fu(\))150
2421 y Fp(inst)135 b Fl(!)59 b Fp(tyc)n(on)771 b Fu(\(arit)o(y)16
b Fp(tyc)n(on)g Fu(=)d Fp(0)6 b Fu(\))375 2477 y Fl(j)75 b
Fq(\()16 b Fp(tyc)n(on)j(tyvar)727 2484 y Fk(1)775 2477 y Fr(:)8
b(:)g(:)22 b Fp(tyvar)952 2484 y Fk(k)989 2477 y Fq(\))326
b Fu(\()p Fp(k)17 b Fl(\025)c Fp(1)6 b Fr(;)24 b Fp(tyvars)36
b Fu(distinct)q(\))375 2534 y Fl(j)75 b Fq(\()16 b Fp(tyvar)603
2541 y Fk(1)643 2534 y Fq(,)24 b Fr(:)8 b(:)g(:)21 b Fq(,)c
Fp(tyvar)908 2541 y Fk(k)945 2534 y Fq(\))370 b Fu(\()p Fp(k)17
b Fl(\025)c Fp(2)6 b Fr(;)24 b Fp(tyvars)36 b Fu(distinct)q(\))375
2590 y Fl(j)75 b Fq(\(\))375 2647 y Fl(j)g Fq([)16 b Fp(tyvar)21
b Fq(])375 2703 y Fl(j)75 b Fq(\()16 b Fp(tyvar)603 2710 y
Fk(1)643 2703 y Fq(->)g Fp(tyvar)807 2710 y Fk(2)847 2703 y
Fq(\))468 b Fp(tyvar)1439 2710 y Fk(1)1495 2703 y Fu(and)16
b Fp(tyvar)1684 2710 y Fk(2)1740 2703 y Fu(distinct)p eop
%%Page: 134 148
bop 0 50 a Fu(134)1463 b Ft(B)45 b(SYNT)l(AX)0 199 y Fp(valdefs)76
b Fl(!)59 b Fp(valdef)427 206 y Fk(1)466 199 y Fq(;)24 b Fr(:)8
b(:)g(:)22 b Fq(;)16 b Fp(valdef)745 206 y Fk(n)1189 199 y
Fu(\()p Fp(n)g Fl(\025)d Fp(0)6 b Fu(\))0 256 y Fp(valdef)95
b Fl(!)59 b Fp(lhs)19 b Fq(=)d Fp(exp)k Fu([)p Fq(where)15
b({)h Fp(de)n(cls)j Fu([)p Fq(;)o Fu(])d Fq(})p Fu(])225 312
y Fl(j)75 b Fp(lhs)19 b(gdrhs)h Fu([)p Fq(where)15 b({)i Fp(de)n(cls)h
Fu([)p Fq(;)p Fu(])e Fq(})p Fu(])0 425 y Fp(lhs)155 b Fl(!)59
b Fp(p)n(at)372 434 y Fi(h)p Fo(\()p Fk(var)19 b Fi(j)d Fq(_)p
Fo(\))g Fq(+)g Fk(inte)n(ger)i Fi(i)225 482 y Fl(j)75 b Fp(funlhs)0
538 y(funlhs)91 b Fl(!)59 b Fp(var)21 b(ap)n(at)g Fl(f)16 b
Fp(ap)n(at)21 b Fl(g)225 594 y(j)75 b Fp(p)n(at)376 578 y Fk(i)s
Fo(+)p Fk(1)455 594 y Fp(var)n(op)565 578 y Fo(\()p Fk(a)s
Fj(;)p Fk(i)s Fo(\))652 594 y Fp(p)n(at)715 578 y Fk(i)s Fo(+)p
Fk(1)225 651 y Fl(j)g Fp(lp)n(at)388 634 y Fk(i)419 651 y Fp(var)n(op)529
634 y Fo(\()16 b(l)p Fj(;)p Fk(i)s Fo(\))622 651 y Fp(p)n(at)685
634 y Fk(i)s Fo(+)p Fk(1)225 707 y Fl(j)75 b Fp(p)n(at)376
691 y Fk(i)s Fo(+)p Fk(1)455 707 y Fp(var)n(op)565 691 y Fo(\()15
b(r)p Fj(;)p Fk(i)s Fo(\))660 707 y Fp(rp)n(at)742 691 y Fk(i)0
820 y Fp(gdrhs)104 b Fl(!)59 b Fp(gd)21 b Fq(=)16 b Fp(exp)j
Fu([)p Fp(gdrhs)t Fu(])0 933 y Fp(gd)165 b Fl(!)59 b Fq(|)16
b Fp(exp)421 917 y Fk(0)0 1109 y Fp(exp)144 b Fl(!)59 b Fp(exp)381
1092 y Fk(0)420 1109 y Fq(::)16 b Fu([)p Fp(c)n(ontext)k Fq(=>)p
Fu(])c Fp(typ)n(e)376 b Fu(\(expression)16 b(t)o(yp)q(e)f(signature)q(\))225
1165 y Fl(j)75 b Fp(exp)381 1149 y Fk(0)0 1222 y Fp(exp)68
1205 y Fk(i)209 1222 y Fl(!)59 b Fp(exp)381 1205 y Fk(i)s Fo(+)p
Fk(1)459 1222 y Fu([)p Fp(op)521 1205 y Fo(\()15 b(n)q Fj(;)p
Fk(i)s Fo(\))622 1222 y Fp(exp)690 1205 y Fk(i)s Fo(+)p Fk(1)752
1222 y Fu(])225 1278 y Fl(j)75 b Fp(lexp)393 1262 y Fk(i)225
1335 y Fl(j)g Fp(r)n(exp)398 1318 y Fk(i)0 1391 y Fp(lexp)80
1375 y Fk(i)209 1391 y Fl(!)59 b Fu(\()p Fp(lexp)411 1375 y
Fk(i)442 1391 y Fl(j)16 b Fp(exp)539 1375 y Fk(i)s Fo(+)p Fk(1)601
1391 y Fu(\))g Fp(op)684 1375 y Fo(\()f(l)q Fj(;)p Fk(i)s Fo(\))776
1391 y Fp(exp)844 1375 y Fk(i)s Fo(+)p Fk(1)0 1447 y Fp(lexp)80
1431 y Fk(6)209 1447 y Fl(!)59 b Fq(-)16 b Fp(exp)421 1431
y Fk(7)0 1504 y Fp(r)n(exp)85 1487 y Fk(i)209 1504 y Fl(!)59
b Fp(exp)381 1487 y Fk(i)s Fo(+)p Fk(1)459 1504 y Fp(op)508
1487 y Fo(\()16 b(r)p Fj(;)p Fk(i)s Fo(\))604 1504 y Fu(\()p
Fp(r)n(exp)707 1487 y Fk(i)738 1504 y Fl(j)g Fp(exp)835 1487
y Fk(i)s Fo(+)p Fk(1)897 1504 y Fu(\))0 1560 y Fp(exp)68 1544
y Fk(10)209 1560 y Fl(!)59 b Fq(\\)16 b Fp(ap)n(at)435 1567
y Fk(1)482 1560 y Fr(:)8 b(:)g(:)22 b Fp(ap)n(at)641 1567 y
Fk(n)682 1560 y Fq(->)16 b Fp(exp)378 b Fu(\(lam)o(b)q(da)16
b(abstraction)o Fr(;)24 b Fp(n)15 b Fl(\025)e Fp(1)6 b Fu(\))225
1617 y Fl(j)75 b Fq(let)15 b({)i Fp(de)n(cls)i Fu([)p Fq(;)o
Fu(])d Fq(})g(in)g Fp(exp)401 b Fu(\(let)16 b(expression)q(\))225
1673 y Fl(j)75 b Fq(if)16 b Fp(exp)j Fq(then)d Fp(exp)j Fq(else)d
Fp(exp)355 b Fu(\(conditional)r(\))225 1730 y Fl(j)75 b Fq(case)15
b Fp(exp)20 b Fq(of)c({)g Fp(alts)j Fu([)p Fq(;)p Fu(])d Fq(})398
b Fu(\(case)15 b(expression)q(\))225 1786 y Fl(j)75 b Fp(fexp)0
1843 y(fexp)130 b Fl(!)59 b Fp(fexp)19 b(aexp)690 b Fu(\(function)16
b(application)r(\))225 1899 y Fl(j)75 b Fp(aexp)0 2075 y(aexp)121
b Fl(!)59 b Fp(var)813 b Fu(\(v)m(ariable)q(\))225 2131 y Fl(j)75
b Fp(c)n(on)808 b Fu(\(constructor)o(\))225 2188 y Fl(j)75
b Fp(liter)n(al)225 2244 y Fl(j)g Fq(\(\))828 b Fu(\(unit)q(\))225
2300 y Fl(j)75 b Fq(\()16 b Fp(exp)j Fq(\))728 b Fu(\(paren)o(thesised)16
b(expression)q(\))225 2357 y Fl(j)75 b Fq(\()16 b Fp(exp)418
2364 y Fk(1)458 2357 y Fq(,)23 b Fr(:)8 b(:)g(:)22 b Fq(,)16
b Fp(exp)687 2364 y Fk(k)725 2357 y Fq(\))440 b Fu(\(tuple)q
Fr(;)24 b Fp(k)17 b Fl(\025)c Fp(2)6 b Fu(\))225 2413 y Fl(j)75
b Fq([)16 b Fp(exp)418 2420 y Fk(1)458 2413 y Fq(,)23 b Fr(:)8
b(:)g(:)22 b Fq(,)16 b Fp(exp)687 2420 y Fk(k)725 2413 y Fq(])440
b Fu(\(list)q Fr(;)23 b Fp(k)18 b Fl(\025)13 b Fp(0)6 b Fu(\))225
2470 y Fl(j)75 b Fq([)16 b Fp(exp)418 2477 y Fk(1)458 2470
y Fu([)p Fq(,)f Fp(exp)575 2477 y Fk(2)599 2470 y Fu(])h Fq(..)g
Fu([)p Fp(exp)770 2477 y Fk(3)793 2470 y Fu(])g Fq(])343 b
Fu(\(arithmetic)16 b(sequence)q(\))225 2526 y Fl(j)75 b Fq([)16
b Fp(exp)j Fq(|)d Fp(qual)557 2533 y Fk(1)597 2526 y Fq(,)24
b Fr(:)8 b(:)g(:)22 b Fq(,)16 b Fp(qual)842 2533 y Fk(n)882
2526 y Fq(])283 b Fu(\(list)16 b(comprehension)q Fr(;)24 b
Fp(n)16 b Fl(\025)d Fp(1)6 b Fu(\))225 2583 y Fl(j)75 b Fq(\()16
b Fp(exp)421 2566 y Fk(i)s Fo(+)p Fk(1)499 2583 y Fp(op)548
2566 y Fo(\()p Fk(a)s Fj(;)p Fk(i)s Fo(\))636 2583 y Fq(\))529
b Fu(\(left)16 b(section\))225 2639 y Fl(j)75 b Fq(\()16 b
Fp(op)402 2623 y Fo(\()p Fk(a)s Fj(;)p Fk(i)s Fo(\))490 2639
y Fp(exp)558 2623 y Fk(i)s Fo(+)p Fk(1)636 2639 y Fq(\))529
b Fu(\(righ)o(t)15 b(section)q(\))p eop
%%Page: 135 149
bop 150 50 a Ft(B.6)45 b(In)o(terface)15 b(Syn)o(tax)1293 b
Fu(135)150 199 y Fp(qual)129 b Fl(!)59 b Fp(p)n(at)20 b Fq(<-)c
Fp(exp)375 256 y Fl(j)75 b Fp(exp)150 369 y(alts)140 b Fl(!)59
b Fp(alt)513 376 y Fk(1)552 369 y Fq(;)24 b Fr(:)8 b(:)g(:)22
b Fq(;)16 b Fp(alt)767 376 y Fk(n)1339 369 y Fu(\()p Fp(n)g
Fl(\025)d Fp(1)6 b Fu(\))150 425 y Fp(alt)159 b Fl(!)59 b Fp(p)n(at)20
b Fq(->)c Fp(exp)k Fu([)p Fq(where)15 b({)h Fp(de)n(cls)j Fu([)p
Fq(;)p Fu(])c Fq(})p Fu(])375 482 y Fl(j)75 b Fp(p)n(at)20
b(gdp)n(at)h Fu([)p Fq(where)16 b({)g Fp(de)n(cls)j Fu([)p
Fq(;)o Fu(])d Fq(})p Fu(])150 594 y Fp(gdp)n(at)106 b Fl(!)59
b Fp(gd)21 b Fq(->)16 b Fp(exp)j Fu([)d Fp(gdp)n(at)21 b Fu(])150
765 y Fp(p)n(at)150 b Fl(!)59 b Fp(p)n(at)526 748 y Fk(0)150
821 y Fp(p)n(at)213 805 y Fk(i)359 821 y Fl(!)g Fp(p)n(at)526
805 y Fk(i)s Fo(+)p Fk(1)605 821 y Fu([)p Fp(c)n(onop)735 805
y Fo(\()14 b(n)p Fj(;)p Fk(i)s Fo(\))835 821 y Fp(p)n(at)898
805 y Fk(i)s Fo(+)p Fk(1)961 821 y Fu(])375 878 y Fl(j)75 b
Fp(lp)n(at)538 861 y Fk(i)375 934 y Fl(j)g Fp(rp)n(at)545 918
y Fk(i)150 991 y Fp(lp)n(at)225 974 y Fk(i)359 991 y Fl(!)59
b Fu(\()p Fp(lp)n(at)556 974 y Fk(i)587 991 y Fl(j)16 b Fp(p)n(at)679
974 y Fk(i)s Fo(+)p Fk(1)742 991 y Fu(\))g Fp(c)n(onop)893
974 y Fo(\()e(l)q Fj(;)p Fk(i)s Fo(\))984 991 y Fp(p)n(at)1047
974 y Fk(i)s Fo(+)p Fk(1)150 1047 y Fp(lp)n(at)225 1031 y Fk(6)359
1047 y Fl(!)59 b Fu(\()p Fp(var)21 b Fl(j)16 b Fq(_)p Fu(\))f
Fq(+)i Fp(inte)n(ger)512 b Fu(\(successor)15 b(pattern\))375
1104 y Fl(j)75 b Fq(-)16 b Fu(\()p Fp(inte)n(ger)k Fl(j)c Fp(\015o)n(at)t
Fu(\))526 b(\(negativ)o(e)15 b(literal)r(\))150 1160 y Fp(rp)n(at)232
1144 y Fk(i)359 1160 y Fl(!)59 b Fp(p)n(at)526 1144 y Fk(i)s
Fo(+)p Fk(1)605 1160 y Fp(c)n(onop)722 1144 y Fo(\()14 b(r)p
Fj(;)p Fk(i)s Fo(\))817 1160 y Fu(\()p Fp(rp)n(at)917 1144
y Fk(i)949 1160 y Fl(j)i Fp(p)n(at)1041 1144 y Fk(i)s Fo(+)p
Fk(1)1103 1160 y Fu(\))150 1216 y Fp(p)n(at)213 1200 y Fk(10)359
1216 y Fl(!)59 b Fp(ap)n(at)375 1273 y Fl(j)75 b Fp(c)n(on)19
b(ap)n(at)632 1280 y Fk(1)679 1273 y Fr(:)8 b(:)g(:)22 b Fp(ap)n(at)838
1280 y Fk(k)1339 1273 y Fu(\(arit)o(y)16 b Fp(c)n(on)f Fu(=)e
Fp(k)5 b Fr(;)24 b Fp(k)17 b Fl(\025)c Fp(1)6 b Fu(\))150 1443
y Fp(ap)n(at)127 b Fl(!)59 b Fp(var)21 b Fu([)j(@)16 b Fp(ap)n(at)t
Fu(])605 b(\(as)15 b(pattern)o(\))375 1500 y Fl(j)75 b Fp(c)n(on)808
b Fu(\(arit)o(y)16 b Fp(c)n(on)f Fu(=)e Fp(0)6 b Fu(\))375
1556 y Fl(j)75 b Fp(liter)n(al)375 1613 y Fl(j)g Fq(_)852 b
Fu(\(wildcard)q(\))375 1669 y Fl(j)75 b Fq(\(\))828 b Fu(\(unit)16
b(pattern\))375 1726 y Fl(j)75 b Fq(\()16 b Fp(p)n(at)21 b
Fq(\))732 b Fu(\(paren)o(thesised)16 b(pattern\))375 1782 y
Fl(j)75 b Fq(\()16 b Fp(p)n(at)562 1789 y Fk(1)602 1782 y Fq(,)23
b Fr(:)8 b(:)g(:)22 b Fq(,)16 b Fp(p)n(at)825 1789 y Fk(k)863
1782 y Fq(\))452 b Fu(\(tuple)16 b(pattern)p Fr(;)23 b Fp(k)18
b Fl(\025)13 b Fp(2)6 b Fu(\))375 1838 y Fl(j)75 b Fq([)16
b Fp(p)n(at)562 1845 y Fk(1)602 1838 y Fq(,)23 b Fr(:)8 b(:)g(:)22
b Fq(,)16 b Fp(p)n(at)825 1845 y Fk(k)863 1838 y Fq(])452 b
Fu(\(list)16 b(pattern)p Fr(;)23 b Fp(k)18 b Fl(\025)13 b Fp(0)6
b Fu(\))375 1895 y Fl(j)75 b Fq(~)16 b Fp(ap)n(at)754 b Fu(\(irrefutable)16
b(pattern\))150 2065 y Fp(var)146 b Fl(!)59 b Fp(varid)21 b
Fl(j)16 b Fq(\()g Fp(varsym)k Fq(\))501 b Fu(\(v)m(ariable)q(\))150
2122 y Fp(c)n(on)141 b Fl(!)59 b Fp(c)n(onid)20 b Fl(j)c Fq(\()g
Fp(c)n(onsym)j Fq(\))493 b Fu(\(constructor)o(\))150 2178 y
Fp(var)n(op)102 b Fl(!)59 b Fp(varsym)20 b Fl(j)15 b Fp(\022)q(varid)l(\022)
544 b Fu(\(v)m(ariable)17 b(op)q(erator)o(\))150 2235 y Fp(c)n(onop)95
b Fl(!)59 b Fp(c)n(onsym)19 b Fl(j)c Fp(\022)q(c)n(onid)-5
b(\022)536 b Fu(\(constructor)14 b(op)q(erator\))150 2291 y
Fp(op)163 b Fl(!)59 b Fp(var)n(op)19 b Fl(j)d Fp(c)n(onop)607
b Fu(\(op)q(erator)o(\))150 2481 y Fx(B.6)55 b(In)n(terface)19
b(Syn)n(tax)150 2590 y Fp(interfac)n(e)37 b Fl(!)59 b Fq(interface)15
b Fp(mo)n(did)21 b Fq(where)16 b Fp(ib)n(o)n(dy)150 2703 y(ib)n(o)n(dy)110
b Fl(!)59 b Fq({)16 b Fu([)p Fp(iimp)n(de)n(cls)i Fq(;)p Fu(])e([)g([)p
Fp(\014xde)n(cls)i Fq(;)p Fu(])e Fp(itop)n(de)n(cls)j Fu([)p
Fq(;)o Fu(])d(])g Fq(})p eop
%%Page: 136 150
bop 0 50 a Fu(136)1463 b Ft(B)45 b(SYNT)l(AX)225 199 y Fl(j)75
b Fq({)16 b Fp(iimp)n(de)n(cls)j Fu([)p Fq(;)o Fu(])d Fq(})0
256 y Fp(iimp)n(de)n(cls)29 b Fl(!)59 b Fp(iimp)n(de)n(cl)474
263 y Fk(1)513 256 y Fq(;)23 b Fr(:)8 b(:)g(:)22 b Fq(;)16
b Fp(iimp)n(de)n(cl)838 263 y Fk(n)1299 256 y Fu(\()p Fp(n)f
Fl(\025)e Fp(1)6 b Fu(\))0 312 y Fp(iimp)n(de)n(cl)48 b Fl(!)59
b Fq(import)15 b Fp(mo)n(did)22 b Fq(\()16 b Fp(imp)n(ort)781
319 y Fk(1)821 312 y Fq(,)24 b Fr(:)8 b(:)g(:)21 b Fq(,)c Fp(imp)n(ort)1115
319 y Fk(n)1155 312 y Fq(\))289 369 y Fu([)p Fq(renaming)e
Fp(r)n(enamings)t Fu(])569 b(\()p Fp(n)15 b Fl(\025)e Fp(1)6
b Fu(\))0 425 y Fp(itop)n(de)n(cls)42 b Fl(!)59 b Fp(itop)n(de)n(cl)461
432 y Fk(1)500 425 y Fq(;)24 b Fr(:)8 b(:)g(:)21 b Fq(;)c Fp(itop)n(de)n(cl)
813 432 y Fk(n)1299 425 y Fu(\()p Fp(n)e Fl(\025)e Fp(1)6 b
Fu(\))0 482 y Fp(itop)n(de)n(cl)61 b Fl(!)e Fq(type)15 b Fp(simple)k
Fq(=)e Fp(typ)n(e)225 538 y Fl(j)75 b Fq(data)15 b Fu([)p Fp(c)n(ontext)20
b Fq(=>)p Fu(])c Fp(simple)j Fu([)p Fq(=)d Fp(c)n(onstrs)i
Fu([)p Fq(deriving)d Fu(\()p Fp(tycls)k Fl(j)d Fq(\()p Fp(tyclses)t
Fq(\))n Fu(\)]])225 594 y Fl(j)75 b Fq(class)15 b Fu([)p Fp(c)n(ontext)20
b Fq(=>)p Fu(])c Fp(class)j Fu([)p Fq(where)c({)h Fp(ic)n(de)n(cls)i
Fu([)p Fq(;)p Fu(])e Fq(})p Fu(])225 651 y Fl(j)75 b Fq(instance)15
b Fu([)p Fp(c)n(ontext)20 b Fq(=>)o Fu(])c Fp(tycls)j(inst)225
707 y Fl(j)75 b Fp(vars)20 b Fq(::)c Fu([)p Fp(c)n(ontext)j
Fq(=>)p Fu(])d Fp(typ)n(e)0 764 y(ic)n(de)n(cls)82 b Fl(!)59
b Fp(ic)n(de)n(cl)421 771 y Fk(1)459 764 y Fq(;)24 b Fr(:)8
b(:)g(:)22 b Fq(;)16 b Fp(ic)n(de)n(cl)732 771 y Fk(n)1189
764 y Fu(\()p Fp(n)g Fl(\025)d Fp(0)6 b Fu(\))0 820 y Fp(ic)n(de)n(cl)101
b Fl(!)59 b Fp(vars)20 b Fq(::)c Fp(typ)n(e)p eop
%%Page: 137 151
bop 1882 50 a Fu(137)150 199 y Fy(C)67 b(Literate)23 b(commen)n(ts)150
326 y Fu(Man)o(y)14 b(Hask)o(ell)i(implemen)o(tations)g(supp)q(ort)f(the)h
(\\literate)f(commen)o(t")f(con)o(v)o(en)o(tion,)h(\014rst)f(dev)o(elop)q(ed)
150 382 y(b)o(y)19 b(Ric)o(hard)i(Bird)f(and)g(Philip)i(W)l(adler)e(for)f
(Orw)o(ell,)i(and)f(inspired)h(in)f(turn)g(b)o(y)f(Donald)h(Kn)o(uth's)150
439 y(\\literate)i(programming".)40 b(The)22 b(con)o(v)o(en)o(tion)g(is)h
(not)e(part)h(of)f(the)h(Hask)o(ell)h(language,)h(but)e(it)g(is)150
495 y(supp)q(orted)16 b(b)o(y)f(the)g(implemen)o(tations)i(kno)o(wn)e(to)f
(us)h(\(Chalmers,)g(Glasgo)o(w,)f(and)h(Y)l(ale\).)221 576
y(The)j(literate)g(st)o(yle)g(encourages)f(commen)o(ts)g(b)o(y)h(making)g
(them)g(the)f(default.)28 b(A)18 b(line)i(in)e(whic)o(h)150
633 y(\\)p Fq(>)p Fu(")g(is)i(the)f(\014rst)g(c)o(haracter)f(is)h(treated)g
(as)f(part)h(of)f(the)i(program;)f(all)h(other)f(lines)h(are)f(commen)o(t.)
150 689 y(Within)f(the)f(program)f(part,)h(the)g(usual)h(\\)p
Fq(--)o Fu(")f(and)g(\\)p Fq({-)23 b(-})p Fu(")17 b(commen)o(t)f(con)o(v)o
(en)o(tions)h(ma)o(y)g(still)h(b)q(e)150 746 y(used.)h(T)l(o)13
b(capture)f(some)g(cases)g(where)h(one)f(omits)g(an)g(\\)p
Fq(>)p Fu(")g(b)o(y)g(mistak)o(e,)g(it)h(is)g(an)f(error)f(for)h(a)g(program)
150 802 y(line)20 b(to)d(app)q(ear)h(adjacen)o(t)g(to)f(a)h(non-blank)h
(commen)o(t)e(line,)j(where)f(a)e(line)j(is)e(tak)o(en)g(as)f(blank)i(if)g
(it)150 859 y(consists)c(only)h(of)f(whitespace.)221 940 y(By)22
b(con)o(v)o(en)o(tion,)i(the)e(st)o(yle)g(of)g(commen)o(t)g(is)g(indicated)i
(b)o(y)e(the)h(\014le)g(extension,)h(with)f(\\)p Fq(.hs)o Fu(")150
996 y(indicating)17 b(a)e(usual)h(Hask)o(ell)g(\014le,)g(and)f(\\)p
Fq(.lhs)o Fu(")g(indicating)i(a)e(literate)h(Hask)o(ell)g(\014le.)221
1078 y(T)l(o)g(mak)o(e)h(this)h(precise,)g(Figures)g(17)e(and)i(18)e(presen)o
(t)h(a)g(literate)h(Hask)o(ell)g(program)e(to)h(con)o(v)o(ert)150
1134 y(literate)h(programs.)27 b(The)18 b(program)f(exp)q(ects)i(a)e(single)i
(name)f Fq(file)g Fu(on)f(the)h(command)g(line,)i(reads)150
1191 y Fq(file.lhs)o Fu(,)12 b(and)h(either)g(writes)f(the)g(corresp)q
(onding)h(program)e(to)h Fq(file.hs)f Fu(or)h(prin)o(ts)g(error)f(messages)
150 1247 y(to)k Fq(stderr)o Fu(.)p 159 1348 1767 2 v 159 2454
2 1106 v 189 1412 a(Eac)o(h)g(of)g(the)g(lines)i(in)f(a)g(literate)f(script)h
(is)g(a)f(program)f(line,)j(a)e(blank)h(line,)h(or)e(a)g(commen)o(t)g(line.)
189 1469 y(In)g(the)h(\014rst)f(case,)f(the)i(text)e(is)i(k)o(ept)f(with)h
(the)f(line.)189 1548 y Fq(>)23 b(data)h(Classified)46 b(=)i(Program)23
b(String)g(|)g(Blank)g(|)h(Comment)189 1661 y Fu(In)13 b(a)e(literate)i
(program,)f(program)f(lines)i(b)q(egins)h(with)e(a)g(`)p Fq(>)p
Fu(')g(c)o(haracter,)f(blank)j(lines)f(con)o(tain)g(only)189
1718 y(whitespace,)i(and)h(all)g(other)f(lines)h(are)f(commen)o(t)g(lines.)
189 1797 y Fq(>)23 b(classify)715 b(::)48 b(String)23 b(->)g(Classified)189
1854 y(>)g(classify)g(\('>':s\))524 b(=)72 b(Program)23 b(s)189
1910 y(>)g(classify)g(s)48 b(|)f(all)24 b(isSpace)f(s)238 b(=)72
b(Blank)189 1967 y(>)23 b(classify)g(s)48 b(|)f(otherwise)333
b(=)72 b(Comment)189 2080 y Fu(In)15 b(the)f(corresp)q(onding)h(program,)e
(program)h(lines)i(ha)o(v)o(e)d(the)i(leading)h(`)p Fq(>)o
Fu(')e(replaced)i(b)o(y)e(a)g(leading)189 2136 y(space,)h(to)f(preserv)o(e)i
(tab)e(alignmen)o(ts.)189 2216 y Fq(>)23 b(unclassify)667 b(::)48
b(Classified)22 b(->)i(String)189 2272 y(>)f(unclassify)g(\(Program)g(s\))381
b(=)72 b(")23 b(")h(++)g(s)189 2329 y(>)f(unclassify)g(Blank)524
b(=)72 b("")189 2385 y(>)23 b(unclassify)g(Comment)476 b(=)72
b("")p 1924 2454 V 159 2456 1767 2 v 582 2585 a Fu(Figure)16
b(17:)j(Literate)c(program)f(con)o(v)o(erter)h(\(P)o(art)f(1\))p
eop
%%Page: 138 152
bop 0 50 a Fu(138)1127 b Ft(C)45 b(LITERA)l(TE)16 b(COMMENTS)p
9 220 1767 2 v 9 2527 2 2307 v 39 286 a Fu(Pro)q(cess)21 b(a)g(literate)h
(program)f(in)o(to)g(error)g(messages)g(\(if)g(an)o(y\))g(and)h(the)g
(corresp)q(onding)g(non-)39 342 y(literate)15 b(program.)39
422 y Fq(>)23 b(process)166 b(::)48 b(String)23 b(->)h(\(String,)e(String\))
39 479 y(>)h(process)g(lhs)71 b(=)h(\(es,)23 b(hs\))39 535
y(>)357 b(where)71 b(cs)48 b(=)f(map)24 b(classify)f(\(lines)g(lhs\))39
591 y(>)548 b(es)48 b(=)f(unlines)23 b(\(errors)g(cs\))39 648
y(>)548 b(hs)48 b(=)f(unlines)23 b(\(map)h(unclassify)e(cs\))39
761 y Fu(Chec)o(k)15 b(that)f(eac)o(h)i(program)e(line)j(is)e(not)g(adjacen)o
(t)g(to)g(a)f(commen)o(t)h(line.)39 841 y Fq(>)23 b(errors)190
b(::)48 b([Classified])22 b(->)i([String])39 897 y(>)f(errors)g(cs)119
b(=)72 b(concat)23 b(\(zipWith3)g(adjacent)f([1..])i(cs)f(\(tail)g(cs\)\))39
1010 y Fu(Giv)o(en)12 b(a)g(line)i(n)o(um)o(b)q(er)e(and)h(a)f(pair)g(of)g
(adjacen)o(t)g(lines,)i(generate)e(a)f(list)i(of)f(error)g(messages,)f(whic)o
(h)39 1066 y(will)17 b(con)o(tain)e(either)h(one)f(en)o(try)g(or)g(none.)39
1146 y Fq(>)23 b(adjacent)142 b(::)48 b(Int)23 b(->)h(Classified)e(->)i
(Classified)f(->)g([String])39 1202 y(>)g(adjacent)g(n)h(\(Program)f(_\))g
(Comment)47 b(=)h([message)22 b(n)i("program")f("comment"])39
1259 y(>)g(adjacent)g(n)h(Comment)f(\(Program)g(_\))47 b(=)h([message)22
b(n)i("comment")f("program"])39 1315 y(>)g(adjacent)g(n)h(this)262
b(next)47 b(=)h([])39 1452 y(>)23 b(message)g(n)h(p)g(c)f(=)h("Line)f
("++show)g(n++":)g("++p++")g(line)h(before)f("++c++")g(line.")39
1564 y Fu(Get)14 b(one)i(argumen)o(t)e(from)h(the)g(command)g(line;)h
(complain)h(if)e(to)q(o)g(man)o(y)g(or)f(to)q(o)h(few.)39 1644
y Fq(>)23 b(getArg)47 b(::)h(FailCont)23 b(->)g(StrCont)g(->)h(Dialogue)39
1701 y(>)f(getArg)g(fail)h(succ)39 1757 y(>)214 b(=)72 b(getArgs)882
b(fail)23 b(\(\\strs)g(->)39 1814 y(>)310 b(case)23 b(strs)g(of)39
1870 y(>)357 b([str])24 b(->)f(succ)h(str)39 1926 y(>)357 b(_)120
b(->)23 b(fail)h(\(OtherError)e("Too)h(many)h(or)f(too)h(few)f(args"\)\))39
2039 y Fu(The)11 b(main)g(program)f(gets)h(name)g Fq(file)o
Fu(,)g(reads)g Fq(file.lhs)o Fu(,)g(and)h(either)f(writes)g(the)g(corresp)q
(onding)39 2096 y(program)j(to)g Fq(file.hs)g Fu(or)h(app)q(ends)h(error)f
(messages)g(to)f Fq(stderr)o Fu(.)39 2176 y Fq(>)23 b(main)95
b(::)48 b(Dialogue)39 2232 y(>)23 b(main)95 b(=)72 b(getArg)906
b(exit)23 b(\(\\file)g(->)39 2288 y(>)310 b(readFile)23 b(\(file)g(++)g
(".lhs"\))453 b(exit)23 b(\(\\lhs)g(->)39 2345 y(>)310 b(case)23
b(\(process)g(lhs\))g(of)39 2401 y(>)357 b(\([],hs\))23 b(->)h(writeFile)f
(\(file)g(++)g(".hs"\))g(hs)72 b(exit)23 b(done)39 2458 y(>)357
b(\(es,_\))47 b(->)24 b(appendChan)e(stderr)h(es)263 b(exit)23
b(done\)\))p 1774 2527 V 9 2529 1767 2 v 432 2658 a Fu(Figure)16
b(18:)j(Literate)c(program)f(con)o(v)o(erter)h(\(P)o(art)f(2\))p
eop
%%Page: 139 153
bop 1882 50 a Fu(139)150 199 y Fy(D)67 b(Input/Output)24 b(Seman)n(tics)150
324 y Fu(The)10 b(b)q(eha)o(viour)h(of)f(a)g(Hask)o(ell)h(program)e(p)q
(erforming)i(I/O)f(is)h(giv)o(en)g(within)g(the)g(en)o(vironmen)o(t)f(in)h
(whic)o(h)150 381 y(it)16 b(is)h(running.)23 b(That)15 b(en)o(vironmen)o(t)h
(will)i(b)q(e)f(describ)q(ed)h(using)e(standard)g(Hask)o(ell)h(co)q(de)f
(augmen)o(ted)150 437 y(with)g(a)e(non-deterministic)k(merge)d(op)q(erator.)
221 517 y(The)k(state)g(of)g(the)g(op)q(erating)g(system)g(\(OS)h(state\))e
(that)h(is)g(relev)m(an)o(t)h(to)f(Hask)o(ell)h(programs)e(is)150
574 y(completely)j(describ)q(ed)g(b)o(y)f(the)f(\014le)i(system)e(and)g(the)h
(c)o(hannel)h(system.)32 b(The)20 b(c)o(hannel)g(system)f(is)150
630 y(split)d(in)o(to)f(t)o(w)o(o)f(subsystems,)h(the)g(input)i(c)o(hannel)f
(system)f(and)g(the)g(output)g(c)o(hannel)i(system.)221 706
y Fq(type)23 b(State)g(=)h(\(FileSystem,)e(ChannelSystem\))221
763 y(type)h(FileSystem)94 b(=)24 b(String)f(->)g(Response)221
819 y(type)g(ChannelSystem)f(=)i(\(ICs,)f(OCs\))221 876 y(type)g(ICs)71
b(=)24 b(String)f(->)g(\(Agent,)g(Open\))221 932 y(type)g(OCs)71
b(=)24 b(String)f(->)g(Response)221 989 y(type)g(Agent)g(=)h(\(FileSystem,)e
(OCs\))h(->)h(Response)221 1045 y(type)f(Open)47 b(=)24 b(PId)f(->)h(Bool)221
1102 y(type)f(PId)71 b(=)24 b(Int)221 1158 y(type)f(PList)g(=)h
([\(PId,[Request->Response])o(\)])150 1234 y Fu(An)13 b(agen)o(t)e(maps)h(a)g
(list)h(of)f(OS)h(states)e(to)h(resp)q(onses.)20 b(Those)12
b(resp)q(onses)g(will)i(b)q(e)f(used)g(as)f(the)h(con)o(ten)o(ts)150
1291 y(of)j(input)h(c)o(hannels,)g(and)f(th)o(us)g(can)g(dep)q(end)i(on)e
(output)g(c)o(hannels,)h(other)e(input)j(c)o(hannels,)f(\014les,)f(or)150
1347 y(an)o(y)g(com)o(bination)h(thereof.)24 b(F)l(or)15 b(example,)j(a)e(v)m
(alid)i(implemen)o(tation)g(m)o(ust)e(allo)o(w)g(the)h(user)g(to)e(act)150
1404 y(as)g(agen)o(t)f(b)q(et)o(w)o(een)i(the)f(standard)g(output)g(c)o
(hannel)h(and)g(standard)e(input)j(c)o(hannel.)221 1484 y(Eac)o(h)g(running)i
(pro)q(cess)e(\(i.e.)h(program\))e(has)h(a)g(unique)i Fq(PId)p
Fu(.)27 b(Elemen)o(ts)18 b(of)f Fq(PList)g Fu(are)g(lists)h(of)150
1540 y(running)e(programs.)221 1616 y Fq(os)23 b(::)h(TagReqList)e(->)i
(State)f(->)h(\(TagRespList,)e(State\))221 1673 y(type)h(TagRespList)f(=)i
([\(PId,Response\)])221 1729 y(type)f(TagReqList)46 b(=)24
b([\(PId,Request\)])150 1808 y Fu(The)d(op)q(erating)g(system)f(is)h(mo)q
(deled)h(as)e(a)h(\(non-deterministic\))h(function)f Fq(os)p
Fu(.)36 b(The)21 b Fq(os)f Fu(tak)o(es)g(a)150 1865 y(tagged)14
b(request)g(list)h(and)g(an)f(initial)j(state,)c(and)h(returns)h(a)f(tagged)f
(resp)q(onse)i(list)g(and)g(a)f(\014nal)h(state.)150 1921 y(Giv)o(en)h(a)f
(list)h(of)e(programs)g Fq(pList)p Fu(,)g Fq(os)h Fu(m)o(ust)g(exhibit)i
(this)e(b)q(eha)o(viour:)221 1998 y Fq(\(tagRespList,)22 b(state'\))h(=)g(os)
h(tagReqList)e(state)221 2055 y(tagReqList)g(=)i(merge)f([)h(zip)f
([pId,pId..])g(\(proc)g(\(untag)g(pId)g(tagRespList\)\))746
2111 y(|)g(\(pId,)g(proc\))h(<-)f(pList)g(])150 2188 y Fu(where)15
b Fq(merge)g Fu(is)h(a)e(non-deterministic)k(merge)d(of)g(a)g(list)h(of)e
(lists,)i(and)f Fq(untag)g Fu(is:)221 2265 y Fq(untag)23 b(n)g([])358
b(=)24 b([])221 2321 y(untag)f(n)g(\(\(m,resp\):resps\))f(=)i(if)f(n==m)h
(then)f(resp:\(untag)f(n)i(resps\))1056 2378 y(else)f(untag)g(n)h(resps)150
2454 y Fu(This)16 b(relationship)h(can)e(b)q(e)h(generalised)h(to)d(include)k
(requests)d(suc)o(h)g(as)g Fq(CreateProcess)n Fu(.)221 2534
y(A)g(v)m(alid)i(implemen)o(tation)f(m)o(ust)f(ensure)h(that)e(the)h(input)i
(c)o(hannel)f(system)f(is)h(de\014ned)g(at)f Fq(stdin)150 2591
y Fu(and)j(the)h(output)f(c)o(hannel)h(system)f(is)g(de\014ned)i(at)d
Fq(stdout)p Fu(,)h Fq(stderr)o Fu(,)h(and)f Fq(stdecho)o Fu(.)29
b(If)18 b(the)h(agen)o(t)150 2647 y(attac)o(hed)e(to)h(standard)f(input)i(is)
f(called)i Fq(user)d Fu(\(i.e.)h Fq(ics)23 b(stdin)17 b Fu(has)h(form)f
Fq(\(user,)23 b(open\))p Fu(\),)18 b(then)150 2704 y Fq(user)d
Fu(m)o(ust)f(dep)q(end)j(at)e(least)g(on)g(standard)g(output.)k(In)d(other)f
(w)o(ords,)f(this)i(constrain)o(t)f(m)o(ust)f(hold:)p eop
%%Page: 140 154
bop 0 50 a Fu(140)991 b Ft(D)45 b(INPUT/OUTPUT)16 b(SEMANTICS)71
199 y Fq(user)23 b([...,)g(\(fs,\(ics,ocs\)\),)f(...])h(=)h(...)f(user')h
(\(ocs)f(stdout\))g(...)0 281 y Fu(where)15 b Fq(user')g Fu(is)h(a)f
Fp(strict)p Fu(,)f(but)i(otherwise)f(arbitrary)l(,)g(function)h(mo)q(delling)
h(the)e(user.)21 b(Its)15 b(strictness)0 337 y(corresp)q(onds)22
b(to)g(the)g(user's)g(consumption)h(of)f(standard)g(output)g(whilst)h
(determining)g(standard)0 394 y(input.)71 475 y(The)16 b(rest)g(of)g(this)g
(section)h(sp)q(eci\014es)h(the)e(required)i(b)q(eha)o(viour)f(of)e
Fq(os)h Fu(in)h(resp)q(onse)g(to)f(eac)o(h)g(kind)0 531 y(of)d(request.)20
b(This)14 b(seman)o(tics)g(is)h(relativ)o(ely)g(abstract)e(and)h(omits)f(an)o
(y)h(reference)g(to)g(hardw)o(are)f(errors)0 588 y(\(e.g.)19
b(\\bad)h(sector)f(on)h(disk"\))g(and)g(system)g(dep)q(enden)o(t)h(errors)f
(\(e.g.)e(\\access)i(righ)o(ts)g(violation"\).)0 644 y(Implemen)o(tation-sp)q
(eci\014c)25 b(requests)d(\(for)e(example)j(the)f(en)o(vironmen)o(t)g
(requests\))f(are)h(not)f(sho)o(wn)0 701 y(here.)g(W)l(e)15
b(describ)q(e)i(only)f(the)f(text)g(v)o(ersion)h(of)f(the)g(requests:)20
b(the)15 b(binary)h(v)o(ersion)g(di\013ers)f(trivially)l(.)0
757 y Fq(os)g Fu(is)h(de\014ned)g(b)o(y:)71 835 y Fq(os)23
b(::)h(TagReqList)e(->)i(State)f(->)h(\(TagRespList,State\))71
914 y(os)f([])h(state)f(=)h(\([],)f(state\))71 971 y(os)g(\(\(n,)g(ReadChan)g
(name\):es\))g(state@\(fs,\(ics,ocs\)\))e(=)166 1027 y(\(alist',state'\))h
(where)309 1084 y(\(agent,open\))g(=)i(ics)g(name)309 1140
y(alist')f(=)h(\(n,)f(\(if)h(open)f(n)643 1197 y(then)h(fail)643
1253 y(else)g(\(agent)f(\(fs,ocs\)\))f(\)\))i(:)g(alist)309
1309 y(fail)g(=)f(Failure)g(\(OtherError)g("Channel)f(already)h(open\\n"\))
309 1366 y(\(alist,state'\))f(=)i(os)f(es)h(\(fs,)f(\(update)g(ics)h(name)
1049 1422 y(\(agent,)f(update)g(open)g(n)h(true\),)1001 1479
y(ocs\)\))0 1556 y Fu(where)15 b(the)h(auxiliary)g(function)g
Fq(update)f Fu(is)g(de\014ned)i(b)o(y:)71 1638 y Fq(update)23
b(f)g(x)h(v)g(x')f(=)h(if)g(x==x')f(then)g(v)h(else)f(f)h(x)71
1719 y Fu(If)17 b(an)f(attempt)g(is)i(made)f(to)f(read)h(a)f(non-existen)o(t)
i(c)o(hannel,)g Fq(ics)e Fu(returns)h(an)g(agen)o(t)f(that)g(giv)o(es)0
1776 y(the)e(appropriate)g(error)f(message)h(when)g(applied)i(to)d(its)h
(argumen)o(ts.)19 b(This)14 b(de\014nition)i(is)e(generalised)0
1832 y(in)i(the)f(ob)o(vious)g(w)o(a)o(y)f(for)h(the)g(b)q(eha)o(viour)h(of)e
Fq(ReadChannels)n Fu(.)20 b(In)c(particular,)f Fq(ack)g Fu(m)o(ust)f(b)q(e)i
(created)0 1888 y(b)o(y)g(non-deterministically)j(merging)d(the)f(result)i
(of)e(applying)i(eac)o(h)f(agen)o(t)f(to)g(the)h(stream)f(of)g(future)0
1945 y(states.)p eop
%%Page: 141 155
bop 1882 50 a Fu(141)221 193 y Fq(os)23 b(\(\(n,)g(AppendChan)g(name)g
(contents\):es\))f(state@\(fs,\(ics,ocs\)\))g(=)316 250 y(\(alist',state'\))g
(where)459 306 y(alist')h(=)h(ack:alist)459 362 y(ack)g(=)483
419 y(\(n,)507 475 y(case)f(\(ocs)h(name\))f(of)531 532 y(Failure)g(msg)g(->)
h(Failure)f(\(SearchError)f("Nonexistent)g(Channel"\))531 588
y(Str)h(ochan)g(->)h(Success)531 645 y(Bn)f(ochan)h(->)f(Failure)g
(\(FormatError)f("format)h(error"\))507 701 y(\))459 758 y(\(alist,state'\))f
(=)i(os)f(es)h(\(fs,\(ics,)1127 814 y(case)g(\(ocs)f(name\))g(of)1175
871 y(Failure)g(msg)g(->)h(ocs)1175 927 y(Str)g(ochan)f(->)g(update)g(ocs)h
(name)1318 983 y(\(Str)g(\(ochan)f(++)g(contents\)\))1175 1040
y(Bn)h(ochan)f(->)g(ocs)1104 1096 y(\)\))221 1182 y(os)g(\(\(n,)g(ReadFile)g
(name\):es\))g(state@\(fs,\(ics,ocs\)\))e(=)316 1238 y(\(alist',state'\))h
(where)459 1295 y(alist')h(=)h(ack)f(:)h(alist)459 1351 y(ack)g(=)f(\(n,)626
1408 y(case)h(\(fs)f(name\))g(of)650 1464 y(Failure)g(msg)g(->)h(Failure)f
(\(SearchError)f("File)h(not)h(found"\))650 1521 y(Str)g(string)f(->)g(Str)h
(string)650 1577 y(Bn)g(binary)f(->)g(Failure)g(\(FormatError)f(""\))602
1634 y(\))459 1690 y(\(alist,state'\))g(=)i(os)f(es)h(state)221
1770 y(os)f(\(\(n,)g(WriteFile)g(name)g(contents\):es\))g
(state@\(fs,\(ics,ocs\)\))e(=)316 1826 y(\(alist',state'\))h(where)459
1883 y(alist')h(=)h(\(n,)f(Success\):alist)459 1939 y(\(alist,state'\))f(=)i
(os)f(es)h(\(update)f(fs)h(name)f(\(Str)g(contents\),)1032
1996 y(\(ics,ocs\)\))p eop
%%Page: 142 156
bop 0 50 a Fu(142)991 b Ft(D)45 b(INPUT/OUTPUT)16 b(SEMANTICS)71
193 y Fq(os)23 b(\(\(n,)g(AppendFile)g(name)g(contents\):es\))f
(state@\(fs,\(ics,ocs\)\))g(=)166 250 y(\(alist',state'\))g(where)309
306 y(alist')h(=)h(ack:alist)309 362 y(ack)g(=)f(\(n,)452 419
y(case)h(\(fs)f(name\))g(of)476 475 y(Failure)g(msg)h(->)f(Failure)g
(\(SearchError)f("file)i(not)f(found"\))476 532 y(Str)h(s)f(->)h(Success)476
588 y(Bn)48 b(b)23 b(->)h(Failure)f(\(FormatError)f(""\))452
645 y(\))309 701 y(\(alist,state'\))g(=)i(os)f(es)h(\(newfs,)f(\(ics,ocs\)\))
46 b(where)715 758 y(newfs)23 b(=)h(case)f(\(fs)h(name\))f(of)930
814 y(Failure)g(msg)g(->)h(fs)930 871 y(Str)f(s)h(->)954 927
y(update)f(fs)g(name)g(\(Str)h(\(s++contents\)\))930 983 y(Bn)47
b(b)24 b(->)f(fs)71 1069 y(os)g(\(\(n,)g(DeleteFile)g(name\):es\))g
(state@\(fs,\(ics,ocs\)\))e(=)166 1125 y(\(alist',state'\))h(where)309
1182 y(alist')h(=)h(ack)f(:)h(alist)309 1238 y(ack)g(=)f(\(n,)476
1295 y(case)h(\(fs)f(name\))g(of)500 1351 y(Failure)g(msg)g(->)h(Failure)f
(\(SearchError)f("file)h(not)h(found"\))500 1408 y(Str)g(s)f(->)h(Success)500
1464 y(Bn)g(b)f(->)h(Success)452 1521 y(\))309 1577 y(\(alist,state'\))e(=)i
(os)f(es)h(\(case)f(\(fs)h(name\))f(of)930 1634 y(Failure)g(msg)g(->)h(fs)930
1690 y(Str)f(s)h(->)f(update)g(fs)h(name)f(fail)930 1746 y(Bn)g(b)h(->)g
(update)f(fs)g(name)h(fail,)882 1803 y(\(ics,ocs\)\))309 1859
y(fail)g(=)f(Failure)g(\(SearchError)f("file)i(not)f(found"\))71
1939 y(os)g(\(\(n,StatusFile)f(name\):es\))h(state@\(fs,\(ics,ocs\)\))e(=)j
(\(alist',state'\))d(where)309 1996 y(alist')i(=)h(ack)f(:)h(alist)309
2052 y(ack)g(=)f(\(n,)476 2108 y(case)h(\(fs)f(name\))g(of)500
2165 y(Failure)g(msg)g(->)h(Failure)f(\(SearchError)f("File)h(not)h(found"\))
500 2221 y(Str)g(string)f(->)g(Str)h("t"++\(rw)e(n)i(fs)g(name\))500
2278 y(Bn)g(binary)f(->)g(Str)h("b"++\(rw)f(n)g(fs)h(name\))452
2334 y(\))309 2391 y(\(alist,)f(state'\))g(=)h(os)f(es)h(state)0
2468 y Fu(where)14 b Fq(rw)g Fu(is)h(a)e(function)i(that)f(determines)h(the)f
(read)g(and)g(write)h(status)e(of)g(a)h(\014le)h(for)f(this)g(particular)0
2525 y(pro)q(cess.)p eop
%%Page: 143 157
bop 150 50 a Ft(D.1)45 b(Optional)16 b(Requests)1251 b Fu(143)150
199 y Fx(D.1)56 b(Optional)18 b(Requests)150 310 y Fu(These)e(optional)f(I/O)
h(requests)f(ma)o(y)g(b)q(e)g(useful)i(in)f(a)f(Hask)o(ell)h(implemen)o
(tation.)218 441 y Fl(\017)23 b Fq(ReadChannels)f([cname1,)h(...,)g(cnamek])
264 498 y(ReadBinChannels)e([cname1,)i(...,)h(cnamek])264 573
y Fu(Op)q(ens)18 b Fq(cname1)f Fu(through)g Fq(cnamek)g Fu(for)g(input.)28
b(A)17 b(successful)i(resp)q(onse)f(has)f(form)g Fq(Tag)24
b(vals)264 629 y Fu([)p Fq(BinTag)e(vals)p Fu(])c(where)h Fq(vals)g
Fu(is)g(a)g(list)h(of)e(v)m(alues)i(tagged)e(with)i(the)f(name)g(of)f(the)h
(c)o(hannel.)264 686 y(These)c(resp)q(onses)h(require)g(an)f(extension)h(to)f
(the)g Fq(Response)f Fu(datat)o(yp)q(e:)334 758 y Fq(data)47
b(Response)23 b(=)h(...)692 815 y(|)g(Tag)95 b([\(String,Char\)])692
871 y(|)24 b(BinTag)f([\(String,Bin\)])264 942 y Fu(The)17
b(tagged)f(list)i(of)f(v)m(alues)h(is)g(the)f(non-deterministic)i(merge)e(of)
g(the)g(v)m(alues)h(read)g(from)e(the)264 999 y(individual)k(c)o(hannels.)26
b(If)17 b(an)g(elemen)o(t)h(of)e(this)i(list)f(has)g(form)f
Fq(\(cnamei,val\))o Fu(,)h(then)g(it)g(came)264 1055 y(from)d(c)o(hannel)i
Fq(cnamei)p Fu(.)264 1130 y(If)i(an)o(y)f Fq(cnamei)g Fu(do)q(es)h(not)g
(exist)g(then)g(the)g(resp)q(onse)g Fq(Failure)23 b(\(SearchError)g(string\))
16 b Fu(is)264 1187 y(induced;)g(all)h(other)d(errors)h(induce)i
Fq(Failure)23 b(\(ReadError)f(string\))o Fu(.)218 1281 y Fl(\017)h
Fq(CreateProcess)f(prog)264 1356 y Fu(In)o(tro)q(duces)f(a)g(new)g(program)f
Fq(prog)g Fu(in)o(to)h(the)g(op)q(erating)h(system.)36 b Fq(prog)21
b Fu(m)o(ust)f(ha)o(v)o(e)h(t)o(yp)q(e)264 1412 y Fq([Response])h(->)i
([Request])n Fu(.)36 b(Either)21 b Fq(Success)f Fu(or)g Fq(Failure)j
(\(OtherError)f(string\))d Fu(is)264 1469 y(induced.)218 1563
y Fl(\017)k Fq(CreateDirectory)e(name)j(string)264 1619 y(DeleteDirectory)d
(name)264 1694 y Fu(Create)d(or)h(delete)i(directory)e Fq(name)p
Fu(.)32 b(The)19 b Fq(string)g Fu(argumen)o(t)f(to)h Fq(CreateDirectory)e
Fu(is)j(an)264 1751 y(implemen)o(tation-dep)q(enden)o(t)e(sp)q(eci\014cation)
f(of)e(the)g(initial)i(state)e(of)f(the)i(directory)l(.)218
1844 y Fl(\017)23 b Fq(OpenFile)118 b(name)23 b(inout)264 1901
y(OpenBinFile)46 b(name)23 b(inout)264 1957 y(CloseFile)94
b(file)264 2014 y(ReadVal)142 b(file)264 2070 y(ReadBinVal)70
b(file)264 2127 y(WriteVal)118 b(file)23 b(char)264 2183 y(WriteBinVal)46
b(file)23 b(bin)264 2258 y Fu(These)16 b(requests)g(em)o(ulate)h(traditional)
f(\014le)i(I/O)e(in)h(whic)o(h)g(c)o(haracters)f(are)f(read)i(and)f(written)
264 2315 y(one)f(at)g(a)f(time.)334 2377 y Fq(data)47 b(Response)23
b(=)h(...)692 2433 y(|)g(Fil)f(File)334 2490 y(data)47 b(File)334
2546 y(type)g(Bins)119 b(=)24 b([Bin])264 2620 y(OpenFile)e(name)i(inout)9
b Fu([)p Fq(OpenBinFile)22 b(name)i(inout)o Fu(])10 b(op)q(ens)h(the)g
(\014le)g Fq(name)f Fu(in)h(text)f([binary])264 2677 y(mo)q(de)g(with)h
(direction)h Fq(inout)e Fu(\()p Fq(True)g Fu(for)g(input,)i
Fq(False)e Fu(for)f(output\).)18 b(The)11 b(resp)q(onse)g Fq(Fil)24
b(file)p eop
%%Page: 144 158
bop 0 50 a Fu(144)991 b Ft(D)45 b(INPUT/OUTPUT)16 b(SEMANTICS)114
199 y Fu(is)f(induced,)i(where)f Fq(file)e Fu(has)h(t)o(yp)q(e)h
Fq(File)o Fu(,)f(a)g(primitiv)o(e)h(t)o(yp)q(e)g(that)e(represen)o(ts)h(a)g
(handle)i(to)d(a)114 256 y(\014le.)21 b(Subsequen)o(t)16 b(use)f(of)g(that)f
(\014le)j(b)o(y)e(other)g(requests)g(is)h(via)f(this)h(handle.)114
331 y Fq(CloseFile)22 b(file)11 b Fu(closes)h Fq(file)o Fu(.)19
b Fq(Failure)k(\(OtherError)f(string\))11 b Fu(is)h(induced)h(if)f
Fq(file)f Fu(can-)114 387 y(not)j(b)q(e)i(closed.)114 462 y
Fq(ReadVal)h Fu([)p Fq(ReadBinVal)n Fu(])h Fq(file)f Fu(reads)h
Fq(file)p Fu(,)g(inducing)j(the)d(resp)q(onse)h Fq(Str)k(val)18
b Fu([)p Fq(Bins)23 b(val)o Fu(])114 519 y(or)14 b Fq(Failure)23
b(\(ReadError)g(string\))o Fu(.)114 594 y Fq(WriteVal)f(file)i(char)18
b Fu([)p Fq(WriteBinVal)k(file)h(bin)p Fu(])18 b(writes)h Fq(char)g
Fu([)p Fq(bin)o Fu(])f(to)g Fq(file)p Fu(.)31 b(The)19 b(re-)114
650 y(sp)q(onse)c Fq(Success)g Fu(or)f Fq(Failure)23 b(\(WriteError)f
(string\))15 b Fu(is)g(induced.)114 726 y Fq(Failure)23 b(\(SearchError)f
(string\))g Fu(is)i(induced)i(for)d Fq(ReadVal)o Fu(,)i Fq(ReadBinVal)n
Fu(,)g Fq(WriteVal)o Fu(,)114 782 y(and)15 b Fq(WriteBinVal)f
Fu(if)h Fq(file)g Fu(is)h(not)e(a)h(text)g(or)g(binary)h(\014le,)f(as)g
(appropriate.)p eop
%%Page: 145 159
bop 1882 50 a Fu(145)150 199 y Fy(E)67 b(Sp)r(eci\014cation)24
b(of)e(Deriv)n(ed)h(Instances)150 326 y Fu(If)15 b Fp(T)21
b Fu(is)16 b(an)f(algebraic)h(datat)o(yp)q(e)f(declared)h(b)o(y:)365
424 y Fq(data)23 b Fp(c)k Fq(=>)16 b Fp(T)22 b(u)675 431 y
Fk(1)722 424 y Fr(:)8 b(:)g(:)22 b Fp(u)823 431 y Fk(k)886
424 y Fq(=)41 b Fp(K)986 431 y Fk(1)1026 424 y Fp(t)1041 431
y Fk(11)1106 424 y Fr(:)8 b(:)g(:)22 b Fp(t)1198 431 y Fk(1k)1232
435 y Ff(1)1267 424 y Fq(|)i Fl(\001)8 b(\001)g(\001)21 b Fq(|)c
Fp(K)1467 431 y Fk(n)1507 424 y Fp(t)1522 431 y Fk(n1)1588
424 y Fr(:)8 b(:)g(:)22 b Fp(t)1680 431 y Fk(nk)1715 435 y
Ff(n)951 480 y Fq(deriving)h(\()p Fp(C)1223 487 y Fk(1)1246
480 y Fq(,)h Fr(:)8 b(:)g(:)d Fq(,)16 b Fp(C)1427 487 y Fk(m)1459
480 y Fq(\))150 581 y Fu(\(where)f Fp(m)i Fl(\025)c Fp(0)21
b Fu(and)16 b(the)g(paren)o(theses)f(ma)o(y)g(b)q(e)h(omitted)f(if)h
Fp(m)h Fu(=)c Fp(1)6 b Fu(\))15 b(then)h Fp(a)h(derive)n(d)f(instanc)n(e)f
(de)n(c-)150 638 y(lar)n(ation)h(is)g(p)n(ossible)e Fu(for)g(a)h(class)h
Fp(C)21 b Fu(if)16 b(and)f(only)h(if)f(these)h(conditions)g(hold:)206
756 y(1.)22 b Fp(C)f Fu(is)16 b(one)f(of)g Fq(Eq)o Fu(,)g Fq(Ord)p
Fu(,)g Fq(Enum)o Fu(,)g Fq(Ix)p Fu(,)f Fq(Text)p Fu(,)h(or)f
Fq(Binary)o Fu(.)206 850 y(2.)22 b(There)13 b(is)h(a)f(con)o(text)g
Fp(c)657 834 y Fi(0)682 850 y Fu(suc)o(h)h(that)e Fp(c)903
834 y Fi(0)943 850 y Fl(\))30 b Fp(C)22 b(t)1088 857 y Fk(ij)1129
850 y Fu(holds)15 b(for)d(eac)o(h)i(of)f(the)h(constituen)o(t)f(t)o(yp)q(es)h
Fp(t)1910 857 y Fk(ij)1937 850 y Fu(.)206 944 y(3.)22 b(If)13
b Fp(C)18 b Fu(is)13 b(either)h Fq(Ix)e Fu(or)g Fq(Enum)p Fu(,)g(then)h
(further)g(constrain)o(ts)f(m)o(ust)g(b)q(e)h(satis\014ed)g(as)g(describ)q
(ed)h(under)264 1000 y(the)h(paragraphs)f(for)h Fq(Ix)g Fu(and)g
Fq(Enum)g Fu(later)g(in)h(this)g(section.)206 1094 y(4.)22
b(There)15 b(m)o(ust)g(b)q(e)g(no)g(explicit)j(instance)e(declaration)g
(elsewhere)g(in)g(the)f(mo)q(dule)i(whic)o(h)f(mak)o(es)264
1151 y Fp(T)21 b(u)342 1158 y Fk(1)390 1151 y Fr(:)8 b(:)g(:)22
b Fp(u)491 1158 y Fk(k)528 1151 y Fu(an)15 b(instance)h(of)e
Fp(C)7 b Fu(.)221 1269 y(If)15 b(the)g Fq(deriving)f Fu(form)g(is)h(presen)o
(t)g(\(as)g(in)h(the)f(ab)q(o)o(v)o(e)f(general)i Fq(data)e
Fu(declaration\),)h(an)g(instance)150 1326 y(declaration)h(is)g
(automatically)g(generated)f(for)g Fp(T)22 b(u)1074 1333 y
Fk(1)1121 1326 y Fr(:)8 b(:)g(:)22 b Fp(u)1222 1333 y Fk(k)1259
1326 y Fu(o)o(v)o(er)14 b(eac)o(h)i(class)g Fp(C)1599 1333
y Fk(i)1629 1326 y Fu(and)f(eac)o(h)h(of)f Fp(C)1905 1333 y
Fk(i)1919 1326 y Fu('s)150 1382 y(sup)q(erclasses.)20 b(If)14
b(the)f(deriv)o(ed)h(instance)g(declaration)g(is)f(imp)q(ossible)i(for)e(an)o
(y)f(of)h(the)g Fp(C)1676 1389 y Fk(i)1704 1382 y Fu(then)g(a)g(static)150
1439 y(error)k(results.)26 b(If)18 b(no)f(deriv)o(ed)i(instances)f(are)f
(required,)h(the)g Fq(deriving)e Fu(form)g(ma)o(y)h(b)q(e)h(omitted)f(or)150
1495 y(the)e(form)g Fq(deriving)23 b(\(\))14 b Fu(ma)o(y)h(b)q(e)h(used.)221
1577 y(Eac)o(h)f(deriv)o(ed)h(instance)g(declaration)g(will)h(ha)o(v)o(e)d
(the)i(form:)342 1679 y Fq(instance)23 b(\()p Fp(c)s Fq(,)16
b Fp(C)685 1662 y Fi(0)678 1690 y Fk(1)717 1679 y Fp(u)744
1662 y Fi(0)741 1690 y Fk(1)765 1679 y Fq(,)23 b Fr(:)8 b(:)g(:)e
Fq(,)16 b Fp(C)953 1662 y Fi(0)946 1690 y Fk(j)980 1679 y Fp(u)1007
1662 y Fi(0)1004 1690 y Fk(j)1038 1679 y Fq(\))23 b(=>)16 b
Fp(C)1182 1686 y Fk(i)1214 1679 y Fu(\()p Fp(T)21 b(u)1310
1686 y Fk(1)1358 1679 y Fr(:)8 b(:)g(:)22 b Fp(u)1459 1686
y Fk(k)1480 1679 y Fu(\))16 b Fq(where)f({)i Fp(d)k Fq(})150
1781 y Fu(where)15 b Fp(d)21 b Fu(is)15 b(deriv)o(ed)i(automatically)e(dep)q
(ending)j(on)d Fp(C)1131 1788 y Fk(i)1161 1781 y Fu(and)g(the)g(data)g(t)o
(yp)q(e)g(declaration)h(for)f Fp(T)21 b Fu(\(as)150 1837 y(will)d(b)q(e)f
(describ)q(ed)h(in)f(the)g(remainder)g(of)e(this)i(section\),)f(and)h
Fp(u)1294 1821 y Fi(0)1291 1848 y Fk(1)1331 1837 y Fu(through)f
Fp(u)1531 1821 y Fi(0)1528 1848 y Fk(j)1561 1837 y Fu(form)g(a)g(subset)g(of)
g Fp(u)1926 1844 y Fk(1)150 1894 y Fu(through)f Fp(u)346 1901
y Fk(k)368 1894 y Fu(.)21 b(When)c(inferring)g(the)e(con)o(text)h(for)f(the)h
(deriv)o(ed)g(instances,)h(t)o(yp)q(e)f(synon)o(yms)f(m)o(ust)g(b)q(e)150
1950 y(expanded)i(out)e(\014rst.)20 b(The)c(free)g(v)m(ariables)g(of)g(the)f
(declarations)h Fr(d)g Fu(are)f(all)h(functions)h(de\014ned)f(in)h(the)150
2007 y(standard)d(prelude.)22 b(The)15 b(remaining)h(details)g(of)e(the)h
(deriv)o(ed)h(instances)g(for)e(eac)o(h)h(of)f(the)h(six)g(classes)150
2063 y(are)g(no)o(w)g(giv)o(en.)150 2208 y Fs(Deriv)o(ed)24
b(instances)i(of)f Fq(Eq)f Fs(and)i Fq(Ord)o Fs(.)45 b Fu(The)22
b(op)q(erations)g(automatically)g(in)o(tro)q(duced)h(b)o(y)e(de-)150
2264 y(riv)o(ed)e(instances)g(of)f Fq(Eq)g Fu(and)h Fq(Ord)f
Fu(are)g Fq(\(==\))o Fu(,)h Fq(\(/=\))p Fu(,)f Fq(\(<\))p Fu(,)h
Fq(\(<=\))o Fu(,)g Fq(\(>\))p Fu(,)f Fq(\(>=\))p Fu(,)h Fq(max)o
Fu(,)g(and)g Fq(min)o Fu(.)30 b(The)150 2321 y(latter)20 b(six)g(op)q
(erators)g(are)f(de\014ned)j(so)e(as)f(to)h(compare)g(their)g(argumen)o(ts)g
(lexicographically)j(with)150 2377 y(resp)q(ect)18 b(to)e(the)i(constructor)e
(set)h(giv)o(en,)h(with)g(earlier)g(constructors)e(in)i(the)f(datat)o(yp)q(e)
g(declaration)150 2434 y(coun)o(ting)k(as)e(smaller)i(than)f(later)g(ones.)35
b(F)l(or)20 b(example,)h(for)f(the)g Fq(Bool)g Fu(datat)o(yp)q(e,)g(w)o(e)g
(ha)o(v)o(e)g(that)150 2490 y Fq(\(True)j(>)h(False\))f(==)h(True)o
Fu(.)p eop
%%Page: 146 160
bop 0 50 a Fu(146)703 b Ft(E)45 b(SPECIFICA)l(TION)16 b(OF)g(DERIVED)f(INST)l
(ANCES)0 199 y Fs(Deriv)o(ed)k(instances)i(of)f Fq(Ix)p Fs(.)45
b Fu(The)17 b(deriv)o(ed)i(instance)f(declarations)g(for)f(the)g(class)h
Fq(Ix)f Fu(in)o(tro)q(duce)0 256 y(the)e(o)o(v)o(erloaded)g(functions)h
Fq(range)o Fu(,)f Fq(index)o Fu(,)g(and)g Fq(inRange)o Fu(.)20
b(The)15 b(op)q(eration)g Fq(range)f Fu(tak)o(es)g(a)h(\(lo)o(w)o(er,)0
312 y(upp)q(er\))i(b)q(ound)h(pair,)f(and)g(returns)g(a)f(list)i(of)e(all)i
(indices)h(in)e(this)g(range,)g(in)h(ascending)f(order.)25
b(The)0 369 y(op)q(eration)c Fq(inRange)f Fu(is)h(a)f(predicate)i(taking)e(a)
h(\(lo)o(w)o(er,)f(upp)q(er\))i(b)q(ound)f(pair)g(and)g(an)g(index)h(and)0
425 y(returning)c Fq(True)f Fu(if)h(the)g(index)g(is)g(con)o(tained)h(within)
f(the)g(sp)q(eci\014ed)i(range.)26 b(The)18 b(op)q(eration)g
Fq(index)0 482 y Fu(tak)o(es)d(a)g(\(lo)o(w)o(er,)f(upp)q(er\))i(b)q(ound)g
(pair)g(and)g(an)f(index)i(and)e(returns)g(an)h(in)o(teger,)f(the)h(p)q
(osition)g(of)f(the)0 538 y(index)h(within)h(the)e(range.)71
619 y(Deriv)o(ed)d(instance)i(declarations)f(for)f(the)g(class)h
Fq(Ix)f Fu(are)g(only)h(p)q(ossible)h(for)e(en)o(umerations)h(\(i.e.)f(da-)0
676 y(tat)o(yp)q(es)18 b(ha)o(ving)g(only)h(n)o(ullary)g(constructors\))e
(and)h(single-constructor)h(datat)o(yp)q(es)e(\(including)k(tu-)0
732 y(ples\))16 b(whose)f(constituen)o(t)g(t)o(yp)q(es)g(are)g(instances)h
(of)f Fq(Ix)p Fu(.)68 851 y Fl(\017)23 b Fu(F)l(or)10 b(an)i
Fp(enumer)n(ation)p Fu(,)g(the)f(n)o(ullary)i(constructors)d(are)h(assumed)h
(to)f(b)q(e)h(n)o(um)o(b)q(ered)g(left-to-righ)o(t)114 907
y(with)j(the)g(indices)j(0)d(through)f Fr(n)d Fl(\000)f Fu(1.)20
b(F)l(or)14 b(example,)i(giv)o(en)g(the)f(datat)o(yp)q(e:)184
983 y Fq(data)47 b(Colour)23 b(=)h(Red)g(|)f(Orange)g(|)h(Yellow)f(|)h(Green)
f(|)h(Blue)f(|)h(Indigo)f(|)h(Violet)114 1058 y Fu(w)o(e)15
b(w)o(ould)g(ha)o(v)o(e:)184 1120 y Fq(range)71 b(\(Yellow,Blue\))189
b(==)48 b([Yellow,Green,Blue])184 1177 y(index)71 b(\(Yellow,Blue\))22
b(Green)47 b(==)h(1)184 1233 y(inRange)23 b(\(Yellow,Blue\))f(Red)95
b(==)48 b(False)68 1367 y Fl(\017)23 b Fu(F)l(or)g Fp(single-c)n(onstructor)h
(datatyp)n(es)p Fu(,)j(the)d(deriv)o(ed)i(instance)f(declarations)g(are)f
(created)g(as)114 1423 y(sho)o(wn)15 b(for)f(tuples)i(in)g(Figure)g(19.)0
1605 y Fs(Deriv)o(ed)21 b(instances)h(of)f Fq(Enum)p Fs(.)45
b Fu(Deriv)o(ed)19 b(instance)h(declarations)f(for)f(the)h(class)g
Fq(Enum)f Fu(are)g(only)0 1662 y(p)q(ossible)g(for)e(en)o(umerations,)h
(using)g(the)g(same)f(ordering)h(assumptions)g(made)g(for)f
Fq(Ix)o Fu(.)24 b(They)17 b(in)o(tro-)0 1718 y(duce)i(the)g(op)q(erations)g
Fq(enumFrom)o Fu(,)g Fq(enumFromThen)n Fu(,)g Fq(enumFromTo)n
Fu(,)g(and)g Fq(enumFromThenTo)n Fu(,)g(whic)o(h)0 1775 y(are)c(used)h(to)e
(de\014ne)j(arithmetic)e(sequences)i(as)d(describ)q(ed)k(in)e(Section)g(3.9.)
71 1856 y Fq(enumFrom)22 b(n)11 b Fu(returns)g(a)f(list)i(corresp)q(onding)g
(to)e(the)h(complete)g(en)o(umeration)g(of)g Fq(n)o Fu('s)g(t)o(yp)q(e)g
(starting)0 1913 y(at)17 b(the)g(v)m(alue)i Fq(n)p Fu(.)27
b(Similarly)l(,)20 b Fq(enumFromThen)i(n)h(n')18 b Fu(is)g(the)f(en)o
(umeration)h(starting)f(at)g Fq(n)o Fu(,)h(but)g(with)0 1969
y(second)23 b(elemen)o(t)g Fq(n')p Fu(,)h(and)f(with)g(subsequen)o(t)g
(elemen)o(ts)g(generated)g(at)f(a)g(spacing)i(equal)f(to)f(the)0
2025 y(di\013erence)13 b(b)q(et)o(w)o(een)f Fq(n)f Fu(and)h
Fq(n')o Fu(.)19 b Fq(enumFromTo)10 b Fu(and)i Fq(enumFromThenTo)d
Fu(are)i(as)g(de\014ned)i(b)o(y)f(the)f(default)0 2082 y(metho)q(ds)k(for)g
Fq(Enum)g Fu(\(see)g(Figure)g(5,)g(page)g(31\).)0 2227 y Fs(Deriv)o(ed)k
(instances)h(of)g Fq(Binary)o Fs(.)45 b Fu(The)17 b Fq(Binary)g
Fu(class)g(is)h(used)g(primarily)g(for)e(transparen)o(t)h(I/O)0
2283 y(\(see)e(Section)h(7.1\).)j(The)c(op)q(erations)h(automatically)f(in)o
(tro)q(duced)i(b)o(y)e(deriv)o(ed)h(instances)g(of)f Fq(Binary)0
2340 y Fu(are)f Fq(readBin)f Fu(and)i Fq(showBin)o Fu(.)k(They)c(co)q(erce)g
(v)m(alues)g(to)f(and)g(from)g(the)g(primitiv)o(e)i(abstract)d(t)o(yp)q(e)h
Fq(Bin)0 2396 y Fu(\(see)j(Section)i(6.7\).)25 b(An)18 b(implemen)o(tation)g
(m)o(ust)f(b)q(e)h(able)g(to)f(create)g(deriv)o(ed)i(instances)f(of)f
Fq(Binary)0 2453 y Fu(for)e(an)o(y)f(t)o(yp)q(e)i Fp(t)j Fu(not)c(con)o
(taining)h(a)f(function)h(t)o(yp)q(e.)71 2534 y Fq(showBin)21
b Fu(is)i(analogous)f(to)f Fq(shows)p Fu(,)i(taking)f(t)o(w)o(o)f(argumen)o
(ts:)34 b(the)22 b(\014rst)g(is)h(the)f(v)m(alue)i(to)d(b)q(e)0
2590 y(co)q(erced,)14 b(and)f(the)g(second)h(is)f(a)g Fq(Bin)f
Fu(v)m(alue)i(to)f(whic)o(h)g(the)g(result)h(is)f(to)g(b)q(e)g(concatenated.)
19 b Fq(readBin)12 b Fu(is)0 2647 y(analogous)j(to)h Fq(reads)o
Fu(,)g(\\parsing")f(its)h(argumen)o(t)f(and)h(returning)g(a)g(pair)g
(consisting)h(of)e(the)h(co)q(erced)0 2703 y(v)m(alue)g(and)g(an)o(y)f
(remaining)h Fq(Bin)f Fu(v)m(alue.)p eop
%%Page: 147 161
bop 1882 50 a Fu(147)p 159 205 1767 2 v 159 2055 2 1850 v 189
269 a Fq(class)47 b(\(Ord)23 b(a\))h(=>)f(Ix)h(a)g(where)380
325 y(range)261 b(::)24 b(\(a,a\))f(->)h([a])380 382 y(index)261
b(::)24 b(\(a,a\))f(->)h(a)f(->)h(Int)380 438 y(inRange)213
b(::)24 b(\(a,a\))f(->)h(a)f(->)h(Bool)189 518 y(rangeSize)356
b(::)24 b(\(Ix)f(a\))h(=>)g(\(a,a\))f(->)g(Int)189 574 y(rangeSize)f(\(l,u\))
214 b(=)48 b(index)23 b(\(l,u\))g(u)h(+)g(1)189 654 y(instance)46
b(\(Ix)24 b(a,)f(Ix)h(b\))47 b(=>)24 b(Ix)g(\(a,b\))f(where)380
710 y(range)g(\(\(l,l'\),\(u,u'\)\))570 767 y(=)h([\(i,i'\))f(|)h(i)g(<-)f
(range)g(\(l,u\),)g(i')h(<-)g(range)f(\(l',u'\)])380 823 y(index)g
(\(\(l,l'\),\(u,u'\)\))f(\(i,i'\))570 880 y(=)48 b(index)23
b(\(l,u\))g(i)h(*)g(rangeSize)e(\(l',u'\))h(+)h(index)f(\(l',u'\))g(i')380
936 y(inRange)f(\(\(l,l'\),\(u,u'\)\))g(\(i,i'\))570 993 y(=)i(inRange)f
(\(l,u\))g(i)h(&&)g(inRange)e(\(l',u'\))h(i')189 1072 y(--)g(Instances)g(for)
g(other)h(tuples)f(are)g(obtained)g(from)g(this)g(scheme:)189
1129 y(--)189 1185 y(--)47 b(instance)g(\(Ix)23 b(a1,)h(Ix)f(a2,)h(...)f(,)h
(Ix)f(ak\))h(=>)f(Ix)h(\(a1,a2,...,ak\))46 b(where)189 1242
y(--)143 b(range)23 b(\(\(l1,l2,...,lk\),\(u1,u2,.)o(..,uk\)\))d(=)189
1298 y(--)238 b([\(i1,i2,...,ik\))22 b(|)i(i1)f(<-)h(range)f(\(l1,u1\),)189
1355 y(--)668 b(i2)23 b(<-)h(range)f(\(l2,u2\),)189 1411 y(--)668
b(...)189 1467 y(--)g(ik)23 b(<-)h(range)f(\(lk,uk\)])189 1524
y(--)189 1580 y(--)143 b(index)23 b(\(\(l1,l2,...,lk\),\(u1,u2,.)o(..,uk\)\))
d(\(i1,i2,...,ik\))i(=)189 1637 y(--)190 b(index)23 b(\(lk,uk\))g(ik)h(+)g
(rangeSize)e(\(lk,uk\))h(*)h(\()189 1693 y(--)214 b(index)23
b(\(lk-1,uk-1\))g(ik-1)g(+)h(rangeSize)e(\(lk-1,uk-1\))h(*)g(\()189
1750 y(--)238 b(...)189 1806 y(--)262 b(index)23 b(\(l1,u1\)\)\))189
1863 y(--)189 1919 y(--)143 b(inRange)22 b
(\(\(l1,l2,...lk\),\(u1,u2,...,uk\))o(\))f(\(i1,i2,...,ik\))h(=)189
1976 y(--)238 b(inRange)23 b(\(l1,u1\))g(i1)g(&&)h(inRange)f(\(l2,u2\))g(i2)g
(&&)189 2032 y(--)333 b(...)24 b(&&)g(inRange)e(\(lk,uk\))h(ik)p
1924 2055 V 159 2057 1767 2 v 670 2183 a Fu(Figure)15 b(19:)k(Index)e
(classes)e(and)h(instances)221 2331 y(Deriv)o(ed)f(v)o(ersions)h(of)e
Fq(showBin)h Fu(and)g Fq(readBin)f Fu(m)o(ust)h(ob)q(ey)g(this)h(prop)q(ert)o
(y:)694 2420 y Fq(readBin)23 b(\(showBin)g Fp(v)e(b)s Fq(\))i(==)h(\()p
Fp(v)5 b Fq(,)o Fp(b)s Fq(\))150 2509 y Fu(for)15 b(an)o(y)f
Fq(Bin)h Fu(v)m(alue)i Fp(b)h Fu(and)d(v)m(alue)h Fp(v)k Fu(whose)15
b(t)o(yp)q(e)h(is)f(an)g(instance)i(of)d(the)i(class)f Fq(Binary)o
Fu(.)150 2647 y Fs(Deriv)o(ed)24 b(instances)h(of)g Fq(Text)p
Fs(.)45 b Fu(The)22 b(op)q(erations)f(automatically)h(in)o(tro)q(duced)h(b)o
(y)e(deriv)o(ed)i(in-)150 2704 y(stances)c(of)h Fq(Text)f Fu(are)g
Fq(showsPrec)o Fu(,)h Fq(readsPrec)o Fu(,)g Fq(showList)f Fu(and)g
Fq(readList)o Fu(.)33 b(They)20 b(are)f(used)i(to)p eop
%%Page: 148 162
bop 0 50 a Fu(148)703 b Ft(E)45 b(SPECIFICA)l(TION)16 b(OF)g(DERIVED)f(INST)l
(ANCES)0 199 y Fu(co)q(erce)h(v)m(alues)g(in)o(to)f(strings)g(and)h(parse)f
(strings)g(in)o(to)g(v)m(alues.)71 275 y(The)h(function)h Fq(showsPrec)23
b(d)h(x)f(r)16 b Fu(accepts)h(a)f(precedence)i(lev)o(el)f Fq(d)f
Fu(\(a)g(n)o(um)o(b)q(er)h(from)e Fq(0)h Fu(to)g Fq(10)p Fu(\),)0
331 y(a)f(v)m(alue)i Fq(x)p Fu(,)e(and)h(a)g(string)f Fq(r)p
Fu(.)21 b(It)16 b(returns)g(a)f(string)h(represen)o(ting)g
Fq(x)f Fu(concatenated)h(to)f Fq(r)p Fu(.)21 b Fq(showsPrec)0
388 y Fu(satis\014es)15 b(the)h(la)o(w:)327 472 y Fq(showsPrec)23
b(d)h(x)f(r)h(++)g(s)47 b(==)h(showsPrec)22 b(d)i(x)g(\(r)f(++)h(s\))0
557 y Fu(The)18 b(represen)o(tation)g(will)i(b)q(e)f(enclosed)g(in)g(paren)o
(theses)f(if)h(the)f(precedence)i(of)d(the)h(top-lev)o(el)i(con-)0
613 y(structor)15 b(op)q(erator)g(in)i Fq(x)f Fu(is)g(less)h(than)e
Fq(d)p Fu(.)22 b(Th)o(us,)16 b(if)g Fq(d)g Fu(is)h Fq(0)e Fu(then)i(the)f
(result)g(is)g(nev)o(er)h(surrounded)f(in)0 670 y(paren)o(theses;)f(if)g
Fq(d)f Fu(is)h Fq(10)g Fu(it)f(is)i(alw)o(a)o(ys)d(surrounded)j(in)f(paren)o
(theses,)g(unless)g(it)g(is)g(an)g(atomic)f(expres-)0 726 y(sion.)29
b(The)19 b(extra)e(parameter)g Fq(r)h Fu(is)h(essen)o(tial)g(if)g(tree-lik)o
(e)g(structures)f(are)g(to)f(b)q(e)i(prin)o(ted)g(in)g(linear)0
783 y(time)d(rather)e(than)h(time)h(quadratic)f(in)h(the)f(size)i(of)d(the)i
(tree.)71 858 y(The)e(function)h Fq(readsPrec)23 b(d)g(s)14
b Fu(accepts)h(a)f(precedence)i(lev)o(el)f Fq(d)f Fu(\(a)g(n)o(um)o(b)q(er)g
(from)g Fq(0)g Fu(to)f Fq(10)p Fu(\))h(and)0 915 y(a)h(string)g
Fq(s)p Fu(,)f(and)i(returns)e(a)h(list)h(of)f(pairs)g Fq(\(x,r\))f
Fu(suc)o(h)i(that)e Fq(showsPrec)23 b(d)h(x)f(r)h(==)g(s)o
Fu(.)c Fq(readsPrec)0 971 y Fu(is)c(a)f(parse)h(function,)g(returning)g(a)f
(list)h(of)f(\(parsed)g(v)m(alue,)i(remaining)f(string\))g(pairs.)21
b(If)15 b(there)h(is)g(no)0 1028 y(successful)h(parse,)d(the)i(returned)f
(list)h(is)g(empt)o(y)l(.)71 1103 y Fq(showList)k Fu(and)i
Fq(readList)e Fu(allo)o(w)i(lists)g(of)f(ob)s(jects)g(to)g(b)q(e)h(represen)o
(ted)g(using)g(non-standard)0 1159 y(denotations.)e(This)c(is)f(esp)q
(ecially)j(useful)e(for)f(strings)g(\(lists)h(of)f Fq(Char)o
Fu(\).)71 1235 y(F)l(or)f(con)o(v)o(enience,)i(the)g(standard)f(prelude)h
(pro)o(vides)g(the)f(follo)o(wing)h(auxiliary)h(functions:)71
1307 y Fq(shows)94 b(=)48 b(showsPrec)23 b(0)71 1363 y(reads)94
b(=)48 b(readsPrec)23 b(0)71 1419 y(show)g(x)71 b(=)48 b(shows)23
b(x)h("")71 1476 y(read)f(s)71 b(=)48 b(x)g(where)23 b([\(x,""\)])f(=)i
(reads)f(s)14 1548 y(shows)14 b Fu(and)g Fq(reads)f Fu(use)i(a)f(default)h
(precedence)g(of)f(0,)g(and)g Fq(show)g Fu(and)g Fq(read)g
Fu(assume)g(that)f(the)i(result)0 1604 y(is)h(not)f(b)q(eing)h(app)q(ended)h
(to)d(an)h(initial)j(string.)71 1680 y(The)c(instances)i(of)e
Fq(Text)g Fu(for)g(the)h(standard)f(t)o(yp)q(es)h Fq(Int)p
Fu(,)f Fq(Integer)o Fu(,)h Fq(Float)o Fu(,)f Fq(Double)o Fu(,)h
Fq(Char)o Fu(,)g(lists,)0 1736 y(tuples,)22 b(and)e(rational)g(and)h(complex)
f(n)o(um)o(b)q(ers)h(are)f(de\014ned)h(in)g(the)f(standard)g(prelude)h(\(see)
g(Ap-)0 1793 y(p)q(endix)f(A\).)28 b(F)l(or)18 b(c)o(haracters)f(and)h
(strings,)h(the)f(con)o(trol)g(c)o(haracters)f(that)h(ha)o(v)o(e)f(sp)q
(ecial)j(represen-)0 1849 y(tations)c(\()p Fq(\\n)f Fu(etc.\))22
b(are)16 b(sho)o(wn)f(as)h(suc)o(h)g(b)o(y)g Fq(showsPrec)o
Fu(;)g(otherwise,)g(ASCI)q(I)h(mnemonics)g(are)f(used.)0 1905
y(Non-ASCI)q(I)k(c)o(haracters)e(are)h(sho)o(wn)f(b)o(y)h(decimal)h(escap)q
(es.)32 b(Floating)19 b(p)q(oin)o(t)g(n)o(um)o(b)q(ers)g(are)g(repre-)0
1962 y(sen)o(ted)d(b)o(y)g(decimal)i(n)o(um)o(b)q(ers)e(of)g(su\016cien)o(t)h
(precision)g(to)f(guaran)o(tee)f Fq(read)23 b(.)h(show)16 b
Fu(is)g(an)g(iden)o(tit)o(y)0 2018 y(function.)23 b(If)16 b
Fr(b)f Fu(is)i(the)f(\015oating-p)q(oin)o(t)g(radix)g(and)g(there)g(are)g
Fr(w)g Fu(base-)p Fr(b)g Fu(digits)h(in)f(the)g(\015oating-p)q(oin)o(t)0
2075 y(signi\014cand,)i(the)e(n)o(um)o(b)q(er)g(of)g(decimal)h(digits)g
(required)g(is)f Fr(d)e Fu(=)g Fl(d)p Fr(w)9 b Fu(log)1261
2086 y Fo(10)1304 2075 y Fr(b)p Fl(e)h Fu(+)h(1)16 b([10)o(].)22
b(Num)o(b)q(ers)16 b(are)0 2131 y(sho)o(wn)e(in)h(non-exp)q(onen)o(tial)g
(format)e(if)h(this)h(requires)g(only)f Fr(d)g Fu(digits;)h(otherwise,)f
(they)g(are)f(sho)o(wn)h(in)0 2188 y(exp)q(onen)o(tial)h(format,)c(with)j
(one)f(digit)h(b)q(efore)f(the)g(decimal)i(p)q(oin)o(t.)k Fq(readsPrec)12
b Fu(allo)o(ws)h(an)g(exp)q(onen)o(t)0 2244 y(to)h(b)q(e)h(unsigned)h(or)e
(signed)h(with)g Fq(+)f Fu(or)g Fq(-)p Fu(;)g Fq(showsPrec)f
Fu(sho)o(ws)h(a)g(p)q(ositiv)o(e)h(exp)q(onen)o(t)g(without)g(a)f(sign.)71
2320 y Fq(readsPrec)d Fu(will)k(parse)e(an)o(y)f(v)m(alid)j(represen)o
(tation)e(of)g(the)g(standard)f(t)o(yp)q(es)h(apart)g(from)f(lists,)i(for)0
2376 y(whic)o(h)i(only)g(the)f(brac)o(k)o(eted)g(form)f Fq([)p
Fr(:)8 b(:)g(:)e Fq(])15 b Fu(is)h(accepted.)k(See)c(App)q(endix)h(A)f(for)e
(full)j(details.)0 2514 y Fx(E.1)55 b(Sp)r(eci\014cation)18
b(of)h Fb(showsPrec)0 2619 y Fu(As)c(describ)q(ed)i(in)f(Section)g(4.3.3,)e
Fq(showsPrec)g Fu(has)h(the)g(t)o(yp)q(e)423 2704 y Fq(\(Text)23
b(a\))h(=>)f(Int)h(->)f(a)h(->)f(String)g(->)h(String)p eop
%%Page: 149 163
bop 150 50 a Ft(E.2)45 b(Sp)q(eci\014cation)17 b(of)e Fq(readsPrec)1086
b Fu(149)p 159 205 1767 2 v 159 766 2 562 v 284 269 a Fq(showsPrec)23
b(d)g(\(e1)h(`Con`)f(e2\))h(=)f(showParen)g(\(d)g(>)h(p\))g(showStr)332
325 y(where)523 382 y(p)f(=)h(`the)g(precedence)e(of)i(Con')523
438 y(lp)f(=)h(if)g(`Con)f(is)h(left)f(associative')f(then)h(p)h(else)f(p+1)
523 494 y(rp)g(=)h(if)g(`Con)f(is)h(right)f(associative')f(then)h(p)h(else)f
(p+1)523 551 y(cn)g(=)h(`the)f(original)g(name)g(of)h(Con')523
631 y(showStr)f(=)g(showsPrec)g(lp)h(e1)f(.)761 687 y(showChar)g(')h(')g(.)f
(showString)g(cn)g(.)h(showChar)f(')h(')f(.)761 744 y(showsPrec)g(rp)h(e2)p
1924 766 V 159 768 1767 2 v 232 914 a Fu(Figure)16 b(20:)j(Sp)q
(eci\014cation)f(of)c Fq(showsPrec)g Fu(for)h(Constructors)f(Declared)i(in)g
(the)f(In\014x)h(St)o(yle)p 159 1024 V 159 1449 2 425 v 284
1088 a Fq(showsPrec)23 b(d)g(\(Con)h(e1)f(...)h(en\))f(=)h(showParen)f(\(d)g
(>=)h(10\))f(showStr)332 1145 y(where)523 1201 y(showStr)g(=)g(showString)g
(cn)g(.)h(showChar)f(')h(')f(.)761 1257 y(showsPrec)g(10)h(e1)f(.)h(showChar)
f(')g(')h(.)761 1314 y(...)761 1370 y(showsPrec)f(10)h(en)523
1427 y(cn)f(=)h(`the)f(original)g(name)g(of)h(Con')p 1924 1449
V 159 1451 1767 2 v 282 1598 a Fu(Figure)15 b(21:)20 b(General)15
b(Sp)q(eci\014cation)j(of)d Fq(showsPrec)e Fu(for)i(User-De\014ned)h
(Constructors)150 1735 y(The)k(\014rst)g(parameter)g(is)g(a)g(precedence)i
(in)f(the)g(range)e(0)h(to)g(10,)g(the)h(second)f(is)h(the)f(v)m(alue)i(to)d
(b)q(e)150 1792 y(con)o(v)o(erted)c(in)o(to)g(a)g(string,)g(and)g(the)g
(third)h(is)g(the)f(string)g(to)g(app)q(end)h(to)f(the)g(end)h(of)f(the)g
(result.)221 1873 y(F)l(or)f(all)i(constructors)f Fq(Con)f
Fu(de\014ned)j(b)o(y)e(some)g Fq(data)g Fu(declaration)h(suc)o(h)f(as:)532
1975 y Fq(data)h Fp(c)j Fq(=>)d Fp(T)21 b(u)826 1982 y Fk(1)874
1975 y Fr(:)8 b(:)g(:)22 b Fp(u)975 1982 y Fk(k)1013 1975 y
Fq(=)h Fr(:)8 b(:)g(:)22 b Fq(|)i(Con)16 b Fp(t)1288 1982 y
Fk(1)1335 1975 y Fr(:)8 b(:)g(:)22 b Fp(t)1427 1982 y Fk(n)1467
1975 y Fq(|)i Fr(:)8 b(:)g(:)150 2077 y Fu(the)18 b(corresp)q(onding)h
(de\014nition)h(of)d Fq(showsPrec)g Fu(for)g Fq(Con)h Fu(is)g(sho)o(wn)g(in)h
(Figure)f(20)f(for)h(constructors)150 2134 y(declared)i(in)g(the)g(in\014x)g
(st)o(yle)f(and)h(Figure)f(21)g(for)f(all)i(other)f(constructors.)31
b(See)20 b(App)q(endix)h(A)f(for)150 2190 y(details)c(of)f
Fq(showParen)o Fu(,)g Fq(showChar)n Fu(,)g(etc.)150 2337 y
Fx(E.2)55 b(Sp)r(eci\014cation)18 b(of)h Fb(readsPrec)150 2447
y Fu(A)13 b Fp(lexeme)f Fu(is)h(exactly)g(as)g(in)g(Section)h(2.)19
b Fq(lex)k(::)h(String)f(->)g([\(String,String\)])11 b Fu(reads)i(the)f
(\014rst)150 2504 y(lexeme)20 b(from)e(a)g(string.)30 b(If)19
b(the)g(string)f(b)q(egins)i(with)f(a)f(v)m(alid)i(lexeme,)h(the)d(lexeme)i
(\(with)f(leading)150 2560 y(whitespace)d(remo)o(v)o(ed\))e(and)i(the)f
(remainder)h(of)f(the)g(string)g(are)g(returned)h(in)g(a)f(singleton)h(list.)
21 b(If)15 b(no)150 2617 y(lexeme)g(is)f(presen)o(t)g(or)f(the)h(lexeme)h(is)
f(not)g(syn)o(tactically)g(correct,)g Fq([])f Fu(is)h(returned.)20
b(A)14 b(full)h(de\014nition)150 2673 y(is)h(pro)o(vided)g(in)g(App)q(endix)h
(A.7.)p eop
%%Page: 150 164
bop 0 50 a Fu(150)703 b Ft(E)45 b(SPECIFICA)l(TION)16 b(OF)g(DERIVED)f(INST)l
(ANCES)p 9 205 1767 2 v 9 1492 2 1288 v 39 265 a Fq(readsPrec)22
b(d)i(r)g(=)f(readCon)g(K1)h(k1)g(`the)f(original)g(name)g(of)h(K1')f(r)h(++)
301 321 y(...)301 378 y(readCon)f(Kn)h(kn)f(`the)h(original)e(name)i(of)f
(Kn')h(r)86 434 y(where)134 491 y(readCon)f(con)g(n)h(cn)g(=)429
b(--)24 b(if)f(con)h(is)f(infix)230 547 y(readParen)f(\(d)i(>)g(p\))f
(readVal)182 604 y(where)420 660 y(readVal)g(r)h(=)48 b([\(u)23
b(`con`)g(v,)h(s2\))f(|)731 717 y(\(u,s0\))70 b(<-)24 b(readsPrec)f(lp)g(r,)
731 773 y(\(tok,s1\))f(<-)i(lex)f(s0,)h(tok)f(==)h(cn,)731
829 y(\(v,s2\))70 b(<-)24 b(readsPrec)f(rp)g(s1])420 886 y(p)h(=)g(`the)f
(precedence)g(of)g(con')420 942 y(lp)h(=)g(if)f(`con)h(is)f(left)h
(associative')e(then)h(p)h(else)f(p+1)420 999 y(rp)h(=)g(if)f(`con)h(is)f
(right)g(associative')g(then)g(p)h(else)f(p+1)134 1078 y(readCon)g(con)g(n)h
(cn)g(=)429 b(--)24 b(if)f(con)h(is)f(not)h(infix)230 1135
y(readParen)e(\(d)i(>)g(9\))f(readVal)182 1191 y(where)444
1248 y(readVal)g(r)h(=)g([\(con)f(t1)g(...)h(tn,)f(sn\))h(|)731
1304 y(\(t0,s0\))f(<-)g(lex)h(r,)f(t0)h(==)f(cn,)731 1361 y(\(t1,s1\))g(<-)g
(readsPrec)g(10)g(s0,)731 1417 y(...)731 1474 y(\(tn,sn\))g(<-)g(readsPrec)g
(10)g(s\(n-1\)])p 1774 1492 V 9 1494 1767 2 v 312 1641 a Fu(Figure)15
b(22:)20 b(De\014nition)c(of)f Fq(readsPrec)f Fu(for)h(User-De\014ned)h(T)o
(yp)q(es)71 1778 y(As)f(describ)q(ed)i(in)f(Section)g(4.3.3,)d
Fq(readsPrec)h Fu(has)h(the)g(t)o(yp)q(e)435 1880 y Fq(Text)23
b(a)h(=>)f(Int)h(->)f(String)g(->)h([\(a,String\)])0 1982 y
Fu(Its)13 b(\014rst)g(parameter)g(is)g(a)g(precedence)i(in)f(the)g(range)f(0)
g(to)f(10,)h(its)g(second)h(is)g(the)f(string)h(to)e(b)q(e)i(parsed.)0
2039 y(Figure)h(22)g(sho)o(ws)g(the)g(sp)q(eci\014cation)i(of)e
Fq(readsPrec)f Fu(for)g(user-de\014ned)j(datat)o(yp)q(es)e(of)f(the)i(form:)
248 2141 y Fq(data)g Fp(c)i Fq(=>)e Fp(T)22 b(u)542 2148 y
Fk(1)590 2141 y Fr(:)8 b(:)g(:)22 b Fp(u)691 2148 y Fk(k)728
2141 y Fq(=)17 b Fp(K)804 2148 y Fk(1)843 2141 y Fp(t)858 2148
y Fk(11)923 2141 y Fr(:)8 b(:)g(:)22 b Fp(t)1015 2148 y Fk(1k)1049
2152 y Ff(1)1084 2141 y Fq(|)i Fr(:)8 b(:)g(:)22 b Fq(|)16
b Fp(K)1284 2148 y Fk(n)1324 2141 y Fp(t)1339 2148 y Fk(n1)1405
2141 y Fr(:)8 b(:)g(:)22 b Fp(t)1497 2148 y Fk(nk)1532 2152
y Ff(n)p eop
%%Page: 151 165
bop 150 50 a Ft(E.3)45 b(An)15 b(example)1384 b Fu(151)150
199 y Fx(E.3)55 b(An)20 b(example)150 310 y Fu(As)15 b(a)g(complete)h
(example,)g(consider)g(a)f(tree)g(datat)o(yp)q(e:)221 387 y
Fq(data)23 b(Tree)g(a)h(=)g(Leaf)f(a)h(|)f(Tree)h(a)f(:^:)h(Tree)f(a)340
444 y(deriving)g(\(Eq,)g(Ord,)g(Text,)g(Binary\))221 500 y(instance)f(\(Eq)i
(a\))f(=>)h(Eq)g(\(Tree)f(a\))268 557 y(where)g(...)221 613
y(instance)f(\(Ord)i(a\))f(=>)h(Ord)f(\(Tree)g(a\))268 670
y(where)g(...)221 726 y(instance)f(\(Text)i(a\))f(=>)h(Text)f(\(Tree)g(a\))
268 783 y(where)g(...)221 839 y(instance)f(\(Binary)h(a\))h(=>)f(Binary)g
(\(Tree)h(a\))268 895 y(where)f(...)150 973 y Fu(Note)12 b(the)h(recursiv)o
(e)g(con)o(text;)f(the)h(comp)q(onen)o(ts)f(of)g(the)g(datat)o(yp)q(e)g(m)o
(ust)g(themselv)o(es)h(b)q(e)g(instances)g(of)150 1029 y(the)g(class.)19
b(Automatic)12 b(deriv)m(ation)i(of)e(instance)h(declarations)g(for)f
Fq(Ix)g Fu(and)h Fq(Enum)f Fu(are)g(not)g(p)q(ossible,)i(as)150
1086 y Fq(Tree)d Fu(is)h(not)f(an)g(en)o(umeration)h(or)f(single-constructor)
h(datat)o(yp)q(e.)18 b(Except)12 b(for)f Fq(Binary)o Fu(,)h(the)f(complete)
150 1142 y(instance)21 b(declarations)g(for)e Fq(Tree)g Fu(are)h(sho)o(wn)g
(in)h(Figure)f(23,)g(Note)g(the)g(implicit)i(use)f(of)e(default-)150
1199 y(metho)q(d)d(de\014nitions|for)i(example,)f(only)g Fq(<=)f
Fu(is)h(de\014ned)g(for)f Fq(Ord)p Fu(,)g(with)g(the)h(other)e(op)q(erations)
i(\()p Fq(<)o Fu(,)150 1255 y Fq(>)p Fu(,)f Fq(>=)p Fu(,)g
Fq(max)p Fu(,)g(and)h Fq(min)p Fu(\))f(b)q(eing)i(de\014ned)g(b)o(y)e(the)h
(defaults)g(giv)o(en)g(in)g(the)g(class)g(declaration)g(sho)o(wn)f(in)150
1312 y(Figure)f(5)g(\(page)g(31\).)p eop
%%Page: 152 166
bop 0 50 a Fu(152)703 b Ft(E)45 b(SPECIFICA)l(TION)16 b(OF)g(DERIVED)f(INST)l
(ANCES)p 9 465 1767 2 v 9 2287 2 1823 v 39 525 a Fq(infix)23
b(4)h(:^:)39 581 y(data)f(Tree)g(a)h(=)48 b(Leaf)23 b(a)48
b(|)f(Tree)23 b(a)h(:^:)g(Tree)f(a)39 661 y(instance)f(\(Eq)i(a\))f(=>)h(Eq)g
(\(Tree)f(a\))g(where)230 717 y(Leaf)g(m)h(==)f(Leaf)h(n)47
b(=)h(m==n)230 774 y(u:^:v)f(==)23 b(x:^:y)71 b(=)48 b(u==x)23
b(&&)h(v==y)349 830 y(_)g(==)f(_)167 b(=)48 b(False)39 910
y(instance)22 b(\(Ord)i(a\))f(=>)h(Ord)f(\(Tree)h(a\))f(where)230
966 y(Leaf)g(m)h(<=)f(Leaf)h(n)47 b(=)h(m<=n)230 1023 y(Leaf)23
b(m)h(<=)f(x:^:y)71 b(=)48 b(True)230 1079 y(u:^:v)f(<=)23
b(Leaf)h(n)47 b(=)h(False)230 1136 y(u:^:v)f(<=)23 b(x:^:y)71
b(=)48 b(u<x)23 b(||)h(u==x)f(&&)h(v<=y)39 1215 y(instance)e(\(Text)i(a\))f
(=>)h(Text)f(\(Tree)g(a\))h(where)230 1295 y(showsPrec)e(d)i(\(Leaf)f(m\))h
(=)f(showParen)g(\(d)h(>=)f(10\))h(showStr)277 1351 y(where)349
1408 y(showStr)f(=)h(showString)e("Leaf")h(.)h(showChar)f(')g(')h(.)g
(showsPrec)e(10)i(m)230 1488 y(showsPrec)e(d)i(\(u)g(:^:)f(v\))h(=)f
(showParen)g(\(d)g(>)h(4\))g(showStr)277 1544 y(where)349 1601
y(showStr)f(=)h(showsPrec)e(5)i(u)g(.)588 1657 y(showChar)e(')i(')g(.)f
(showString)g(":^:")g(.)h(showChar)f(')g(')h(.)588 1713 y(showsPrec)e(5)i(v)
230 1793 y(readsPrec)e(d)i(r)g(=)47 b(readParen)23 b(\(d)g(>)h(4\))635
1850 y(\(\\r)g(->)f([\(u:^:v,w\))g(|)826 1906 y(\(u,s\))g(<-)h(readsPrec)f(5)
g(r,)826 1963 y(\(":^:",t\))g(<-)g(lex)h(s,)826 2019 y(\(v,w\))f(<-)h
(readsPrec)f(5)g(t]\))h(r)564 2099 y(++)f(readParen)g(\(d)g(>)h(9\))635
2155 y(\(\\r)g(->)f([\(Leaf)g(m,t\))h(|)826 2212 y(\("Leaf",t\))f(<-)g(lex)h
(r,)826 2268 y(\(m,t\))f(<-)h(readsPrec)f(10)g(t]\))h(r)p 1774
2287 V 9 2289 1767 2 v 493 2415 a Fu(Figure)15 b(23:)k(Example)d(of)f(Deriv)o
(ed)h(Instances)p eop
%%Page: 153 167
bop 150 50 a Ft(REFERENCES)1420 b Fu(153)150 199 y Fy(References)173
319 y Fu([1])21 b(J.)15 b(Bac)o(kus.)k(Can)c(programming)f(b)q(e)h(lib)q
(erated)i(from)d(the)g(v)o(on)h(Neumann)g(st)o(yle?)21 b(A)15
b(functional)243 376 y(st)o(yle)h(and)f(its)h(algebra)f(of)g(programs.)j
Fp(CA)o(CM)p Fu(,)13 b(21\(8\):613{641,)e(August)k(1978.)173
470 y([2])21 b(R.M.)15 b(Burstall,)h(D.B.)e(MacQueen,)i(and)f(D.T.)f
(Sannella.)22 b(HOPE:)15 b(An)h(exp)q(erimen)o(tal)g(applica-)243
526 y(tiv)o(e)22 b(language.)39 b(In)22 b Fp(The)g(1980)h(LISP)e(Confer)n
(enc)n(e)p Fu(,)f(pages)i(136{143,)e(Stanford)h(Univ)o(ersit)o(y)l(,)243
583 y(August)16 b(1980.)173 676 y([3])21 b(H.B.)d(Curry)f(and)h(R.)g(F)l
(eys.)27 b Fp(Combinatory)19 b(L)n(o)n(gic)p Fu(.)26 b(North-Holland)19
b(Pub.)f(Co.,)f(Amsterdam,)243 733 y(1958.)173 827 y([4])k(L.)15
b(Damas)f(and)h(R.)g(Milner.)20 b(Principal)d(t)o(yp)q(e)e(sc)o(hemes)g(for)f
(functional)i(programs.)i(In)d Fp(Pr)n(o)n(c)n(e)n(e)n(d-)243
883 y(ings)f(of)g(9th)h(A)o(CM)e(Symp)n(osium)h(on)g(Principles)f(of)h(Pr)n
(o)n(gr)n(amming)g(L)n(anguages)p Fu(,)e(pages)g(207{212,)243
940 y(Albuquerque,)17 b(N.M.,)d(Jan)o(uary)h(1982.)173 1033
y([5])21 b(M.)f(Gordon,)g(R.)h(Milner,)h(L.)e(Morris,)h(M.)e(New)o(ey)l(,)i
(and)g(C.)e(W)l(adsw)o(orth.)34 b(A)20 b(metalanguage)243 1090
y(for)c(in)o(teractiv)o(e)g(pro)q(of)f(in)i(LCF.)k(In)c Fp(Pr)n(o)n(c)n(e)n
(e)n(dings)d(of)j(5th)g(A)o(CM)f(Symp)n(osium)h(on)f(Principles)g(of)243
1146 y(Pr)n(o)n(gr)n(amming)g(L)n(anguages)p Fu(,)e(pages)h(119{130,)e(1978.)
173 1240 y([6])21 b(K.)16 b(Hammond)g(and)h(C.)e(Hall.)24 b(A)16
b(natural)g(dynamic)h(seman)o(tics)f(for)f(Hask)o(ell)i(\(draft\).)k(Depart-)
243 1297 y(men)o(t)15 b(of)g(Computing)g(Science,)i(Glasgo)o(w)d(Univ)o
(ersit)o(y)l(,)i(F)l(ebruary)f(1991.)173 1390 y([7])21 b(R.)14
b(Hindley)l(.)19 b(The)13 b(principal)j(t)o(yp)q(e)e(sc)o(heme)f(of)g(an)h
(ob)s(ject)e(in)j(com)o(binatory)d(logic.)18 b Fp(T)m(r)n(ansactions)243
1447 y(of)f(the)f(A)o(meric)n(an)g(Mathematic)n(al)g(So)n(ciety)p
Fu(,)e(146:29{60,)f(Decem)o(b)q(er)i(1969.)173 1541 y([8])21
b(P)l(.)16 b(Hudak)g(and)g(R.)g(Sundaresh.)22 b(On)16 b(the)g(expressiv)o
(eness)h(of)e(purely)i(functional)g(I/O)f(systems.)243 1597
y(T)l(ec)o(hnical)e(Rep)q(ort)d(Y)l(ALEU/DCS/RR665,)h(Y)l(ale)g(Univ)o(ersit)
o(y)l(,)h(Departmen)o(t)d(of)h(Computer)g(Sci-)243 1654 y(ence,)16
b(Decem)o(b)q(er)g(1988.)173 1747 y([9])21 b(P)l(.J.)12 b(Landin.)17
b(The)12 b(next)h(700)e(programming)h(languages.)j Fp(CA)o(CM)p
Fu(,)10 b(9\(3\):157{166)o(,)g(Marc)o(h)h(1966.)150 1841 y([10])21
b(D.W.)12 b(Matula.)17 b(A)c(formalization)h(of)f(\015oating-p)q(oin)o(t)h(n)
o(umeric)g(base)g(con)o(v)o(ersion.)j Fp(IEEE)c(T)m(r)n(ans-)243
1898 y(actions)j(on)g(Computers)p Fu(,)f(C-19\(8\):681{692,)c(August)k(1970.)
150 1991 y([11])21 b(J.)e(McCarth)o(y)l(.)28 b(Recursiv)o(e)19
b(functions)g(of)f(sym)o(b)q(olic)i(expressions)f(and)f(their)h(computation)f
(b)o(y)243 2048 y(mac)o(hine,)e(Part)e(I.)21 b Fp(CA)o(CM)p
Fu(,)13 b(3\(4\):184{195)o(,)f(April)17 b(1960.)150 2142 y([12])k(R.S.)16
b(Nikhil.)23 b(Id-Nouv)o(eau)16 b(\(v)o(ersion)f(88.0\))f(reference)i(man)o
(ual.)21 b(T)l(ec)o(hnical)c(rep)q(ort,)e(MIT)g(Lab-)243 2198
y(oratory)f(for)h(Computer)f(Science,)j(Cam)o(bridge,)e(Mass.,)f(Marc)o(h)g
(1988.)150 2292 y([13])21 b(P)l(.)c(P)o(en\014eld,)h(Jr.)25
b(Principal)18 b(v)m(alues)g(and)f(branc)o(h)g(cuts)g(in)h(complex)f(APL.)25
b(In)17 b Fp(APL)g('81)h(Con-)243 2348 y(fer)n(enc)n(e)d(Pr)n(o)n(c)n(e)n(e)n
(dings)p Fu(,)e(pages)i(248{256,)e(San)i(F)l(rancisco,)g(Septem)o(b)q(er)h
(1981.)150 2442 y([14])21 b(S.)12 b(P)o(eyton)e(Jones.)k Fp(The)f
(Implementation)f(of)g(F)m(unctional)g(Pr)n(o)n(gr)n(amming)g(L)n(anguages)p
Fu(.)g(Pren)o(tice-)243 2499 y(Hall)17 b(In)o(ternational,)e(Englew)o(o)q(o)q
(d)h(Cli\013s,)f(New)g(Jersey)l(,)h(1987.)150 2593 y([15])21
b(S.L.)f(P)o(eyton)e(Jones)i(and)g(P)l(.)f(W)l(adler.)33 b(A)19
b(static)g(seman)o(tics)h(for)e Fa(haskell)p Fu(.)33 b(Departmen)o(t)18
b(of)243 2649 y(Computing)e(Science,)h(Glasgo)o(w)d(Univ)o(ersit)o(y)l(,)h
(Ma)o(y)g(1991.)p eop
%%Page: 154 168
bop 0 50 a Fu(154)1418 b Ft(REFERENCES)0 199 y Fu([16])21 b(J.)12
b(Rees)g(and)f(W.)g(Clinger)i(\(eds.\).)f(The)g(revised)919
183 y Fo(3)950 199 y Fu(rep)q(ort)f(on)g(the)h(algorithmic)g(language)g(Sc)o
(heme.)93 256 y Fp(SIGPLAN)j(Notic)n(es)p Fu(,)f(21\(12\):37{79)o(,)e(Decem)o
(b)q(er)k(1986.)0 350 y([17])21 b(J.C.)d(Reynolds.)31 b(In)o(tro)q(duction)20
b(to)d(part)h(I)q(I)i(\(p)q(olymorphic)f(lam)o(b)q(da)g(calculus\).)31
b(In)19 b(G.)f(Huet,)93 406 y(editor,)i Fp(L)n(o)n(gic)n(al)e(F)m(oundations)
h(of)h(F)m(unctional)f(Pr)n(o)n(gr)n(amming)p Fu(,)f(Univ)o(ersit)o(y)i(of)f
(T)l(exas)f(Y)l(ear)h(of)93 462 y(Programming)c(Series.)g(Addison-W)l(esley)l
(,)j(1990.)0 556 y([18])j(G.L.)15 b(Steele)h(Jr.)k Fp(Common)c(Lisp:)k(The)c
(L)n(anguage)p Fu(.)j(Digital)d(Press,)f(Burlington,)h(Mass.,)e(1984.)0
650 y([19])21 b(D.A.)c(T)l(urner.)27 b(Miranda:)d(a)18 b(non-strict)f
(functional)i(language)f(with)g(p)q(olymorphic)h(t)o(yp)q(es.)26
b(In)93 707 y Fp(F)m(unctional)13 b(Pr)n(o)n(gr)n(amming)g(L)n(anguages)g
(and)h(Computer)g(A)o(r)n(chite)n(ctur)n(e)p Fu(,)e(v)o(olume)h(201)f(of)g
Fp(L)n(e)n(ctur)n(e)93 763 y(Notes)21 b(in)g(Computer)h(Scienc)n(e)p
Fu(,)e(pages)g(1{16,)h(Nancy)l(,)h(F)l(rance,)g(Septem)o(b)q(er)f(1985.)e
(Springer-)93 819 y(V)l(erlag.)0 913 y([20])i(P)l(.)16 b(W)l(adler.)21
b(A)16 b(new)g(arra)o(y)e(op)q(eration.)21 b(In)16 b(J.H.)g(F)l(asel)f(and)h
(R.M.)f(Keller,)i(editors,)f Fp(Gr)n(aph)h(R)n(e-)93 970 y(duction)p
Fu(,)d(v)o(olume)f(279)f(of)g Fp(L)n(e)n(ctur)n(e)h(Notes)h(in)f(Computer)i
(Scienc)n(e)p Fu(,)d(pages)g(328{335,)f(Heidelb)q(erg,)93 1026
y(1987.)j(Springer-V)l(erlag.)0 1120 y([21])21 b(P)l(.)11 b(W)l(adler)f(and)h
(S.)f(Blott.)i(Ho)o(w)e(to)f(mak)o(e)h Fp(ad)i(ho)n(c)f Fu(p)q(olymorphism)g
(less)g Fp(ad)i(ho)n(c)p Fu(.)e(In)g Fp(Pr)n(o)n(c)n(e)n(e)n(dings)f(of)93
1176 y(16th)16 b(A)o(CM)e(Symp)n(osium)h(on)g(Principles)f(of)h(Pr)n(o)n(gr)n
(amming)f(L)n(anguages)p Fu(,)f(pages)g(60{76,)g(Austin,)93
1233 y(T)l(exas,)i(Jan)o(uary)g(1989.)p eop
%%Page: 155 169
bop 150 264 a Fy(Index)150 365 y Fu(Index)18 b(en)o(tries)f(that)f(refer)h
(to)f(non)o(terminals)i(in)g(the)e(Hask)o(ell)i(syn)o(tax)e(are)h(sho)o(wn)f
(in)i(an)f Fp(italic)i Fu(fon)o(t.)150 422 y(Co)q(de)14 b(en)o(tities)h
(de\014ned)g(in)f(the)g(standard)f(prelude)i(\(App)q(endix)h(A\))d(are)h(sho)
o(wn)f(in)i Fq(typewriter)d Fu(fon)o(t.)150 478 y(Ordinary)k(index)g(en)o
(tries)g(are)f(sho)o(wn)g(in)h(a)f(roman)f(fon)o(t.)150 615
y Fq(!)p Fu(,)h(54,)f(115)150 672 y Fq(!!)p Fu(,)h(54,)f(106,)g(107)150
728 y Fq($)p Fu(,)h(54,)f(82,)g(85)150 785 y Fq(\045)p Fu(,)h(54,)f(60,)g
(61,)g(101)150 841 y Fq(&&)p Fu(,)h(54,)f(56,)g(82,)g(83)150
898 y Fq(\(\))p Fu(,)h Fp(se)n(e)i Fu(trivial)f(t)o(yp)q(e)g(and)f(unit)h
(expression)150 954 y Fq(\()p Fp(e)195 961 y Fk(1)218 954 y
Fr(;)8 b(:)g(:)g(:)d(;)j Fp(e)341 961 y Fk(n)364 954 y Fq(\))15
b Fu(\(tuple\),)g(14)150 1011 y Fq(\()p Fp(t)189 1018 y Fk(1)212
1011 y Fr(;)8 b(:)g(:)g(:)d(;)j Fp(t)329 1018 y Fk(n)352 1011
y Fq(\))15 b Fu(\(tuple)h(t)o(yp)q(e\),)f(89)150 1067 y Fq(*)p
Fu(,)g(54,)f(60,)g(62,)g(89,)h(90)150 1124 y Fq(**)p Fu(,)g(54,)f(60,)g(63,)g
(89,)g(91)150 1180 y Fq(+)p Fu(,)h(54,)f(60,)g(62,)g(89,)h(90,)f
Fp(se)n(e)h(also)j(n)s Fq(+)p Fp(k)i Fu(pattern)150 1237 y
Fq(++)p Fu(,)15 b(54,)f(106)150 1293 y Fq(-)p Fu(,)h(54,)f(60,)g(62,)g(89,)h
(90,)f Fp(se)n(e)h(also)j Fu(negation)150 1349 y Fq(.)p Fu(,)d(54,)f(57,)g
(82,)g(85)150 1406 y Fq(/)p Fu(,)h(54,)f(60,)g(62,)g(89,)h(91)150
1462 y Fq(//)p Fu(,)g(54,)f(67,)g(115)150 1519 y Fq(/=)p Fu(,)h(31,)f(54,)g
(89,)g(90,)g(145)150 1575 y Fq(:)p Fu(,)h(54,)f(57,)g(86)150
1632 y Fq(:\045)p Fu(,)h(54,)f(101)150 1688 y Fq(:+)p Fu(,)h(54,)f(60,)g(62,)
g(103)150 1745 y Fq(::)p Fu(,)h(18)150 1801 y Fq(:=)p Fu(,)g(54,)f(65,)g(115)
150 1858 y Fq(<)p Fu(,)h(31,)f(54,)g(89,)g(90,)h(145)150 1914
y Fq(<=)p Fu(,)g(31,)f(54,)g(89,)g(90,)g(145)150 1970 y Fq(==)p
Fu(,)h(31,)f(54,)g(89,)g(90,)g(145)150 2027 y Fq(>)p Fu(,)h(31,)f(54,)g(89,)g
(90,)h(145)150 2083 y Fq(>=)p Fu(,)g(31,)f(54,)g(89,)g(90,)g(145)150
2140 y Fq(@)p Fu(,)h Fp(se)n(e)i Fu(as-pattern)150 2196 y Fq([])e
Fu(\(nil\),)h(57,)e(89)150 2253 y Fq([)p Fp(e)195 2260 y Fk(1)218
2253 y Fr(;)8 b(:)g(:)g(:)d(;)j Fp(e)341 2260 y Fk(n)364 2253
y Fq(])15 b Fu(\(list\),)g(14)150 2309 y Fq([)p Fp(t)t Fq(])g
Fu(\(list)h(t)o(yp)q(e\),)f(89)150 2366 y Fq(\\)h Fp(p)n(ats)k
Fq(->)c Fp(expr)5 b Fu(,)15 b(12)150 2422 y Fq(\\\\)p Fu(,)g(54,)f(106,)g
(107)150 2479 y Fq(^)p Fu(,)h(54,)f(61,)g(63,)g(82,)h(84)150
2535 y Fq(^^)p Fu(,)g(54,)f(61,)g(63,)g(82,)g(84)150 2591 y
Fq(_)p Fu(,)h Fp(se)n(e)i Fu(wildcard)g(pattern)150 2648 y
Fq(||)p Fu(,)e(54,)f(82,)g(83)1123 615 y Fq(~)p Fu(,)g Fp(se)n(e)k
Fu(irrefutable)e(pattern)1123 713 y Fq(abort)p Fu(,)e(80,)g(127)1123
770 y Fq(abs)p Fu(,)g(60,)g(63,)g(90)1123 826 y(abstract)g(datat)o(yp)q(e,)g
(1,)h(53)1123 883 y Fq(accum)p Fu(,)f(67,)g(115)1123 939 y
Fq(accumArray)p Fu(,)f(67,)h(115)1123 996 y Fq(acos)p Fu(,)g(60,)g(91)1123
1052 y Fq(acosh)p Fu(,)g(60,)g(91)1123 1109 y Fp(aexp)p Fu(,)h(10,)f(13{16,)g
(134)1123 1165 y(agen)o(t,)g(70)1123 1222 y(algebraic)h(datat)o(yp)q(e,)f
(28,)g(45,)g(48,)g(51,)g(60,)g(145)1123 1278 y Fq(all)p Fu(,)g(111)1123
1334 y Fp(alt)p Fu(,)g(17,)h(135)1123 1391 y Fp(alts)p Fu(,)f(17,)g(135)1123
1447 y Fq(amap)p Fu(,)g(67,)g(115)1123 1504 y(am)o(biguous)h(t)o(yp)q(e,)g
(34)1123 1560 y Fq(and)p Fu(,)f(111)1123 1617 y Fp(ANY)p Fu(,)g(7,)g(130)1123
1673 y Fp(any)p Fu(,)g(7,)h(130)1123 1730 y Fq(any)p Fu(,)f(111)1123
1786 y Fp(ANYse)n(q)p Fu(,)f(7,)h(130)1123 1843 y Fp(ap)n(at)p
Fu(,)h(19,)f(135)1123 1899 y Fq(appendBin)p Fu(,)f(57,)h(82)1123
1955 y Fq(AppendBinChan)p Fu(,)f(70,)h(76)1123 2012 y Fq(appendBinChan)p
Fu(,)f(78,)h(79,)g(125)1123 2068 y Fq(AppendBinFile)p Fu(,)f(70,)h(74)1123
2125 y Fq(appendBinFile)p Fu(,)f(78,)h(79,)g(125)1123 2181
y Fq(AppendChan)p Fu(,)f(70,)h(76)1123 2238 y Fq(appendChan)p
Fu(,)f(78,)h(79,)h(125)1123 2294 y Fq(AppendFile)p Fu(,)e(70,)h(74)1123
2351 y Fq(appendFile)p Fu(,)f(78,)h(79,)h(125)1123 2407 y(application,)h(12)
1206 2464 y(function,)f Fp(se)n(e)j Fu(function)e(application)1206
2520 y(op)q(erator,)e Fp(se)n(e)j Fu(op)q(erator)e(application)1123
2576 y Fq(approxRational)p Fu(,)e(61,)h(64,)g(101)1123 2633
y(arctangen)o(t,)f(63)1123 2689 y(arithmetic,)i(62)1016 2828
y(155)p eop
%%Page: 156 170
bop 0 50 a Fu(156)1581 b Ft(INDEX)0 199 y Fu(arithmetic)16
b(sequence,)g(15,)e(57)0 256 y Fq(Array)g Fu(\(datat)o(yp)q(e\),)g(65)0
312 y(arra)o(y)l(,)g(1,)g(64)83 369 y(accum)o(ulated,)i(67)83
425 y(deriv)o(ed,)g(67)0 482 y Fq(array)p Fu(,)e(65,)g(115)0
538 y(as-pattern)h(\()p Fq(@)p Fu(\),)f(19,)g(20)0 594 y Fp(ascii)p
Fu(,)g(9,)h(130)0 651 y(ASCI)q(I)h(c)o(haracter)f(set,)f(6,)h(9,)f(56)0
707 y Fq(asin)p Fu(,)g(60,)g(91)0 764 y Fq(asinh)p Fu(,)g(60,)g(91)0
820 y Fq(Assoc)g Fu(\(datat)o(yp)q(e\),)g(65,)g(115)0 877 y
Fq(assocs)p Fu(,)g(66,)g(115)0 933 y Fq(asTypeOf)p Fu(,)g(85)0
990 y Fq(atan)p Fu(,)g(60,)g(63,)h(91)0 1046 y Fq(atan2)p Fu(,)f(61,)g(63,)h
(84)0 1103 y Fq(atanh)p Fu(,)f(60,)g(91)0 1159 y Fp(atyp)n(e)p
Fu(,)h(25,)f(133)0 1254 y Fq(Bin)h Fu(\(datat)o(yp)q(e\),)e(57,)i(86)0
1310 y Fq(Binary)p Fu(,)f(31,)g(93)83 1367 y(deriv)o(ed)i(instance,)g(33,)e
(58,)g(146)83 1423 y(for)h(e\016cien)o(t)h(I/O,)f(71)83 1480
y(instance)h(for)f Fq(Array)p Fu(,)f(116)0 1536 y Fq(BinCont)g
Fu(\(t)o(yp)q(e)h(synon)o(ym\),)f(77,)h(125)0 1593 y(binding,)i(24)83
1649 y(function,)f Fp(se)n(e)h Fu(function)f(binding)83 1705
y(pattern,)e Fp(se)n(e)k Fu(pattern)d(binding)83 1762 y(simple)d(pattern,)e
Fp(se)n(e)j Fu(simple)e(pattern)f(bind-)166 1818 y(ing)0 1875
y Fq(binDispatch)p Fu(,)j(78)0 1931 y Fq(Bn)p Fu(,)i(70)0 1988
y Fp(b)n(o)n(dy)p Fu(,)g(24,)f(44,)g(132)0 2044 y Fq(Bool)h
Fu(\(datat)o(yp)q(e\),)e(56,)h(94)0 2101 y(b)q(o)q(olean,)i(56)0
2157 y Fq(bounds)p Fu(,)e(66,)g(115)0 2214 y Fq(break)p Fu(,)g(73,)g(110)0
2308 y Fr(C)s Fu(-)p Fr(T)21 b Fu(instance)16 b(declaration,)g(32)0
2365 y(case)f(expression,)h(17)0 2421 y Fp(cb)n(o)n(dy)p Fu(,)e(29,)h(133)0
2478 y Fq(ceiling)p Fu(,)f(61,)g(64,)g(92)0 2534 y(c)o(hannel,)i(70)0
2591 y(c)o(hannel)g(system)f(request,)g(75)0 2647 y Fq(Char)g
Fu(\(datat)o(yp)q(e\),)e(56,)h(86)0 2704 y Fp(char)p Fu(,)h(9,)g(130)973
199 y(c)o(haracter,)f(56)1056 256 y(literal)i(syn)o(tax,)e(8)973
312 y(c)o(haracter)g(set)1056 369 y(ASCI)q(I,)i Fp(se)n(e)h
Fu(ASCI)q(I)g(c)o(haracter)d(set)1056 425 y(transparen)o(t,)23
b Fp(se)n(e)i Fu(transparen)o(t)c(c)o(harac-)1139 482 y(ter)15
b(set)973 538 y Fp(char)n(esc)p Fu(,)f(9,)h(130)973 594 y Fq(chr)p
Fu(,)f(56,)g(83)973 651 y Fq(cis)p Fu(,)g(62,)g(105)973 707
y(class,)h(24,)f(29)973 764 y Fp(class)p Fu(,)f(26,)i(133)973
820 y(class)g(assertion,)g(26)973 877 y(class)g(declaration,)h(29,)e(45,)g
(51)1056 933 y(with)h(an)g(empt)o(y)g Fq(where)g Fu(part,)f(30)973
990 y(class)h(en)o(vironmen)o(t,)g(27)973 1046 y(class)g(metho)q(d,)g(ix,)h
(25,)e(29,)g(32)973 1103 y Fp(cntrl)p Fu(,)g(9,)g(130)973 1159
y(co)q(ercion,)h(64)973 1215 y(commen)o(t,)f(7)1056 1272 y(end-of-line,)j(7)
1056 1328 y(nested,)e(7)973 1385 y Fp(c)n(omment)p Fu(,)f(7,)h(130)973
1441 y(compilation)h(system,)f(43)973 1498 y Fq(Complex)f Fu(\(datat)o(yp)q
(e\),)f(60,)i(62)973 1554 y Fp(c)n(on)p Fu(,)f(12,)g(135)973
1611 y Fq(concat)p Fu(,)g(112)973 1667 y(conditional)i(expression,)g(14)973
1724 y Fp(c)n(onid)p Fu(,)e(7,)g(8,)h(130)973 1780 y Fq(conjugate)p
Fu(,)e(62,)h(104)973 1836 y Fp(c)n(onop)p Fu(,)g(12,)g(135)973
1893 y Fq(const)p Fu(,)g(85)973 1949 y Fp(c)n(onstr)p Fu(,)g(28,)g(133)973
2006 y Fp(c)n(onstrs)p Fu(,)f(28,)h(133)973 2062 y(constructed)h(pattern,)f
(20)973 2119 y(constructed)h(t)o(yp)q(e,)g(26)973 2175 y Fp(c)n(onsym)p
Fu(,)f(8,)g(130)973 2232 y(con)o(text,)g(26)1056 2288 y(in)i
Fq(data)e Fu(declaration,)i(ix,)f(28)973 2345 y Fp(c)n(ontext)p
Fu(,)f(26,)g(133)973 2401 y Fq(cos)p Fu(,)g(60,)g(91)973 2457
y Fq(cosh)p Fu(,)g(60,)g(91)973 2514 y(cosine,)h(63)973 2570
y Fp(csign)p Fu(,)e(29,)i(133)973 2627 y Fp(csigns)p Fu(,)e(29,)h(133)973
2683 y(Curry)l(,)g(Hask)o(ell)i(B.,)f(v)p eop
%%Page: 157 171
bop 150 50 a Ft(INDEX)1582 b Fu(157)150 199 y Fq(cycle)p Fu(,)14
b(109)150 294 y(data)h(abstraction,)f(1)150 351 y Fq(data)h
Fu(declaration,)g(28)150 407 y(datat)o(yp)q(e,)f(27)233 463
y(abstract,)g Fp(se)n(e)j Fu(abstract)e(datat)o(yp)q(e)233
520 y(algebraic,)h Fp(se)n(e)h Fu(algebraic)f(datat)o(yp)q(e)233
576 y(declaration,)g Fp(se)n(e)h Fq(data)e Fu(declaration)233
633 y(recursiv)o(e,)h Fp(se)n(e)h Fu(recursiv)o(e)f(datat)o(yp)q(e)150
689 y Fp(de)n(cl)p Fu(,)e(24,)g(35,)h(36,)f(133)150 746 y(declaration,)i(24)
233 802 y Fr(C)s Fu(-)p Fr(T)i Fu(instance,)c Fp(se)n(e)h Fr(C)s
Fu(-)p Fr(T)j Fu(instance)13 b(decla-)316 859 y(ration)233
915 y(class,)i Fp(se)n(e)j Fu(class)d(declaration)233 972 y(datat)o(yp)q(e,)f
Fp(se)n(e)k Fq(data)d Fu(declaration)233 1028 y(default,)g
Fp(se)n(e)j Fq(default)c Fu(declaration)233 1084 y(\014xit)o(y)l(,)h
Fp(se)n(e)j Fu(\014xit)o(y)d(declaration)233 1141 y(imp)q(ort,)g
Fp(se)n(e)j Fu(imp)q(ort)d(declaration)233 1197 y(instance,)h
Fp(se)n(e)h Fu(instance)f(declaration)233 1254 y(within)g(a)f
Fq(class)g Fu(declaration,)g(29)233 1310 y(within)h(a)f Fq(let)g
Fu(expression,)h(16)233 1367 y(within)g(an)g Fq(instance)e
Fu(declaration,)h(30)150 1423 y(declaration)h(group,)f(38)150
1480 y Fp(de)n(cls)p Fu(,)f(24,)g(133)150 1536 y Fq(decodeFloat)p
Fu(,)f(61,)i(64,)f(92)150 1593 y Fq(default)g Fu(declaration,)i(33)150
1649 y(default)i(metho)q(d,)h(vii,)g(30,)f(32,)g(48,)f(146,)h(151,)316
1705 y Fp(se)n(e)d(also)j Fu(class)e(metho)q(d)150 1762 y Fq(DeleteFile)p
Fu(,)d(70,)i(75)150 1818 y Fq(deleteFile)p Fu(,)e(78,)i(79,)f(125)150
1875 y Fq(denominator)p Fu(,)f(60,)i(61,)f(101)150 1931 y(dep)q(endency)j
(analysis,)f(38)150 1988 y(deriv)o(ed)i(instance,)f(ix,)g(33,)g
Fp(se)n(e)f(also)j Fu(instance)316 2044 y(declaration)150 2101
y Fq(Dialogue)14 b Fu(\(t)o(yp)q(e)h(synon)o(ym\),)f(69,)g(77,)h(125)150
2157 y Fp(digit)p Fu(,)g(7,)f(130)150 2214 y Fq(div)p Fu(,)g(54,)h(60,)f(62,)
g(89,)g(91)150 2270 y Fq(divMod)p Fu(,)g(60,)g(91)150 2326
y Fq(done)p Fu(,)g(78,)g(79,)h(125)150 2383 y Fq(Double)f Fu(\(datat)o(yp)q
(e\),)g(59,)g(61,)g(86)150 2439 y Fq(drop)p Fu(,)g(109)150
2496 y Fq(dropWhile)p Fu(,)g(110)150 2591 y Fq(Echo)p Fu(,)g(76)150
2647 y Fq(echo)p Fu(,)g(78,)g(79,)h(125)150 2704 y Fq(elem)p
Fu(,)f(54,)g(106,)g(111)1123 199 y Fq(elems)p Fu(,)g(66,)g(115)1123
256 y Fq(encodeFloat)p Fu(,)f(61,)h(64,)g(92)1123 312 y(en)o(tit)o(y)l(,)h
(42)1123 369 y Fp(entity)p Fu(,)f(45,)g(132)1123 425 y Fq(Enum)p
Fu(,)g(31,)g(33,)g(93)1206 482 y(deriv)o(ed)i(instance,)g(33,)e(146)1206
538 y(instance)i(for)e Fq(Char)p Fu(,)g(94)1206 594 y(instance)i(for)e
Fq(Double)p Fu(,)g(100)1206 651 y(instance)i(for)e Fq(Float)p
Fu(,)g(100)1206 707 y(instance)i(for)e Fq(Integer)p Fu(,)g(97)1206
764 y(instance)i(for)e Fq(Int)p Fu(,)h(96)1206 820 y(instance)h(for)e
Fq(Ratio)p Fu(,)g(102)1206 877 y(sup)q(erclass)i(of)f Fq(Real)p
Fu(,)f(90)1123 933 y(en)o(umeration,)h(146)1123 990 y Fq(enumFrom)p
Fu(,)e(31,)i(93,)f(146)1123 1046 y Fq(enumFromThen)p Fu(,)f(31,)h(93,)g(146)
1123 1103 y Fq(enumFromThenTo)p Fu(,)f(31,)h(93,)g(146)1123
1159 y Fq(enumFromTo)p Fu(,)f(31,)h(93,)h(146)1123 1215 y(en)o(vironmen)o(t)
1206 1272 y(class,)g Fp(se)n(e)j Fu(class)d(en)o(vironmen)o(t)1206
1328 y(t)o(yp)q(e,)g Fp(se)n(e)i Fu(t)o(yp)q(e)e(en)o(vironmen)o(t)1123
1385 y(en)o(vironmen)o(t)g(request,)g(76)1123 1441 y Fq(Eq)p
Fu(,)f(31,)g(58,)h(90)1206 1498 y(deriv)o(ed)h(instance,)g(33,)e(145)1206
1554 y(instance)i(for)e Fq(Array)p Fu(,)g(116)1206 1611 y(instance)i(for)e
Fq(Char)p Fu(,)g(94)1206 1667 y(instance)i(for)e Fq(Double)p
Fu(,)g(97)1206 1724 y(instance)i(for)e Fq(Float)p Fu(,)g(97)1206
1780 y(instance)i(for)e Fq(Integer)p Fu(,)g(95)1206 1836 y(instance)i(for)e
Fq(Int)p Fu(,)h(95)1206 1893 y(sup)q(erclass)h(of)f Fq(Num)p
Fu(,)f(90)1206 1949 y(sup)q(erclass)i(of)f Fq(Ord)p Fu(,)f(90)1123
2006 y(error,)g(2,)g(68)1123 2062 y Fq(error)p Fu(,)g(68,)g(88)1123
2119 y Fp(esc)n(ap)n(e)p Fu(,)g(9,)g(130)1123 2175 y Fq(even)p
Fu(,)g(60,)g(62,)g(91)1123 2232 y Fq(exit)p Fu(,)g(80,)g(127)1123
2288 y Fp(exp)1191 2272 y Fk(i)1206 2288 y Fu(,)h(10,)f(134)1123
2345 y Fp(exp)p Fu(,)h(10,)f(12{14,)f(16{18,)h(134)1123 2401
y Fq(exp)p Fu(,)g(60,)g(63,)g(91)1123 2457 y Fq(exponent)p
Fu(,)f(61,)i(64,)f(92)1123 2514 y(exp)q(onen)o(tiation,)i(63)1123
2570 y Fp(exp)n(ort)p Fu(,)f(45,)f(132)1123 2627 y(exp)q(ort)h(list,)g(ix,)h
(45)1123 2683 y Fp(exp)n(orts)p Fu(,)e(45,)h(132)p eop
%%Page: 158 172
bop 0 50 a Fu(158)1581 b Ft(INDEX)0 199 y Fu(expression,)16
b(2,)e(10)83 256 y(case,)h Fp(se)n(e)j Fu(case)d(expression)83
312 y(conditional,)d Fp(se)n(e)h Fu(conditional)f(expression)83
369 y(let,)j Fp(se)n(e)j Fu(let)e(expression)83 425 y(simple)24
b(case,)g Fp(se)n(e)h Fu(simple)f(case)f(expres-)166 482 y(sion)83
538 y(t)o(yp)q(e,)15 b Fp(se)n(e)j Fu(t)o(yp)q(e)d(expression)83
594 y(unit,)h Fp(se)n(e)h Fu(unit)f(expression)0 651 y(expression)g(t)o(yp)q
(e-signature,)f(18,)g(34)0 749 y Fq(FailCont)f Fu(\(t)o(yp)q(e)h(synon)o
(ym\),)f(77,)g(125)0 805 y Fq(Failure)p Fu(,)g(70)0 862 y Fq(False)p
Fu(,)g(56)0 918 y(\014le,)i(70)0 975 y(\014le)g(system)f(request,)g(74)0
1031 y Fq(filter)p Fu(,)f(107)0 1088 y Fp(\014x)p Fu(,)g(54,)h(132)0
1144 y Fp(\014xde)n(cls)p Fu(,)e(54,)i(132)0 1200 y(\014xit)o(y)l(,)g(12)0
1257 y(\014xit)o(y)g(declaration,)h(53)0 1313 y Fq(flip)p Fu(,)e(57,)g(85)0
1370 y Fq(Float)g Fu(\(datat)o(yp)q(e\),)g(58,)g(61,)h(86)0
1426 y Fp(\015o)n(at)p Fu(,)g(8,)f(130)0 1483 y Fq(floatDigits)p
Fu(,)f(61,)i(64,)f(92)0 1539 y Fq(Floating)p Fu(,)g(58,)g(60,)g(62,)g(91)83
1596 y(instance)i(for)f Fq(Complex)p Fu(,)e(104)83 1652 y(instance)j(for)f
Fq(Double)p Fu(,)f(99)83 1709 y(instance)i(for)f Fq(Float)p
Fu(,)f(98)83 1765 y(sup)q(erclass)i(of)f Fq(RealFloat)p Fu(,)f(92)0
1822 y Fq(Floating)g Fu(\(datat)o(yp)q(e\),)g(60)0 1878 y(\015oating)h
(literal)i(pattern,)d(20)0 1934 y Fq(floatRadix)p Fu(,)f(61,)i(64,)f(92)0
1991 y Fq(floatRange)p Fu(,)f(61,)i(64,)f(92)0 2047 y Fq(floor)p
Fu(,)g(61,)g(64,)h(92)0 2104 y Fq(foldl)p Fu(,)f(108)0 2160
y Fq(foldl1)p Fu(,)g(108)0 2217 y Fq(foldr)p Fu(,)g(108)0 2273
y Fq(foldr1)p Fu(,)g(108)0 2330 y(formal)h(seman)o(tics,)g(x,)g(1)0
2386 y Fq(FormatError)p Fu(,)e(70)0 2443 y Fp(formfe)n(e)n(d)p
Fu(,)i(7,)f(130)0 2499 y Fq(Fractional)p Fu(,)f(58,)i(60,)f(91)83
2555 y(instance)i(for)f Fq(Complex)p Fu(,)e(103)83 2612 y(instance)j(for)f
Fq(Double)p Fu(,)f(98)83 2668 y(instance)i(for)f Fq(Float)p
Fu(,)f(98)1056 199 y(instance)i(for)e Fq(Ratio)p Fu(,)g(101)1056
256 y(sup)q(erclass)i(of)f Fq(Floating)p Fu(,)e(91)1056 312
y(sup)q(erclass)j(of)f Fq(RealFrac)p Fu(,)e(92)973 369 y Fq(fromInteger)p
Fu(,)g(59,)h(60,)g(90)973 425 y Fq(fromIntegral)p Fu(,)f(61,)h(64,)g(84)973
482 y Fq(fromRational)p Fu(,)f(59,)h(60,)g(91)973 538 y Fq(fromRealFrac)p
Fu(,)f(61,)h(64,)g(84)973 594 y Fq(fst)p Fu(,)g(85)973 651
y(function,)h(57)973 707 y(function)h(binding,)g(36)973 764
y(function)g(t)o(yp)q(e,)f(25)973 820 y(functional)h(language,)f(v)973
877 y Fp(funlhs)p Fu(,)f(36,)g(134)973 975 y Fp(gap)p Fu(,)h(9,)f(130)973
1031 y Fq(gcd)p Fu(,)g(61,)g(62,)g(84)973 1088 y Fp(gd)p Fu(,)h(17,)f(36,)g
(134)973 1144 y Fp(gdp)n(at)p Fu(,)h(17,)f(135)973 1200 y Fp(gdrhs)p
Fu(,)h(36,)f(134)973 1257 y(generalisation,)i(38)973 1313 y(generalisation)g
(order,)e(27)973 1370 y(generator,)g(16)973 1426 y Fq(genericLength)p
Fu(,)f(107)973 1483 y Fq(GetArgs)p Fu(,)g(70,)i(76)973 1539
y Fq(getArgs)p Fu(,)e(78,)i(79,)f(125)973 1596 y Fq(GetEnv)p
Fu(,)g(70,)g(77)973 1652 y Fq(getEnv)p Fu(,)g(78,)g(79,)g(125)973
1709 y Fq(GetProgName)p Fu(,)f(70)973 1765 y Fq(getProgName)p
Fu(,)g(78,)h(79,)g(125)973 1822 y Fp(gr)n(aphic)p Fu(,)h(7,)f(130)973
1878 y(guard,)g(16,)g(17,)h(21)973 1976 y(Hask)o(ell,)g(v,)g(1)973
2032 y(Hask)o(ell)h(k)o(ernel,)f(2)973 2089 y(Hask)o(ell)h(mailing)g(list,)g
(vi,)f(ix,)h(x)973 2145 y Fq(head)p Fu(,)e(106)973 2202 y Fp(hexit)p
Fu(,)h(9,)f(130)973 2258 y(hiding,)i(43,)e(47,)h(52)973 2315
y(Hindley-Milner)j(t)o(yp)q(e)d(system,)g(2,)f(24,)h(38)973
2413 y Fp(ib)n(o)n(dy)p Fu(,)f(47,)g(136)973 2469 y Fp(ic)n(de)n(cl)p
Fu(,)f(47,)i(136)973 2526 y Fp(ic)n(de)n(cls)p Fu(,)e(47,)h(136)973
2582 y Fq(id)p Fu(,)g(85)973 2638 y(iden)o(ti\014er,)i(7)p
eop
%%Page: 159 173
bop 150 50 a Ft(INDEX)1582 b Fu(159)150 199 y(if-then-else)16
b(expression,)e Fp(se)n(e)i Fu(conditional)f(ex-)316 256 y(pression)150
312 y Fp(iimp)n(de)n(cl)p Fu(,)f(47,)g(136)150 369 y Fp(iimp)n(de)n(cls)p
Fu(,)g(47,)g(136)150 425 y Fq(imagPart)p Fu(,)g(62,)g(104)150
482 y Fp(imp)n(de)n(cl)p Fu(,)g(46,)g(132)150 538 y Fp(imp)n(de)n(cls)p
Fu(,)g(44,)g(132)150 594 y(implemen)o(tation,)i(42,)e(44)150
651 y Fp(imp)n(ort)p Fu(,)h(46,)g(132)150 707 y(imp)q(ort)g(declaration,)h
(46)150 764 y Fp(impsp)n(e)n(c)p Fu(,)e(46,)g(132)150 820 y
Fq(index)p Fu(,)g(31,)g(92,)h(146,)f(147)150 877 y Fq(indices)p
Fu(,)g(66,)g(115)150 933 y(information)h(hiding,)i(1)150 990
y Fq(init)p Fu(,)d(106)150 1046 y(input/output,)h(69)233 1103
y(acceptance,)g(73)233 1159 y(ec)o(hoing,)h(73)233 1215 y(mo)q(de,)f(71)233
1272 y(optional)h(request,)f(143)233 1328 y(presen)o(tation,)g(72)233
1385 y(seman)o(tics,)g(139)233 1441 y(transparency)l(,)g(71)150
1498 y Fq(inRange)p Fu(,)f(31,)g(92,)g(146,)g(147)150 1554
y Fp(inst)p Fu(,)g(30,)g(134)150 1611 y(instance)20 b(declaration,)h(30,)e
(51,)g Fp(se)n(e)g(also)j Fu(de-)316 1667 y(riv)o(ed)16 b(instance)233
1724 y(with)g(an)f(empt)o(y)g Fq(where)f Fu(part,)g(30)233
1780 y(with)i(resp)q(ect)f(to)g(mo)q(dules,)h(32)150 1836 y
Fq(Int)p Fu(,)e(61)150 1893 y Fq(Int)h Fu(\(datat)o(yp)q(e\),)e(58,)i(86)150
1949 y Fq(Integer)p Fu(,)f(61)150 2006 y Fq(Integer)g Fu(\(datat)o(yp)q(e\),)
g(86)150 2062 y Fp(inte)n(ger)p Fu(,)g(8,)g(130)150 2119 y(in)o(teger)h
(literal)i(pattern,)d(20)150 2175 y Fq(Integral)p Fu(,)g(58,)g(60,)g(91)233
2232 y(instance)i(for)f Fq(Integer)p Fu(,)e(96)233 2288 y(instance)j(for)f
Fq(Int)p Fu(,)f(96)150 2345 y Fq(interact)p Fu(,)g(80,)g(127)150
2401 y(in)o(terface,)h(42,)f(47)150 2457 y Fp(interfac)n(e)p
Fu(,)g(47,)g(136)150 2514 y Fq(IOError)p Fu(,)g(70)150 2570
y Fq(IOError)g Fu(\(datat)o(yp)q(e\),)g(125)150 2627 y(irrefutable)i
(pattern,)f(16,)f(19,)g(21,)g(37)150 2683 y Fq(isAlpha)p Fu(,)g(83)1123
199 y Fq(isAlphanum)p Fu(,)f(83)1123 256 y Fq(isAscii)p Fu(,)g(83)1123
312 y Fq(isControl)p Fu(,)g(83)1123 369 y Fq(isDigit)p Fu(,)g(83)1123
425 y Fq(isLower)p Fu(,)g(83)1123 482 y Fq(isNullBin)p Fu(,)g(57,)h(82)1123
538 y Fq(isPrint)p Fu(,)f(83)1123 594 y Fq(isSpace)p Fu(,)g(83)1123
651 y Fq(isUpper)p Fu(,)g(83)1123 707 y Fq(iterate)p Fu(,)g(109)1123
764 y Fp(itop)n(de)n(cl)p Fu(,)h(47,)g(136)1123 820 y Fp(itop)n(de)n(cls)p
Fu(,)g(47,)g(136)1123 877 y Fq(Ix)p Fu(,)g(31,)g(65,)h(92,)f(147)1206
933 y(deriv)o(ed)i(instance,)g(33,)e(146)1206 990 y(instance)i(for)e
Fq(Char)p Fu(,)g(94)1206 1046 y(instance)i(for)e Fq(Integer)p
Fu(,)g(96)1206 1103 y(instance)i(for)e Fq(Int)p Fu(,)h(96)1206
1159 y(sup)q(erclass)h(of)f Fq(Integral)p Fu(,)e(91)1123 1215
y Fq(ixmap)p Fu(,)h(67,)g(115)1123 1313 y(lam)o(b)q(da)h(abstraction,)g(12)
1123 1370 y Fp(lar)n(ge)p Fu(,)f(7,)g(130)1123 1426 y Fq(last)p
Fu(,)g(106)1123 1483 y(la)o(y)o(out,)g(3,)g(131,)g Fp(se)n(e)i(also)h
Fu(o\013-side)f(rule)1123 1539 y Fq(lcm)p Fu(,)e(61,)g(62,)g(84)1123
1596 y Fq(length)p Fu(,)g(107)1123 1652 y(let)h(expression,)h(ix,)f(16)1123
1709 y Fq(lex)p Fu(,)f(117,)g(149)1123 1765 y Fq(lexDigits)p
Fu(,)f(118)1123 1822 y Fp(lexeme)p Fu(,)h(7,)h(130)1123 1878
y(lexical)i(structure,)d(6)1123 1934 y Fq(lexLitChar)p Fu(,)f(119)1123
1991 y Fp(lexp)1203 1974 y Fk(i)1218 1991 y Fu(,)h(10,)h(134)1123
2047 y Fp(lhs)p Fu(,)f(36,)g(134)1123 2104 y(linear)i(pattern,)e(12,)h(19,)f
(36)1123 2160 y(linearit)o(y)l(,)i(12,)e(19,)g(36)1123 2217
y Fq(lines)p Fu(,)g(73,)g(110)1123 2273 y(list,)h(14,)g(57)1123
2330 y(list)h(comprehension,)g(16,)e(57)1123 2386 y(list)i(t)o(yp)q(e,)f(26)
1123 2443 y Fq(listArray)p Fu(,)e(115)1123 2499 y Fp(liter)n(al)p
Fu(,)h(7,)g(130)1123 2555 y(Literate)h(commen)o(ts,)f(137)1123
2612 y Fq(log)p Fu(,)g(60,)g(63,)g(91)1123 2668 y(logarithm,)g(63)p
eop
%%Page: 160 174
bop 0 50 a Fu(160)1581 b Ft(INDEX)0 199 y Fq(logBase)p Fu(,)14
b(60,)g(63,)g(91)0 256 y(longest)h(lexeme)i(rule,)e(8,)g(9)0
312 y Fp(lp)n(at)75 296 y Fk(i)91 312 y Fu(,)f(19,)h(135)0
407 y(magnitude,)g(63)0 463 y Fq(magnitude)p Fu(,)f(62,)g(105)0
520 y Fq(Main)h Fu(\(mo)q(dule\),)g(42)0 576 y Fq(main)p Fu(,)f(42)0
633 y Fq(map)p Fu(,)g(107)0 689 y Fq(match)p Fu(,)g(119)0 746
y Fq(max)p Fu(,)g(31,)h(90,)f(145)0 802 y Fq(maxChar)p Fu(,)g(83)0
859 y Fq(maximum)p Fu(,)g(112)0 915 y Fq(maxInt)p Fu(,)g(58,)g(61,)g(84)0
972 y(metho)q(d,)h Fp(se)n(e)j Fu(class)d(metho)q(d)0 1028
y Fq(min)p Fu(,)f(31,)h(90,)f(145)0 1084 y Fq(minChar)p Fu(,)g(83)0
1141 y Fq(minimum)p Fu(,)g(112)0 1197 y Fq(minInt)p Fu(,)g(58,)g(61,)g(84)0
1254 y Fq(mkPolar)p Fu(,)g(60,)g(62,)g(104)0 1310 y Fq(mod)p
Fu(,)g(54,)h(60,)f(62,)g(89,)g(91)0 1367 y Fp(mo)n(did)p Fu(,)h(8,)g(44,)f
(130,)g(132)0 1423 y(mo)q(dule,)i(42)83 1480 y(closure,)g(43)83
1536 y(implemen)o(tation,)g(44)83 1593 y(in)o(terface,)f(47)0
1649 y Fp(mo)n(dule)p Fu(,)g(24,)f(44,)g(132)0 1705 y(monomorphic)22
b(t)o(yp)q(e)f(v)m(ariable,)j(viii,)g(13,)e(22,)166 1762 y(39)0
1818 y(monomorphism)15 b(restriction,)g(vii,)h(ix,)g(40)0 1913
y Fp(n)s Fq(+)p Fp(k)k Fu(pattern,)14 b(20,)g(36)0 1970 y(namespaces,)h(3,)g
(8)0 2026 y Fp(nc)n(omment)p Fu(,)f(7,)h(130)0 2083 y Fq(negate)p
Fu(,)f(13,)g(60,)g(62,)h(90)0 2139 y(negation,)g(11,)f(13)0
2195 y Fp(new)r(line)p Fu(,)g(7,)g(130)0 2252 y Fq(nonnull)p
Fu(,)g(119)0 2308 y Fq(not)p Fu(,)g(56,)h(83)0 2365 y Fq(notElem)p
Fu(,)f(54,)g(106,)g(111)0 2421 y Fq(nub)p Fu(,)g(111)0 2478
y Fq(null)p Fu(,)g(106)0 2534 y Fq(nullBin)p Fu(,)g(57,)g(82)0
2591 y Fq(Num)p Fu(,)g(34,)h(58,)f(60,)g(90)83 2647 y(instance)i(for)f
Fq(Complex)p Fu(,)e(103)83 2704 y(instance)j(for)f Fq(Double)p
Fu(,)f(97)1056 199 y(instance)i(for)e Fq(Float)p Fu(,)g(97)1056
256 y(instance)i(for)e Fq(Integer)p Fu(,)g(96)1056 312 y(instance)i(for)e
Fq(Int)p Fu(,)h(95)1056 369 y(instance)h(for)e Fq(Ratio)p Fu(,)g(101)1056
425 y(sup)q(erclass)i(of)f Fq(Fractional)p Fu(,)e(91)1056 482
y(sup)q(erclass)j(of)f Fq(Real)p Fu(,)f(90)973 538 y(n)o(um)o(b)q(er,)h(58)
1056 594 y(literal)h(syn)o(tax,)e(8)973 651 y Fq(numerator)p
Fu(,)f(60,)h(61,)h(101)973 707 y(n)o(umeric)h(t)o(yp)q(e,)f(59)973
764 y Fq(numericEnumFrom)p Fu(,)d(97)973 820 y Fq(numericEnumFromThen)p
Fu(,)g(97)973 915 y Fp(o)n(ctit)p Fu(,)i(9,)h(130)973 972 y
Fq(odd)p Fu(,)f(60,)g(62,)g(91)973 1028 y(o\013-side)h(rule,)h(3,)e(131,)g
Fp(se)n(e)i(also)h Fu(la)o(y)o(out)973 1084 y Fp(op)p Fu(,)e(12,)f(54,)g(135)
973 1141 y(op)q(erator,)g(7,)g(13)973 1197 y(op)q(erator)g(application,)i(13)
973 1254 y Fp(ops)p Fu(,)e(54,)h(132)973 1310 y Fq(or)p Fu(,)f(111)973
1367 y Fq(Ord)p Fu(,)g(31,)g(58,)g(90)1056 1423 y(deriv)o(ed)i(instance,)g
(33,)e(145)1056 1480 y(instance)i(for)e Fq(Array)p Fu(,)g(116)1056
1536 y(instance)i(for)e Fq(Char)p Fu(,)g(94)1056 1593 y(instance)i(for)e
Fq(Double)p Fu(,)g(97)1056 1649 y(instance)i(for)e Fq(Float)p
Fu(,)g(97)1056 1705 y(instance)i(for)e Fq(Integer)p Fu(,)g(95)1056
1762 y(instance)i(for)e Fq(Int)p Fu(,)h(95)1056 1818 y(instance)h(for)e
Fq(Ratio)p Fu(,)g(101)1056 1875 y(sup)q(erclass)i(of)f Fq(Enum)p
Fu(,)f(93)1056 1931 y(sup)q(erclass)i(of)f Fq(Ix)p Fu(,)f(92)973
1988 y Fq(ord)p Fu(,)g(56,)g(83)973 2044 y(original)i(name,)f(42)1056
2101 y(in)h(an)f(in)o(terface,)g(49)973 2157 y Fq(OtherError)p
Fu(,)e(70)973 2214 y Fq(otherwise)p Fu(,)g(56,)h(83)973 2270
y(o)o(v)o(erloaded)h(pattern,)f Fp(se)n(e)k Fu(pattern-matc)o(hing)973
2326 y(o)o(v)o(erloading,)d(1,)f(29)1056 2383 y(am)o(biguous,)h(34)1056
2439 y(defaults,)g(33)973 2534 y Fq(partition)p Fu(,)e(107)973
2591 y Fp(p)n(at)1036 2574 y Fk(i)1052 2591 y Fu(,)h(19,)h(135)973
2647 y Fp(p)n(at)p Fu(,)g(19,)f(135)973 2704 y(pattern,)g(17,)g(18)p
eop
%%Page: 161 175
bop 150 50 a Ft(INDEX)1582 b Fu(161)233 199 y Fq(@)p Fu(,)15
b Fp(se)n(e)i Fu(as-pattern)233 256 y Fq(_)p Fu(,)e Fp(se)n(e)i
Fu(wildcard)g(pattern)233 312 y(constructed,)e Fp(se)n(e)j
Fu(constructed)d(pattern)233 369 y(\015oating,)g Fp(se)n(e)i
Fu(\015oating)f(literal)g(pattern)233 425 y(in)o(teger,)f Fp(se)n(e)j
Fu(in)o(teger)d(literal)h(pattern)233 482 y(irrefutable,)g
Fp(se)n(e)i Fu(irrefutable)e(pattern)233 538 y(linear,)g Fp(se)n(e)i
Fu(linear)e(pattern)233 594 y Fp(n)s Fq(+)p Fp(k)5 b Fu(,)15
b Fp(se)n(e)i(n)s Fq(+)p Fp(k)j Fu(pattern)233 651 y(refutable,)15
b Fp(se)n(e)j Fu(refutable)e(pattern)150 707 y(pattern)f(binding,)i(36,)d(37)
150 764 y(pattern-matc)o(hing,)h(18)233 820 y(o)o(v)o(erloaded)g(constan)o
(t,)f(22)150 877 y Fq(phase)p Fu(,)g(62,)g(105)150 933 y Fq(pi)p
Fu(,)h(60,)f(91)150 990 y Fq(polar)p Fu(,)g(60{62,)g(105)150
1046 y(p)q(olymorphism,)i(2)150 1103 y(precedence,)h(28,)d
Fp(se)n(e)h(also)j Fu(\014xit)o(y)150 1159 y Fq(Prelude)c Fu(\(mo)q(dule\),)i
(50,)e(51,)g(82,)g(89)150 1215 y Fq(PreludeArray)g Fu(\(mo)q(dule\),)h(82,)f
(89,)g(115)150 1272 y Fq(PreludeBuiltin)f Fu(\(mo)q(dule\),)j(51,)e(82,)g
(86,)g(89)150 1328 y Fq(PreludeComplex)f Fu(\(mo)q(dule\),)j(82,)e(89,)g(103)
150 1385 y Fq(PreludeCore)g Fu(\(mo)q(dule\),)h(50,)f(51,)g(82,)h(89)150
1441 y Fq(PreludeIO)f Fu(\(mo)q(dule\),)h(82,)f(89,)h(124)150
1498 y Fq(PreludeList)f Fu(\(mo)q(dule\),)h(82,)f(106)150 1554
y Fq(PreludeRatio)g Fu(\(mo)q(dule\),)h(82,)f(89,)g(101)150
1611 y Fq(PreludeText)g Fu(\(mo)q(dule\),)h(82,)f(89,)g(117)150
1667 y Fp(pr)n(esymb)n(ol)p Fu(,)g(8,)h(130)150 1724 y(principal)j(t)o(yp)q
(e,)c(27,)h(35)150 1780 y Fq(print)p Fu(,)f(80,)g(127)150 1836
y Fq(prints)p Fu(,)g(80,)g(127)150 1893 y Fq(product)p Fu(,)g(111)150
1949 y Fq(products)p Fu(,)g(111)150 2006 y Fp(pr)n(o)n(gr)n(am)p
Fu(,)h(7,)f(130)150 2062 y(program)g(structure,)h(1)150 2119
y Fq(properFraction)p Fu(,)e(61,)h(64,)g(92)150 2214 y Fp(qual)p
Fu(,)h(16,)f(135)150 2270 y(quali\014er,)i(16)150 2326 y Fq(quot)p
Fu(,)e(60,)g(62,)h(89,)f(91)150 2383 y Fq(quotRem)p Fu(,)g(60,)g(91)150
2478 y Fq(range)p Fu(,)g(31,)g(92,)h(146,)f(147)150 2534 y
Fq(rangeSize)p Fu(,)g(147)150 2591 y Fq(Ratio)g Fu(\(datat)o(yp)q(e\),)g(59,)
g(61)150 2647 y Fq(Rational)g Fu(\(t)o(yp)q(e)h(synon)o(ym\),)f(59,)g(61,)h
(101)150 2704 y Fq(read)p Fu(,)f(117,)g(148)1123 199 y Fq(readBin)p
Fu(,)f(31,)i(93,)f(146)1123 256 y Fq(ReadBinChan)p Fu(,)f(70,)h(75)1123
312 y Fq(readBinChan)p Fu(,)f(78,)h(79,)g(125)1123 369 y Fq(ReadBinFile)p
Fu(,)f(70,)h(74)1123 425 y Fq(readBinFile)p Fu(,)f(78,)h(79,)g(125)1123
482 y Fq(ReadChan)p Fu(,)f(70,)i(75)1123 538 y Fq(readChan)p
Fu(,)e(78,)i(79,)f(125)1123 594 y Fq(readDec)p Fu(,)f(121)1123
651 y Fq(ReadError)p Fu(,)g(70)1123 707 y Fq(ReadFile)p Fu(,)g(70,)i(74)1123
764 y Fq(readFile)p Fu(,)e(78,)i(79,)f(125)1123 820 y Fq(readFloat)p
Fu(,)f(122)1123 877 y Fq(readHex)p Fu(,)g(121)1123 933 y Fq(readInt)p
Fu(,)g(121)1123 990 y Fq(readList)p Fu(,)g(31,)i(93,)f(147)1123
1046 y Fq(readLitChar)p Fu(,)f(120)1123 1103 y Fq(readOct)p
Fu(,)g(121)1123 1159 y Fq(readParen)p Fu(,)g(117)1123 1215
y Fq(ReadS)h Fu(\(t)o(yp)q(e)h(synon)o(ym\),)f(93)1123 1272
y Fq(reads)p Fu(,)g(117,)g(146,)g(148)1123 1328 y Fq(readSigned)p
Fu(,)f(121)1123 1385 y Fq(readsPrec)p Fu(,)g(31,)h(93,)h(147,)f(149)1123
1441 y Fq(Real)p Fu(,)g(58,)g(60,)g(90)1206 1498 y(instance)i(for)e
Fq(Double)p Fu(,)g(98)1206 1554 y(instance)i(for)e Fq(Float)p
Fu(,)g(97)1206 1611 y(instance)i(for)e Fq(Integer)p Fu(,)g(96)1206
1667 y(instance)i(for)e Fq(Int)p Fu(,)h(96)1206 1724 y(instance)h(for)e
Fq(Ratio)p Fu(,)g(101)1206 1780 y(sup)q(erclass)i(of)f Fq(Integral)p
Fu(,)e(91)1206 1836 y(sup)q(erclass)j(of)f Fq(RealFrac)p Fu(,)e(92)1123
1893 y Fq(RealFloat)p Fu(,)g(61,)h(64,)h(92)1206 1949 y(instance)h(for)e
Fq(Double)p Fu(,)g(99)1206 2006 y(instance)i(for)e Fq(Float)p
Fu(,)g(99)1123 2062 y Fq(RealFrac)p Fu(,)f(61,)i(92)1206 2119
y(instance)h(for)e Fq(Double)p Fu(,)g(99)1206 2175 y(instance)i(for)e
Fq(Float)p Fu(,)g(99)1206 2232 y(instance)i(for)e Fq(Ratio)p
Fu(,)g(102)1206 2288 y(sup)q(erclass)i(of)f Fq(RealFloat)p
Fu(,)e(92)1123 2345 y Fq(realPart)p Fu(,)g(62,)i(104)1123 2401
y Fq(recip)p Fu(,)f(60,)g(91)1123 2457 y(recursiv)o(e)i(datat)o(yp)q(e,)e(29)
1123 2514 y(refutable)h(pattern,)g(19,)f(20)1123 2570 y Fq(rem)p
Fu(,)g(54,)g(60,)g(62,)h(89,)f(91)1123 2627 y(renaming,)h(42,)f(47)1206
2683 y(with)h(resp)q(ect)h(to)e(original)j(name,)e(43)p eop
%%Page: 162 176
bop 0 50 a Fu(162)1581 b Ft(INDEX)0 199 y Fp(r)n(enaming)p
Fu(,)14 b(46,)g(132)0 256 y Fp(r)n(enamings)p Fu(,)f(46,)i(132)0
312 y Fq(repeat)p Fu(,)f(109)0 369 y Fq(Request)g Fu(\(datat)o(yp)q(e\),)g
(69,)g(70,)g(124)0 425 y Fp(r)n(eserve)n(did)p Fu(,)g(7,)h(130)0
482 y Fp(r)n(eserve)n(dop)p Fu(,)f(8,)h(130)0 538 y Fq(Response)f
Fu(\(datat)o(yp)q(e\),)g(69,)g(70,)g(124)0 594 y Fq(reverse)p
Fu(,)g(111)0 651 y Fp(r)n(exp)85 634 y Fk(i)100 651 y Fu(,)h(10,)f(134)0
707 y Fq(round)p Fu(,)g(61,)g(64,)h(92)0 764 y Fp(rp)n(at)82
747 y Fk(i)98 764 y Fu(,)g(19,)f(135)0 862 y Fq(scaleFloat)p
Fu(,)f(61,)i(92)0 918 y Fq(scanl)p Fu(,)f(108)0 975 y Fq(scanl1)p
Fu(,)g(108)0 1031 y Fq(scanr)p Fu(,)g(108)0 1088 y Fq(scanr1)p
Fu(,)g(109)0 1144 y Fq(SearchError)p Fu(,)f(70)0 1200 y(section,)k(ix,)g(8,)e
(13,)h Fp(se)n(e)g(also)j Fu(op)q(erator)d(appli-)166 1257
y(cation)0 1313 y(seman)o(tics)83 1370 y(formal,)e Fp(se)n(e)k
Fu(formal)d(seman)o(tics)83 1426 y(input/output,)c Fp(se)n(e)i
Fu(input/output)e(seman-)166 1483 y(tics)0 1539 y Fq(SetEnv)p
Fu(,)j(70,)g(77)0 1596 y Fq(setEnv)p Fu(,)g(78,)g(79,)g(125)0
1652 y Fq(show)p Fu(,)g(117,)g(148)0 1709 y Fq(showBin)p Fu(,)g(31,)g(93,)g
(146)0 1765 y Fq(showChar)p Fu(,)g(117)0 1822 y Fq(showFloat)p
Fu(,)g(123)0 1878 y Fq(showInt)p Fu(,)g(121)0 1934 y Fq(showList)p
Fu(,)g(31,)g(93,)g(147)0 1991 y Fq(showLitChar)p Fu(,)f(120)0
2047 y Fq(showParen)p Fu(,)h(117)0 2104 y Fq(ShowS)g Fu(\(t)o(yp)q(e)h(synon)
o(ym\),)g(93)0 2160 y Fq(shows)p Fu(,)f(117,)g(146,)g(148)0
2217 y Fq(showSigned)p Fu(,)f(121)0 2273 y Fq(showsPrec)p Fu(,)h(31,)g(93,)g
(147,)g(148)0 2330 y Fq(showString)p Fu(,)f(117)0 2386 y(sign,)i(63)0
2443 y(signature,)g Fp(se)n(e)j Fu(t)o(yp)q(e)d(signature)0
2499 y Fq(significand)p Fu(,)e(61,)i(64,)f(92)0 2555 y Fq(signum)p
Fu(,)g(60,)g(63,)g(90)0 2612 y Fp(simple)p Fu(,)g(28,)g(29,)h(133)0
2668 y(simple)i(case)e(expression,)h(22)973 199 y(simple)g(pattern)f
(binding,)i(37)973 256 y Fq(sin)p Fu(,)d(60,)g(91)973 312 y(sine,)h(63)973
369 y Fq(sinh)p Fu(,)f(60,)g(91)973 425 y Fp(smal)r(l)p Fu(,)g(7,)g(130)973
482 y Fq(snd)p Fu(,)g(85)973 538 y Fp(sp)n(ac)n(e)p Fu(,)g(7,)g(130)973
594 y Fq(span)p Fu(,)g(73,)g(110)973 651 y Fp(sp)n(e)n(cial)p
Fu(,)f(7,)i(130)973 707 y Fq(splitAt)p Fu(,)e(109)973 764 y
Fq(sqrt)p Fu(,)h(60,)g(63,)g(91)973 820 y(standard)g(prelude,)j(50,)d
Fp(se)n(e)h(also)j Fq(Prelude)973 877 y(StatusChan)p Fu(,)13
b(70,)h(76)973 933 y Fq(statusChan)p Fu(,)f(78,)h(79,)h(125)973
990 y Fq(StatusFile)p Fu(,)e(70,)h(75)973 1046 y Fq(statusFile)p
Fu(,)f(78,)h(79,)h(125)973 1103 y Fq(stdecho)p Fu(,)e(70)973
1159 y Fq(stderr)p Fu(,)h(70)973 1215 y Fq(stdin)p Fu(,)g(70)973
1272 y Fq(stdout)p Fu(,)g(70)973 1328 y Fq(Str)p Fu(,)g(70)973
1385 y Fq(StrCont)g Fu(\(t)o(yp)q(e)h(synon)o(ym\),)f(77,)g(125)973
1441 y Fq(strDispatch)p Fu(,)f(78)973 1498 y Fq(String)h Fu(\(t)o(yp)q(e)h
(synon)o(ym\),)f(56,)g(95)973 1554 y(string,)g(56)1056 1611
y(literal)i(syn)o(tax,)e(8)1056 1667 y(transparen)o(t,)f Fp(se)n(e)18
b Fu(transparen)o(t)c(string)973 1724 y Fp(string)p Fu(,)g(9,)g(130)973
1780 y Fq(StrListCont)f Fu(\(t)o(yp)q(e)i(synon)o(ym\),)f(77,)h(125)973
1836 y Fq(strListDispatch)p Fu(,)d(78)973 1893 y Fq(subtract)p
Fu(,)h(84)973 1949 y Fq(SuccCont)h Fu(\(t)o(yp)q(e)h(synon)o(ym\),)f(77,)g
(125)973 2006 y Fq(succDispatch)p Fu(,)f(78)973 2062 y Fq(Success)p
Fu(,)g(70)973 2119 y Fq(sum)p Fu(,)h(111)973 2175 y Fq(sums)p
Fu(,)g(111)973 2232 y(sup)q(erclass,)i(29,)e(30,)g(33)973 2288
y Fp(symb)n(ol)p Fu(,)g(8,)g(130)973 2345 y(synon)o(ym,)g Fp(se)n(e)k
Fu(t)o(yp)q(e)d(synon)o(ym)973 2401 y(syn)o(tax,)f(128)973
2499 y Fp(tab)p Fu(,)h(7,)f(130)973 2555 y Fq(tail)p Fu(,)g(106)973
2612 y Fq(take)p Fu(,)g(109)973 2668 y Fq(takeWhile)p Fu(,)f(110)p
eop
%%Page: 163 177
bop 150 50 a Ft(INDEX)1582 b Fu(163)150 199 y Fq(tan)p Fu(,)14
b(60,)h(91)150 256 y(tangen)o(t,)f(63)150 312 y Fq(tanh)p Fu(,)g(60,)g(91)150
369 y Fq(Text)p Fu(,)g(31,)g(93)233 425 y(deriv)o(ed)i(instance,)g(33,)e(147)
233 482 y(instance)i(for)f Fq(Array)p Fu(,)f(116)233 538 y(instance)i(for)f
Fq(Bin)p Fu(,)f(94)233 594 y(instance)i(for)f Fq(Char)p Fu(,)f(95)233
651 y(instance)i(for)f Fq(Double)p Fu(,)f(100)233 707 y(instance)i(for)f
Fq(Float)p Fu(,)f(100)233 764 y(instance)i(for)f Fq(Integer)p
Fu(,)e(97)233 820 y(instance)j(for)f Fq(Int)p Fu(,)f(97)233
877 y(instance)i(for)f Fq(Ratio)p Fu(,)f(102)233 933 y(sup)q(erclass)i(of)f
Fq(Num)p Fu(,)f(90)150 990 y Fq(toInteger)p Fu(,)g(91)150 1046
y Fq(toLower)p Fu(,)g(83)150 1103 y Fp(top)n(de)n(cl)h Fu(\()p
Fq(class)o Fu(\),)f(29)150 1159 y Fp(top)n(de)n(cl)h Fu(\()p
Fq(data)o Fu(\),)f(28)150 1215 y Fp(top)n(de)n(cl)h Fu(\()p
Fq(default)n Fu(\),)g(34)150 1272 y Fp(top)n(de)n(cl)g Fu(\()p
Fq(instance)n Fu(\),)g(30)150 1328 y Fp(top)n(de)n(cl)g Fu(\()p
Fq(type)o Fu(\),)f(29)150 1385 y Fp(top)n(de)n(cl)p Fu(,)g(24,)h(133)150
1441 y Fp(top)n(de)n(cls)p Fu(,)f(24,)g(44,)g(133)150 1498
y Fq(toRational)p Fu(,)f(60,)i(64,)f(90)150 1554 y Fq(toUpper)p
Fu(,)g(83)150 1611 y(transaction,)g(77)150 1667 y(transparen)o(t)g(c)o
(haracter)h(set,)f(71)150 1724 y(transparen)o(t)g(line,)j(71)150
1780 y(transparen)o(t)d(string,)h(71)150 1836 y Fq(transpose)p
Fu(,)f(112)150 1893 y(trigonometric)h(function,)h(63)150 1949
y(trivial)g(t)o(yp)q(e,)f(15,)f(26,)h(57)150 2006 y Fq(True)p
Fu(,)f(56)150 2062 y Fq(truncate)p Fu(,)g(61,)g(64,)g(92)150
2119 y(tuple,)i(14,)e(57)150 2175 y(tuple)i(t)o(yp)q(e,)f(26)150
2232 y Fp(tycls)p Fu(,)f(8,)h(26,)f(130)150 2288 y Fp(tyclses)p
Fu(,)g(28,)g(133)150 2345 y Fp(tyc)n(on)p Fu(,)g(8,)h(130)150
2401 y(t)o(yp)q(e,)g(2,)f(25,)h(27)233 2457 y(am)o(biguous,)g
Fp(se)n(e)j Fu(am)o(biguous)d(t)o(yp)q(e)233 2514 y(constructed,)g
Fp(se)n(e)j Fu(constructed)d(t)o(yp)q(e)233 2570 y(function,)h
Fp(se)n(e)h Fu(function)f(t)o(yp)q(e)233 2627 y(list,)g Fp(se)n(e)h
Fu(list)f(t)o(yp)q(e)233 2683 y(monomorphic,)e Fp(se)n(e)j
Fu(monomorphic)d(t)o(yp)q(e)1206 199 y(n)o(umeric,)h Fp(se)n(e)j
Fu(n)o(umeric)e(t)o(yp)q(e)1206 256 y(principal,)h Fp(se)n(e)g
Fu(principal)h(t)o(yp)q(e)1206 312 y(trivial,)e Fp(se)n(e)h
Fu(trivial)f(t)o(yp)q(e)1206 369 y(tuple,)f Fp(se)n(e)j Fu(tuple)e(t)o(yp)q
(e)1123 425 y Fp(typ)n(e)p Fu(,)e(25,)h(133)1123 482 y(t)o(yp)q(e)g(class,)g
Fp(se)n(e)j Fu(class)1123 538 y(t)o(yp)q(e)d(en)o(vironmen)o(t,)g(27)1123
594 y(t)o(yp)q(e)g(expression,)h(25)1123 651 y(t)o(yp)q(e)f(signature,)g(27,)
f(32,)g(35)1206 707 y(for)c(an)i(expression,)h Fp(se)n(e)g
Fu(expression)g(t)o(yp)q(e-)1289 764 y(signature)1123 820 y(t)o(yp)q(e)j
(synon)o(ym,)g(ix,)h(29,)e(32,)h(45,)f(48,)h(51,)f(145,)1289
877 y Fp(se)n(e)g(also)j Fu(datat)o(yp)q(e)1206 933 y(recursiv)o(e,)d(29)1123
990 y(t)o(yp)q(e)g(system,)f(1)1123 1046 y Fp(tyvar)p Fu(,)h(8,)f(26,)h(130)
1123 1144 y(unit)h(datat)o(yp)q(e,)e Fp(se)n(e)k Fu(trivial)e(t)o(yp)q(e)1123
1200 y(unit)g(expression,)f(15)1123 1257 y Fq(unlines)p Fu(,)e(73,)i(110)1123
1313 y Fq(until)p Fu(,)f(57,)g(85)1123 1370 y Fq(unwords)p
Fu(,)f(73,)i(111)1123 1426 y Fq(unzip)p Fu(,)f(113)1123 1483
y Fq(unzip3)p Fu(,)g(113)1123 1539 y Fq(unzip4)p Fu(,)g(114)1123
1596 y Fq(unzip5)p Fu(,)g(114)1123 1652 y Fq(unzip6)p Fu(,)g(114)1123
1709 y Fq(unzip7)p Fu(,)g(114)1123 1807 y Fp(valdef)p Fu(,)g(36,)g(134)1123
1863 y Fp(valdefs)p Fu(,)g(30,)g(134)1123 1919 y(v)m(alue,)i(2)1123
1976 y Fp(var)p Fu(,)f(12,)f(135)1123 2032 y Fp(varid)p Fu(,)h(7,)f(8,)h(130)
1123 2089 y Fp(var)n(op)p Fu(,)g(12,)f(135)1123 2145 y Fp(vars)p
Fu(,)g(29,)h(35,)f(133)1123 2202 y Fp(varsym)p Fu(,)h(8,)f(130)1123
2258 y Fp(vertab)p Fu(,)h(7,)f(130)1123 2356 y Fp(white)n(char)p
Fu(,)h(7,)g(130)1123 2413 y Fp(whitesp)n(ac)n(e)p Fu(,)f(7,)h(130)1123
2469 y Fp(whitestu\013)p Fu(,)g(7,)f(130)1123 2526 y(wildcard)i(pattern)f(\()
p Fq(_)p Fu(\),)f(19)1123 2582 y Fq(words)p Fu(,)g(73,)g(110)1123
2638 y Fq(WriteBinFile)p Fu(,)f(70,)h(74)1123 2695 y Fq(writeBinFile)p
Fu(,)f(78,)h(79,)g(125)p eop
%%Page: 164 178
bop 0 50 a Fu(164)1581 b Ft(INDEX)0 199 y Fq(WriteError)p Fu(,)13
b(70)0 256 y Fq(WriteFile)p Fu(,)h(70,)g(74)0 312 y Fq(writeFile)p
Fu(,)g(78,)g(79,)g(125)0 410 y Fq(zip)p Fu(,)g(57,)h(112)0
467 y Fq(zip3)p Fu(,)f(57,)g(112)0 523 y Fq(zip4)p Fu(,)g(57,)g(112)0
579 y Fq(zip5)p Fu(,)g(57,)g(112)0 636 y Fq(zip6)p Fu(,)g(57,)g(112)0
692 y Fq(zip7)p Fu(,)g(57,)g(112)0 749 y Fq(zipWith)p Fu(,)g(113)0
805 y Fq(zipWith3)p Fu(,)g(113)0 862 y Fq(zipWith4)p Fu(,)g(113)0
918 y Fq(zipWith5)p Fu(,)g(113)0 975 y Fq(zipWith6)p Fu(,)g(113)0
1031 y Fq(zipWith7)p Fu(,)g(113)p eop
%%Trailer
end
userdict /end-hook known{end-hook}if
%%EOF
