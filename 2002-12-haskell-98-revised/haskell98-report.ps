%!PS-Adobe-2.0
%%Creator: dvips(k) 5.86 Copyright 1999 Radical Eye Software
%%Title: haskell.dvi
%%Pages: 277
%%PageOrder: Ascend
%%BoundingBox: 0 0 596 842
%%DocumentFonts: Times-Bold Times-Roman Times-Italic Courier
%%+ Courier-Bold TimesNewRomanPSMT
%%EndComments
%DVIPSWebPage: (www.radicaleye.com)
%DVIPSCommandLine: dvips haskell.dvi -o haskell.ps
%DVIPSParameters: dpi=600, compressed
%DVIPSSource:  TeX output 2003.04.08:0920
%%BeginProcSet: texc.pro
%!
/TeXDict 300 dict def TeXDict begin/N{def}def/B{bind def}N/S{exch}N/X{S
N}B/A{dup}B/TR{translate}N/isls false N/vsize 11 72 mul N/hsize 8.5 72
mul N/landplus90{false}def/@rigin{isls{[0 landplus90{1 -1}{-1 1}ifelse 0
0 0]concat}if 72 Resolution div 72 VResolution div neg scale isls{
landplus90{VResolution 72 div vsize mul 0 exch}{Resolution -72 div hsize
mul 0}ifelse TR}if Resolution VResolution vsize -72 div 1 add mul TR[
matrix currentmatrix{A A round sub abs 0.00001 lt{round}if}forall round
exch round exch]setmatrix}N/@landscape{/isls true N}B/@manualfeed{
statusdict/manualfeed true put}B/@copies{/#copies X}B/FMat[1 0 0 -1 0 0]
N/FBB[0 0 0 0]N/nn 0 N/IEn 0 N/ctr 0 N/df-tail{/nn 8 dict N nn begin
/FontType 3 N/FontMatrix fntrx N/FontBBox FBB N string/base X array
/BitMaps X/BuildChar{CharBuilder}N/Encoding IEn N end A{/foo setfont}2
array copy cvx N load 0 nn put/ctr 0 N[}B/sf 0 N/df{/sf 1 N/fntrx FMat N
df-tail}B/dfs{div/sf X/fntrx[sf 0 0 sf neg 0 0]N df-tail}B/E{pop nn A
definefont setfont}B/Cw{Cd A length 5 sub get}B/Ch{Cd A length 4 sub get
}B/Cx{128 Cd A length 3 sub get sub}B/Cy{Cd A length 2 sub get 127 sub}
B/Cdx{Cd A length 1 sub get}B/Ci{Cd A type/stringtype ne{ctr get/ctr ctr
1 add N}if}B/id 0 N/rw 0 N/rc 0 N/gp 0 N/cp 0 N/G 0 N/CharBuilder{save 3
1 roll S A/base get 2 index get S/BitMaps get S get/Cd X pop/ctr 0 N Cdx
0 Cx Cy Ch sub Cx Cw add Cy setcachedevice Cw Ch true[1 0 0 -1 -.1 Cx
sub Cy .1 sub]/id Ci N/rw Cw 7 add 8 idiv string N/rc 0 N/gp 0 N/cp 0 N{
rc 0 ne{rc 1 sub/rc X rw}{G}ifelse}imagemask restore}B/G{{id gp get/gp
gp 1 add N A 18 mod S 18 idiv pl S get exec}loop}B/adv{cp add/cp X}B
/chg{rw cp id gp 4 index getinterval putinterval A gp add/gp X adv}B/nd{
/cp 0 N rw exit}B/lsh{rw cp 2 copy get A 0 eq{pop 1}{A 255 eq{pop 254}{
A A add 255 and S 1 and or}ifelse}ifelse put 1 adv}B/rsh{rw cp 2 copy
get A 0 eq{pop 128}{A 255 eq{pop 127}{A 2 idiv S 128 and or}ifelse}
ifelse put 1 adv}B/clr{rw cp 2 index string putinterval adv}B/set{rw cp
fillstr 0 4 index getinterval putinterval adv}B/fillstr 18 string 0 1 17
{2 copy 255 put pop}for N/pl[{adv 1 chg}{adv 1 chg nd}{1 add chg}{1 add
chg nd}{adv lsh}{adv lsh nd}{adv rsh}{adv rsh nd}{1 add adv}{/rc X nd}{
1 add set}{1 add clr}{adv 2 chg}{adv 2 chg nd}{pop nd}]A{bind pop}
forall N/D{/cc X A type/stringtype ne{]}if nn/base get cc ctr put nn
/BitMaps get S ctr S sf 1 ne{A A length 1 sub A 2 index S get sf div put
}if put/ctr ctr 1 add N}B/I{cc 1 add D}B/bop{userdict/bop-hook known{
bop-hook}if/SI save N @rigin 0 0 moveto/V matrix currentmatrix A 1 get A
mul exch 0 get A mul add .99 lt{/QV}{/RV}ifelse load def pop pop}N/eop{
SI restore userdict/eop-hook known{eop-hook}if showpage}N/@start{
userdict/start-hook known{start-hook}if pop/VResolution X/Resolution X
1000 div/DVImag X/IEn 256 array N 2 string 0 1 255{IEn S A 360 add 36 4
index cvrs cvn put}for pop 65781.76 div/vsize X 65781.76 div/hsize X}N
/p{show}N/RMat[1 0 0 -1 0 0]N/BDot 260 string N/Rx 0 N/Ry 0 N/V{}B/RV/v{
/Ry X/Rx X V}B statusdict begin/product where{pop false[(Display)(NeXT)
(LaserWriter 16/600)]{A length product length le{A length product exch 0
exch getinterval eq{pop true exit}if}{pop}ifelse}forall}{false}ifelse
end{{gsave TR -.1 .1 TR 1 1 scale Rx Ry false RMat{BDot}imagemask
grestore}}{{gsave TR -.1 .1 TR Rx Ry scale 1 1 false RMat{BDot}
imagemask grestore}}ifelse B/QV{gsave newpath transform round exch round
exch itransform moveto Rx 0 rlineto 0 Ry neg rlineto Rx neg 0 rlineto
fill grestore}B/a{moveto}B/delta 0 N/tail{A/delta X 0 rmoveto}B/M{S p
delta add tail}B/b{S p tail}B/c{-4 M}B/d{-3 M}B/e{-2 M}B/f{-1 M}B/g{0 M}
B/h{1 M}B/i{2 M}B/j{3 M}B/k{4 M}B/w{0 rmoveto}B/l{p -4 w}B/m{p -3 w}B/n{
p -2 w}B/o{p -1 w}B/q{p 1 w}B/r{p 2 w}B/s{p 3 w}B/t{p 4 w}B/x{0 S
rmoveto}B/y{3 2 roll p a}B/bos{/SS save N}B/eos{SS restore}B end

%%EndProcSet
%%BeginProcSet: 8r.enc
% @@psencodingfile@{
%   author = "S. Rahtz, P. MacKay, Alan Jeffrey, B. Horn, K. Berry",
%   version = "0.6",
%   date = "22 June 1996",
%   filename = "8r.enc",
%   email = "kb@@mail.tug.org",
%   address = "135 Center Hill Rd. // Plymouth, MA 02360",
%   codetable = "ISO/ASCII",
%   checksum = "119     662    4424",
%   docstring = "Encoding for TrueType or Type 1 fonts to be used with TeX."
% @}
% 
% Idea is to have all the characters normally included in Type 1 fonts
% available for typesetting. This is effectively the characters in Adobe
% Standard Encoding + ISO Latin 1 + extra characters from Lucida.
% 
% Character code assignments were made as follows:
% 
% (1) the Windows ANSI characters are almost all in their Windows ANSI
% positions, because some Windows users cannot easily reencode the
% fonts, and it makes no difference on other systems. The only Windows
% ANSI characters not available are those that make no sense for
% typesetting -- rubout (127 decimal), nobreakspace (160), softhyphen
% (173). quotesingle and grave are moved just because it's such an
% irritation not having them in TeX positions.
% 
% (2) Remaining characters are assigned arbitrarily to the lower part
% of the range, avoiding 0, 10 and 13 in case we meet dumb software.
% 
% (3) Y&Y Lucida Bright includes some extra text characters; in the
% hopes that other PostScript fonts, perhaps created for public
% consumption, will include them, they are included starting at 0x12.
% 
% (4) Remaining positions left undefined are for use in (hopefully)
% upward-compatible revisions, if someday more characters are generally
% available.
% 
% (5) hyphen appears twice for compatibility with both ASCII and Windows.
% 
/TeXBase1Encoding [
% 0x00 (encoded characters from Adobe Standard not in Windows 3.1)
  /.notdef /dotaccent /fi /fl
  /fraction /hungarumlaut /Lslash /lslash
  /ogonek /ring /.notdef
  /breve /minus /.notdef 
% These are the only two remaining unencoded characters, so may as
% well include them.
  /Zcaron /zcaron 
% 0x10
 /caron /dotlessi 
% (unusual TeX characters available in, e.g., Lucida Bright)
 /dotlessj /ff /ffi /ffl 
 /.notdef /.notdef /.notdef /.notdef
 /.notdef /.notdef /.notdef /.notdef
 % very contentious; it's so painful not having quoteleft and quoteright
 % at 96 and 145 that we move the things normally found there down to here.
 /grave /quotesingle 
% 0x20 (ASCII begins)
 /space /exclam /quotedbl /numbersign
 /dollar /percent /ampersand /quoteright
 /parenleft /parenright /asterisk /plus /comma /hyphen /period /slash
% 0x30
 /zero /one /two /three /four /five /six /seven
 /eight /nine /colon /semicolon /less /equal /greater /question
% 0x40
 /at /A /B /C /D /E /F /G /H /I /J /K /L /M /N /O
% 0x50
 /P /Q /R /S /T /U /V /W
 /X /Y /Z /bracketleft /backslash /bracketright /asciicircum /underscore
% 0x60
 /quoteleft /a /b /c /d /e /f /g /h /i /j /k /l /m /n /o
% 0x70
 /p /q /r /s /t /u /v /w
 /x /y /z /braceleft /bar /braceright /asciitilde
 /.notdef % rubout; ASCII ends
% 0x80
 /.notdef /.notdef /quotesinglbase /florin
 /quotedblbase /ellipsis /dagger /daggerdbl
 /circumflex /perthousand /Scaron /guilsinglleft
 /OE /.notdef /.notdef /.notdef
% 0x90
 /.notdef /.notdef /.notdef /quotedblleft
 /quotedblright /bullet /endash /emdash
 /tilde /trademark /scaron /guilsinglright
 /oe /.notdef /.notdef /Ydieresis
% 0xA0
 /.notdef % nobreakspace
 /exclamdown /cent /sterling
 /currency /yen /brokenbar /section
 /dieresis /copyright /ordfeminine /guillemotleft
 /logicalnot
 /hyphen % Y&Y (also at 45); Windows' softhyphen
 /registered
 /macron
% 0xD0
 /degree /plusminus /twosuperior /threesuperior
 /acute /mu /paragraph /periodcentered
 /cedilla /onesuperior /ordmasculine /guillemotright
 /onequarter /onehalf /threequarters /questiondown
% 0xC0
 /Agrave /Aacute /Acircumflex /Atilde /Adieresis /Aring /AE /Ccedilla
 /Egrave /Eacute /Ecircumflex /Edieresis
 /Igrave /Iacute /Icircumflex /Idieresis
% 0xD0
 /Eth /Ntilde /Ograve /Oacute
 /Ocircumflex /Otilde /Odieresis /multiply
 /Oslash /Ugrave /Uacute /Ucircumflex
 /Udieresis /Yacute /Thorn /germandbls
% 0xE0
 /agrave /aacute /acircumflex /atilde
 /adieresis /aring /ae /ccedilla
 /egrave /eacute /ecircumflex /edieresis
 /igrave /iacute /icircumflex /idieresis
% 0xF0
 /eth /ntilde /ograve /oacute
 /ocircumflex /otilde /odieresis /divide
 /oslash /ugrave /uacute /ucircumflex
 /udieresis /yacute /thorn /ydieresis
] def

%%EndProcSet
%%BeginProcSet: texnansi.enc
% @psencodingfile{
%   author = "Y&Y, Inc.",
%   version = "1.1",
%   date = "1 December 1996",
%   filename = "texnansi.enc",
%   email = "help@YandY.com",
%   address = "45 Walden Street // Concord, MA 01742, USA",
%   codetable = "ISO/ASCII",
%   checksum = "xx",
%   docstring = "Encoding for fonts in Adobe Type 1 format for use with TeX."
% }
%
% The idea is to have all 228 characters normally included in Type 1 text
% fonts (plus a few more) available for typesetting.  This is effectively
% the character set in Adobe Standard Encoding, ISO Latin 1, plus a few more.
%
% Character code assignments were made as follows:
%
% (1) The character layout largely matches `ASCII' in the 32 -- 126 range,
% except for `circumflex' in 94 and `tilde' in 126, to match `TeX text'
% (`asciicircumflex' and `asciitilde' appear in 158 and 142 instead).
%
% (2) The character layout matches `Windows ANSI' in almost all places,
% except for `quoteright' in 39 and `quoteleft' in 96 to match ASCII
% (`quotesingle' and `grave' appear in 129 and 18 instead).
%
% (3) The character layout matches `TeX typewriter' used by CM text fonts
% in most places (except for discordant positions such as hungarumlaut
% (instead of braceright), dotaccent (instead of underscore) etc.
%
% (4) Remaining characters are assigned arbitrarily to the `control character'
% range (0 -- 31), avoiding 0, 9, 10 and 13 in case we meet dumb software
% - similarly one should really avoid 127 and 128 if possible.
% In addition, the 8 open slots in Windows ANSI between 128 and 159 are used.
%
% (5) Y&Y Lucida Bright includes some extra ligatures and such; ff, ffi, ffl,
% and `dotlessj,' these are included 11 -- 15, and 17.
%
% (6) Hyphen appears both at 45 and 173 for compatibility with both ASCII
% and Windows ANSI.
%
% (7) It doesn't really matter where ligatures appear (both real, such as ffi,
% and pseudo such as ---) since these should not be accessed directly, only
% via ligature information in the TFM file.
%
% SAMPLE USAGE (in `psfonts.map' file for DVIPS):
% 
% lbr LucidaBright "TeXnANSIEncoding ReEncodeFont" <texnansi.enc <lbr.pfb
%
% This tells DVIPS that the font called `lbr' in TeX has PostScript 
% FontName `LucidaBright.'  It also asks DVIPS to expand the file `lbr.pfb'
% into PFA form, to include the attached `texnansi.enc' encoding vector,
% and to then actually reencode the font based on that encoding vector.
%
% Revised 1996 June 1 by adding second position for `fl' to avoid Acrobat bug.
% Revised 1996 June 1 by adding second position for `fraction' for same reason.
% Revised 1997 Oct 1 by adding cwm  (used in boundary char TFM code)
% Revised 1998 Mar 1 by adding Unicode for Euro character
%
/TeXnANSIEncoding [
/.notdef % 0
/Euro % /Uni20AC 1
/.notdef % 2
/.notdef % 3
/fraction %	4
/dotaccent %	5
/hungarumlaut %	6
/ogonek	%	7
/fl	%	8
/.notdef % /fraction %	9	not used (see 4), backward compatability only
/cwm	%	10	not used, except boundary char internally maybe
/ff    %	11
/fi    %	12
/.notdef % /fl    %	13	not used (see 8), backward compatability only
/ffi   %	14
/ffl   %	15
/dotlessi %	16
/dotlessj %	17
/grave %	18
/acute %	19
/caron %	20
/breve %	21
/macron %	22
/ring  %	23
/cedilla %	24
/germandbls %	25
/ae    %	26
/oe    %	27
/oslash %	28
/AE    %	29
/OE    %	30
/Oslash %	31
/space %	32	% /suppress in TeX text
/exclam %	33
/quotedbl %	34	% /quotedblright in TeX text
/numbersign %	35
/dollar %	36
/percent %	37
/ampersand %	38
/quoteright %	39	% /quotesingle in ANSI
/parenleft %	40
/parenright %	41
/asterisk %	42
/plus  %	43
/comma %	44
/hyphen %	45
/period %	46
/slash %	47
/zero  %	48
/one   %	49
/two   %	50
/three %	51
/four  %	52
/five  %	53
/six   %	54
/seven %	55
/eight %	56
/nine  %	57
/colon %	58
/semicolon %	59
/less  %	60	% /exclamdown in Tex text
/equal %	61
/greater %	62	% /questiondown in TeX text
/question %	63
/at %	64
/A %	65
/B %	66
/C %	67
/D %	68
/E %	69
/F %	70
/G %	71
/H %	72
/I %	73
/J %	74
/K %	75
/L %	76
/M %	77
/N %	78
/O %	79
/P %	80
/Q %	81
/R %	82
/S %	83
/T %	84
/U %	85
/V %	86
/W %	87
/X %	88
/Y %	89
/Z %	90
/bracketleft %	91
/backslash %	92	% /quotedblleft in TeX text
/bracketright %	93
/circumflex %	94	% /asciicircum in ASCII
/underscore %	95	% /dotaccent in TeX text
/quoteleft %	96	% /grave accent in ANSI
/a %	97
/b %	98
/c %	99
/d %	100
/e %	101
/f %	102
/g %	103
/h %	104
/i %	105
/j %	106
/k %	107
/l %	108
/m %	109
/n %	110
/o %	111
/p %	112
/q %	113
/r %	114
/s %	115
/t %	116
/u %	117
/v %	118
/w %	119
/x %	120
/y %	121
/z %	122
/braceleft %	123	% /endash in TeX text
/bar   %	124	% /emdash in TeX test
/braceright %	125	% /hungarumlaut in TeX text
/tilde %	126	% /asciitilde in ASCII
/dieresis %	127	not used (see 168), use higher up instead
/Lslash	%	128	this position is unfortunate, but now too late to fix
/quotesingle %	129
/quotesinglbase %	130
/florin %	131
/quotedblbase %	132
/ellipsis %	133
/dagger %	134
/daggerdbl %	135
/circumflex %	136
/perthousand %	137
/Scaron %	138
/guilsinglleft %	139
/OE    %	140
/Zcaron %	141
/asciicircum %	142
/minus %	143
/lslash %	144
/quoteleft %	145
/quoteright %	146
/quotedblleft %	147
/quotedblright %	148
/bullet %	149
/endash %	150
/emdash %	151
/tilde %	152
/trademark %	153
/scaron %	154
/guilsinglright %	155
/oe    %	156
/zcaron %	157
/asciitilde %	158
/Ydieresis %	159
/nbspace %	160	% /space (no break space)
/exclamdown %	161
/cent  %	162
/sterling %	163
/currency %	164
/yen   %	165
/brokenbar %	166
/section %	167
/dieresis %	168
/copyright %	169
/ordfeminine %	170
/guillemotleft %	171
/logicalnot %	172
/sfthyphen %	173 % /hyphen (hanging hyphen)
/registered %	174
/macron %	175
/degree %	176
/plusminus %	177
/twosuperior %	178
/threesuperior %	179
/acute %	180
/mu    %	181
/paragraph %	182
/periodcentered %	183
/cedilla %	184
/onesuperior %	185
/ordmasculine %	186
/guillemotright %	187
/onequarter %	188
/onehalf %	189
/threequarters %	190
/questiondown %	191
/Agrave %	192
/Aacute %	193
/Acircumflex %	194
/Atilde %	195
/Adieresis %	196
/Aring %	197
/AE    %	198
/Ccedilla %	199
/Egrave %	200
/Eacute %	201
/Ecircumflex %	202
/Edieresis %	203
/Igrave %	204
/Iacute %	205
/Icircumflex %	206
/Idieresis %	207
/Eth   %	208
/Ntilde %	209
/Ograve %	210
/Oacute %	211
/Ocircumflex %	212
/Otilde %	213
/Odieresis %	214
/multiply %	215	% OE in T1
/Oslash %	216
/Ugrave %	217
/Uacute %	218
/Ucircumflex %	219
/Udieresis %	220
/Yacute %	221
/Thorn %	222
/germandbls %	223
/agrave %	224
/aacute %	225
/acircumflex %	226
/atilde %	227
/adieresis %	228
/aring %	229
/ae    %	230
/ccedilla %	231
/egrave %	232
/eacute %	233
/ecircumflex %	234
/edieresis %	235
/igrave %	236
/iacute %	237
/icircumflex %	238
/idieresis %	239
/eth   %	240
/ntilde %	241
/ograve %	242
/oacute %	243
/ocircumflex %	244
/otilde %	245
/odieresis %	246
/divide %	247	% oe in T1
/oslash %	248
/ugrave %	249
/uacute %	250
/ucircumflex %	251
/udieresis %	252
/yacute %	253
/thorn %	254
/ydieresis %	255	% germandbls in T1
] def

%%EndProcSet
%%BeginProcSet: texps.pro
%!
TeXDict begin/rf{findfont dup length 1 add dict begin{1 index/FID ne 2
index/UniqueID ne and{def}{pop pop}ifelse}forall[1 index 0 6 -1 roll
exec 0 exch 5 -1 roll VResolution Resolution div mul neg 0 0]/Metrics
exch def dict begin Encoding{exch dup type/integertype ne{pop pop 1 sub
dup 0 le{pop}{[}ifelse}{FontMatrix 0 get div Metrics 0 get div def}
ifelse}forall Metrics/Metrics currentdict end def[2 index currentdict
end definefont 3 -1 roll makefont/setfont cvx]cvx def}def/ObliqueSlant{
dup sin S cos div neg}B/SlantFont{4 index mul add}def/ExtendFont{3 -1
roll mul exch}def/ReEncodeFont{CharStrings rcheck{/Encoding false def
dup[exch{dup CharStrings exch known not{pop/.notdef/Encoding true def}
if}forall Encoding{]exch pop}{cleartomark}ifelse}if/Encoding exch def}
def end

%%EndProcSet
%%BeginProcSet: special.pro
%!
TeXDict begin/SDict 200 dict N SDict begin/@SpecialDefaults{/hs 612 N
/vs 792 N/ho 0 N/vo 0 N/hsc 1 N/vsc 1 N/ang 0 N/CLIP 0 N/rwiSeen false N
/rhiSeen false N/letter{}N/note{}N/a4{}N/legal{}N}B/@scaleunit 100 N
/@hscale{@scaleunit div/hsc X}B/@vscale{@scaleunit div/vsc X}B/@hsize{
/hs X/CLIP 1 N}B/@vsize{/vs X/CLIP 1 N}B/@clip{/CLIP 2 N}B/@hoffset{/ho
X}B/@voffset{/vo X}B/@angle{/ang X}B/@rwi{10 div/rwi X/rwiSeen true N}B
/@rhi{10 div/rhi X/rhiSeen true N}B/@llx{/llx X}B/@lly{/lly X}B/@urx{
/urx X}B/@ury{/ury X}B/magscale true def end/@MacSetUp{userdict/md known
{userdict/md get type/dicttype eq{userdict begin md length 10 add md
maxlength ge{/md md dup length 20 add dict copy def}if end md begin
/letter{}N/note{}N/legal{}N/od{txpose 1 0 mtx defaultmatrix dtransform S
atan/pa X newpath clippath mark{transform{itransform moveto}}{transform{
itransform lineto}}{6 -2 roll transform 6 -2 roll transform 6 -2 roll
transform{itransform 6 2 roll itransform 6 2 roll itransform 6 2 roll
curveto}}{{closepath}}pathforall newpath counttomark array astore/gc xdf
pop ct 39 0 put 10 fz 0 fs 2 F/|______Courier fnt invertflag{PaintBlack}
if}N/txpose{pxs pys scale ppr aload pop por{noflips{pop S neg S TR pop 1
-1 scale}if xflip yflip and{pop S neg S TR 180 rotate 1 -1 scale ppr 3
get ppr 1 get neg sub neg ppr 2 get ppr 0 get neg sub neg TR}if xflip
yflip not and{pop S neg S TR pop 180 rotate ppr 3 get ppr 1 get neg sub
neg 0 TR}if yflip xflip not and{ppr 1 get neg ppr 0 get neg TR}if}{
noflips{TR pop pop 270 rotate 1 -1 scale}if xflip yflip and{TR pop pop
90 rotate 1 -1 scale ppr 3 get ppr 1 get neg sub neg ppr 2 get ppr 0 get
neg sub neg TR}if xflip yflip not and{TR pop pop 90 rotate ppr 3 get ppr
1 get neg sub neg 0 TR}if yflip xflip not and{TR pop pop 270 rotate ppr
2 get ppr 0 get neg sub neg 0 S TR}if}ifelse scaleby96{ppr aload pop 4
-1 roll add 2 div 3 1 roll add 2 div 2 copy TR .96 dup scale neg S neg S
TR}if}N/cp{pop pop showpage pm restore}N end}if}if}N/normalscale{
Resolution 72 div VResolution 72 div neg scale magscale{DVImag dup scale
}if 0 setgray}N/psfts{S 65781.76 div N}N/startTexFig{/psf$SavedState
save N userdict maxlength dict begin/magscale true def normalscale
currentpoint TR/psf$ury psfts/psf$urx psfts/psf$lly psfts/psf$llx psfts
/psf$y psfts/psf$x psfts currentpoint/psf$cy X/psf$cx X/psf$sx psf$x
psf$urx psf$llx sub div N/psf$sy psf$y psf$ury psf$lly sub div N psf$sx
psf$sy scale psf$cx psf$sx div psf$llx sub psf$cy psf$sy div psf$ury sub
TR/showpage{}N/erasepage{}N/copypage{}N/p 3 def @MacSetUp}N/doclip{
psf$llx psf$lly psf$urx psf$ury currentpoint 6 2 roll newpath 4 copy 4 2
roll moveto 6 -1 roll S lineto S lineto S lineto closepath clip newpath
moveto}N/endTexFig{end psf$SavedState restore}N/@beginspecial{SDict
begin/SpecialSave save N gsave normalscale currentpoint TR
@SpecialDefaults count/ocount X/dcount countdictstack N}N/@setspecial{
CLIP 1 eq{newpath 0 0 moveto hs 0 rlineto 0 vs rlineto hs neg 0 rlineto
closepath clip}if ho vo TR hsc vsc scale ang rotate rwiSeen{rwi urx llx
sub div rhiSeen{rhi ury lly sub div}{dup}ifelse scale llx neg lly neg TR
}{rhiSeen{rhi ury lly sub div dup scale llx neg lly neg TR}if}ifelse
CLIP 2 eq{newpath llx lly moveto urx lly lineto urx ury lineto llx ury
lineto closepath clip}if/showpage{}N/erasepage{}N/copypage{}N newpath}N
/@endspecial{count ocount sub{pop}repeat countdictstack dcount sub{end}
repeat grestore SpecialSave restore end}N/@defspecial{SDict begin}N
/@fedspecial{end}B/li{lineto}B/rl{rlineto}B/rc{rcurveto}B/np{/SaveX
currentpoint/SaveY X N 1 setlinecap newpath}N/st{stroke SaveX SaveY
moveto}N/fil{fill SaveX SaveY moveto}N/ellipse{/endangle X/startangle X
/yrad X/xrad X/savematrix matrix currentmatrix N TR xrad yrad scale 0 0
1 startangle endangle arc savematrix setmatrix}N end

%%EndProcSet
TeXDict begin 39158280 55380996 1000 600 600 (haskell.dvi)
@start /Fa 133[72 72 72 72 1[72 72 72 72 72 72 72 72
72 72 2[72 72 72 72 72 72 72 72 72 12[72 72 72 1[72 72
72 72 72 2[72 1[72 1[72 1[72 72 72 65[{TeXBase1Encoding ReEncodeFont}37
119.552 /Courier rf /Fb 138[60 2[60 5[60 6[60 60 19[60
80[{TeXBase1Encoding ReEncodeFont}6 99.6264 /Courier
rf /Fc 138[45 45 7[45 5[45 45 45 2[45 97[{TeXBase1Encoding ReEncodeFont}
7 74.7198 /Courier rf
%DVIPSBitmapFont: Fd cmsy10 10 1
/Fd 1 64 df<15301578B3B3AD007FB812F8B912FCA26C17F836367BB541>63
D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fe cmsy7 7 1
/Fe 1 49 df<13E0EA01F0EA03F8A3EA07F0A313E0A2120F13C0A3EA1F80A21300A25A12
3EA35AA3127812F8A25A12100D1E7D9F13>48 D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Ff cmmi5 5 1
/Ff 1 106 df<137013F8A213F013E01300A6EA0F80EA1FC0EA31E01261A2EAC3C01203
EA0780A3EA0F001308EA1E18A213301370EA0FE0EA07800D1D7D9C16>105
D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fg cmmi7 7 4
/Fg 4 111 df<1238127C12FE12FFA2127F123B1203A31206A3120C1218123812701220
08127A8614>59 D<130E131F5BA2133E131C90C7FCA7EA03E0487EEA0C78EA187C1230A2
12605B12C0A2EA01F0A3485AA2485AA2EBC180EA0F81A2381F0300A213066C5A131CEA07
F06C5A11287DA617>105 D<3B07801FC007E03B0FE07FF01FF83B18F0E0F8783C3B30F1
807CE03E903AFB007D801ED860FEEB3F005B49133E00C14A133E5B1201A24848495BA35F
4848485A1830EE01F0A23C0F8003E003E060A218C0933801E180271F0007C013E3933800
FF00000E6D48137C341B7D993B>109 D<3907801FC0390FE07FF03918F0E0F83930F180
7CEBFB00D860FE133C5B5B00C1147C5B1201A248485BA34A5AEA07C01660EC03E0A23A0F
8007C0C0A2EDC180913803C300D81F0013C7EC01FE000EEB00F8231B7D9929>I
E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fh cmr7 7 2
/Fh 2 51 df<13381378EA01F8121F12FE12E01200B3AB487EB512F8A215267BA521>49
D<13FF000313E0380E03F0381800F848137C48137E00787F12FC6CEB1F80A4127CC7FC15
005C143E147E147C5C495A495A5C495A010EC7FC5B5B903870018013E0EA018039030003
0012065A001FB5FC5A485BB5FCA219267DA521>I E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fi cmti7 6 4
/Fi 4 111 df<144014C01301EB03801307131FEA03F7EBCF00EA000FA3131EA45BA45B
A45BA4485AA31203B512801400122179A01E>49 D<1370A213F013601300A9120FEA1F80
EA33C0126112C3A3EA0780A2EA0F00A3121E13101318EA3C30A2136013C0121FEA0F000D
227BA112>105 D<147014F0A214601400A9131FEB7F80EBE3C0EA01C31383EA0303A238
000780A4EB0F00A4131EA45BA45BA3EA70F0EAF1E0EAF3C0EA7F80003EC7FC142C81A112
>I<381E01F8383F87FC3863DE1EEBF80E38C3F00F13E013C00007131E1380A348485AA2
EC78201530001E146014F015C0EC718048EB7F000018131E1C157B9421>110
D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fj cmr10 10 1
/Fj 1 62 df<007FB812F8B912FCA26C17F8CCFCAE007FB812F8B912FCA26C17F836167B
9F41>61 D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fk cmmi10 10 22
/Fk 22 122 df<121C127FEAFF80A5EA7F00121C0909798817>58
D<121C127FEAFF80A213C0A3127F121C1200A412011380A2120313005A1206120E5A5A5A
12600A19798817>I<0103B500F8903807FFFC5BA290260007F8C813804BEDFC0019F002
0F4B5AF003804B4AC7FC180E021F1538604B5CEF0380023F4AC8FC170E4B133C1770027F
5C4C5ADB0007C9FC160E4A5B167E4A13FE4B7E01015B92380E7F80ECFC1CED383F010301
E07FECFDC04A486C7EECFF00D907FC6D7E5C4A130783130F707E5C1601011F81A24A6D7E
A2013F6F7EA24A143F84137F717E91C8123F496C81B60107B512C0A26146397DB847>75
D<902603FFF891381FFFF8496D5CA2D90007030113006FEC007C02061678DA0EFF157081
020C6D1460A2DA1C3F15E0705CEC181F82023815016F6C5C1430150702706D1303030392
C7FC02607FA2DAE0015C701306ECC0008201016E130EEF800C5C163F0103EDC01C041F13
1891C713E0160F49EDF03818300106140717F8010E02031370EFFC60130CEE01FE011C16
E004005B011815FF177F1338600130153FA20170151F95C8FC01F081EA07FCB512E01706
A245397DB843>78 D<147E903803FF8090390FC1C38090391F00EFC0017E137F49133F48
5A4848EB1F8012075B000F143F48481400A2485A5D007F147E90C7FCA215FE485C5AA214
015D48150CA21403EDF01C16181407007C1538007E010F1330003E131F027B13706C01E1
13E03A0F83C0F9C03A03FF007F80D800FCEB1F0026267DA42C>97
D<EC3FC0903801FFF0903807E03C90380F800E90383F0007017E131F49137F484813FF48
5A485A120F4913FE001F143848481300A2127F90C8FCA35A5AA45AA315031507007E1406
150E003E143C003F14706C14E0390F8007C03907C03F003801FFF838003FC020267DA424
>99 D<163FED1FFFA3ED007F167EA216FEA216FCA21501A216F8A21503A216F0A21507A2
027E13E0903803FF8790380FC1CF90381F00EF017EEB7FC049133F485A4848131F000715
805B000F143F485A1600485A5D127F90C7127EA215FE5A485CA21401A248ECF80CA21403
161CEDF0181407007C1538007E010F1330003E131F027B13706C01E113E03A0F83C0F9C0
3A03FF007F80D800FCEB1F00283B7DB92B>I<EC3FC0903801FFF0903807E07890381F80
1C90387E001E49130E485A485A1207485A49131E001F141C153C484813F8EC03E0007FEB
3FC09038FFFE0014E090C8FC5A5AA7007E140315071506003E140E153C6C14706C6C13E0
EC07C03903E03F003801FFF838003FC020267DA427>I<16F8ED03FEED0F8792381F0F80
ED3E3F167F157CA215FC1700161C4A48C7FCA414035DA414075DA20107B512F0A3902600
0FE0C7FC5DA4141F5DA4143F92C8FCA45C147EA514FE5CA413015CA4495AA45C1307A25C
121E123F387F8F80A200FF90C9FC131E12FEEA7C3CEA7878EA1FF0EA07C0294C7CBA29>
I<EC07E0EC1FF891387C1C38903901F80EFC903803F007903807E003EB0FC090381F8001
D93F0013F85B017E130313FE16F0485A150712034914E0A2150F12074914C0A2151FA249
1480A2153FA2160000035C6D5B00015B4A5A3900F8077E90387C1EFEEB1FF8903807E0FC
90C7FC1401A25DA21403001E5C123F387F80075D00FF495A49485A4849C7FC007C137E38
3C01F8381FFFE0000390C8FC26367FA428>I<EB03F0EA01FFA3EA00075CA3130F5CA313
1F5CA3133F91C9FCA35B90387E03F8EC0FFF91383C0F809039FEF007C0D9FDC07FEBFF80
EC0003485A5BA249130712035BA2150F00075D5BA2151F000F5D5B153F93C7FC121F4990
387F0180157EEDFE03003F02FC130090C7FC5EEDF80648150E007E150C161C5E00FEEC78
7048EC3FE00038EC0F80293B7CB930>I<14E0EB03F8A21307A314F0EB01C090C7FCAB13
F8EA03FEEA070F000E1380121C121812381230EA701F1260133F00E0130012C05BEA007E
A213FE5B1201A25B12035BA20007131813E01438000F133013C01470EB806014E014C013
81EB838038078700EA03FEEA00F815397EB71D>I<EB03F0EA01FFA3EA00075CA3130F5C
A3131F5CA3133F91C8FCA35B017EEB07C0ED1FF0ED783801FEEBE0F89039FC01C1FCEC03
83EC07070001130ED9F81C13F891383803F091387001E0000349C7FCEBF1C0EBF38001F7
C8FCEA07FEA2EBFFE0EBE7F8380FE0FEEBC07F6E7E141F001F80D9800F1330A21670003F
011F136001001380A216E04815C0007E1481020F1380158300FE903807870048EB03FE00
38EB00F8263B7CB92B>107 D<EB0FC0EA03FF5AA2EA001F1480A2133FA21400A25BA213
7EA213FEA25BA21201A25BA21203A25BA21207A25BA2120FA25BA2121FA25BA2123FA290
C7FCA25AA2EA7E03A2EAFE07130612FCA2130E130C131C1318EA7C38EA3C70EA1FE0EA07
80123B7DB919>I<D803E0017F14FE3D07F801FFE003FFC03D0E3C0781F00F03E03D1C3E
1E00F83C01F026383F38D9FC707F00304914E04A90387DC000007049EB7F8000604991C7
FCA200E090C700FE1301485A017E5CA200000201140301FE5F495CA20303140700016049
5C180F03075D1203494A011F13601980030F023F13E00007F000C0495C1901031F023E13
80000F1803494A150061033F150E001FEF1E1C4991C7EA0FF80007C7000EEC03E043267E
A449>I<D803E0137F3A07F801FFE03A0E3C0781F03A1C3E1E00F826383F387F00305B4A
137C00705B00605BA200E090C712FC485A137EA20000140101FE5C5BA2150300015D5B15
075E120349010F133016C0031F13700007ED80605B17E0EE00C0000F15014915801603EE
0700001FEC0F0E49EB07FC0007C7EA01F02C267EA432>I<90390F8003F090391FE00FFC
903939F03C1F903A70F8700F80903AE0FDE007C09038C0FF80030013E000014913030180
15F05CEA038113015CA2D800031407A25CA20107140FA24A14E0A2010F141F17C05CEE3F
80131FEE7F004A137E16FE013F5C6E485A4B5A6E485A90397F700F80DA383FC7FC90387E
1FFCEC07E001FEC9FCA25BA21201A25BA21203A25B1207B512C0A32C3583A42A>112
D<14FF010313C090380F80F090383E00380178131C153C4913FC0001130113E0A33903F0
00F06D13007F3801FFE014FC14FF6C14806D13C0011F13E013039038003FF01407140300
1E1301127FA24814E0A348EB03C012F800E0EB07800070EB0F006C133E001E13F83807FF
E0000190C7FC1E267CA427>115 D<EB01C0497E1307A4130F5CA3131F5CA3133F91C7FC
007FB51280A2B6FCD8007EC7FCA313FE5BA312015BA312035BA312075BA3120FEBC006A2
140E001F130CEB801C141814385C146014E0380F81C038078780D803FEC7FCEA00F81935
7EB31E>I<01F8EB03C0D803FEEB07E0D8070F130F000E018013F0121C12180038140700
301403D8701F130112601500D8E03F14E000C090C7FC5BEA007E16C013FE5B1501000115
805B150316001203495B1506150E150C151C151815385D00015C6D485A6C6C485AD97E0F
C7FCEB1FFEEB07F024267EA428>118 D<903907E001F090391FF807FC9039783E0E0F90
39E01F1C1FD801C09038383F803A03800FF07F0100EBE0FF5A000E4A1300000C157E021F
133C001C4AC7FC1218A2C7123FA292C8FCA25CA2147EA214FEA24A130CA20101141C001E
1518003F5BD87F81143801835C00FF1560010714E03AFE0E7C01C0D87C1C495A2778383E
0FC7FC391FF00FFC3907C003F029267EA42F>120 D<13F8D803FE1470D8070F14F8000E
EB8001121C121800381403003015F0EA701F1260013F130700E0010013E012C05BD8007E
130F16C013FE5B151F000115805BA2153F000315005BA25D157EA315FE5D140100011303
3800F80790387C1FF8EB3FF9EB0FE1EB00035DA2000E1307D83F805B007F495AA24A5A92
C7FCEB003E007C5B00705B6C485A381E07C06CB4C8FCEA01FC25367EA429>I
E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fl cmti7 7 4
/Fl 4 111 df<EB01FCEB07FF90381E0F8090383C03C01370EBF001D801E013E0EA03C0
A2EA0780A2000F130313005AA3003EEB07C0A448EB0F80A40078EB1F0012F8141E143EA2
143C48137C147800705B00785B13016C485AD83E0FC7FCEA0FFEEA03F01B2778A523>48
D<14181438147814F81301EB03F0130FEA01FF13F3380003E0A21307A214C0A2130FA214
80A2131FA21400A25BA2133EA2137EA2137CA213FCA25BA21201B512F0A2152678A523>
I<130E131E133EA2131C1300A8EA03C0EA07F0EA0C78121812381230EA70F8A212E0EAE1
F01201EA03E0A3EA07C0A2EA0F801387A2EA1F07130EA2EA1E0C131CEA0E38EA0FF0EA03
C010287BA615>105 D<3907803F80390FE0FFC0391CF1C1E03938F301F0EBFE00485A81
495B00E1130113F01201A24848485AA34A5AEA07C0EDC380EC0F83A23A0F801F0700A215
0EEC0F0CD81F005BEC07F0000E6D5A211B7B9926>110 D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fm cmti10 10 5
/Fm 5 122 df<ED01F815FFA3150316F0A21507A216E0A2150FA216C0A2151FA21680A2
153FA202F81300EB07FE90381F877F90383E03FF017C5BEBF80112013803F00048485B12
0FEBC001121F5DEA3F801403127F01005BA214075A485CA2140FA248ECC1C0A2141F15C3
ED8380143F1587007C017F1300ECFF076C485B9038038F8E391F0F079E3907FE03FC3901
F000F0253B77B92A>100 D<147F903803FFC090380FC1E090383F00F0017E13785B485A
485A485A120F4913F8001F14F0383F8001EC07E0EC1F80397F81FF00EBFFF891C7FC90C8
FC5A5AA55AA21530007C14381578007E14F0003EEB01E0EC03C06CEB0F806CEB3E003807
81F83803FFE0C690C7FC1D2677A426>I<9039078007C090391FE03FF090393CF0787C90
3938F8E03E9038787FC00170497EECFF00D9F0FE148013E05CEA01E113C15CA2D8000314
3FA25CA20107147FA24A1400A2010F5C5E5C4B5A131F5EEC80035E013F495A6E485A5E6E
48C7FC017F133EEC70FC90387E3FF0EC0F8001FEC9FCA25BA21201A25BA21203A25B1207
B512C0A3293580A42A>112 D<903907E007C090391FF81FF89039787C383C9038F03E70
3A01E01EE0FE3803C01F018013C0D8070014FC481480000E1570023F1300001E91C7FC12
1CA2C75AA2147EA214FEA25CA21301A24A1370A2010314F016E0001C5B007E1401010714
C000FEEC0380010F1307010EEB0F0039781CF81E9038387C3C393FF03FF03907C00FC027
267CA427>120 D<13F0D803FCEB01C0D8071EEB03E0D80E1F1307121C123C0038140F49
14C01270A249131FD8F07E148012E013FEC648133F160012015B5D0003147E5BA215FE00
075C5BA214015DA314035D14070003130FEBF01F3901F87FE038007FF7EB1FC7EB000F5D
A2141F003F5C48133F92C7FC147E147C007E13FC387001F8EB03E06C485A383C1F80D80F
FEC8FCEA03F0233679A428>I E
%EndDVIPSBitmapFont
/Fn 134[42 42 60 42 42 23 32 28 42 42 42 42 65 23 42
23 23 42 42 28 37 42 37 42 37 12[51 46 3[60 60 12[60
3[47 1[23 23 5[42 42 4[21 1[21 2[28 28 37[46 2[{
TeXBase1Encoding ReEncodeFont}40 83.022 /Times-Roman
rf
%DVIPSBitmapFont: Fo cmmi8 8 5
/Fo 5 111 df<123C127EB4FCA21380A2127F123D1201A312031300A25A1206120E5A5A
5A126009157A8714>59 D<EB03F8EB0FFE90383E0780EBF803D801F013C03803E001EA07
C0000F1303D81F8013801407393F000F00141E387F01FCEBFFF091C7FC007EC8FC12FE5A
A4127C156015E0EC01C06CEB0380EC0F006C131C380F81F83803FFE0C648C7FC1B1F7D9D
21>101 D<1307EB0F80EB1FC0A2EB0F80EB070090C7FCA9EA01E0EA07F8EA0E3CEA1C3E
123812301270EA607EEAE07C12C013FC485A120012015B12035BA21207EBC04014C0120F
13801381381F01801303EB0700EA0F06131EEA07F8EA01F0122E7EAC18>105
D<131FEA03FFA2EA003FA2133EA2137EA2137CA213FCA25BA2120115F89038F003FCEC0F
0E0003EB1C1EEC387EEBE07014E03807E1C09038E3803849C7FC13CEEA0FDC13F8A2EBFF
80381F9FE0EB83F0EB01F81300481404150C123EA2007E141C1518007CEBF038ECF83000
FC1470EC78E048EB3FC00070EB0F801F2F7DAD25>107 D<3907C007E0391FE03FF83918
F8783E393879E01E39307B801F38707F00126013FEEAE0FC12C05B00815C0001143E5BA2
0003147E157C5B15FC0007ECF8081618EBC00115F0000F1538913803E0300180147016E0
001F010113C015E390C7EAFF00000E143E251F7E9D2B>110 D E
%EndDVIPSBitmapFont
/Fp 103[50 15[50 10[50 50 50 50 50 50 50 50 50 50 50
50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50
50 50 1[50 50 50 50 50 50 50 50 50 50 50 50 50 50 50
50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50
50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50
50 50 50 50 50 50 50 50 50 50 33[{TeXBase1Encoding ReEncodeFont}94
83.022 /Courier rf
%DVIPSBitmapFont: Fq cmmi10 10.95 36
/Fq 36 123 df<EC1FF8903801FFFC010713F890381FF000EB3F8001FEC7FC485A485A48
5A120F485AA2485AA2485AA290B512C0B6FC150090C8FCA35AA7127E127F7EA26C7E000F
14703907C001F03903E003E03901F81F8039007FFE00EB0FF01E287CA625>15
D<131C013E141F017EEC7FC0ED01FFED07BF01FEEB1E3F033813804913709238E01E0000
014948C7FCEC0780D9F80EC8FC5C00035B14F0EBF3C001FFC9FC4813F0ECFF8001E013F0
EC07FC000FEB00FE157F496D7EA2001F141F17705BA2003F16F0033F13E090C71300A248
ED01C0A2007EEC1F03178000FE91380F0700168E48EC07FC0038EC01F02C297CA734>20
D<011FB612FE017F15FF48B8FC5A4816FE3B0FC03801C000EA1F00003E1403003C01785B
4813705AECF0075AC712E0010191C7FCA25DEB03C0A313071480A2010F5BA2EB1F0082A2
133EA2137E825B150F0001815B120315075BC648EB038030287DA634>25
D<011FB612C090B7FC5A5A481680260FC007C8FC48C65A123E003C130E48131E5A5AA2C7
5AA3147CA2147814F8A4495AA31303A25CA21307A3495AA3131FA25C6DC9FC2A287DA628
>28 D<121EEA7F80A2EAFFC0A4EA7F80A2EA1E000A0A798919>58
D<121EEA7F8012FF13C0A213E0A3127FEA1E601200A413E013C0A312011380120313005A
120E5A1218123812300B1C798919>I<183818FC1703EF0FF8EF3FE0EFFF80933803FE00
EE0FF8EE3FE0EEFF80DB03FEC7FCED0FF8ED3FE0EDFF80DA03FEC8FCEC0FF8EC3FE0ECFF
80D903FEC9FCEB0FF8EB3FE0EBFF80D803FECAFCEA0FF8EA3FE0EA7F8000FECBFCA2EA7F
80EA3FE0EA0FF8EA03FEC66C7EEB3FE0EB0FF8EB03FE903800FF80EC3FE0EC0FF8EC03FE
913800FF80ED3FE0ED0FF8ED03FE923800FF80EE3FE0EE0FF8EE03FE933800FF80EF3FE0
EF0FF8EF03FC17001838363678B147>I<ED0180ED03C01507A21680150FA216005DA215
1E153EA2153C157CA2157815F8A25D1401A25D1403A25D1407A25D140FA24AC7FCA2141E
143EA2143C147CA2147814F8A25C1301A25C1303A25C1307A25C130FA291C8FC5BA2131E
133EA25BA2137813F8A25B1201A25B1203A25B1207A25B120FA290C9FC5AA2121E123EA2
123C127CA2127812F8A25A1260225B7BC32D>I<126012F8B4FCEA7FC0EA1FF0EA07FCEA
01FF38007FC0EB1FF0EB07FCEB01FF9038007FC0EC1FF0EC07FCEC01FF9138007FC0ED1F
F0ED07FCED01FF9238007FC0EE1FF0EE07FCEE01FF9338007FC0EF1FF0EF07F8EF01FCA2
EF07F8EF1FF0EF7FC0933801FF00EE07FCEE1FF0EE7FC04B48C7FCED07FCED1FF0ED7FC0
4A48C8FCEC07FCEC1FF0EC7FC04948C9FCEB07FCEB1FF0EB7FC04848CAFCEA07FCEA1FF0
EA7FC048CBFC12FC1270363678B147>I<DC1FF81307923801FFFE030F9038FF800E923A
7FF007E01E4A48C7EAF03EDA03FCEC787EDA0FF0EC3CFCDA3FC0141F4A48140F4AC8FC49
48ED07F8EB07F849481503131F4A16F049481501495A13FF4890C913E05B1203485A19C0
485AA2485A95C7FC123F5BA2127F5BA312FF5BA590CCFC183CA21838A21878187018F06C
6C5E17014D5A003F5F6D15074DC7FC001F161E6C6C5D6D5D6C6C5D00034B5AD801FEEC07
C06C6C4AC8FCD97FC0137E90391FF803F80107B512E0010114809026001FF8C9FC40427B
BF41>67 D<49B612F0A3D900010180C7FC93C8FC5DA314035DA314075DA3140F5DA3141F
5DA3143F5DA3147F5DA314FF92C9FCA35B5C180C181E0103161C5C183C183813074A1578
187018F0130F4AEC01E0A21703011FED07C04A140F171F013FED3F8017FF4A1303017F02
1F1300B9FCA25F373E7DBD3E>76 D<49B56C49B512F81BF0A290C76D9039000FFE004AEE
03F0705D735A03DF150302037F038F5E82190791380787FC030793C7FC1503705C140F91
260E01FF140EA26F151E021E80021C017F141C83193C023C6D7E02381638161F71137814
7802706D6C1370A2040714F002F0804A01035C8318010101EC01FF4A5E82188313034A91
387FC380A2EF3FC7010716E791C8001F90C8FC18F718FF4981010E5E1707A2131E011C6F
5AA2013C1501137C01FE6F5AEA03FFB512FC187818704D3E7DBD49>78
D<48B912FCA25A913A0003FE000F01F84A1301D807E0EE00F8491307491778000F5D90C7
FC001E140FA2001C4B1470123C0038141FA200785D1270033F15F000F018E0485DC81600
157FA25EA215FFA293C9FCA25CA25DA21403A25DA21407A25DA2140FA25DA2141FA25DA2
143FA25DA2147FA214FF497F001FB612FCA25E3E3D7FBC35>84 D<EC1F80ECFFE0903903
F0707090390FC039F890381F801D90383F000F017E5C5B00011407485A48485CA2485A00
1F140F5E485AA2151F007F5D5BA2153F00FF92C7FC90C7FCA25D92387E03805AA215FEED
FC07007E0101140014035E6C0107130E140E3A1F801C7C1C000F13783A07C1F03E383A01
FFC01FF03A007F0007C029297DA730>97 D<EB1FC0EA0FFF5CA2EA003FA291C8FCA25BA2
137EA213FEA25BA21201A25BA21203A25BEC3F800007EBFFE09038F3C1F849C67E01FE13
7E4848133E49133F5B491480001F141F5B5BED3FC0123FA290C7FCA248147F1680127EA2
15FF00FE15005AA24A5AA25D1403485C1407007C5C4A5A5D003C495A003E49C7FC001E13
7E6C13F8380783F03803FFC0C648C8FC22407CBE27>I<EC07F0EC7FFE903801FC0F9039
07E0038090390FC001C0D93F8013E090387F000701FE131F485A485A16C0485A000F1580
4990C7FC121F485AA3127F5BA312FF90C9FCA6007E1560007F15E01501ED03C06CEC0780
6DEB0F00001F141E6C6C137C3907E001F03901F01FC06CB5C7FCEB1FF023297DA727>I<
EE07F0ED03FF17E0A2ED000FA217C0A2161FA21780A2163FA21700A25EA2167EA216FEA2
5EEC1F80ECFFE1903803F07190390FC039F890381F801D90383F000F137E495C00011407
485A485A5E485A001F140FA248485CA2151F127F495CA2153F12FF90C790C7FCA25DEE03
8048147EA215FE1607007ED901FC130014035E6C0107130E140E3A1F801C7C1C000F1378
3A07C1F03E383A01FFC01FF03A007F0007C02C407DBE2F>I<EC1FE0ECFFFC903803F01E
90380FC00F90393F800780D97E0013C0491303EA03F8120749130748481480121F49130F
003FEC1F00153E397F8001FCEC1FF090B51280B500F8C7FC90C9FCA45AA616C01501007E
1403ED07806CEC0F00151E6C5C6C6C13F83907C003E03903E03F802600FFFEC7FCEB3FE0
22297CA72A>I<163EEEFFC0923803E1E0923807C0F0ED0F811687ED1F8F160F153FA217
E092387E038093C7FCA45DA514015DA30103B512FCA390260003F0C7FCA314075DA4140F
5DA5141F5DA4143F92C8FCA45C147EA414FE5CA413015CA4495AA35CEA1E07127F5C12FF
495AA200FE90C9FCEAF81EEA703EEA7878EA1FF0EA07C02C537CBF2D>I<EC01F8EC0FFE
91383F07879139FC03DF80903801F801903903F000FFEB0FE04948EB7F005C133F49C7FC
49147E5B000115FEA248485CA215011207495CA21503120F495CA21507A25E5B0007140F
A24B5A6D133F0003147F000114FF6D485B0000EB03DF90387E0F3FEB1FFCD907F090C7FC
90C7FC5DA2157EA215FEA25D001C1301007F5C4813035D4A5A4A5A48495A00F8017EC8FC
387E01FC381FFFE0000390C9FC293B7FA72B>I<143C14FEA21301A314FCEB00701400AD
137E3801FF803803C7C0EA0703000F13E0120E121C13071238A2EA780F007013C0A2EAF0
1F14801200133F14005B137EA213FE5BA212015B0003130E13F0A20007131EEBE01CA214
3CEBC0381478147014E013C13803E3C03801FF00EA007C173E7EBC1F>105
D<EB01FC13FF5CA21303A25CA21307A25CA2130FA25CA2131FA25CA2133FA291C9FC16FC
49EB03FE92380F0780017EEB3C0FED703F01FE13E0913801C07F9038FC0380EC07000001
010E14004A131C494890C7FC5C00035BEBF9C0495A01FFC9FC5A14F0EBE3FE9038E07F80
000FEB1FC06E7EEBC00781001F1303160E1380A2003F151E0207131C010013E0A2485DA2
007E01031378167000FE01015B15F1489038007F800038023EC7FC29407CBE2F>107
D<EB07F0EA03FF14E0A2EA000FA214C0A2131FA21480A2133FA21400A25BA2137EA213FE
A25BA21201A25BA21203A25BA21207A25BA2120FA25BA2121FA25BA2123FA290C7FCA25A
EB0380127EA212FE130700FC1300A25B130EA2EA7C1C133CEA3E38EA1FF0EA07C014407D
BE1B>I<01F8D907F0EB07F8D803FED93FFEEB1FFE28078F80F81FEB781F3E0F0F81C00F
81E00F803E0E07C78007C3C007C0001CD9CF00EBC78002FEDAEF007F003C4914FE003849
5C49485C12780070495CA200F0494948130F011F600000495CA2041F141F013F6091C75B
193F043F92C7FC5B017E92C75A197E5E01FE9438FE01C049027E14FCA204FE0101130300
0106F81380495CF20700030115F00003190E494A151E1A1C03035E0007943800F8F0494A
EC7FE0D801C0D900E0EC1F804A297EA750>I<01F8EB0FF0D803FEEB3FFC3A078F80F03E
3A0F0F83C01F3B0E07C7800F80001CEBCF0002FE80003C5B00385B495A127800705BA200
F049131F011F5D00005BA2163F013F92C7FC91C7FC5E167E5B017E14FE5EA201FE0101EB
03804914F8A203031307000103F013005B170E16E000035E49153C17385F0007913801F1
E0496DB45AD801C0023FC7FC31297EA737>I<EC07F8EC7FFE903901FC0F80903907E007
E090390FC003F090393F8001F8EB7F0001FEEB00FC485A484814FEA2485A120F5B001F15
FF485AA2ED01FE127F5BA2150300FF15FC90C7FCA2ED07F8A2ED0FF0A2007E15E0007FEC
1FC0ED3F80A26CEC7F006C6C13FC4A5A6C6C485A3907E00FC02601F03FC7FC3800FFFCEB
1FE028297DA72C>I<D907C013FE903A0FF003FF80903A1C7C0F07E0903A383C1C03F090
3A783E7801F80170EBF0009026F03FE013FC01E05B4B13FE0001017F147E01C090C7FC14
7E17FF000313FEA2C75AA201015C17FE5CA20103140317FC5CA20107EC07F8A24A14F016
0F010F15E0161F17C0EE3F80011F15006E137E5E9138B801F890393FBC03E091389E0FC0
DA07FFC7FCEC01F849C9FCA2137EA213FEA25BA21201A25BA21203A2B512E0A3303A84A7
2E>I<91381F800C9138FFE01C903903F0707C90390FC0387890391F801CF890383F000F
137E4914F000011407485A485A16E0485A121F150F484814C0A3007F141F491480A300FF
143F90C71300A35D48147EA315FE007E495A1403A26C13074A5A381F801D000F13793807
C1F33901FFC3F038007F03130014075DA3140F5DA3141F5DA2143F147F90381FFFFE5BA2
263A7DA729>I<D801F0EB3F80D807FCEBFFE03A0F1F03C0F0000E90380F00F8391E0F9E
03001C13BC003CEBF807003813F0A226781FE013F000709038C001C092C7FC5C12F0133F
000090C8FCA35B137EA313FE5BA312015BA312035BA312075BA3120F5BEA038025297EA7
29>I<EC1FC0ECFFF8903803E03C903807800E90381E0007168049130F49131F153FA201
F81400A2151C6D90C7FC7FEBFFE014FE90387FFFC06D7F6D13F86D7F13039038001FFE14
031400157E000C143E123F487EA248C7123CA25D12FC00F05C0070495A0078495A6C495A
260F803EC7FC3803FFF838007FC021297CA72B>I<147014FC1301A25CA21303A25CA213
07A25CA2130FA25CA2007FB512F0B6FC15E039001F8000133FA291C7FCA25BA2137EA213
FEA25BA21201A25BA21203A25BA21207EC01C013E01403000F1480A2EBC0071500140E14
1E5C000713385C3803E1E03801FF80D8003EC7FC1C3A7EB821>I<137C48B4EC03802603
C7C0EB0FC0EA0703000F7F000E151F121C010715801238163FEA780F0070491400A2D8F0
1F5C5C0000157E133F91C712FEA2495C137E150113FE495CA215030001161C4914F0A215
07173CEEE038150F031F1378000016706D133F017C017313F0017E01E313E0903A3F03C1
F1C0903A0FFF007F80D901FCEB1F002E297EA734>I<017E147848B4EB01FC2603C7C013
FED807031303000F13E0120E121C0107130100381400167ED8780F143E00705B161EEAF0
1F4A131C1200133F91C7123C16385B137E167801FE14705B16F016E0120149EB01C0A2ED
0380A2ED0700A20000140E5D6D133C017C5B6D5B90381F03C0903807FF80D901FCC7FC27
297EA72C>I<013EEE0380D9FF800107EB0FE02601C3E090381F801FD8038117F0380701
F0000E153F001E1600D81C03160F003C170700384BEB03E0D87807147E00705B1801D8F0
0F14FE4A4914C01200131FDA800114034C1480133F140003031407494A1400137EA26001
FE0107140E495C60A360150F017C5E017E011F14F0705B6D0139495A6D903970F8038090
280FC0E07C0FC7FC903A03FFC01FFC903A007F0007F03C297EA741>I<D901F8133FD907
FEEBFFE0903A1E0F83C0F0903A3807C780F890397003CF0301E013FED801C0EBFC071203
018013F8D8070015F0EE01C0000E4AC7FCA2001E1307A2C75BA2140F5DA3141F5DA3143F
92380001C0A34A1303001E1680003F017E1307267F80FE14005ED8FF81141ED901DF131C
D8FE035C3A7C078F80F03A3C0F07C1E03A1FFC03FF802707F0007EC7FC2D297EA734>I<
02F8130ED903FE131ED90FFF131C49EB803C49EBC0784914F090397E07F1E09038F800FF
49EB1FC049EB07800001EC0F006C48131E90C75A5D5D4A5A4A5A4A5A4AC7FC143E14785C
495A495A495A49C8FC011E14E05B5B4913014848EB03C0485AD807F8EB078048B4131F3A
1F87E07F00391E03FFFE486C5B00785CD870005B00F0EB7FC048011FC7FC27297DA72A>
122 D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fr cmsy6 6 1
/Fr 1 49 df<EA01E0EA03F0A4EA07E0A213C0120FA21380A2EA1F00A2121EA2123E123C
A25AA3127012F05A12600C1A7E9B12>48 D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fs cmsy8 8 7
/Fs 7 107 df<B812C0A32A037A9137>0 D<137813FE1201A3120313FCA3EA07F8A313F0
A2EA0FE0A313C0121F1380A3EA3F00A3123E127E127CA35AA35A0F227EA413>48
D<141F14FFEB03F0EB0FC0EB1F8014005B133EB3A2137E137C13FC485A485AEA7FC048C7
FCEA7FC0EA03F06C7E6C7E137C137E133EB3A2133F7F1480EB0FC0EB03F0EB00FF141F18
437BB123>102 D<12FCB47EEA0FE0EA01F0EA00FC137C137E133EB3A37F1480130FEB07
E0EB01FEEB007FEB01FEEB07E0EB0F80131F1400133EB3A3137E137C13FCEA01F0EA0FE0
EAFF8000FCC7FC18437BB123>I<13031307130F130EA2131E131C133C1338A213781370
13F013E0A2120113C01203138012071300A25A120E121E121CA2123C123812781270A212
F05A7E1270A212781238123C121CA2121E120E120F7EA21380120313C0120113E01200A2
13F0137013781338A2133C131C131E130EA2130F1307130310437AB11B>I<12E0A27E12
70A212781238123C121CA2121E120E120F7EA21380120313C0120113E01200A213F01370
13781338A2133C131C131E130EA2130F1307130F130EA2131E131C133C1338A213781370
13F013E0A2120113C01203138012071300A25A120E121E121CA2123C123812781270A212
F05AA210437CB11B>I<12E0B3B3B3AD034378B114>I E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Ft cmr10 10.95 24
/Ft 24 117 df<1430147014E0EB01C0EB03801307EB0F00131E133E133C5B13F85B1201
5B1203A2485AA2120F5BA2121F90C7FCA25AA3123E127EA6127C12FCB2127C127EA6123E
123FA37EA27F120FA27F1207A26C7EA212017F12007F13787F133E131E7FEB07801303EB
01C0EB00E014701430145A77C323>40 D<12C07E12707E7E121E7E6C7E7F12036C7E7F12
007F1378137CA27FA2133F7FA21480130FA214C0A3130714E0A6130314F0B214E01307A6
14C0130FA31480A2131F1400A25B133EA25BA2137813F85B12015B485A12075B48C7FC12
1E121C5A5A5A5A145A7BC323>I<1506150FB3A9007FB912E0BA12F0A26C18E0C8000FC9
FCB3A915063C3C7BB447>43 D<EB01FE90380FFFC090383F03F090387C00F849137C4848
7F48487F4848EB0F80A2000F15C04848EB07E0A3003F15F0A290C712034815F8A64815FC
B3A26C15F8A56C6CEB07F0A3001F15E0A36C6CEB0FC0A26C6CEB1F80000315006C6C133E
6C6C5B017C5B90383F03F090380FFFC0D901FEC7FC263F7DBC2D>48
D<EB01C013031307131F137FEA07FFB5FC139FEAF81F1200B3B3ACEB7FF0B612F8A31D3D
78BC2D>I<EB07FC90383FFF8090B512E03903F01FF83907C007FC390F0001FE001E6D7E
001C1580003CEC7FC05AED3FE01270B4FC6DEB1FF07FA56C5A6CC7FC120CC813E0153FA2
16C0157F168015FF16004A5A5D4A5A4A5A5D4A5A4A5A4AC7FC147E147C5C495A495A495A
495A49C71270133E133C5B4914E0485A485A485A48C7120148B6FCA25A4815C0B7FCA324
3D7CBC2D>I<EB07FC90383FFF809038F80FE03901E003F839078001FCD80F007F000E6D
7E001E1580D81F80137F486C14C07FA27F5BA2121F6C5AC8138015FF1600A24A5AA24A5A
5DEC07E04A5A023FC7FCEB1FFCECFF809038000FE0EC07F86E7E6E7E6E7E1680ED7FC0A2
16E0153FA216F0A2120C123F487E487EA316E0A249137F6CC713C01278EDFF807E6C4913
006C495A3907C007FC3903F80FF0C6B55A013F1380D907F8C7FC243F7CBC2D>I<150E15
1E153EA2157EA215FE1401A21403EC077E1406140E141CA214381470A214E0EB01C0A2EB
0380EB0700A2130E5BA25B5BA25B5B1201485A90C7FC5A120E120C121C5AA25A5AB8FCA3
C8EAFE00AC4A7E49B6FCA3283E7EBD2D>I<00061403D80780131F01F813FE90B5FC5D5D
5D15C092C7FC14FCEB3FE090C9FCACEB01FE90380FFF8090383E03E090387001F8496C7E
49137E497F90C713800006141FC813C0A216E0150FA316F0A3120C127F7F12FFA416E090
C7121F12FC007015C012780038EC3F80123C6CEC7F00001F14FE6C6C485A6C6C485A3903
F80FE0C6B55A013F90C7FCEB07F8243F7CBC2D>I<EC1FE0ECFFF8903803F03E90380FC0
0F90391F000780133E017EEB1FC049133F4848137F12035B12074848EB3F80ED1F00001F
91C7FC5BA2123FA3485AA214FE903887FF8039FF8F07E090389C01F09038B800FC01B013
7E13F0497F16804914C0A2ED1FE0A34914F0A5127FA6123F6D14E0A2121FED3FC0A26C6C
1480A20007EC7F006C6C137E6C6C5B6C6C485A90387E07F06DB45A010F1380D903FCC7FC
243F7CBC2D>I<121EEA7F80A2EAFFC0A4EA7F80A2EA1E00C7FCB3121EEA7F80A2EAFFC0
A4EA7F80A2EA1E000A2779A619>58 D<007FB912E0BA12F0A26C18E0CDFCAE007FB912E0
BA12F0A26C18E03C167BA147>61 D<ED7FE0913807FFFE91391F801F809139780001E0D9
01E0EB0078D90780141E49C87E011E6F7E0138ED01C0496F7E4916700001177848488249
D93F80131C28070001FFF07F48902607E07C130F000E90260FC01E7F001E90263F000714
80001C499038038003003C01FED901C013C0003849ECFE010101EC00FF267803F8027F13
E000701700495AA200F018F000E01870495AA96D7E12F01270A26D7E007818E0263801FC
5C01005C003C7F001C017F49EB01C0001E6DEB077F000E903B0FC01E3F8380000F903B07
E07C1F87006C903A01FFF007FE3C0380003F8001F86D90CAFC6C7E120013707F011EEE03
F06D160F6D6CED3FC0D901E0913801FE00D90078EC1FF0913A1F8003FF800207B500F8C7
FC9126007FFEC8FC3C417BBF47>64 D<EAFFFCA4EAF000B3B3B3B3ABEAFFFCA40E5B77C3
19>91 D<EAFFFCA4EA003CB3B3B3B3ABEAFFFCA40E5B7FC319>93
D<EB0FF8EBFFFE3903F01F8039078007E0000F6D7E9038E001F8D81FF07F6E7EA3157F6C
5AEA0380C8FCA4EC1FFF0103B5FC90381FF87FEB7F803801FC00EA07F8EA0FE0485A485A
A248C7FCEE038012FEA315FFA3007F5BEC03BF3B3F80071F8700261FC00E13CF3A07F03C
0FFE3A01FFF807FC3A003FC001F0292A7DA82D>97 D<49B4FC010F13E090383F00F8017C
131E4848131F4848137F0007ECFF80485A5B121FA24848EB7F00151C007F91C7FCA290C9
FC5AAB6C7EA3003FEC01C07F001F140316806C6C13076C6C14000003140E6C6C131E6C6C
137890383F01F090380FFFC0D901FEC7FC222A7DA828>99 D<ED01FC15FFA31507150315
01B114FF010713E190381F80F990387E003D49131FD803F81307485A4913034848130112
1F123F5B127FA290C7FCA25AAA7E7FA2123FA26C7E000F14037F000714076C6C497E6C6C
497ED8007C017913F890383F01F190380FFFC1903A01FE01FC002D407DBE33>I<EA01E0
EA07F8A2487EA46C5AA2EA01E0C8FCACEA01FC127FA3120712031201B3AC487EB512F0A3
143E7DBD1A>105 D<EA01FC12FFA3120712031201B3B3B1487EB512F8A3153F7DBE1A>
108 D<3901F801FE00FF903807FFC091381E07E091387803F000079038E001F82603F9C0
7F0001138001FB6D7E91C7FC13FF5BA25BB3A6486C497EB5D8F87F13FCA32E287DA733>
110 D<3901F807E000FFEB1FF8EC787CECE1FE3807F9C100031381EA01FB1401EC00FC01
FF1330491300A35BB3A5487EB512FEA31F287EA724>114 D<90383FC0603901FFF8E038
07C03F381F000F003E1307003C1303127C0078130112F81400A27E7E7E6D1300EA7FF8EB
FFC06C13F86C13FE6C7F6C1480000114C0D8003F13E0010313F0EB001FEC0FF800E01303
A214017E1400A27E15F07E14016C14E06CEB03C0903880078039F3E01F0038E0FFFC38C0
1FE01D2A7DA824>I<131CA6133CA4137CA213FCA2120112031207001FB512C0B6FCA2D8
01FCC7FCB3A215E0A912009038FE01C0A2EB7F03013F138090381F8700EB07FEEB01F81B
397EB723>I E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fu cmti8 8 31
/Fu 31 122 df<147F903803FFC090380783E090381F00F0013C13F849137813F849137C
1201485AA2485AA2000F14FC5B121FA215F8383F0001A4007EEB03F0A448EB07E0A315C0
140F5A1580141F1500A2143E143C5C007813F8495A6C485A381F0F80D80FFEC7FCEA03F8
1E2D78AB24>48 D<14031407140F141E143E147E14FEEB03FCEB1F7CEB7CFC1360EB00F8
A21301A214F0A21303A214E0A21307A214C0A2130FA21480A2131FA21400A25BA2133EA2
137EA2137CA213FCB512F8A2182C79AB24>I<147F903801FFC0903807C1F090380F00F8
011E137C13380178133E13F3EBE380D801E1133F13C1120313810183137F0007EB007E5B
1306010E13FE4913FC3903F801F83901E003F0C7EA07E0EC0FC0EC1F80EC3F0014FC495A
EB07E0EB0F80013EC7FC5BEA01F04848131C4848133C49133848C7FC001E14784814F038
3FC001397FFE03E00078B512C0EA703FD8F00F130038E003FEEB00F8202D7AAB24>I<EC
7F80903801FFE0903807C0F890381E007C49133C49133E49131EEA01E613C701C3133E12
0313831387D801CE137E01FC137CD8007813F890C7FCEC01F0EC03E0EC0F80EC3F00EB0F
FCA2EB001E141FEC0F80A215C0A41218127C141F00FC1480A248133F00E01400147E6C5B
387001F8387803F0383C0FC0D80FFFC7FCEA03F81F2D79AB24>I<EC1FC0EC7FF0903801
F078903807C03890380F807890381F00F8EB3E01137C13F83901F000E01500485A12075B
120FA2381F87E0EB9FF8383FF83CEBE01EEBC01FA248487E01001380A2007E131F12FE5A
A2143F15005AA25C147EA25C5C130100785B495A6C485AD81E1FC7FCEA0FFCEA03F01D2D
77AB24>54 D<3A01C3E001C09038CFF0033A03FFF80780ED0F00485C9038F8383E390FE0
1C7C9038C00FFC48486C5A001EC7FC003E5C003C495A5A0070495A00F01307485CC7120F
4AC7FCA2143EA25CA214FC5C13015C1303A2495AA2130F5CA2131F5CA2133FA291C8FC5B
A2137EA21338222D77AB24>I<143FECFFC0903803E1E090380F80F090381F0078133E01
7E137C5B5B1201A2485AA215FC12075BA2140115F8EBC003A2140715F00003130FEBE01F
0001133F3900F077E0EB7FE7EB1F879038000FC0A2EC1F80A21500143E0038137E007E13
7C00FE5B495A48485A48485A38700F80D8781EC7FCEA3FF8EA0FE01E2D79AB24>57
D<16E01501821503A21507150FA2151FA2153B157B157315E382EC01C114031581EC0701
A2140EA2141C143C143802707F15005C13015C49B5FCA249C7FCA2130E131E131C498016
7E5B13F0485AA21203D80FF014FFD8FFFC011F13F0A22C2F7CAE35>65
D<DA01FE133091390FFFC07091393F01E0F09138F80079D903E0133D4948EB1FE0D91F80
130F49C7FC017E14074915C0485A485A5B00071680485AA2485A170048CAFCA25A127EA3
12FE5AA5163848157816707E16F0007C5D15014B5A6C5D4BC7FC6C140E6C6C133C6C6C5B
6C6C485A3900F80FC0D97FFFC8FCEB0FF82C2F75AD33>67 D<D91FFE903803FFF8A2D900
FF9038003F80EF1E00A26F131C49153C6F133814CFA201036D137802C714701487EC83F0
010715F06F5B1401A2010FEBFC0102005C130E157E011E1403037F5B011C133FA2013C14
87031F90C7FC1338ED0FC7017814CF16EE01701307A201F014FE6F5A5B150112015E4913
00487E120FD8FFFE1470A2352D7BAC35>78 D<B56CEBFFFCA2D80FF8C7EA1FC06C481500
0003151E6D5C5E000115706D5C4B5A00004A5A6D13074BC7FC017E131E017F131C5D6D6C
5A5D148190381FC3C0ECC780010F90C8FC14EE14FC6D5AA25C5CA35C130FA35C131FA391
C9FC5BA35B381FFFF8A22E2D72AC35>89 D<EB07C0EB1FF090387C39C0EBF81FEA01F038
03E00FEA07C0120FD81F801380A2EA3F00141F481400127EA25C00FE133E5AA2EC7E18EC
7C385AA214FCD878011378397C03F870A2393C0F78E0381E1E3D390FF81FC03903E00F00
1D1F799D24>97 D<13F8121FA21201A25BA21203A25BA21207A25BA2120FEBC7C0EB9FF0
EBF878381FF03CEBE03EEBC01EEB801FEA3F00A2123EA2007E133FA2127CA2147F00FC13
7E5AA214FCA214F8130114F0EB03E0EA780714C0383C0F80381E3E00EA0FF8EA03E0182F
78AD21>I<EB01F8EB0FFE90383E0780EBFC03D801F013C03803E0070007130FEA0FC001
801380121F48C8FCA25A127EA312FE5AA5EC0180007CEB03C0EC0780EC0F006C131E001E
137C380F83F03807FFC0C648C7FC1A1F799D21>I<153EEC07FEA2EC007EA2157CA215FC
A215F8A21401A215F0A21403EB07C390381FF3E0EB7C3BEBF81FEA01F03903E00FC0EA07
C0120FEA1F801580EA3F00141F5A007E1400A25C12FE48133EA2EC7E18153848137CA214
FCD878011378397C03F870A2393C0F78E0381E1E3D390FF81FC03903E00F001F2F79AD24
>I<EB03F8EB0FFEEB3E0FEBF8073901F00380EA03E0EA07C0000F1307D81F8013005C38
3F001E5C387F03F8EBFFE049C7FC007EC8FC12FE5AA4127CEC0180EC03C0EC07806CEB0F
00141E6C137C380F83F03803FFC0C648C7FC1A1F799D21>I<131FEA03FFA2EA003FA213
3EA2137EA2137CA213FCA25BA21201147E9038F3FF809038F787C03903FE03E013FC13F8
A2EA07F013E0A213C0000F130715C01380A2001F130F15801300141F481406150E003E13
3F143E007E141EEC7E1C007C137CEC3C3812FC157048EB1FE00070EB07801F2F7BAD24>
104 D<130E131FEB3F80A2EB1F00130E90C7FCA9EA03E0EA0FF0EA1E78EA1C7C12381278
127013FCEAF0F812E012E1EAC1F0120112035B12075BA2120F13831387121F13075BEA3F
0E123EEA1E1C133C1338EA0FF0EA03C0112E7AAC16>I<EC0380EC07C0140FA3EC070091
C7FCA9EB01F0EB07FCEB0F1E131EEB1C1F13381378EB703FEBF03E13E0A2EBC07E130014
7CA214FCA25CA21301A25CA21303A25CA21307A25CA2130FA25CA2131F003890C7FCEAFC
3F133E5B485AEAF1F0EA7FC0001FC8FC1A3B82AC16>I<131FEA03FFA2EA003FA2133EA2
137EA2137CA213FCA25BA21201EC01E09038F007F0EC1E380003EB3878EC71F8EBE0E1EB
E1C13807E381EC00E049130013CEEA0FFC13F0A213FF381F9FC0EB87E0EB03F01301003F
14301570123EA2007E14F015E0007C13E014E100FC14C0903800F38048EB7F000070131E
1D2F7BAD21>I<137CEA0FFCA21200A213F8A21201A213F0A21203A213E0A21207A213C0
A2120FA21380A2121FA21300A25AA2123EA2127EA2127CA2EAFC30137012F8A213F013E0
12F012F113C012FBEA7F80EA1E000E2F7AAD12>I<3B07801FC007F03B1FE07FF01FFC3B
3DF1E0F8783E3B38F3C078F01E3B78FF007DC01FD870FEEB7F80A2D8F1FC1400D8E1F813
7EA249137C00C302FC5B0003163E495BA200070101147E177C01C05B17FC000F0103ECF8
3018700180EBE00117F0001F010715F0040313E0010001C013E0EFE1C048010F1301EFE3
80003E91398000FF00001C6DC7123C341F7A9D3A>I<3907801FC0391FE07FF0393DF1E0
F83938F3C0783978FF007CEA70FEA2EAF1FCEAE1F8A25B00C314FC00035C5BA200071301
5D13C01403000FECE0C015E1EB800715C1001F14C3020F13800100138391380787005A15
8E003EEB03FC001CEB00F0221F7A9D28>I<EB03F8EB0FFE90383E0F809038FC07C03801
F003D803E013E01207390FC001F01380121FEA3F0014035A127EA2140700FE14E05AA2EC
0FC0A2EC1F80A2007CEB3F00143E5C6C5B381E01F0380F07C06CB4C7FCEA01FC1C1F799D
24>I<90383C01F09038FF07FC3901E79E1E9038C7BC0F000301F81380903887F00702E0
13C038078FC0130F1480A2D8061F130F12001400A249131F1680133EA2017EEB3F00A201
7C133E157E01FC137C5DEBFE015D486C485AEC0F80D9F3FEC7FCEBF0F8000390C8FCA25B
A21207A25BA2120FA2EAFFFCA2222B7F9D24>I<903807C06090381FF0E0EB7C39EBF81F
EA01F03903E00FC0EA07C0120FEA1F801580EA3F00A248131F007E1400A300FE5B48133E
A3147E48137CA214FCEA7801387C03F8A2EA3C0FEA1E1F380FF9F0EA03E1EA000113035C
A313075CA2130FA23801FFFCA21B2B799D21>I<3807803E391FE0FF80393CF3C1C03938
F781E03878FF07EA70FE13FC12F139E1F8038091C7FC5B12C312035BA21207A25BA2120F
A25BA2121FA290C8FCA25AA2123E121C1B1F7A9D1E>I<EB0FC0EB7FF0EBF03C3801E01C
3803C01EEA0780143EA2000F133C1418EBC00013F813FF6C13C06C13E06C13F0EA007F13
0713031301EA780012FCA2130100F813E012E0EB03C038F0078038781F00EA1FFCEA07F0
171F7A9D1D>I<131C133EA2137EA2137CA213FCA25BA21201A2B512E0A23803F000A25B
A21207A25BA2120FA25BA2121FA290C7FCA24813C01301123E130314801307003C130013
0E131E6C5AEA0FF0EA07C0132B7AA918>I<3903C001C0390FF003E0391E7807F0EA1C7C
1238007813030070130113FCD8F0F813E012E000E1130038C1F001000114C0120313E014
030007148013C0A2EC0700120F1380140EA25C12076D5A00035B6D5AC6B45A013FC7FC1C
1F7A9D21>118 D<EA03C0D80FF01338D81E78137CD81C7C13FC003814F812781270EBFC
01D8F0F813F012E012E138C1F003000114E0120313E01407000714C013C0A2140F000F14
801380A2141F150000075B5C13C03803E1FE3801FFBE38007E3EEB007E147CA2003E5BA2
387E01F0A2387C03E0387007C06C485AD83C3EC7FCEA1FF8EA07E01E2C7A9D23>121
D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fv cmti10 10.95 47
/Fv 47 123 df<DC0FF0EB0F80DC7FFEEB3FE0922601FC0FEBF878923B03F00381F03C92
3B07C007C3E07C923B0F801FC7E1FC031F013F13C318CFED3F001983069F13F8037E9039
0E1F80E005001400183F03FE92C7FC5DA3600201157E5DA318FE02035D0103B9FCA26190
290003F00001FCC7FC14074B5CA41703020F5D5DA31707021F5D5DA3170F023F5D92C7FC
A3171F4A5D147EA3173F02FE92C8FC5CA35F0101157E5CA35F495AA34C5A495AA2001E02
F05B007F9038C3F803010F5D00FF018713075F0207495AD8FE1F4948C9FCD8F81EEBC01E
3A703C03803C3A787801E0F83A1FF000FFE0D807C0EB3F80465383BF38>11
D<933807FF80043F13E09338FE00F8DB01F0133EDB07E0130E4B48131F4C137F031F14FF
4BC7FCA218FE157E1878180015FE5DA31401A25DA414030103B712F0A218E0903A0003F0
00070207140F4B14C0A3171F020F15805DA2173F1800141F5D5F177EA2143F92C712FE5F
A34A1301027EECF81CA3160302FEECF03C4A1538A21878187013014A010113F018E09338
00F1C0EF7F804948EC1F0094C7FCA35C1307A2001E5B127F130F00FF5BA249CAFC12FEEA
F81EEA703CEA7878EA1FF0EA07C0385383BF33>I<EE07FC93393FFF87F09338FC07C792
3A03F001E7E0DB07C013F792390F8007FF031F4913C016005DA2037E1580EF039FEF001F
183F4B1500A3600201157E5DA218FE6014035D0103B7FC60A2903A0007F000014B130360
A31707020F5D5DA2170F60141F5D171F60A2143F92C7123F95C7FCA34A5C027EEC7E07A3
17FE02FE4A5A4A150EA2181E181C13014AEC7C3C1838EF3C70EF1FE04948EC07C094C8FC
A3495AA3001E5BEA7F0FA200FF5BA249CBFC12FEEAF83EEA703CEA7878EA1FF0EA07C03C
5383BF35>I<15FE913807FF8091381F07C091387C01F0ECF000494813F8494813780107
147C495A49C7FC167E133E137EA25BA2485AA2000315FEA25B000715FCA2491301120FA3
4848EB03F8A44848EB07F0A448C7EA0FE0A316C0007E141F12FE1680153FA2481500A215
7EA25DA25D4813015D6C495A127C4A5A4A5A6C49C7FC143E6C5B380FC1F03803FFC0C648
C8FC273F76BC2E>48 D<15031507150F151F151E153E157EEC01FEEC03FC1407141FEB01
FF90380FFBF8EB1FC3EB0E07130015F0A2140FA215E0A2141FA215C0A2143FA21580A214
7FA21500A25CA25CA21301A25CA21303A25CA21307A25CA2130FA25CA2131FA25CEB7FE0
B612F0A215E0203D77BC2E>I<15FE913803FFC091380F01F091383C00F84A137C4A7F49
48133F49487F4A148049C7FC5BEB0E0C011E15C0EB1C0EEB3C06133813781370020E133F
D9F00C148013E0141C0218137F00011600EBC0384A13FEEC600102E05B3A00E3C003F890
39FF0007F0013C495A90C7485A5E037FC7FC15FC4A5A4A5AEC0FC04AC8FC147E14F8EB03
E0495A011FC9FC133E49141801F0143C48481438485A1678485A48C85A120E001E4A5AD8
3FE0130301FF495A397C3FF01FD8780FB55AD8700391C7FCD8F0015B486C6C5A6E5AEC07
C02A3F79BC2E>I<15FF020713C091381F81E091383E00F002FC13F84948137C495A4948
137E010F143E495A133F4A133F017F147F91C7FC5BA2485AA216FF12035B16FE15011207
5B1503A216FC491307A20003140F16F8151F12016D133F0000EC7FF015EF90387C01CF90
393E079FE090380FFE1FD903F813C090C7123FA21680157F160015FEA24A5A001C5C007F
1303485C4A5A4A5A4A5A4849C7FC00F8137E00E05B6C485A387C07E0383FFFC06C90C8FC
EA03F8283F77BC2E>57 D<171C173C177CA217FCA216011603A21607A24C7EA2161DA216
391679167116E1A2ED01C1A2ED038115071601150EA2031C7FA24B7EA25D15F05D4A5AA2
4A5AA24AC7FC5C140E5C021FB6FC4A81A20270C7127FA25C13015C495AA249C8FCA2130E
131E131C133C5B01F882487ED807FEEC01FFB500E0017FEBFF80A25C39417BC044>65
D<9339FF8001C0030F13E0033F9038F803809239FF807E07913A03FC001F0FDA0FF0EB07
1FDA1FC0ECBF00DA7F806DB4FC4AC77E495AD903F86E5A495A130F4948157E4948157C49
5A13FF91C9FC4848167812035B1207491670120FA2485A95C7FC485AA3127F5BA312FF5B
A490CCFCA2170FA2170EA2171E171C173C173817786C16706D15F04C5A003F5E6D140300
1F4B5A6D4AC8FC000F151E6C6C5C6C6C14F86C6C495A6C6CEB07C090397FC03F8090261F
FFFEC9FC010713F0010013803A4272BF41>67 D<49B712C018F818FE903B0003FE0003FF
9438007F804BEC1FC0F00FE0F007F014074BEC03F8F001FCA2140F4BEC00FEA3141F4B15
FFA3143F5DA3027F5D5DA219FE14FF92C81203A34917FC4A1507A219F813034A150F19F0
A20107EE1FE05CF03FC0A2010FEE7F804A16006060011F4B5A4A4A5A4D5AA2013F4B5A4A
EC3FC04DC7FC017F15FEEE03FC4AEB0FF001FFEC7FE0B8128004FCC8FC16E0403E7BBD45
>I<49B6FC5BA2D9000313005D5DA314075DA3140F5DA3141F5DA3143F5DA3147F5DA314
FF92C7FCA35B5CA313035CA313075CA3130F5CA3131F5CA3133F5CA2137FA25C497EB67E
A3283E7BBD23>73 D<49B6903807FFFE605ED9000390C7000113E04B6E13004B15FC4E5A
19E002074B5A4BEC0F804EC7FC183C020F5D4B5C4D5AEF07C0021F4AC8FC4B131E5F5F02
3F5C9238C003E0EE07804CC9FC027F5B4B5AEEFF801581ECFF834B7FED0F7FED1E3F4901
7C7FECFEF89138FFE01F03C07F491380ED000F4A805C010714074A80A21603010F815C16
0183131F4A6D7FA2177F013F825C173F017F82A24A81496C4A7EB6D8800FB512C0A26147
3E7BBD46>75 D<49B612C0A25FD9000390C8FC5D5DA314075DA3140F5DA3141F5DA3143F
5DA3147F5DA314FF92C9FCA35B5CA313035C18C0EF01E0010716C05C17031880130F4A14
0718005F131F4A141EA2173E013F5D4A14FC1601017F4A5A16074A131F01FFECFFF0B8FC
A25F333E7BBD39>I<902601FFFE020FB5FC496D5CA2D900016D010013C04AEE3F00193E
70141C193CEC07BFDB3FE01438151F1978020F7FDA0E0F15708219F0EC1E07021C6D5CA2
03031401023C7FDA38015DA2701303EC7800027002805BA2047F130702F014C04A013F91
C7FCA2715A0101141F4AECF00EA2040F131E010315F84A151C1607EFFC3C0107140391C7
143817FE040113784915FF010E16708218F0131E011C6F5AA2173F133C01385E171F1378
13F8486C6F5AEA07FEB500F01407A295C8FC483E7BBD44>78 D<EEFFC0030713F892383F
80FE9238FC003FDA03F06D7E4A486D7EDA1FC06D7E4AC76C7E027E814A6E7E495A01036F
7E495A495A494881133F4A81137F49C91380A2485A12035B000717FF5B120FA25B121F19
0048485DA448484B5AA36017075B6000FF160F60171F60127F4D5A60177F4DC7FC5F003F
903803E00191390FF003FCDA3C185B3B1FC0700C07F002E0495A000F496C485A01E04A5A
D807F14AC8FC0003018013FCD801F9EB07F8D800FD14E090397FC01F80903A1FE07E0003
903807FFFE0100018E5BDA000E1306030F130EA24B131E5FEE807CEEC1F816FF5FA25F5F
8194C8FC6F5AED01F8395273BF46>81 D<92391FE00380ED7FFC913A01FFFE0700913907
F01F8F91390FC007DF4AC66CB4FC023E6D5A4A130014FC495A4948147CA2495AA2010F15
785CA3011F1570A46E91C7FCA2808014FE90380FFFE015FC6DEBFF8016E06D806D806D6C
7F141F02037FEC003FED07FF1501A281A282A212075A167E120EA2001E15FE5EA25E003E
14015E003F14034B5A486C5C150F6D495A6D49C8FCD8F9F0137C39F8FE01F839F03FFFF0
D8E00F13C026C001FEC9FC314279BF33>83 D<48B9FCA25A903AFE001FF00101F89138E0
007FD807E0163E49013F141E5B48C75BA2001E147FA2001C4B131C123C003814FFA20078
92C7FC12704A153C00F01738485CC716001403A25DA21407A25DA2140FA25DA2141FA25D
A2143FA25DA2147FA25DA214FFA292C9FCA25BA25CA21303A25CEB0FFE003FB67E5AA238
3D71BC41>I<277FFFFE01B500FC90B512E0B5FCA20003902680000790C7380FFC006C90
C701FCEC07F049725A04035EA26350C7FCA20407150EA2040F5D1A3C041F153862163B62
16734F5A6D14E303014B5A6C15C303034BC8FC1683DB0703140E191E030E151C61031C7F
61ED380161157003F04A5A15E002014B5A15C0DA03804AC9FC60DA0700140E60140E605C
029C5D14B8D97FF85D5C715A5C4A5DA24A92CAFC5F91C7FC705A137E5F137C5F13780170
5D53406EBD5B>87 D<91B690383FFFFC605E020101E0010F13006E49EB07F84C6D5A19C0
6F6C495A96C7FC033F140E705B183C031F5C705B4D5A030F5C70485A4DC8FC0307130EEE
FC1E5F03035BEEFE705F6F6C5A5FA26F90C9FC83A2707EA216FF4B7F5DED079FEE1FF015
0EED1C0F03387F1578EDF007DA01E07F15C09138038003DA07007F140E021E13014A805C
02707F4A81495A4948147F01078249C8FC013F6F7E496C147F2603FFC049487EB500F801
1FEBFFE0A261463E7CBD44>I<B691383FFFF0A25C000301C0913807FE006C49EC03F86C
17E0604D5A017F93C7FC6E140E5F013F153C6E5C17705F6D6C495A16034C5A010F92C8FC
6E130E5E0107143C6E5B16705E6D6C485A15034B5A010191C9FCECFF0E5D6D133C15F85D
5D6E5AA25DA292CAFC5CA35C1301A35C1303A35C1307A3495AA3131F001FB512F0A33C3E
6EBD44>I<027FB612FEA3913AFFF80007FC03C014F892C7EA0FF0D901FC141F4AEC3FE0
4AEC7FC04A15800103EDFF004A5B4C5A4948495A5F91C7485A49141F010E4A5A4C5A5F01
1E4AC7FC90C75A4B5A4B5A5E4B5A151F4B5A4B5A5E15FF4A90C8FC4A5A4A5A5D140F4A5A
4A5A4A48130E4B131E02FF141C4990C7FC495A4948143C4A1438010F1578495A49481470
494814F05C01FF4A5A4890C7FC4848140348481407494A5A000F151F4848143F4848ECFF
804848130F90B7FCB8FC94C7FC373E79BD38>I<147E49B47E903907C1C38090391F80EF
C090383F00FF017E137F4914804848133F485AA248481400120F5B001F5C157E485AA215
FE007F5C90C7FCA21401485C5AA21403EDF0385AA21407EDE078020F1370127C021F13F0
007E013F13E0003E137FECF3E1261F01E313C03A0F8781E3803A03FF00FF00D800FC133E
252977A72E>97 D<EB1FC0EA0FFF5CA2EA003FA291C7FCA25BA2137EA213FEA25BA21201
A25BA21203A25B147E3907F1FF809038F783E09038EF01F013FE390FF800F8A24913FC49
137C485A157E5B15FE123FA290C7FCA248130115FC127EA2140300FE14F85AA2EC07F0A2
15E048130F15C0141F15800078EB3F00127C147E003C5B383E01F8381E03E06C485A6CB4
C7FCEA01F81F4076BE2A>I<EC1FC0ECFFF0903803F03C903807C01E90381F800E90383F
000F017E133F4913FF485A485A000714FE5B000F14FC48481300A2485AA3127F90C8FCA3
5A5AA6481403007E1407150F151E003E143C15786C14F0EC03E0390F800F803903E07E00
3801FFF838003FC0202977A72A>I<EE3F80ED1FFF1700A2ED007FA2167EA216FEA25EA2
1501A25EA21503A25EA21507A25E147E903801FF8F903807C1CF90391F80EFC090383F00
FF017E137F5B48486D5A485AA2485A000F92C7FC5B001F5CA24848137EA215FE127F90C7
5AA214015A485CA2140316384814F0A21407167891380FE070127C021F13F0007E013F5B
003E137FECF3E1261F01E35B3A0F8781E3802703FF00FFC7FCD800FC133E294077BE2E>
I<EC3F80903801FFE0903807E0F890381F803CEB3E0001FC131E485A485A12074848133E
49133C121F4848137C15F8EC03F0397F000FE0ECFF809038FFFC00B512C048C8FCA45AA6
1506150E151E007C143C15786C14F0EC01E06CEB07C0390F801F003807C0FC3801FFF038
007F801F2976A72A>I<167C4BB4FC923807C78092380F83C0ED1F87161FED3F3FA2157E
A21780EE0E004BC7FCA414015DA414035DA30103B512F8A390260007E0C7FCA3140F5DA5
141F5DA4143F92C8FCA45C147EA414FE5CA413015CA4495AA4495AA4495A121E127F5C12
FF49C9FCA2EAFE1EEAF83C1270EA7878EA3FE0EA0F802A5383BF1C>I<EC03F0EC0FFC91
383E0E1C9138FC077E903901F003FE1303903807E001D90FC013FCEB1F80A2EB3F004914
F8137E01FE1303A2484814F0A2150712034914E0A2150F12074914C0A2151FA216805B15
3F1203ED7F006D5BA200015B0000495A9038F80F7E90387C1EFEEB1FF8903807E0FC90C7
FC1401A25DA21403A25D001C1307007F5C48130F5D4A5A4AC7FC48137E00F85B387C03F0
381FFFC0D803FEC8FC273B7CA72A>I<EB01FC13FF5CA21303A25CA21307A25CA2130FA2
5CA2131FA25CA2133FA291C8FCEC03F890387F0FFE91383E0F80D97E7813C0ECE007D9FF
C013E014801400A2485A5BA25B0003140F16C05BA20007141F16805BA2000F143F16005B
5D001F147EEDFE074913FCA2003F0101130FEDF80E1300161E48ECF01CA2007E1538A200
FE1570020013E048EC7FC00038EC1F0028407ABE2E>I<1478EB01FCA21303A314F8EB00
E01400AD137C48B4FC38038F80EA0707000E13C0121E121CEA3C0F1238A2EA781F007013
80A2EAF03F140012005B137E13FE5BA212015BA212035B1438120713E0000F1378EBC070
A214F0EB80E0A2EB81C01383148038078700EA03FEEA00F8163E79BC1C>I<1507ED1FC0
A2153FA31680ED0E0092C7FCADEC07C0EC3FF0EC78F8ECE07CEB01C01303EC807EEB0700
A2010E13FE5D131E131CEB3C01A201005BA21403A25DA21407A25DA2140FA25DA2141FA2
5DA2143FA292C7FCA25CA2147EA214FEA25CA213015CA2121C387F03F012FF495A5C495A
4848C8FCEAF83EEA707CEA3FF0EA0FC0225083BC1C>I<EB01FC13FF5CA21303A25CA213
07A25CA2130FA25CA2131FA25CA2133FA291C8FCED03E049EB0FF8ED3C3C017EEB707CED
E1FC9038FE01C1EC03839038FC0703140E0001011C13F891383800E04948130014600003
13E0EBF9C0EBF78001FEC8FC1207EBFFE0EBE7F8EBE0FE000F137F6E7EEBC01F81001F13
0F16701380A2003F15F0021F13E001001380A248148116C0007EEB0F83168000FE148791
38078F0048EB03FE0038EB00F826407ABE2A>I<EB07F0EA03FF14E0A2EA000FA214C0A2
131FA21480A2133FA21400A25BA2137EA213FEA25BA21201A25BA21203A25BA21207A25B
A2120FA25BA2121FA25BA2123FA290C7FCA25A1307127EA2EAFE0F130E12FCA2131E131C
A2EA7C381378EA3C70EA1FE0EA0780144079BE17>I<D801F0D93F80137F3D07FC01FFE0
03FFC03D0F3E07C1F80F83F03D0E1F0F00FC1E01F8001E011C90387C3800001C49D97E70
7F003C01F05C0038157F4A5C26783FC05C12704A91C7FC91C7127E00F003FE1301494A5C
EA007EA20301140301FE5F495CA203031407000160495C180F03075D0003051F13E0494A
1480A2030FEC3F810007F001C0495CA2031F91383E0380120F494AEC0700A2033F150E00
1FEF1E1C4991C7EA0FF80007C7000EEC03E0432979A74A>I<D801F0EB3F803A07FC01FF
E03A0F3E07C1F83A0E1F0F00FC001E011C137C001C49137E003C13F012385C38783FC012
705C91C7FC00F015FE495CEA007EA2150101FE5C5BA2150300015D5B15075E0003020F13
704914C0A2031F13F00007ED80E05B1681EE01C0120F49EC0380A2EE0700001FEC0F0E49
EB07FC0007C7EA01F02C2979A733>I<EC1FC0ECFFF8903803F07C90380FC01FEB1F8090
393F000F80017E14C0491307484814E0485A12075B000F15F0485AA2485AA2ED0FE0127F
90C7FCA2151F4815C05AA2ED3F80A2ED7F00A248147E007C5C007E13015D4A5A003E495A
6C495A4A5A260F803EC7FC3807C0FC3801FFF038003F80242977A72E>I<903903E001F8
90390FF807FE903A1E7C1E0F80903A1C3E3C07C0013C137801389038E003E0EB783F0170
01C013F0ED80019038F07F0001E015F8147E1603000113FEA2C75AA20101140717F05CA2
0103140F17E05CA20107EC1FC0A24A1480163F010F15005E167E5E131F4B5A6E485A4B5A
90393FB80F80DA9C1FC7FCEC0FFCEC03E049C9FCA2137EA213FEA25BA21201A25BA21203
A2387FFFE0B5FCA22D3A80A72E>I<027E1360903901FF81E0903807C1C390391F80E7C0
90383F00F7017E137F5B4848EB3F80485AA2485A000F15005B121F5D4848137EA3007F14
FE90C75AA3481301485CA31403485CA314074A5A127C141F007E133F003E495A14FF381F
01EF380F879F3903FF1F80EA00FC1300143F92C7FCA35C147EA314FE5CA21301130390B5
12F05AA2233A77A72A>I<D801F013FC3A07FC07FF803A0F3E0F03C0260E1F1C13E0001E
EB380F001C1370003CEBE01F123814C0D8783F14C00070903880070092C7FC91C8FC12F0
5BEA007EA313FE5BA312015BA312035BA312075BA3120F5BA3121F5B0007C9FC232979A7
26>I<EC7F80903801FFE0903807C0F890381F003C013E131C013C131E017C133E49137E
15FEA2000114FCA215706D13007FEBFFC014FC6C13FF15806D13C06D13E0010F13F01300
140F14071403120C123F387F80011403D8FF0013E0A300FCEB07C000F0EB0F8012700078
EB1F006C133C381F01F83807FFE0C690C7FC1F297AA725>I<EB01C0EB03F01307A25CA2
130FA25CA2131FA25CA2133FA291C7FCA2007FB51280B6FC1500D8007EC7FC13FEA25BA2
1201A25BA21203A25BA21207A25BA2120FA25BA2121F141C1380A2003F133C1438EB0078
147014F05C495AEA1F03495A6C48C7FCEA07FCEA01F0193A78B81E>I<137C48B4141C26
038F80137EEA0707000E7F001E15FE121CD83C0F5C12381501EA781F007001805BA2D8F0
3F1303140000005D5B017E1307A201FE5C5B150F1201495CA2151F0003EDC1C0491481A2
153F1683EE0380A2ED7F07000102FF13005C01F8EBDF0F00009038079F0E90397C0F0F1C
90391FFC07F8903907F001F02A2979A731>I<017CEB01C048B4EB07F038038F80EA0707
000E01C013F8121E001C1403EA3C0F0038EC01F0A2D8781F130000705BA2EAF03F91C712
E012005B017E130116C013FE5B1503000115805BA2ED07001203495B150EA25DA25D1578
000114706D5B0000495A6D485AD97E0FC7FCEB1FFEEB03F0252979A72A>I<017C167048
B491387001FC3A038F8001F8EA0707000E01C015FE001E1403001CEDF000EA3C0F003817
7C1507D8781F4A133C00701380A2D8F03F130F020049133812005B017E011F14784C1370
13FE5B033F14F0000192C712E05BA2170100034A14C049137E17031880A2EF070015FE17
0E00010101141E01F86D131C0000D9039F5BD9FC076D5A903A3E0F07C1E0903A1FFC03FF
C0902703F0007FC7FC372979A73C>I<903903F001F890390FFC07FE90393C1E0E0F9026
780F1C138001F0EBB83FD801E013F89039C007F07FEA0380000714E0D9000F140048151C
000E4AC7FCA2001E131FA2C75BA2143F92C8FCA35C147EA314FE4A131CA30101143C001E
1538003F491378D87F811470018314F000FF5D9039077801C039FE0F7C033A7C0E3C0780
27783C1E1EC7FC391FF80FFC3907E003F029297CA72A>I<137C48B4143826038F8013FC
EA0707000E7F001E1401001C15F8EA3C0F12381503D8781F14F000701380A2D8F03F1307
020013E012005B017E130F16C013FE5B151F1201491480A2153F000315005BA25D157EA3
15FE5D00011301EBF8030000130790387C1FF8EB3FF9EB07E1EB00035DA21407000E5CEA
3F80007F495AA24A5AD8FF0090C7FC143E007C137E00705B387801F0383803E0381E0FC0
6CB4C8FCEA03F8263B79A72C>I<D901F01370D907FC13F0010F14E090381FFE0190393F
FF03C049EB838090387C0FCF9039F803FF009038F0007E49133C000114386C48137890C7
5A4A5A4A5A4A5A4AC7FC141E5C5C5C495A495A495A49C8FC131E4913075B5B48485B4848
131E485A01F05BD80FFE137C391F1F81F8383E0FFFD83C075B486C5B00705CD8F00190C7
FC38E0007C24297BA725>I E
%EndDVIPSBitmapFont
/Fw 139[57 1[76 1[96 7[96 2[76 3[86 16[105 6[67 5[124
9[86 86 86 86 86 86 86 86 86 86 48[{TeXBase1Encoding ReEncodeFont}19
172.188 /Times-Bold rf /Fx 134[37 37 54 37 37 21 29 25
1[37 37 37 58 21 37 1[21 37 37 25 33 37 33 37 33 3[25
1[25 6[46 42 50 1[42 2[66 46 1[29 3[42 4[54 11[37 37
37 37 37 37 1[19 25 19 2[25 25 25 39[{TeXBase1Encoding ReEncodeFont}46
74.7198 /Times-Roman rf /Fy 206[25 49[{TeXBase1Encoding ReEncodeFont}1
49.8132 /Times-Roman rf /Fz 206[33 49[{TeXBase1Encoding ReEncodeFont}1
66.4176 /Times-Roman rf
%DVIPSBitmapFont: FA cmr8 8 8
/FA 8 115 df<13031307130E131C1338137013F0EA01E013C01203EA0780A2EA0F00A2
121EA35AA45AA512F8A25AAB7EA21278A57EA47EA37EA2EA0780A2EA03C0120113E0EA00
F013701338131C130E1307130310437AB11B>40 D<12C07E12707E7E7E120FEA07801203
13C0EA01E0A2EA00F0A21378A3133CA4131EA5131FA2130FAB131FA2131EA5133CA41378
A313F0A2EA01E0A2EA03C013801207EA0F00120E5A5A5A5A5A10437CB11B>I<EC0380B3
A4B812FCA3C7D80380C7FCB3A42E2F7CA737>43 D<130C133C137CEA03FC12FFEAFC7C12
00B3B113FE387FFFFEA2172C7AAB23>49 D<EB7F803801FFF0380780FC380E003F48EB1F
8048EB0FC05A0060EB07E012F000FC14F07E1403A3007C1307C7FCA215E0140F15C0141F
1580EC3F00147E147C5C495A495A495A495A011EC7FC5B5B4913305B485A4848136048C7
FC000E14E0001FB5FC5A4814C0B6FCA21C2C7DAB23>I<EA07C012FFA2120F1207B3B3A3
EA0FE0EAFFFEA20F2E7EAD14>108 D<3807C0FE39FFC3FF809038C703E0390FDE01F0EA
07F8496C7EA25BA25BB2486C487E3AFFFE1FFFC0A2221E7E9D27>110
D<380781F838FF87FEEB8E3FEA0F9CEA07B813B0EBF01EEBE000A45BB0487EB5FCA2181E
7E9D1C>114 D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: FB cmsy10 10.95 14
/FB 14 107 df<007FB812F8B912FCA26C17F83604789847>0 D<121EEA7F80A2EAFFC0
A4EA7F80A2EA1E000A0A799B19>I<EB03C0A2805CA600F0140F00FC143F00FE147F00FF
14FF393FC3C3FC390FE187F03903F18FC03900FDBF00EB3FFCEB0FF0EB03C0EB0FF0EB3F
FCEBFDBF3903F18FC0390FE187F0393FC3C3FC39FF03C0FF00FE147F00FC143F00F0140F
00001400A6805CA220277AA92D>3 D<EB0FFCEB3FFF90B512C0000314F0488048804880
4880A2481580A3B712C0AA6C1580A36C1500A26C5C6C5C6C5C6C5CC614C0013F90C7FCEB
0FFC22227BA72D>15 D<1818187CEF01FCEF07F8EF1FF0EF7FC0933801FF00EE07FCEE1F
F0EE7FC04B48C7FCED07FCED1FF0ED7FC04A48C8FCEC07FCEC1FF0EC7FC04948C9FCEB07
FCEB1FF0EB7FC04848CAFCEA07FCEA1FF0EA7FC048CBFC5AEA7F80EA3FE0EA0FF8EA03FE
C66C7EEB3FE0EB0FF8EB03FE903800FF80EC3FE0EC0FF8EC03FE913800FF80ED3FE0ED0F
F8ED03FE923800FF80EE3FE0EE0FF8EE03FE933800FF80EF3FE0EF0FF8EF03FC17001838
1800AE007FB812F8B912FCA26C17F8364878B947>20 D<126012F812FEEA7F80EA3FE0EA
0FF8EA03FEC66C7EEB3FE0EB0FF8EB03FE903800FF80EC3FE0EC0FF8EC03FE913800FF80
ED3FE0ED0FF8ED03FE923800FF80EE3FE0EE0FF8EE03FE933800FF80EF3FE0EF0FF8EF03
FC1701EF07F8EF1FF0EF7FC0933801FF00EE07FCEE1FF0EE7FC04B48C7FCED07FCED1FF0
ED7FC04A48C8FCEC07FCEC1FF0EC7FC04948C9FCEB07FCEB1FF0EB7FC04848CAFCEA07FC
EA1FF0EA7FC048CBFC12FC1270CCFCAE007FB812F8B912FCA26C17F8364878B947>I<19
301978A2197C193CA2193E191EA2191F737EA2737E737EA2737E737E1A7C1A7EF21F80F2
0FC0F207F0007FBB12FCBDFCA26C1AFCCDEA07F0F20FC0F21F80F27E001A7C624F5A4F5A
A24F5A4F5AA24FC7FC191EA2193E193CA2197C1978A2193050307BAE5B>33
D<EF01E0841700841878187C84A284727E727E851803727E007FB912FCBA7E856C85CCEA
07E0737EF101FCF1007FF21FC0F20FF8F203FFA2F20FF8F21FC0F27F00F101FCF103F04F
5A007FBA1280BBC7FC616C60CBEA01F04E5A1807614E5A4EC8FC183EA260187818F86017
016050327BAF5B>41 D<176017F01601A2EE03E0A2EE07C0A2EE0F80A2EE1F00A2163EA2
5EA25EA24B5AA24B5AA24B5AA24B5AA24BC7FCA2153EA25DA25DA24A5AA24A5AA24A5AA2
4A5AA24AC8FCA2143EA25CA25CA2495AA2495AA2495AA2495AA249C9FCA2133EA25BA25B
A2485AA2485AA2485AA2485AA248CAFCA2123EA25AA25AA25A12602C5473C000>54
D<0060EE018000F0EE03C06C1607A200781780007C160FA2003C1700003E5EA26C163EA2
6C163C6D157CA2000716786D15F8A26C6C4A5AA200015E6D140390B7FC6C5EA3017CC7EA
0F80A2013C92C7FC013E5CA2011E141E011F143EA26D6C5BA2010714786E13F8A26D6C48
5AA201015CECF003A201005CECF807A291387C0F80A2023C90C8FCEC3E1FA2EC1E1EEC1F
3EA2EC0FFCA26E5AA36E5AA36E5A6E5A324180BE33>56 D<1506150FB3B3B3007FB912E0
BA12F0A26C18E03C3C7BBB47>63 D<153FEC03FFEC0FE0EC3F80EC7E00495A5C495AA249
5AB3AA130F5C131F495A91C7FC13FEEA03F8EA7FE048C8FCEA7FE0EA03F8EA00FE133F80
6D7E130F801307B3AA6D7EA26D7E80EB007EEC3F80EC0FE0EC03FFEC003F205B7AC32D>
102 D<12FCEAFFC0EA07F0EA01FCEA007E6D7E131F6D7EA26D7EB3AA801303806D7E1300
147FEC1FC0EC07FEEC00FFEC07FEEC1FC0EC7F0014FC1301495A5C13075CB3AA495AA249
5A133F017EC7FC485AEA07F0EAFFC000FCC8FC205B7AC32D>I<126012F0B3B3B3B3B112
60045B76C319>106 D E
%EndDVIPSBitmapFont
/FC 107[60 60 24[53 60 60 86 60 66 40 47 53 66 66 60
66 100 33 66 1[33 66 60 40 53 66 53 66 60 10[86 86 80
66 86 1[73 93 86 113 80 93 1[47 93 93 73 80 86 86 80
86 6[40 60 60 60 60 60 60 60 60 60 60 33 30 40 30 41[66
2[{TeXBase1Encoding ReEncodeFont}63 119.552 /Times-Bold
rf /FD 103[55 15[55 10[55 55 55 55 55 55 55 55 55 55
55 55 55 55 55 55 55 55 55 55 55 55 55 55 55 55 55 55
55 55 55 1[55 55 55 55 55 55 55 55 55 55 55 55 55 55
55 55 55 55 55 55 55 55 55 55 55 55 55 55 55 55 55 55
55 55 55 55 55 55 55 55 55 55 55 55 55 55 55 55 55 55
55 55 55 55 55 55 55 55 55 55 55 2[55 30[{TeXBase1Encoding ReEncodeFont}
95 90.9091 /Courier rf /FE 107[40 40 56[56 66 66 86 66
66 56 51 61 66 51 66 66 81 56 66 1[30 66 66 51 56 66
61 61 66 7[45 45 45 45 45 45 45 45 45 45 25 23 30 23
44[{.167 SlantFont TeXBase1Encoding ReEncodeFont}41 90.9091
/Times-Roman rf /FF 105[45 28[45 45 1[45 51 30 35 40
51 51 45 51 76 25 51 1[25 51 45 30 40 51 40 51 45 3[30
1[30 5[66 61 51 66 1[56 71 66 86 61 2[35 2[56 61 66 66
61 66 6[30 45 45 45 45 45 45 45 45 45 45 25 23 30 23
2[30 30 37[51 2[{TeXBase1Encoding ReEncodeFont}60 90.9091
/Times-Bold rf /FG 133[44 50 50 72 50 55 33 39 44 55
55 50 55 83 28 55 1[28 55 50 33 44 55 44 55 50 9[100
1[72 66 55 72 78 61 78 72 94 66 78 1[39 78 78 61 66 72
72 66 72 7[50 50 50 50 50 50 50 50 50 50 28 25 33 25
41[55 2[{TeXBase1Encoding ReEncodeFont}61 99.6264 /Times-Bold
rf /FH 134[103 103 1[103 115 69 80 92 1[115 103 115 172
57 115 1[57 115 103 69 92 115 92 115 103 11[149 138 115
149 1[126 161 149 195 138 2[80 161 1[126 138 149 149
138 149 7[103 103 8[57 44[115 2[{TeXBase1Encoding ReEncodeFont}43
206.559 /Times-Bold rf /FI 39[66 35[30 28[91 45 1[40
40 24[40 45 45 66 45 45 25 35 30 45 45 45 45 71 25 45
25 25 45 45 30 40 45 40 45 40 30 2[30 1[30 56 66 66 86
66 66 56 51 61 66 51 66 66 81 56 66 35 30 66 66 51 56
66 61 61 66 1[40 1[51 1[25 25 45 45 45 45 45 45 45 45
45 45 25 23 30 23 2[30 30 30 35[51 51 2[{TeXBase1Encoding ReEncodeFont}
84 90.9091 /Times-Roman rf /FJ 133[35 40 40 61 40 45
25 35 35 45 45 45 45 66 25 40 25 25 45 45 25 40 45 40
45 45 7[51 1[76 56 66 51 45 56 1[56 66 61 76 51 1[40
30 66 1[56 56 66 61 56 56 5[30 1[45 45 1[45 2[45 1[45
45 1[23 30 23 4[30 35[45 45 2[{TeXBase1Encoding ReEncodeFont}60
90.9091 /Times-Italic rf /FK 134[50 4[28 39 33 2[50 50
78 3[28 3[44 50 16[55 2[55 5[39 32[33 33 40[{
TeXBase1Encoding ReEncodeFont}15 99.6264 /Times-Roman
rf /FL 137[72 80 48 56 64 1[80 72 80 1[40 80 1[40 80
72 1[64 80 1[80 72 12[96 1[104 5[96 3[112 14[72 72 56[{
TeXBase1Encoding ReEncodeFont}23 143.462 /Times-Bold
rf end
%%EndProlog
%%BeginSetup
%%Feature: *Resolution 600dpi
TeXDict begin
%%PaperSize: A4

%%EndSetup
%%Page: 0 1
0 0 bop 15 268 3548 4 v 15 1223 4 956 v 709 613 a FL(Hask)o(ell)34
b(98)h(Language)f(and)h(Libraries)1180 809 y(The)g(Re)n(vised)f(Report)
p 3559 1223 V 15 1226 3548 4 v 1235 1633 a FK(Simon)24
b(Pe)o(yton)g(Jones)g(\(editor\))1483 3835 y FJ(Copyright)h(notice)o(.)
141 4047 y FI(The)31 b(authors)i(and)f(publisher)i(intend)e(this)g
(Report)g(to)f(belong)i(to)e(the)h(entire)g(Hask)o(ell)g(community)-6
b(,)35 b(and)0 4160 y(grant)i(permission)h(to)d(cop)o(y)i(and)g
(distrib)n(ute)h(it)e(for)g(an)o(y)g(purpose,)k(pro)o(vided)e(that)e
(it)g(is)f(reproduced)k(in)d(its)0 4273 y(entirety)-6
b(,)25 b(including)i(this)d(Notice.)30 b(Modi\002ed)24
b(v)o(ersions)i(of)d(this)i(Report)f(may)f(also)i(be)e(copied)j(and)e
(distrib)n(uted)0 4386 y(for)f(an)o(y)g(purpose,)h(pro)o(vided)h(that)e
(the)g(modi\002ed)g(v)o(ersion)h(is)f(clearly)h(presented)h(as)e(such,)
g(and)h(that)f(it)f(does)i(not)0 4499 y(claim)g(to)f(be)h(a)f
(de\002nition)i(of)f(the)f(language)j(Hask)o(ell)f(98.)p
eop
%%Page: 1 2
1 1 bop eop
%%Page: 1 3
1 2 bop 300 1020 a FH(Contents)300 1465 y FG(I)99 b(The)26
b(Hask)o(ell)e(98)h(Language)2331 b(1)300 1669 y FF(1)91
b(Intr)n(oduction)2927 b(3)436 1782 y FI(1.1)96 b(Program)24
b(Structure)33 b(.)46 b(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f
(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)
g(.)g(.)g(.)h(.)168 b(3)436 1895 y(1.2)96 b(The)24 b(Hask)o(ell)g(K)n
(ernel)61 b(.)45 b(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g
(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)
g(.)h(.)168 b(4)436 2008 y(1.3)96 b(V)-10 b(alues)25
b(and)f(T)-7 b(ypes)66 b(.)46 b(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g
(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)
h(.)f(.)g(.)g(.)g(.)h(.)168 b(4)436 2121 y(1.4)96 b(Namespaces)44
b(.)h(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g
(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)
g(.)g(.)h(.)168 b(5)300 2324 y FF(2)91 b(Lexical)25 b(Structur)n(e)2742
b(7)436 2437 y FI(2.1)96 b(Notational)26 b(Con)l(v)o(entions)47
b(.)e(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g
(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)168
b(7)436 2550 y(2.2)96 b(Le)o(xical)24 b(Program)g(Structure)80
b(.)46 b(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)
g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)168
b(8)436 2663 y(2.3)96 b(Comments)35 b(.)45 b(.)g(.)g(.)g(.)h(.)f(.)g(.)
g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g
(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)168
b(9)436 2776 y(2.4)96 b(Identi\002ers)26 b(and)e(Operators)71
b(.)45 b(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)
g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)168
b(9)436 2889 y(2.5)96 b(Numeric)24 b(Literals)83 b(.)46
b(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f
(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)122
b(11)436 3002 y(2.6)96 b(Character)26 b(and)e(String)g(Literals)58
b(.)45 b(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)
h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)122 b(12)436
3115 y(2.7)96 b(Layout)35 b(.)46 b(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g
(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)
g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)122
b(13)300 3319 y FF(3)91 b(Expr)n(essions)2912 b(15)436
3431 y FI(3.1)96 b(Errors)65 b(.)46 b(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g
(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)
g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)122
b(17)436 3544 y(3.2)96 b(V)-10 b(ariables,)25 b(Constructors,)h
(Operators,)f(and)f(Literals)63 b(.)46 b(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)
g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)122 b(17)436
3657 y(3.3)96 b(Curried)25 b(Applications)h(and)e(Lambda)g
(Abstractions)72 b(.)46 b(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g
(.)h(.)f(.)g(.)g(.)g(.)h(.)122 b(19)436 3770 y(3.4)96
b(Operator)25 b(Applications)30 b(.)45 b(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)
g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g
(.)h(.)f(.)g(.)g(.)g(.)h(.)122 b(19)436 3883 y(3.5)96
b(Sections)54 b(.)45 b(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g
(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)
g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)122 b(20)436 3996
y(3.6)96 b(Conditionals)35 b(.)45 b(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f
(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)
g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)122 b(21)436
4109 y(3.7)96 b(Lists)47 b(.)e(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g
(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)
g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)122
b(21)436 4222 y(3.8)96 b(T)l(uples)49 b(.)d(.)f(.)g(.)g(.)g(.)g(.)h(.)f
(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)
g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)122
b(22)436 4335 y(3.9)96 b(Unit)24 b(Expressions)i(and)e(P)o
(arenthesized)i(Expressions)i(.)46 b(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)
g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)122 b(22)436 4448
y(3.10)51 b(Arithmetic)25 b(Sequences)39 b(.)45 b(.)g(.)g(.)h(.)f(.)g
(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)
g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)122 b(23)436 4561
y(3.11)51 b(List)24 b(Comprehensions)65 b(.)45 b(.)g(.)g(.)h(.)f(.)g(.)
g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g
(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)122 b(23)436 4674
y(3.12)51 b(Let)23 b(Expressions)52 b(.)45 b(.)h(.)f(.)g(.)g(.)g(.)h(.)
f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f
(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)122 b(24)436
4786 y(3.13)51 b(Case)24 b(Expressions)64 b(.)46 b(.)f(.)g(.)g(.)g(.)h
(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)
f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)122 b(25)436
4899 y(3.14)51 b(Do)23 b(Expressions)62 b(.)45 b(.)h(.)f(.)g(.)g(.)g(.)
h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h
(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)122 b(26)436
5012 y(3.15)51 b(Datatypes)26 b(with)d(Field)h(Labels)88
b(.)45 b(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)
h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)122 b(27)645
5125 y(3.15.1)65 b(Field)24 b(Selection)68 b(.)45 b(.)g(.)h(.)f(.)g(.)g
(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)
g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)122 b(27)645 5238 y(3.15.2)65
b(Construction)27 b(Using)d(Field)f(Labels)45 b(.)g(.)g(.)g(.)g(.)h(.)f
(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)122
b(28)645 5351 y(3.15.3)65 b(Updates)25 b(Using)f(Field)g(Labels)79
b(.)45 b(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)
g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)122 b(29)2087 5593 y(i)p
eop
%%Page: 2 4
2 3 bop 0 100 a FI(ii)3075 b FE(CONTENTS)136 356 y FI(3.16)51
b(Expression)26 b(T)-7 b(ype-Signatures)93 b(.)45 b(.)g(.)g(.)g(.)g(.)h
(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)
f(.)g(.)g(.)g(.)h(.)122 b(30)136 469 y(3.17)51 b(P)o(attern)24
b(Matching)75 b(.)46 b(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f
(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)
g(.)g(.)g(.)h(.)122 b(30)345 582 y(3.17.1)65 b(P)o(atterns)51
b(.)45 b(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)
g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g
(.)h(.)122 b(30)345 695 y(3.17.2)65 b(Informal)25 b(Semantics)g(of)e(P)
o(attern)h(Matching)39 b(.)46 b(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g
(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)122 b(31)345 808 y(3.17.3)65
b(F)o(ormal)23 b(Semantics)i(of)e(P)o(attern)h(Matching)k(.)45
b(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g
(.)h(.)122 b(34)0 1011 y FF(4)91 b(Declarations)26 b(and)c(Bindings)
2347 b(37)136 1124 y FI(4.1)96 b(Ov)o(ervie)n(w)24 b(of)f(T)-7
b(ypes)24 b(and)g(Classes)39 b(.)45 b(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g
(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)
h(.)122 b(38)345 1237 y(4.1.1)110 b(Kinds)57 b(.)45 b(.)g(.)h(.)f(.)g
(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)
g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)122
b(39)345 1350 y(4.1.2)110 b(Syntax)25 b(of)e(T)-7 b(ypes)26
b(.)45 b(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)
g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)122
b(39)345 1463 y(4.1.3)110 b(Syntax)25 b(of)e(Class)h(Assertions)h(and)f
(Conte)o(xts)i(.)46 b(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h
(.)f(.)g(.)g(.)g(.)h(.)122 b(41)345 1576 y(4.1.4)110
b(Semantics)25 b(of)e(T)-7 b(ypes)24 b(and)g(Classes)70
b(.)45 b(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)
h(.)f(.)g(.)g(.)g(.)h(.)122 b(42)136 1689 y(4.2)96 b(User)n(-De\002ned)
25 b(Datatypes)33 b(.)45 b(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g
(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)
g(.)h(.)122 b(43)345 1802 y(4.2.1)110 b(Algebraic)26
b(Datatype)e(Declarations)40 b(.)45 b(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g
(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)122
b(43)345 1915 y(4.2.2)110 b(T)-7 b(ype)24 b(Synon)o(ym)g(Declarations)
62 b(.)45 b(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g
(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)122 b(45)345 2028
y(4.2.3)110 b(Datatype)25 b(Renamings)61 b(.)45 b(.)g(.)g(.)g(.)g(.)h
(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)
f(.)g(.)g(.)g(.)h(.)122 b(46)136 2141 y(4.3)96 b(T)-7
b(ype)24 b(Classes)g(and)g(Ov)o(erloading)76 b(.)45 b(.)g(.)g(.)g(.)h
(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)
f(.)g(.)g(.)g(.)h(.)122 b(47)345 2253 y(4.3.1)110 b(Class)24
b(Declarations)74 b(.)46 b(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h
(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)
122 b(47)345 2366 y(4.3.2)110 b(Instance)26 b(Declarations)37
b(.)45 b(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)
h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)122 b(49)345
2479 y(4.3.3)110 b(Deri)n(v)o(ed)24 b(Instances)35 b(.)45
b(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g
(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)122
b(51)345 2592 y(4.3.4)110 b(Ambiguous)25 b(T)-7 b(ypes,)24
b(and)g(Def)o(aults)h(for)e(Ov)o(erloaded)j(Numeric)e(Operations)88
b(.)45 b(.)h(.)122 b(51)136 2705 y(4.4)96 b(Nested)25
b(Declarations)37 b(.)45 b(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f
(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)
g(.)g(.)g(.)h(.)122 b(53)345 2818 y(4.4.1)110 b(T)-7
b(ype)24 b(Signatures)30 b(.)45 b(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f
(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)
g(.)g(.)g(.)h(.)122 b(53)345 2931 y(4.4.2)110 b(Fixity)24
b(Declarations)54 b(.)46 b(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h
(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)
122 b(54)345 3044 y(4.4.3)110 b(Function)25 b(and)f(P)o(attern)g
(Bindings)54 b(.)46 b(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f
(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)122 b(55)636
3157 y(4.4.3.1)i(Function)25 b(bindings)62 b(.)45 b(.)h(.)f(.)g(.)g(.)g
(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)
h(.)122 b(56)636 3270 y(4.4.3.2)i(P)o(attern)24 b(bindings)61
b(.)45 b(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)
g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)122 b(57)136 3383
y(4.5)96 b(Static)24 b(Semantics)h(of)e(Function)i(and)f(P)o(attern)g
(Bindings)30 b(.)45 b(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f
(.)g(.)g(.)g(.)h(.)122 b(58)345 3495 y(4.5.1)110 b(Dependenc)o(y)26
b(Analysis)h(.)45 b(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g
(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)122
b(58)345 3608 y(4.5.2)110 b(Generalization)83 b(.)45
b(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g
(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)122
b(59)345 3721 y(4.5.3)110 b(Conte)o(xt)25 b(Reduction)g(Errors)91
b(.)45 b(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)
g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)122 b(59)345 3834
y(4.5.4)110 b(Monomorphism)31 b(.)45 b(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h
(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)
f(.)g(.)g(.)g(.)h(.)122 b(60)345 3947 y(4.5.5)110 b(The)23
b(Monomorphism)j(Restriction)59 b(.)45 b(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)
g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)122
b(61)136 4060 y(4.6)96 b(Kind)24 b(Inference)87 b(.)45
b(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h
(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)
122 b(64)0 4264 y FF(5)91 b(Modules)3040 b(65)136 4377
y FI(5.1)96 b(Module)25 b(Structure)63 b(.)46 b(.)f(.)g(.)g(.)g(.)h(.)f
(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)
g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)122 b(66)136
4490 y(5.2)96 b(Export)25 b(Lists)49 b(.)c(.)g(.)g(.)h(.)f(.)g(.)g(.)g
(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)
h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)122 b(66)136
4603 y(5.3)96 b(Import)25 b(Declarations)42 b(.)j(.)g(.)g(.)g(.)h(.)f
(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)
g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)122 b(69)345
4715 y(5.3.1)110 b(What)24 b(is)f(imported)53 b(.)45
b(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g
(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)122
b(69)345 4828 y(5.3.2)110 b(Quali\002ed)24 b(import)80
b(.)45 b(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)
g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)122
b(70)345 4941 y(5.3.3)110 b(Local)24 b(aliases)76 b(.)45
b(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g
(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)122
b(70)345 5054 y(5.3.4)110 b(Examples)52 b(.)46 b(.)f(.)g(.)g(.)g(.)h(.)
f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f
(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)122 b(71)136
5167 y(5.4)96 b(Importing)26 b(and)e(Exporting)h(Instance)h
(Declarations)82 b(.)46 b(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g
(.)h(.)f(.)g(.)g(.)g(.)h(.)122 b(71)136 5280 y(5.5)96
b(Name)23 b(Clashes)i(and)f(Closure)60 b(.)46 b(.)f(.)g(.)g(.)g(.)g(.)h
(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)
f(.)g(.)g(.)g(.)h(.)122 b(72)p eop
%%Page: 3 5
3 4 bop 300 100 a FE(CONTENTS)3046 b FI(iii)645 356 y(5.5.1)110
b(Quali\002ed)24 b(names)90 b(.)45 b(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)
g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g
(.)g(.)g(.)h(.)122 b(72)645 469 y(5.5.2)110 b(Name)23
b(clashes)46 b(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g
(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)
h(.)122 b(72)645 582 y(5.5.3)110 b(Closure)60 b(.)45
b(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h
(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)
122 b(74)436 695 y(5.6)96 b(Standard)25 b(Prelude)78
b(.)46 b(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)
h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h
(.)122 b(74)645 808 y(5.6.1)110 b(The)23 b FD(Prelude)d
FI(Module)37 b(.)45 b(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g
(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)122
b(75)645 920 y(5.6.2)110 b(Shado)n(wing)25 b(Prelude)f(Names)41
b(.)k(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g
(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)122 b(75)436 1033
y(5.7)96 b(Separate)25 b(Compilation)49 b(.)c(.)g(.)g(.)h(.)f(.)g(.)g
(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)
g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)122 b(76)436 1146 y(5.8)96
b(Abstract)25 b(Datatypes)77 b(.)45 b(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g
(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)
g(.)h(.)f(.)g(.)g(.)g(.)h(.)122 b(76)300 1350 y FF(6)91
b(Pr)n(ede\002ned)23 b(T)-7 b(ypes)23 b(and)f(Classes)2234
b(79)436 1463 y FI(6.1)96 b(Standard)25 b(Hask)o(ell)g(T)-7
b(ypes)45 b(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f
(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)122
b(79)645 1576 y(6.1.1)110 b(Booleans)73 b(.)46 b(.)f(.)g(.)g(.)g(.)h(.)
f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f
(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)122 b(79)645
1689 y(6.1.2)110 b(Characters)26 b(and)e(Strings)65 b(.)45
b(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g
(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)122 b(79)645 1802
y(6.1.3)110 b(Lists)29 b(.)45 b(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g
(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)
g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)122 b(80)645 1915
y(6.1.4)110 b(T)l(uples)31 b(.)45 b(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g
(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)
g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)122 b(80)645 2028
y(6.1.5)110 b(The)23 b(Unit)h(Datatype)75 b(.)46 b(.)f(.)g(.)g(.)g(.)g
(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)
h(.)f(.)g(.)g(.)g(.)h(.)122 b(81)645 2141 y(6.1.6)110
b(Function)25 b(T)-7 b(ypes)54 b(.)45 b(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h
(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)
f(.)g(.)g(.)g(.)h(.)122 b(81)645 2253 y(6.1.7)110 b(The)23
b(IO)g(and)h(IOError)g(T)-7 b(ypes)61 b(.)45 b(.)g(.)h(.)f(.)g(.)g(.)g
(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)
h(.)122 b(81)645 2366 y(6.1.8)110 b(Other)24 b(T)-7 b(ypes)34
b(.)45 b(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)
f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)122
b(81)436 2479 y(6.2)96 b(Strict)24 b(Ev)n(aluation)91
b(.)46 b(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)
h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h
(.)122 b(81)436 2592 y(6.3)96 b(Standard)25 b(Hask)o(ell)g(Classes)56
b(.)45 b(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)
g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)122
b(82)645 2705 y(6.3.1)110 b(The)23 b(Eq)g(Class)62 b(.)45
b(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g
(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)122
b(82)645 2818 y(6.3.2)110 b(The)23 b(Ord)h(Class)89 b(.)45
b(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g
(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)122
b(84)645 2931 y(6.3.3)110 b(The)23 b(Read)h(and)g(Sho)n(w)f(Classes)64
b(.)45 b(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)
g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)122 b(85)645 3044 y(6.3.4)110
b(The)23 b(Enum)g(Class)82 b(.)45 b(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g
(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)
g(.)g(.)h(.)122 b(86)645 3157 y(6.3.5)110 b(The)23 b(Functor)i(Class)84
b(.)46 b(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)
g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)122
b(87)645 3270 y(6.3.6)110 b(The)23 b(Monad)i(Class)41
b(.)k(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g
(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)122
b(88)645 3383 y(6.3.7)110 b(The)23 b(Bounded)i(Class)39
b(.)46 b(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)
g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)122
b(89)436 3495 y(6.4)96 b(Numbers)28 b(.)45 b(.)g(.)g(.)g(.)g(.)h(.)f(.)
g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g
(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)122
b(89)645 3608 y(6.4.1)110 b(Numeric)24 b(Literals)65
b(.)45 b(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)
g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)122
b(90)645 3721 y(6.4.2)110 b(Arithmetic)25 b(and)f(Number)n(-Theoretic)i
(Operations)41 b(.)k(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)
g(.)h(.)122 b(90)645 3834 y(6.4.3)110 b(Exponentiation)28
b(and)c(Logarithms)78 b(.)45 b(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h
(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)122 b(91)645
3947 y(6.4.4)110 b(Magnitude)26 b(and)e(Sign)82 b(.)45
b(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f
(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)122 b(92)645
4060 y(6.4.5)110 b(T)m(rigonometric)26 b(Functions)54
b(.)45 b(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)
g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)122 b(93)645
4173 y(6.4.6)110 b(Coercions)26 b(and)e(Component)h(Extraction)63
b(.)45 b(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)
g(.)g(.)h(.)122 b(93)300 4377 y FF(7)91 b(Basic)24 b(Input/Output)2616
b(95)436 4490 y FI(7.1)96 b(Standard)25 b(I/O)e(Functions)59
b(.)45 b(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)
g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)122
b(95)436 4603 y(7.2)96 b(Sequencing)26 b(I/O)d(Operations)54
b(.)46 b(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)
g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)122
b(97)436 4715 y(7.3)96 b(Exception)26 b(Handling)f(in)e(the)h(I/O)f
(Monad)70 b(.)46 b(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g
(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)122 b(98)300 4919
y FF(8)91 b(Standard)23 b(Pr)n(elude)2640 b(101)436 5032
y FI(8.1)96 b(Prelude)25 b FD(PreludeList)67 b FI(.)45
b(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g
(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)77
b(115)436 5145 y(8.2)96 b(Prelude)25 b FD(PreludeText)67
b FI(.)45 b(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g
(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)77
b(121)436 5258 y(8.3)96 b(Prelude)25 b FD(PreludeIO)41
b FI(.)k(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)
g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)77
b(125)p eop
%%Page: 4 6
4 5 bop 0 100 a FI(i)n(v)3057 b FE(CONTENTS)0 356 y FF(9)91
b(Syntax)24 b(Refer)n(ence)2652 b(127)136 469 y FI(9.1)96
b(Notational)26 b(Con)l(v)o(entions)47 b(.)e(.)g(.)h(.)f(.)g(.)g(.)g(.)
g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g
(.)h(.)f(.)g(.)g(.)g(.)h(.)77 b(127)136 582 y(9.2)96
b(Le)o(xical)24 b(Syntax)87 b(.)45 b(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)
g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g
(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)77 b(128)136 695 y(9.3)96
b(Layout)35 b(.)46 b(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)
g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g
(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)77 b(130)136 808
y(9.4)96 b(Literate)25 b(comments)91 b(.)45 b(.)g(.)g(.)g(.)h(.)f(.)g
(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)
g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)77 b(134)136 920
y(9.5)96 b(Conte)o(xt-Free)26 b(Syntax)84 b(.)45 b(.)g(.)g(.)h(.)f(.)g
(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)
g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)77 b(136)0 1124 y
FF(10)46 b(Speci\002cation)24 b(of)g(Deri)o(v)o(ed)f(Instances)2021
b(141)136 1237 y FI(10.1)51 b(Deri)n(v)o(ed)24 b(instances)i(of)e
FD(Eq)e FI(and)i FD(Ord)k FI(.)45 b(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f
(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)77
b(142)136 1350 y(10.2)51 b(Deri)n(v)o(ed)24 b(instances)i(of)e
FD(Enum)54 b FI(.)46 b(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f
(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)77
b(142)136 1463 y(10.3)51 b(Deri)n(v)o(ed)24 b(instances)i(of)e
FD(Bounded)i FI(.)45 b(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g
(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)77
b(143)136 1576 y(10.4)51 b(Deri)n(v)o(ed)24 b(instances)i(of)e
FD(Read)d FI(and)j FD(Show)68 b FI(.)46 b(.)f(.)g(.)g(.)g(.)h(.)f(.)g
(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)77
b(143)136 1689 y(10.5)51 b(An)23 b(Example)40 b(.)45
b(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g
(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)
g(.)h(.)77 b(145)0 1893 y FF(11)46 b(Compiler)24 b(Pragmas)2594
b(147)136 2006 y FI(11.1)51 b(Inlining)75 b(.)45 b(.)g(.)g(.)g(.)g(.)h
(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)
g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)77
b(147)136 2119 y(11.2)51 b(Specialization)i(.)45 b(.)g(.)h(.)f(.)g(.)g
(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)
g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)77
b(147)0 2436 y FG(II)99 b(The)26 b(Hask)o(ell)e(98)h(Libraries)2215
b(149)0 2640 y FF(12)46 b(Rational)24 b(Numbers)2613
b(151)136 2753 y FI(12.1)51 b(Library)25 b FD(Ratio)61
b FI(.)45 b(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g
(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)
g(.)h(.)77 b(153)0 2957 y FF(13)46 b(Complex)24 b(Numbers)2597
b(155)136 3069 y FI(13.1)51 b(Library)25 b FD(Complex)19
b FI(.)46 b(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g
(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)
h(.)77 b(156)0 3273 y FF(14)46 b(Numeric)2990 b(159)136
3386 y FI(14.1)51 b(Sho)n(wing)24 b(functions)90 b(.)45
b(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g
(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)77
b(160)136 3499 y(14.2)51 b(Reading)25 b(functions)39
b(.)46 b(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)
h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h
(.)77 b(161)136 3612 y(14.3)51 b(Miscellaneous)43 b(.)i(.)g(.)h(.)f(.)g
(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)
g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)77
b(161)136 3725 y(14.4)51 b(Library)25 b FD(Numeric)19
b FI(.)46 b(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g
(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)
h(.)77 b(161)0 3929 y FF(15)46 b(Indexing)24 b(Operations)2528
b(169)136 4042 y FI(15.1)51 b(Deri)n(ving)25 b(Instances)h(of)e
FD(Ix)59 b FI(.)45 b(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)
f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)77
b(170)136 4155 y(15.2)51 b(Library)25 b FD(Ix)d FI(.)45
b(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g
(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)
g(.)g(.)h(.)77 b(172)0 4358 y FF(16)46 b(Arrays)3057
b(173)136 4471 y FI(16.1)51 b(Array)24 b(Construction)68
b(.)45 b(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)
f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)77
b(174)345 4584 y(16.1.1)65 b(Accumulated)26 b(Arrays)65
b(.)45 b(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)
h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)77 b(174)136
4697 y(16.2)51 b(Incremental)26 b(Array)e(Updates)53
b(.)46 b(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)
g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)77
b(175)136 4810 y(16.3)51 b(Deri)n(v)o(ed)24 b(Arrays)74
b(.)45 b(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)
g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g
(.)h(.)77 b(176)136 4923 y(16.4)51 b(Library)25 b FD(Array)61
b FI(.)45 b(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g
(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)
g(.)h(.)77 b(176)p eop
%%Page: 5 7
5 6 bop 300 100 a FE(CONTENTS)3077 b FI(v)300 356 y FF(17)46
b(List)24 b(Utilities)2852 b(179)436 469 y FI(17.1)51
b(Inde)o(xing)26 b(lists)74 b(.)45 b(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)
g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g
(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)77 b(182)436 582
y(17.2)51 b(\223Set\224)24 b(operations)37 b(.)45 b(.)h(.)f(.)g(.)g(.)g
(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)
h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)77 b(182)436
695 y(17.3)51 b(List)24 b(transformations)38 b(.)45 b(.)g(.)g(.)g(.)h
(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)
f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)77 b(183)436
808 y(17.4)51 b FD(unfoldr)43 b FI(.)i(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g
(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)
h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)77 b(183)436
920 y(17.5)51 b(Predicates)57 b(.)45 b(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g
(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)
h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)77 b(184)436
1033 y(17.6)51 b(The)24 b(\223)p FD(By)o FI(\224)f(operations)85
b(.)45 b(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)
g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)77
b(184)436 1146 y(17.7)51 b(The)24 b(\223)p FD(generic)m
FI(\224)f(operations)85 b(.)45 b(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)
h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h
(.)77 b(185)436 1259 y(17.8)51 b(Further)25 b(\223)p
FD(zip)o FI(\224)e(operations)40 b(.)45 b(.)h(.)f(.)g(.)g(.)g(.)g(.)h
(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)
f(.)g(.)g(.)g(.)h(.)77 b(185)436 1372 y(17.9)51 b(Library)25
b FD(List)48 b FI(.)d(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g
(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)
h(.)f(.)g(.)g(.)g(.)h(.)77 b(186)300 1576 y FF(18)46
b(Maybe)24 b(Utilities)2736 b(193)436 1689 y FI(18.1)51
b(Library)25 b FD(Maybe)61 b FI(.)45 b(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g
(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)
g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)77 b(194)300 1893
y FF(19)46 b(Character)25 b(Utilities)2605 b(195)436
2006 y FI(19.1)51 b(Library)25 b FD(Char)48 b FI(.)d(.)g(.)h(.)f(.)g(.)
g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g
(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)77
b(197)300 2209 y FF(20)46 b(Monad)23 b(Utilities)2726
b(201)436 2322 y FI(20.1)51 b(Naming)24 b(con)l(v)o(entions)91
b(.)45 b(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)
g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)77
b(203)436 2435 y(20.2)51 b(Class)24 b FD(MonadPlus)54
b FI(.)45 b(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h
(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)
77 b(203)436 2548 y(20.3)51 b(Functions)72 b(.)45 b(.)g(.)g(.)g(.)h(.)f
(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)
g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)77
b(204)436 2661 y(20.4)51 b(Library)25 b FD(Monad)61 b
FI(.)45 b(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g
(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)
g(.)h(.)77 b(206)300 2865 y FF(21)46 b(Input/Output)2801
b(209)436 2978 y FI(21.1)51 b(I/O)23 b(Errors)58 b(.)45
b(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g
(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)
g(.)g(.)h(.)77 b(212)436 3091 y(21.2)51 b(Files)24 b(and)g(Handles)50
b(.)c(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h
(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)
77 b(213)645 3204 y(21.2.1)65 b(Standard)25 b(Handles)40
b(.)45 b(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)
g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)77
b(213)645 3317 y(21.2.2)65 b(Semi-Closed)25 b(Handles)30
b(.)45 b(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)
h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)77 b(214)645
3429 y(21.2.3)65 b(File)24 b(locking)43 b(.)i(.)g(.)g(.)g(.)h(.)f(.)g
(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)
g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)77 b(214)436 3542
y(21.3)51 b(Opening)25 b(and)f(Closing)h(Files)69 b(.)46
b(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h
(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)77 b(214)645
3655 y(21.3.1)65 b(Opening)25 b(Files)34 b(.)45 b(.)g(.)g(.)h(.)f(.)g
(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)
g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)77 b(214)645 3768
y(21.3.2)65 b(Closing)25 b(Files)64 b(.)45 b(.)g(.)g(.)h(.)f(.)g(.)g(.)
g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g
(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)77 b(215)436 3881 y(21.4)51
b(Determining)26 b(the)e(Size)f(of)g(a)g(File)80 b(.)45
b(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g
(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)77 b(215)436 3994
y(21.5)51 b(Detecting)26 b(the)d(End)h(of)f(Input)73
b(.)46 b(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)
g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)77
b(215)436 4107 y(21.6)51 b(Buf)n(fering)25 b(Operations)67
b(.)45 b(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)
g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)77
b(215)645 4220 y(21.6.1)65 b(Flushing)25 b(Buf)n(fers)72
b(.)45 b(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)
g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)77
b(217)436 4333 y(21.7)51 b(Repositioning)27 b(Handles)76
b(.)45 b(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)
g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)77
b(217)645 4446 y(21.7.1)65 b(Re)n(visiting)26 b(an)d(I/O)g(Position)80
b(.)45 b(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)
g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)77 b(217)645 4559
y(21.7.2)65 b(Seeking)25 b(to)e(a)h(ne)n(w)e(Position)83
b(.)45 b(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)
g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)77 b(217)436 4671
y(21.8)51 b(Handle)25 b(Properties)48 b(.)e(.)f(.)g(.)g(.)g(.)h(.)f(.)g
(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)
g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)77 b(218)436 4784
y(21.9)51 b(T)-6 b(e)o(xt)23 b(Input)i(and)f(Output)35
b(.)45 b(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)
g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)77
b(218)645 4897 y(21.9.1)65 b(Checking)26 b(for)d(Input)60
b(.)46 b(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)
g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)77
b(218)645 5010 y(21.9.2)65 b(Reading)25 b(Input)30 b(.)45
b(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g
(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)77
b(218)645 5123 y(21.9.3)65 b(Reading)25 b(Ahead)52 b(.)45
b(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g
(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)77
b(219)645 5236 y(21.9.4)65 b(Reading)25 b(The)e(Entire)h(Input)30
b(.)45 b(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)
g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)77 b(219)645
5349 y(21.9.5)65 b(T)-6 b(e)o(xt)23 b(Output)45 b(.)g(.)g(.)g(.)g(.)h
(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)
f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)77 b(219)p
eop
%%Page: 6 8
6 7 bop 0 100 a FI(vi)3055 b FE(CONTENTS)136 356 y FI(21.10)6
b(Examples)71 b(.)45 b(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g
(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)
g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)77 b(219)345 469 y(21.10.1)20
b(Summing)k(T)-7 b(w)o(o)22 b(Numbers)65 b(.)45 b(.)g(.)g(.)h(.)f(.)g
(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)
g(.)g(.)h(.)77 b(219)345 582 y(21.10.2)20 b(Cop)o(ying)25
b(Files)35 b(.)45 b(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g
(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)
h(.)77 b(220)136 695 y(21.11)6 b(Library)25 b FD(IO)d
FI(.)45 b(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h
(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)
f(.)g(.)g(.)g(.)h(.)77 b(221)0 898 y FF(22)46 b(Dir)n(ectory)26
b(Functions)2549 b(223)0 1102 y(23)46 b(System)24 b(Functions)2643
b(229)0 1306 y(24)46 b(Dates)24 b(and)e(T)n(imes)2684
b(231)136 1419 y FI(24.1)51 b(Library)25 b FD(Time)48
b FI(.)d(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)
g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g
(.)g(.)h(.)77 b(234)0 1623 y FF(25)46 b(Locale)3072 b(239)136
1736 y FI(25.1)51 b(Library)25 b FD(Locale)74 b FI(.)46
b(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f
(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)77
b(240)0 1940 y FF(26)46 b(CPU)22 b(T)n(ime)2918 b(241)0
2143 y(27)46 b(Random)22 b(Numbers)2613 b(243)136 2256
y FI(27.1)51 b(The)24 b FD(RandomGen)18 b FI(class,)24
b(and)g(the)g FD(StdGen)c FI(generator)50 b(.)45 b(.)g(.)g(.)g(.)h(.)f
(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)77 b(245)136
2369 y(27.2)51 b(The)24 b FD(Random)c FI(class)79 b(.)45
b(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g
(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)77
b(247)136 2482 y(27.3)51 b(The)24 b(global)h(random)f(number)g
(generator)j(.)45 b(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f
(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)77 b(248)136
2595 y(References)31 b(.)45 b(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g
(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)
g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)77
b(249)136 2708 y(Inde)o(x)92 b(.)45 b(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g
(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)
f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)77
b(251)p eop
%%Page: 7 9
7 8 bop 300 100 a FE(PREF)-7 b(A)l(CE)3113 b FI(vii)1909
356 y FC(Pr)n(eface)527 871 y FI(\223)p FJ(Some)28 b(half)f(dozen)h
(per)o(sons)h(have)f(written)f(tec)o(hnically)j(on)d(combinatory)i(lo)o
(gic,)g(and)e(most)g(of)527 984 y(these)o(,)c(including)i(our)o
(selves,)g(have)e(published)h(something)g(err)l(oneous.)31
b(Since)23 b(some)f(of)g(our)h(fel-)527 1097 y(low)i(sinner)o(s)j(ar)m
(e)d(among)i(the)e(most)h(car)m(eful)h(and)f(competent)h(lo)o(gicians)i
(on)c(the)h(contempor)o(ary)527 1210 y(scene)o(,)j(we)d(r)m(e)l(gar)m
(d)i(this)f(as)g(e)o(vidence)i(that)e(the)g(subject)i(is)e(r)m(efr)o
(actory)-5 b(.)40 b(Thus)27 b(fullness)i(of)e(e)n(xpo-)527
1323 y(sition)i(is)e(necessary)k(for)c(accur)o(acy;)32
b(and)c(e)n(xcessive)i(condensation)i(would)c(be)f(false)i(economy)527
1436 y(her)m(e)o(,)24 b(e)o(ven)g(mor)m(e)f(than)h(it)g(is)f(or)m
(dinarily)-5 b(.)p FI(\224)2438 1661 y(Hask)o(ell)24
b(B.)e(Curry)i(and)g(Robert)g(Fe)o(ys)1667 1774 y(in)g(the)f(Pref)o
(ace)i(to)e FJ(Combinatory)j(Lo)o(gic)e FI([2],)f(May)h(31,)f(1956)300
2189 y(In)f(September)h(of)f(1987)h(a)f(meeting)h(w)o(as)f(held)h(at)f
(the)g(conference)j(on)e(Functional)h(Programming)f(Languages)300
2302 y(and)j(Computer)h(Architecture)h(\(FPCA)23 b('87\))k(in)e
(Portland,)i(Ore)o(gon,)g(to)e(discuss)j(an)d(unfortunate)k(situation)f
(in)300 2415 y(the)g(functional)j(programming)f(community:)39
b(there)28 b(had)h(come)f(into)g(being)h(more)f(than)g(a)g(dozen)h
(non-strict,)300 2528 y(purely)g(functional)h(programming)f(languages,)
i(all)c(similar)h(in)g(e)o(xpressi)n(v)o(e)h(po)n(wer)e(and)h(semantic)
h(underpin-)300 2641 y(nings.)66 b(There)35 b(w)o(as)g(a)g(strong)i
(consensus)i(at)c(this)h(meeting)h(that)f(more)f(widespread)j(use)e(of)
f(this)h(class)g(of)300 2754 y(functional)30 b(languages)g(w)o(as)e
(being)g(hampered)h(by)f(the)g(lack)g(of)f(a)g(common)h(language.)43
b(It)27 b(w)o(as)g(decided)j(that)300 2867 y(a)d(committee)i(should)g
(be)e(formed)i(to)e(design)i(such)g(a)e(language,)j(pro)o(viding)g(f)o
(aster)f(communication)h(of)e(ne)n(w)300 2980 y(ideas,)35
b(a)d(stable)i(foundation)h(for)e(real)f(applications)k(de)n(v)o
(elopment,)h(and)32 b(a)g(v)o(ehicle)i(through)g(which)f(others)300
3092 y(w)o(ould)26 b(be)f(encouraged)k(to)c(use)g(functional)k
(languages.)36 b(This)25 b(document)i(describes)h(the)e(result)g(of)f
(that)h(com-)300 3205 y(mittee')-5 b(s)23 b(ef)n(forts:)29
b(a)22 b(purely)h(functional)h(programming)g(language)g(called)f(Hask)o
(ell,)g(named)g(after)f(the)g(logician)300 3318 y(Hask)o(ell)j(B.)d
(Curry)h(whose)h(w)o(ork)g(pro)o(vides)i(the)d(logical)j(basis)e(for)g
(much)g(of)f(ours.)300 3694 y FC(Goals)300 3984 y FI(The)g(committee')
-5 b(s)25 b(primary)g(goal)f(w)o(as)f(to)h(design)h(a)e(language)j
(that)e(satis\002ed)h(these)f(constraints:)414 4255 y(1.)45
b(It)18 b(should)j(be)d(suitable)j(for)d(teaching,)k(research,)f(and)e
(applications,)k(including)e(b)n(uilding)g(lar)n(ge)e(systems.)414
4442 y(2.)45 b(It)24 b(should)h(be)e(completely)j(described)g(via)e
(the)g(publication)j(of)c(a)g(formal)h(syntax)h(and)f(semantics.)414
4630 y(3.)45 b(It)33 b(should)h(be)e(freely)i(a)n(v)n(ailable.)58
b(An)o(yone)34 b(should)g(be)e(permitted)j(to)d(implement)i(the)f
(language)i(and)527 4743 y(distrib)n(ute)27 b(it)c(to)g(whome)n(v)o(er)
h(the)o(y)g(please.)414 4930 y(4.)45 b(It)24 b(should)h(be)e(based)i
(on)f(ideas)g(that)g(enjo)o(y)h(a)e(wide)h(consensus.)414
5118 y(5.)45 b(It)24 b(should)h(reduce)g(unnecessary)i(di)n(v)o(ersity)
e(in)e(functional)k(programming)e(languages.)p eop
%%Page: 8 10
8 9 bop 0 100 a FI(viii)3091 b FE(PREF)-7 b(A)l(CE)0
356 y FC(Hask)o(ell)30 b(98:)36 b(language)31 b(and)f(libraries)0
643 y FI(The)24 b(committee)h(intended)h(that)f(Hask)o(ell)g(w)o(ould)f
(serv)o(e)h(as)f(a)g(basis)h(for)f(future)h(research)h(in)e(language)j
(design,)0 755 y(and)34 b(hoped)i(that)e(e)o(xtensions)j(or)d(v)n
(ariants)i(of)d(the)i(language)h(w)o(ould)f(appear)l(,)j(incorporating)
g(e)o(xperimental)0 868 y(features.)0 1061 y(Hask)o(ell)22
b(has)f(indeed)i(e)n(v)n(olv)o(ed)f(continuously)j(since)d(its)f
(original)h(publication.)31 b(By)21 b(the)g(middle)g(of)g(1997,)h
(there)0 1174 y(had)29 b(been)g(four)g(iterations)i(of)e(the)f
(language)j(design)f(\(the)f(latest)h(at)e(that)h(point)h(being)f(Hask)
o(ell)h(1.4\).)43 b(At)28 b(the)0 1287 y(1997)e(Hask)o(ell)g(W)-7
b(orkshop)27 b(in)e(Amsterdam,)g(it)g(w)o(as)g(decided)i(that)e(a)g
(stable)h(v)n(ariant)h(of)e(Hask)o(ell)h(w)o(as)e(needed;)0
1400 y(this)g(stable)h(language)h(is)d(the)h(subject)h(of)f(this)g
(Report,)g(and)g(is)f(called)i(\223Hask)o(ell)g(98\224.)0
1592 y(Hask)o(ell)d(98)f(w)o(as)f(concei)n(v)o(ed)j(as)d(a)h(relati)n
(v)o(ely)h(minor)g(tidy-up)g(of)f(Hask)o(ell)g(1.4,)g(making)h(some)f
(simpli\002cations,)0 1705 y(and)32 b(remo)o(ving)h(some)f(pitf)o(alls)
h(for)f(the)g(unw)o(ary)-6 b(.)54 b(It)32 b(is)f(intended)j(to)e(be)g
(a)f(\223stable\224)i(language)i(in)c(sense)i(the)0 1818
y FJ(implementor)o(s)21 b(ar)m(e)d(committed)h(to)g(supporting)i(Hask)o
(ell)f(98)e(e)n(xactly)j(as)d(speci\002ed,)k(for)c(the)h(for)m
(eseeable)i(futur)m(e)p FI(.)0 2010 y(The)26 b(original)j(Hask)o(ell)f
(Report)f(co)o(v)o(ered)h(only)g(the)f(language,)j(together)f(with)d(a)
h(standard)i(library)f(called)g(the)0 2123 y FD(Prelude)m
FI(.)46 b(By)28 b(the)i(time)f(Hask)o(ell)i(98)f(w)o(as)f(stabilised,)k
(it)c(had)h(become)h(clear)f(that)g(man)o(y)f(programs)i(need)0
2236 y(access)g(to)f(a)f(lar)n(ger)i(set)f(of)f(library)j(functions)g
(\(notably)g(concerning)g(input/output)i(and)c(simple)g(interaction)0
2349 y(with)23 b(the)g(operating)i(system\).)30 b(If)22
b(these)i(program)g(were)f(to)g(be)g(portable,)h(a)f(set)g(of)g
(libraries)i(w)o(ould)e(ha)n(v)o(e)g(to)g(be)0 2462 y(standardised)31
b(too.)42 b(A)27 b(separate)j(ef)n(fort)e(w)o(as)g(therefore)i(be)o
(gun)f(by)f(a)f(distinct)j(\(b)n(ut)e(o)o(v)o(erlapping\))j(committee)0
2575 y(to)23 b(\002x)g(the)h(Hask)o(ell)h(98)e(Libraries.)0
2768 y(The)g(Hask)o(ell)i(98)e(Language)i(and)f(Library)h(Reports)f
(were)g(published)i(in)d(February)i(1999.)0 3138 y FC(Re)n(vising)30
b(the)h(Hask)o(ell)f(98)f(Reports)0 3425 y FI(After)c(a)g(year)h(or)f
(tw)o(o,)h(man)o(y)f(typographical)k(errors)e(and)e(infelicities)k(had)
d(been)g(spotted.)36 b(I)24 b(took)j(on)e(the)h(role)0
3538 y(of)d(gathering)j(and)e(acting)h(on)f(these)g(corrections,)j
(with)c(the)h(follo)n(wing)h(goals:)136 3796 y FB(\017)46
b FI(Correct)25 b(typographical)i(errors.)136 3980 y
FB(\017)46 b FI(Clarify)25 b(obscure)g(passages.)136
4165 y FB(\017)46 b FI(Resolv)o(e)25 b(ambiguities.)136
4349 y FB(\017)46 b FI(W)l(ith)24 b(reluctance,)i(mak)o(e)e(small)g
(changes)h(to)f(mak)o(e)f(the)h(o)o(v)o(erall)h(language)h(more)d
(consistent.)0 4608 y(This)32 b(task)h(turned)h(out)e(to)g(be)g(much,)j
(much)d(lar)n(ger)i(than)f(I)f(had)g(anticipated.)58
b(As)31 b(Hask)o(ell)j(becomes)f(more)0 4720 y(widely)20
b(used,)i(the)e(Report)g(has)g(been)h(scrutinised)i(by)d(more)g(and)g
(more)g(people,)i(and)e(I)f(ha)n(v)o(e)i(adopted)h(hundreds)0
4833 y(of)c(\(mostly)i(small\))f(changes)h(as)f(a)f(result)h(of)g
(their)g(feedback.)29 b(The)18 b(original)j(committees)f(ceased)g(to)e
(e)o(xist)h(when)0 4946 y(the)24 b(original)i(Hask)o(ell)f(98)f
(Reports)h(were)e(published,)k(so)d(e)n(v)o(ery)g(change)i(w)o(as)d
(instead)j(proposed)g(to)e(the)g(entire)0 5059 y(Hask)o(ell)h(mailing)f
(list.)0 5252 y(This)k(document)i(is)f(the)f(outcome)i(of)f(this)g
(process)h(of)e(re\002nement.)45 b(It)28 b(includes)i(both)g(the)e
(Hask)o(ell)i(98)e(Lan-)0 5365 y(guage)f(Report)g(and)g(the)f
(Libraries)i(Report,)f(and)f(constitutes)j(the)e(of)n(\002cial)f
(speci\002cation)j(of)d(both.)37 b(It)26 b(is)g FJ(not)h
FI(a)p eop
%%Page: 9 11
9 10 bop 300 100 a FE(PREF)-7 b(A)l(CE)3138 b FI(ix)300
356 y(tutorial)24 b(on)f(programming)h(in)e(Hask)o(ell)i(such)f(as)f
(the)h(`Gentle)g(Introduction')j([6)q(],)c(and)g(some)h(f)o(amiliarity)
h(with)300 469 y(functional)i(languages)h(is)c(assumed.)300
664 y(The)g(entire)i(te)o(xt)f(of)f(both)h(Reports)h(is)e(a)n(v)n
(ailable)j(online)f(\(see)f(\223Hask)o(ell)h(resources\224)h(belo)n
(w\).)300 1039 y FC(Extensions)j(to)h(Hask)o(ell)g(98)300
1329 y FI(Hask)o(ell)j(continues)h(to)e(e)n(v)n(olv)o(e,)j(going)e
(well)f(be)o(yond)h(Hask)o(ell)g(98.)54 b(F)o(or)31 b(e)o(xample,)k(at)
d(the)g(time)g(of)f(writing)300 1442 y(there)24 b(are)g(Hask)o(ell)h
(implementations)i(that)d(support:)300 1711 y FF(Syntactic)g(sugar)-8
b(,)46 b FI(including:)636 1899 y FB(\017)g FI(pattern)25
b(guards;)636 2044 y FB(\017)46 b FI(recursi)n(v)o(e)26
b(do-notation;)636 2190 y FB(\017)46 b FI(le)o(xically)26
b(scoped)f(type)f(v)n(ariables;)636 2336 y FB(\017)46
b FI(meta-programming)27 b(f)o(acilities;)300 2523 y
FF(T)-7 b(ype)23 b(system)h(inno)o(v)o(ations,)47 b FI(including:)636
2710 y FB(\017)f FI(multi-parameter)27 b(type)d(classes;)636
2856 y FB(\017)46 b FI(functional)27 b(dependencies;)636
3002 y FB(\017)46 b FI(e)o(xistential)26 b(types;)636
3148 y FB(\017)46 b FI(local)25 b(uni)n(v)o(ersal)g(polymorphism)h(and)
e(arbitrary)i(rank-types;)300 3335 y FF(Contr)n(ol)e(extensions,)47
b FI(including:)636 3522 y FB(\017)f FI(monadic)25 b(state;)636
3668 y FB(\017)46 b FI(e)o(xceptions;)636 3814 y FB(\017)g
FI(concurrenc)o(y;)300 4083 y(There)21 b(is)h(more)f(besides.)30
b(Hask)o(ell)22 b(98)f(does)h(not)g(impede)g(these)g(de)n(v)o
(elopments.)31 b(Instead,)23 b(it)e(pro)o(vides)i(a)e(stable)300
4196 y(point)28 b(of)g(reference,)i(so)d(that)h(those)g(who)f(wish)g
(to)h(write)f(te)o(xt)g(books,)j(or)d(use)h(Hask)o(ell)g(for)f
(teaching,)j(can)e(do)300 4309 y(so)c(in)f(the)h(kno)n(wledge)h(that)f
(Hask)o(ell)h(98)e(will)h(continue)h(to)f(e)o(xist.)300
4684 y FC(Hask)o(ell)30 b(Resour)n(ces)300 4974 y FI(The)23
b(Hask)o(ell)i(web)e(site)878 5169 y FD(http://haskell)o(.o)o(rg)300
5365 y FI(gi)n(v)o(es)h(access)h(to)e(man)o(y)h(useful)h(resources,)g
(including:)p eop
%%Page: 10 12
10 11 bop 0 100 a FI(x)3166 b FE(PREF)-7 b(A)l(CE)136
356 y FB(\017)46 b FI(Online)32 b(v)o(ersions)g(of)f(the)g(language)j
(and)d(library)h(de\002nitions,)j(including)e(a)e(complete)h(list)f(of)
g(all)g(the)227 469 y(dif)n(ferences)c(between)d(Hask)o(ell)h(98)e(as)h
(published)i(in)e(February)g(1999)h(and)f(this)g(re)n(vised)h(v)o
(ersion.)136 656 y FB(\017)46 b FI(T)l(utorial)25 b(material)f(on)g
(Hask)o(ell.)136 844 y FB(\017)46 b FI(Details)25 b(of)e(the)h(Hask)o
(ell)g(mailing)h(list.)136 1032 y FB(\017)46 b FI(Implementations)27
b(of)d(Hask)o(ell.)136 1219 y FB(\017)46 b FI(Contrib)n(uted)27
b(Hask)o(ell)d(tools)h(and)f(libraries.)136 1407 y FB(\017)46
b FI(Applications)27 b(of)c(Hask)o(ell.)0 1678 y(Y)-10
b(ou)22 b(are)g(welcome)h(to)f(comment)g(on,)h(suggest)h(impro)o(v)o
(ements)f(to,)g(and)f(criticise)i(the)f(language)h(or)e(its)g(presen-)0
1791 y(tation)j(in)e(the)h(report,)h(via)e(the)h(Hask)o(ell)h(mailing)f
(list.)0 2166 y FC(Building)32 b(the)e(language)0 2456
y FI(Hask)o(ell)36 b(w)o(as)e(created,)39 b(and)c(continues)i(to)e(be)g
(sustained,)k(by)c(an)g(acti)n(v)o(e)g(community)h(of)f(researchers)j
(and)0 2569 y(application)22 b(programmers.)30 b(Those)19
b(who)g(serv)o(ed)h(on)f(the)h(Language)h(and)e(Library)h(committees,)h
(in)f(particular)l(,)0 2682 y(de)n(v)n(oted)29 b(a)e(huge)h(amount)h
(of)e(time)g(and)h(ener)n(gy)h(to)e(the)h(language.)42
b(Here)28 b(the)o(y)f(are,)i(with)e(their)h(af)n(\002liation\(s\))0
2795 y(for)c(the)g(rele)n(v)n(ant)h(period:)1546 3091
y(Arvind)g(\(MIT\))1018 3203 y(Lennart)f(Augustsson)i(\(Chalmers)f(Uni)
n(v)o(ersity\))1326 3316 y(Da)n(v)o(e)e(Barton)h(\(Mitre)g(Corp\))916
3429 y(Brian)f(Boutel)i(\(V)-5 b(ictoria)24 b(Uni)n(v)o(ersity)h(of)e
(W)-7 b(ellington\))1043 3542 y(W)g(arren)24 b(Burton)g(\(Simon)g
(Fraser)g(Uni)n(v)o(ersity\))1065 3655 y(Jon)g(F)o(airbairn)h(\(Uni)n
(v)o(ersity)g(of)e(Cambridge\))926 3768 y(Joseph)i(F)o(asel)e(\(Los)h
(Alamos)f(National)i(Laboratory\))1054 3881 y(Andy)f(Gordon)h(\(Uni)n
(v)o(ersity)g(of)e(Cambridge\))1202 3994 y(Maria)h(Guzman)f(\(Y)-9
b(ale)24 b(Uni)n(v)o(ersity\))1023 4107 y(K)n(e)n(vin)f(Hammond)g
(\(Unii)n(v)o(ersity)j(of)d(Glasgo)n(w\))1211 4220 y(Ralf)g(Hinze)h
(\(Uni)n(v)o(ersity)h(of)f(Bonn\))1115 4333 y(P)o(aul)f(Hudak)h
([editor])i(\(Y)-9 b(ale)23 b(Uni)n(v)o(ersity\))564
4445 y(John)h(Hughes)h([editor])g(\(Uni)n(v)o(ersity)g(of)f(Glasgo)n
(w;)g(Chalmers)g(Uni)n(v)o(ersity\))1058 4558 y(Thomas)g(Johnsson)i
(\(Chalmers)e(Uni)n(v)o(ersity\))281 4671 y(Mark)f(Jones)i(\(Y)-9
b(ale)23 b(Uni)n(v)o(ersity)-6 b(,)25 b(Uni)n(v)o(ersity)g(of)e
(Nottingham,)i(Ore)o(gon)f(Graduate)h(Institute\))1027
4784 y(Dick)e(Kieb)n(urtz)i(\(Ore)o(gon)f(Graduate)h(Institute\))533
4897 y(John)g(Launchb)n(ury)h(\(Uni)n(v)o(ersity)f(of)f(Glasgo)n(w;)f
(Ore)o(gon)h(Graduate)h(Institute\))1210 5010 y(Erik)e(Meijer)h
(\(Utrecht)h(Uni)n(v)o(ersity\))1391 5123 y(Rishiyur)g(Nikhil)f
(\(MIT\))1222 5236 y(John)g(Peterson)h(\(Y)-9 b(ale)24
b(Uni)n(v)o(ersity\))376 5349 y(Simon)f(Pe)o(yton)h(Jones)h([editor])g
(\(Uni)n(v)o(ersity)g(of)f(Glasgo)n(w;)f(Microsoft)j(Research)f(Ltd\))p
eop
%%Page: 11 13
11 12 bop 300 100 a FE(PREF)-7 b(A)l(CE)3138 b FI(xi)1534
356 y(Mik)o(e)23 b(Ree)n(v)o(e)h(\(Imperial)h(Colle)o(ge\))1406
469 y(Alastair)g(Reid)e(\(Uni)n(v)o(ersity)i(of)f(Glasgo)n(w\))1420
582 y(Colin)g(Runciman)g(\(Uni)n(v)o(ersity)h(of)f(Y)-10
b(ork\))1249 695 y(Philip)24 b(W)-7 b(adler)24 b([editor])i(\(Uni)n(v)o
(ersity)f(of)e(Glasgo)n(w\))1507 808 y(Da)n(vid)i(W)l(ise)e(\(Indiana)j
(Uni)n(v)o(ersity\))1484 920 y(Jonathan)g(Y)-10 b(oung)24
b(\(Y)-9 b(ale)24 b(Uni)n(v)o(ersity\))300 1216 y(Those)g(mark)o(ed)g
([editor])i(serv)o(ed)e(as)g(the)g(co-ordinating)j(editor)e(for)f(one)g
(or)f(more)h(re)n(visions)h(of)f(the)g(language.)300
1412 y(In)37 b(addition,)43 b(dozens)d(of)d(other)h(people)i(made)d
(helpful)i(contrib)n(utions,)45 b(some)38 b(small)g(b)n(ut)g(man)o(y)f
(substan-)300 1525 y(tial.)53 b(The)o(y)32 b(are)f(as)h(follo)n(ws:)46
b(Kris)31 b(Aerts,)j(Hans)d(Aber)n(g,)j(Sten)e(Anderson,)j(Richard)d
(Bird,)i(Stephen)e(Blott,)300 1638 y(T)-7 b(om)22 b(Blenk)o(o,)j(Duk)o
(e)f(Briscoe,)g(P)o(aul)f(Callaghan,)j(Magnus)e(Carlsson,)h(Mark)f
(Carroll,)g(Manuel)h(Chakra)n(v)n(arty)-6 b(,)300 1751
y(Franklin)30 b(Chen,)h(Olaf)d(Chitil,)j(Chris)e(Clack,)h(Guy)f
(Cousineau,)j(T)-7 b(on)o(y)29 b(Da)n(vie,)h(Craig)g(Dickson,)h(Chris)e
(Dor)n(-)300 1864 y(nan,)22 b(Laura)g(Dutton,)h(Chris)f(F)o(asel,)f(P)o
(at)g(F)o(asel,)h(Sigbjorn)h(Finne,)f(Michael)h(Fryers,)f(Andy)g(Gill,)
g(Mik)o(e)f(Gunter)l(,)300 1977 y(Cordy)j(Hall,)f(Mark)h(Hall,)f
(Thomas)h(Hallgren,)g(Matt)g(Harden,)g(Klemens)g(Hemm,)e(Fer)n(gus)j
(Henderson,)g(Dean)300 2089 y(Herington,)j(Ralf)e(Hinze,)g(Bob)g
(Hiromoto,)h(Nic)e(Holt,)h(Ian)h(Holyer)l(,)g(Randy)f(Hudson,)i(Ale)o
(xander)f(Jacobson,)300 2202 y(P)o(atrik)j(Jansson,)j(Robert)e
(Jeschofnik,)j(Orjan)d(Johansen,)j(Simon)29 b(B.)g(Jones,)j(Stef)e
(Joosten,)j(Mik)o(e)e(Jo)o(y)-6 b(,)32 b(Ste-)300 2315
y(f)o(an)g(Kahrs,)i(Antti-Juhani)h(Kaijanaho,)g(Jerzy)e(Karczmarczuk,)j
(W)-7 b(olfram)32 b(Kahl,)i(K)n(ent)d(Karlsson,)k(Richard)300
2428 y(K)n(else)o(y)-6 b(,)45 b(Siau-Cheng)e(Khoo,)i(Amir)40
b(Kishon,)46 b(Feliks)41 b(Kluzniak,)47 b(Jan)41 b(K)m(ort,)k(Marcin)d
(K)m(o)n(w)o(alczyk,)j(Jose)300 2541 y(Labra,)28 b(Jef)n(f)g(Le)n(wis,)
f(Mark)h(Lillibridge,)i(Bjorn)d(Lisper)l(,)i(Sandra)f(Loosemore,)i(P)o
(ablo)d(Lopez,)h(Olaf)g(Lubeck,)300 2654 y(Ian)35 b(L)-5
b(ynagh,)38 b(Christian)e(Maeder)l(,)i(K)n(etil)d(Malde,)i(Simon)e
(Marlo)n(w)-6 b(,)37 b(Michael)e(Marte,)j(Jim)c(Mattson,)k(John)300
2767 y(Meacham,)43 b(Ser)n(ge)o(y)c(Mechv)o(eliani,)45
b(Gary)38 b(Memo)o(vich,)43 b(Randy)d(Michelsen,)k(Rick)38
b(Mohr)l(,)43 b(Andy)c(Moran,)300 2880 y(Graeme)34 b(Moss,)j(Henrik)d
(Nilsson,)k(Arthur)d(Norman,)h(Nick)e(North,)j(Chris)d(Okasaki,)k
(Bjarte)c(M.)f(\330stv)n(old,)300 2993 y(P)o(aul)24 b(Otto,)f(Sv)o(en)h
(P)o(anne,)g(Da)n(v)o(e)g(P)o(arrott,)g(Ross)g(P)o(aterson,)h(Larne)g
(Pek)o(o)n(wsk)o(y)-6 b(,)24 b(Rinus)g(Plasmeijer)l(,)i(Ian)e(Poole,)
300 3106 y(Stephen)i(Price,)e(John)i(Robson,)g(Andreas)g(Rossber)n(g,)g
(Geor)n(ge)g(Russell,)g(P)o(atrick)f(Sansom,)f(Michael)i(Schnei-)300
3219 y(der)l(,)38 b(Felix)e(Schroeter)l(,)j(Julian)e(Se)n(w)o(ard,)g
(Nimish)f(Shah,)h(Christian)g(Sie)n(v)o(ers,)h(Libor)d(Skarv)n(ada,)k
(Jan)d(Skib-)300 3331 y(inski,)c(Lauren)f(Smith,)g(Raman)f(Sundaresh,)j
(Josef)e(Sv)o(enningsson,)j(K)n(en)c(T)-7 b(akusaga)o(w)o(a,)32
b(Satish)e(Thatte,)i(Si-)300 3444 y(mon)22 b(Thompson,)i(T)-7
b(om)21 b(Thomson,)i(T)-7 b(ommy)22 b(Thorn,)g(Dylan)h(Thurston,)h(Mik)
o(e)f(Thyer)l(,)g(Mark)f(T)l(ullsen,)i(Da)n(vid)300 3557
y(T)-7 b(weed,)34 b(Pradeep)g(V)-10 b(arma,)35 b(Malcolm)e(W)-7
b(allace,)36 b(K)n(eith)d(W)-7 b(ansbrough,)38 b(T)-7
b(on)o(y)32 b(W)-7 b(arnock,)36 b(Michael)e(W)-7 b(ebber)l(,)300
3670 y(Carl)23 b(W)l(itty)-6 b(,)24 b(Stuart)g(Wray)-6
b(,)24 b(and)g(Bonnie)g(Y)-9 b(antis.)300 3866 y(Finally)j(,)31
b(aside)e(from)g(the)g(important)h(foundational)i(w)o(ork)d(laid)g(by)g
(Church,)h(Rosser)l(,)h(Curry)-6 b(,)30 b(and)f(others)h(on)300
3979 y(the)35 b(lambda)h(calculus,)j(it)34 b(is)h(right)g(to)g(ackno)n
(wledge)i(the)e(in\003uence)i(of)d(man)o(y)h(note)n(w)o(orthy)h
(programming)300 4092 y(languages)25 b(de)n(v)o(eloped)f(o)o(v)o(er)d
(the)h(years.)30 b(Although)23 b(it)e(is)h(dif)n(\002cult)h(to)e
(pinpoint)j(the)f(origin)g(of)e(man)o(y)h(ideas,)h(the)300
4205 y(follo)n(wing)28 b(languages)h(were)d(particularly)k
(in\003uential:)37 b(Lisp)26 b(\(and)h(its)g(modern-day)i(incarnations)
h(Common)300 4318 y(Lisp)36 b(and)g(Scheme\);)43 b(Landin')-5
b(s)37 b(ISWIM;)e(APL;)f(Backus')-5 b(s)38 b(FP)c([1)q(];)42
b(ML)34 b(and)j(Standard)g(ML;)e(Hope)h(and)300 4431
y(Hope)496 4398 y FA(+)556 4431 y FI(;)22 b(Clean;)i(Id;)f(Gofer;)h
(Sisal;)f(and)g(T)l(urner')-5 b(s)24 b(series)g(of)e(languages)k
(culminating)f(in)e(Miranda)3516 4398 y Fz(1)3555 4431
y FI(.)28 b(W)l(ithout)300 4544 y(these)d(forerunners)h(Hask)o(ell)f(w)
o(ould)f(not)g(ha)n(v)o(e)g(been)g(possible.)p 300 4625
1440 4 v 405 4680 a Fy(1)434 4712 y Fx(Miranda)c(is)f(a)g(trademark)g
(of)g(Research)h(Softw)o(are)e(Ltd.)p eop
%%Page: 12 14
12 13 bop 0 100 a FI(xii)3116 b FE(PREF)-7 b(A)l(CE)0
356 y FI(Simon)23 b(Pe)o(yton)h(Jones)0 469 y(Cambridge,)g(September)h
(2002)p eop
%%Page: 1 15
1 14 bop 1883 2039 a Fw(P)n(art)45 b(I)979 2537 y FH(The)51
b(Hask)n(ell)h(98)h(Language)2077 5593 y FI(1)p eop
%%Page: 2 16
2 15 bop eop
%%Page: 3 17
3 16 bop 300 1053 a Fw(Chapter)44 b(1)300 1543 y FH(Intr)l(oduction)300
2062 y FI(Hask)o(ell)30 b(is)e(a)g(general)j(purpose,)g(purely)g
(functional)g(programming)g(language)g(incorporating)h(man)o(y)d
(recent)300 2175 y(inno)o(v)n(ations)j(in)d(programming)j(language)f
(design.)48 b(Hask)o(ell)30 b(pro)o(vides)h(higher)n(-order)j
(functions,)f(non-strict)300 2288 y(semantics,)27 b(static)f
(polymorphic)i(typing,)e(user)n(-de\002ned)i(algebraic)f(datatypes,)h
(pattern-matching,)h(list)c(com-)300 2401 y(prehensions,)e(a)c(module)g
(system,)i(a)d(monadic)i(I/O)f(system,)h(and)g(a)e(rich)i(set)f(of)g
(primiti)n(v)o(e)g(datatypes,)k(including)300 2514 y(lists,)28
b(arrays,)g(arbitrary)g(and)f(\002x)o(ed)f(precision)j(inte)o(gers,)g
(and)e(\003oating-point)i(numbers.)39 b(Hask)o(ell)27
b(is)g(both)g(the)300 2626 y(culmination)f(and)e(solidi\002cation)j(of)
c(man)o(y)g(years)i(of)e(research)j(on)e(non-strict)i(functional)g
(languages.)300 2814 y(This)36 b(report)i(de\002nes)g(the)e(syntax)i
(for)f(Hask)o(ell)h(programs)g(and)f(an)g(informal)g(abstract)i
(semantics)f(for)f(the)300 2927 y(meaning)g(of)f(such)g(programs.)67
b(W)-7 b(e)35 b(lea)n(v)o(e)i(as)e(implementation)k(dependent)g(the)d
(w)o(ays)f(in)h(which)g(Hask)o(ell)300 3040 y(programs)20
b(are)e(to)g(be)g(manipulated,)k(interpreted,)g(compiled,)e(etc.)27
b(This)18 b(includes)j(such)e(issues)g(as)f(the)h(nature)g(of)300
3153 y(programming)26 b(en)l(vironments)i(and)c(the)h(error)g(messages)
g(returned)h(for)f(unde\002ned)g(programs)h(\(i.e.)e(programs)300
3265 y(that)g(formally)h(e)n(v)n(aluate)g(to)e FB(?)p
FI(\).)300 3628 y FC(1.1)119 b(Pr)n(ogram)29 b(Structur)n(e)300
3910 y FI(In)24 b(this)h(section,)h(we)e(describe)i(the)f(abstract)h
(syntactic)h(and)d(semantic)i(structure)h(of)d(Hask)o(ell,)h(as)f(well)
g(as)h(ho)n(w)300 4023 y(it)e(relates)i(to)f(the)g(or)n(ganization)j
(of)c(the)h(rest)g(of)f(the)h(report.)414 4263 y(1.)45
b(At)24 b(the)g(topmost)i(le)n(v)o(el)e(a)g(Hask)o(ell)h(program)h(is)e
(a)g(set)g(of)g FJ(modules)p FI(,)i(described)h(in)d(Chapter)h(5.)31
b(Modules)527 4376 y(pro)o(vide)25 b(a)e(w)o(ay)h(to)f(control)i
(namespaces)h(and)e(to)g(re-use)h(softw)o(are)f(in)g(lar)n(ge)h
(programs.)414 4555 y(2.)45 b(The)32 b(top)g(le)n(v)o(el)g(of)g(a)f
(module)i(consists)h(of)e(a)f(collection)k(of)d FJ(declar)o(ations)p
FI(,)37 b(of)32 b(which)g(there)h(are)f(se)n(v-)527 4668
y(eral)i(kinds,)i(all)d(described)i(in)e(Chapter)h(4.)56
b(Declarations)36 b(de\002ne)d(things)i(such)e(as)g(ordinary)i(v)n
(alues,)527 4781 y(datatypes,)26 b(type)e(classes,)h(and)f(\002xity)g
(information.)414 4960 y(3.)45 b(At)19 b(the)i(ne)o(xt)f(lo)n(wer)g(le)
n(v)o(el)g(are)g FJ(e)n(xpr)m(essions)p FI(,)k(described)f(in)d
(Chapter)h(3.)27 b(An)19 b(e)o(xpression)k(denotes)f(a)d
FJ(value)527 5073 y FI(and)24 b(has)g(a)f FJ(static)i(type)p
FI(;)f(e)o(xpressions)j(are)d(at)f(the)h(heart)g(of)g(Hask)o(ell)g
(programming)i(\223in)e(the)g(small.)-6 b(\224)414 5252
y(4.)45 b(At)25 b(the)h(bottom)h(le)n(v)o(el)f(is)f(Hask)o(ell')-5
b(s)27 b FJ(le)n(xical)h(structur)m(e)p FI(,)g(de\002ned)f(in)e
(Chapter)i(2.)35 b(The)25 b(le)o(xical)i(structure)527
5365 y(captures)f(the)e(concrete)h(representation)j(of)c(Hask)o(ell)g
(programs)h(in)f(te)o(xt)f(\002les.)2077 5593 y(3)p eop
%%Page: 4 18
4 17 bop 0 100 a FI(4)2316 b FE(CHAPTER)20 b(1.)51 b(INTR)l(ODUCTION)0
356 y FI(This)23 b(report)i(proceeds)h(bottom-up)g(with)d(respect)i(to)
f(Hask)o(ell')-5 b(s)25 b(syntactic)h(structure.)0 552
y(The)k(chapters)i(not)f(mentioned)h(abo)o(v)o(e)f(are)g(Chapter)g(6,)h
(which)e(describes)j(the)e(standard)h(b)n(uilt-in)h(datatypes)0
665 y(and)26 b(classes)g(in)f(Hask)o(ell,)i(and)e(Chapter)h(7,)f(which)
g(discusses)j(the)d(I/O)g(f)o(acility)i(in)e(Hask)o(ell)h(\(i.e.)f(ho)n
(w)f(Hask)o(ell)0 778 y(programs)g(communicate)g(with)d(the)i(outside)g
(w)o(orld\).)29 b(Also,)22 b(there)h(are)f(se)n(v)o(eral)h(chapters)h
(describing)h(the)e(Pre-)0 891 y(lude,)g(the)g(concrete)i(syntax,)e
(literate)i(programming,)f(the)f(speci\002cation)i(of)e(deri)n(v)o(ed)g
(instances,)i(and)e(pragmas)0 1004 y(supported)j(by)e(most)f(Hask)o
(ell)i(compilers.)0 1199 y(Examples)f(of)g(Hask)o(ell)g(program)h
(fragments)g(in)f(running)h(te)o(xt)f(are)g(gi)n(v)o(en)g(in)f(type)n
(writer)i(font:)196 1389 y FD(let)53 b(x)h(=)g(1)414
1502 y(z)g(=)g(x+y)196 1615 y(in)108 b(z+1)0 1803 y FI(\223Holes\224)23
b(in)f(program)h(fragments)h(representing)h(arbitrary)f(pieces)g(of)d
(Hask)o(ell)i(code)g(are)f(written)h(in)f(italics,)h(as)0
1915 y(in)29 b FD(if)22 b Fv(e)273 1929 y Fu(1)345 1915
y FD(then)f Fv(e)628 1929 y Fu(2)700 1915 y FD(else)g
Fv(e)983 1929 y Fu(3)1032 1915 y FI(.)45 b(Generally)30
b(the)g(italicized)h(names)f(are)f(mnemonic,)j(such)e(as)f
Fv(e)35 b FI(for)29 b(e)o(xpres-)0 2028 y(sions,)24 b
Fv(d)33 b FI(for)24 b(declarations,)i Fv(t)32 b FI(for)24
b(types,)g(etc.)0 2404 y FC(1.2)119 b(The)30 b(Hask)o(ell)g(K)m(er)n
(nel)0 2694 y FI(Hask)o(ell)25 b(has)g(adopted)h(man)o(y)e(of)g(the)h
(con)l(v)o(enient)i(syntactic)g(structures)g(that)e(ha)n(v)o(e)g
(become)g(popular)h(in)e(func-)0 2807 y(tional)g(programming.)31
b(In)22 b(this)i(Report,)f(the)g(meaning)i(of)d(such)i(syntactic)h
(sugar)f(is)e(gi)n(v)o(en)i(by)f(translation)j(into)0
2920 y(simpler)d(constructs.)31 b(If)22 b(these)i(translations)h(are)e
(applied)h(e)o(xhausti)n(v)o(ely)-6 b(,)25 b(the)e(result)g(is)f(a)g
(program)h(written)g(in)g(a)0 3033 y(small)h(subset)h(of)e(Hask)o(ell)i
(that)f(we)f(call)h(the)f(Hask)o(ell)i FJ(k)o(ernel)p
FI(.)0 3229 y(Although)20 b(the)f(k)o(ernel)i(is)d(not)h(formally)h
(speci\002ed,)h(it)e(is)f(essentially)k(a)c(slightly)j(sugared)f(v)n
(ariant)h(of)d(the)h(lambda)0 3342 y(calculus)29 b(with)e(a)g
(straightforw)o(ard)j(denotational)h(semantics.)41 b(The)27
b(translation)j(of)d(each)g(syntactic)j(structure)0 3454
y(into)25 b(the)f(k)o(ernel)i(is)e(gi)n(v)o(en)g(as)g(the)h(syntax)g
(is)f(introduced.)34 b(This)24 b(modular)h(design)g(f)o(acilitates)i
(reasoning)g(about)0 3567 y(Hask)o(ell)e(programs)g(and)f(pro)o(vides)h
(useful)g(guidelines)h(for)e(implementors)i(of)d(the)h(language.)0
3943 y FC(1.3)119 b(V)-11 b(alues)30 b(and)h(T)-9 b(ypes)0
4233 y FI(An)29 b(e)o(xpression)k(e)n(v)n(aluates)e(to)f(a)f
FJ(value)i FI(and)f(has)h(a)e(static)i FJ(type)p FI(.)48
b(V)-10 b(alues)30 b(and)h(types)g(are)f(not)g(mix)o(ed)g(in)f(Has-)0
4346 y(k)o(ell.)67 b(Ho)n(we)n(v)o(er)l(,)38 b(the)f(type)f(system)h
(allo)n(ws)f(user)n(-de\002ned)j(datatypes)f(of)e(v)n(arious)i(sorts,)i
(and)c(permits)h(not)0 4459 y(only)28 b(parametric)i(polymorphism)g
(\(using)f(a)e(traditional)j(Hindle)o(y-Milner)g(type)f(structure\))h
(b)n(ut)e(also)g FJ(ad)g(hoc)0 4572 y FI(polymorphism,)e(or)d
FJ(o)o(verloading)k FI(\(using)e FJ(type)g(classes)p
FI(\).)0 4768 y(Errors)j(in)g(Hask)o(ell)h(are)f(semantically)j(equi)n
(v)n(alent)f(to)e FB(?)p FI(.)40 b(T)-6 b(echnically)g(,)31
b(the)o(y)d(are)g(not)h(distinguishable)j(from)0 4881
y(nontermination,)e(so)c(the)g(language)i(includes)g(no)e(mechanism)h
(for)f(detecting)i(or)e(acting)h(upon)g(errors.)36 b(Ho)n(w-)0
4994 y(e)n(v)o(er)l(,)22 b(implementations)j(will)d(probably)i(try)e
(to)g(pro)o(vide)i(useful)f(information)h(about)f(errors.)30
b(See)21 b(Section)i(3.1.)p eop
%%Page: 5 19
5 18 bop 300 100 a FE(1.4.)51 b(N)m(AMESP)-8 b(A)l(CES)2778
b FI(5)300 356 y FC(1.4)119 b(Namespaces)300 646 y FI(There)26
b(are)g(six)g(kinds)h(of)e(names)i(in)e(Hask)o(ell:)35
b(those)27 b(for)f FJ(variables)i FI(and)e FJ(constructor)o(s)k
FI(denote)d(v)n(alues;)h(those)300 759 y(for)i FJ(type)h(variables)p
FI(,)k FJ(type)30 b(constructor)o(s)p FI(,)36 b(and)31
b FJ(type)g(classes)g FI(refer)g(to)g(entities)h(related)g(to)e(the)g
(type)h(system;)300 872 y(and)24 b FJ(module)g(names)g
FI(refer)h(to)e(modules.)30 b(There)24 b(are)g(tw)o(o)f(constraints)j
(on)e(naming:)414 1142 y(1.)45 b(Names)35 b(for)h(v)n(ariables)i(and)e
(type)g(v)n(ariables)i(are)e(identi\002ers)h(be)o(ginning)h(with)d(lo)n
(wercase)i(letters)g(or)527 1255 y(underscore;)27 b(the)d(other)g(four)
h(kinds)f(of)g(names)g(are)g(identi\002ers)h(be)o(ginning)h(with)d
(uppercase)j(letters.)414 1443 y(2.)45 b(An)20 b(identi\002er)i(must)f
(not)g(be)f(used)i(as)e(the)h(name)g(of)f(a)g(type)i(constructor)i(and)
d(a)f(class)h(in)g(the)g(same)f(scope.)300 1714 y(These)32
b(are)g(the)g(only)g(constraints;)39 b(for)32 b(e)o(xample,)i
FD(Int)c FI(may)h(simultaneously)k(be)d(the)g(name)g(of)f(a)h(module,)
300 1827 y(class,)24 b(and)g(constructor)j(within)d(a)f(single)i
(scope.)p eop
%%Page: 6 20
6 19 bop 0 100 a FI(6)2316 b FE(CHAPTER)20 b(1.)51 b(INTR)l(ODUCTION)p
eop
%%Page: 7 21
7 20 bop 300 1046 a Fw(Chapter)44 b(2)300 1529 y FH(Lexical)52
b(Structur)l(e)300 2041 y FI(In)28 b(this)i(chapter)l(,)h(we)d
(describe)j(the)e(lo)n(w-le)n(v)o(el)g(le)o(xical)h(structure)g(of)f
(Hask)o(ell.)45 b(Most)28 b(of)h(the)g(details)h(may)e(be)300
2154 y(skipped)e(in)d(a)g(\002rst)g(reading)j(of)d(the)h(report.)300
2506 y FC(2.1)119 b(Notational)30 b(Con)-5 b(v)o(entions)300
2781 y FI(These)24 b(notational)i(con)l(v)o(entions)h(are)d(used)g(for)
g(presenting)j(syntax:)1180 3000 y Ft([)p Fv(p)-5 b(attern)7
b Ft(])162 b FI(optional)1160 3112 y FB(f)p Fv(p)-5 b(attern)7
b FB(g)142 b FI(zero)24 b(or)g(more)f(repetitions)1170
3225 y Ft(\()p Fv(p)-5 b(attern)7 b Ft(\))152 b FI(grouping)1145
3338 y Fv(p)-5 b(at)1262 3352 y Fu(1)1336 3338 y FB(j)23
b Fv(p)-5 b(at)1501 3352 y Fu(2)1677 3338 y FI(choice)1199
3451 y Fv(p)g(at)1316 3470 y Fs(h)p Fu(p)l(at)1441 3451
y Fr(0)1467 3470 y Fs(i)1677 3451 y FI(dif)n(ference\227elements)28
b(generated)e(by)e Fv(p)-5 b(at)1677 3565 y FI(e)o(xcept)25
b(those)f(generated)i(by)e Fv(p)-5 b(at)2766 3532 y Fs(0)1103
3678 y FD(fibonacci)79 b FI(terminal)25 b(syntax)g(in)e(type)n(writer)i
(font)300 3895 y(Because)30 b(the)g(syntax)g(in)g(this)f(section)i
(describes)h FJ(le)n(xical)f FI(syntax,)h(all)d(whitespace)i(is)e(e)o
(xpressed)j(e)o(xplicitly;)300 4007 y(there)d(is)f(no)g(implicit)h
(space)g(between)g(juxtaposed)i(symbols.)43 b(BNF-lik)o(e)28
b(syntax)i(is)e(used)g(throughout,)k(with)300 4120 y(productions)27
b(ha)n(ving)e(the)f(form:)300 4336 y Fv(nonterm)142 b
FB(!)113 b Fv(alt)1077 4350 y Fu(1)1150 4336 y FB(j)23
b Fv(alt)1297 4350 y Fu(2)1370 4336 y FB(j)38 b Fq(:)15
b(:)g(:)39 b FB(j)23 b Fv(alt)1724 4350 y Fu(n)300 4552
y FI(Care)j(must)g(be)g(tak)o(en)h(in)f(distinguishing)31
b(metalogical)d(syntax)g(such)f(as)f FB(j)f FI(and)i
Ft([)p Fq(:)15 b(:)g(:)q Ft(])26 b FI(from)g(concrete)i(terminal)300
4665 y(syntax)35 b(\(gi)n(v)o(en)f(in)f(type)n(writer)i(font\))g(such)f
(as)f FD(|)f FI(and)i FD([...])n FI(,)h(although)g(usually)g(the)f
(conte)o(xt)h(mak)o(es)f(the)300 4778 y(distinction)27
b(clear)-5 b(.)300 4958 y(Hask)o(ell)24 b(uses)f(the)g(Unicode)h([11)q
(])f(character)i(set.)j(Ho)n(we)n(v)o(er)l(,)23 b(source)h(programs)g
(are)f(currently)j(biased)e(to)n(w)o(ard)300 5071 y(the)g(ASCII)e
(character)k(set)d(used)i(in)e(earlier)i(v)o(ersions)h(of)d(Hask)o
(ell.)300 5252 y(This)f(syntax)i(depends)g(on)f(properties)i(of)d(the)g
(Unicode)i(characters)h(as)d(de\002ned)h(by)f(the)h(Unicode)g
(consortium.)300 5365 y(Hask)o(ell)h(compilers)g(are)f(e)o(xpected)h
(to)f(mak)o(e)f(use)h(of)g(ne)n(w)f(v)o(ersions)i(of)f(Unicode)g(as)g
(the)o(y)g(are)g(made)f(a)n(v)n(ailable.)2077 5593 y(7)p
eop
%%Page: 8 22
8 21 bop 0 100 a FI(8)2061 b FE(CHAPTER)20 b(2.)51 b(LEXICAL)20
b(STR)l(UCTURE)0 356 y FC(2.2)119 b(Lexical)30 b(Pr)n(ogram)f(Structur)
n(e)0 759 y Fv(pr)-5 b(o)g(gr)g(am)159 b FB(!)113 b(f)23
b Fv(lexeme)30 b FB(j)23 b Fv(whitesp)-5 b(ac)g(e)32
b FB(g)0 872 y Fv(lexeme)209 b FB(!)113 b Fv(qvarid)33
b FB(j)23 b Fv(qc)-5 b(onid)33 b FB(j)23 b Fv(qvarsym)31
b FB(j)23 b Fv(qc)-5 b(onsym)506 985 y FB(j)147 b Fv(liter)-5
b(al)34 b FB(j)23 b Fv(sp)-5 b(e)g(cial)33 b FB(j)23
b Fv(r)-5 b(eserve)g(dop)31 b FB(j)23 b Fv(r)-5 b(eserve)g(did)0
1098 y(liter)g(al)249 b FB(!)113 b Fv(inte)-5 b(ger)33
b FB(j)23 b Fv(\015o)-5 b(at)33 b FB(j)23 b Fv(char)34
b FB(j)23 b Fv(string)0 1211 y(sp)-5 b(e)g(cial)220 b
FB(!)113 b FD(\()22 b FB(j)h FD(\))g FB(j)g FD(,)f FB(j)h
FD(;)f FB(j)h FD([)f FB(j)h FD(])g FB(j)g FD(\036)f FB(j)h
FD({)f FB(j)h FD(})0 1436 y Fv(whitesp)-5 b(ac)g(e)65
b FB(!)113 b Fv(whitestu\013)43 b FB(f)p Fv(whitestu\013)20
b FB(g)0 1549 y Fv(whitestu\013)96 b FB(!)113 b Fv(white)-5
b(char)35 b FB(j)23 b Fv(c)-5 b(omment)33 b FB(j)23 b
Fv(nc)-5 b(omment)0 1662 y(white)g(char)101 b FB(!)113
b Fv(new)5 b(line)30 b FB(j)23 b Fv(vertab)29 b FB(j)23
b Fv(sp)-5 b(ac)g(e)31 b FB(j)23 b Fv(tab)29 b FB(j)23
b Fv(uniWhite)0 1775 y(new)5 b(line)172 b FB(!)113 b
Fv(r)-5 b(eturn)31 b(linefe)-5 b(e)g(d)33 b FB(j)23 b
Fv(r)-5 b(eturn)30 b FB(j)23 b Fv(linefe)-5 b(e)g(d)33
b FB(j)23 b Fv(formfe)-5 b(e)g(d)0 1888 y(r)g(eturn)231
b FB(!)113 b FI(a)23 b(carriage)j(return)0 2001 y Fv(linefe)-5
b(e)g(d)182 b FB(!)113 b FI(a)23 b(line)h(feed)0 2114
y Fv(vertab)234 b FB(!)113 b FI(a)23 b(v)o(ertical)i(tab)0
2227 y Fv(formfe)-5 b(e)g(d)140 b FB(!)113 b FI(a)23
b(form)h(feed)0 2340 y Fv(sp)-5 b(ac)g(e)271 b FB(!)113
b FI(a)23 b(space)0 2453 y Fv(tab)356 b FB(!)113 b FI(a)23
b(horizontal)k(tab)0 2565 y Fv(uniWhite)109 b FB(!)k
FI(an)o(y)24 b(Unicode)h(character)g(de\002ned)g(as)e(whitespace)0
2791 y Fv(c)-5 b(omment)120 b FB(!)113 b Fv(dashes)32
b Ft([)23 b Fv(any)1153 2810 y Fs(h)p Fu(symb)l(ol)7
b Fs(i)1448 2791 y FB(f)p Fv(any)h FB(g)24 b Ft(])f Fv(new)5
b(line)0 2905 y(dashes)220 b FB(!)113 b FD(--)22 b FB(f)p
FD(-)p FB(g)0 3018 y Fv(op)-5 b(enc)g(om)137 b FB(!)113
b FD({-)0 3131 y Fv(close)-5 b(c)g(om)132 b FB(!)113
b FD(-})0 3244 y Fv(nc)-5 b(omment)69 b FB(!)113 b Fv(op)-5
b(enc)g(om)32 b(ANYse)-5 b(q)30 b FB(f)p Fv(nc)-5 b(omment)33
b(ANYse)-5 b(q)8 b FB(g)22 b Fv(close)-5 b(c)g(om)0 3357
y(ANYse)g(q)154 b FB(!)113 b(f)p Fv(ANY)17 b FB(g)989
3376 y Fs(hf)p Fu(ANY)d Fs(g)23 b FA(\()g Fu(op)l(enc)l(om)30
b Fs(j)23 b Fu(close)l(c)l(om)29 b FA(\))24 b Fs(f)p
Fu(ANY)13 b Fs(gi)0 3471 y Fv(ANY)270 b FB(!)113 b Fv(gr)-5
b(aphic)30 b FB(j)23 b Fv(white)-5 b(char)0 3584 y(any)333
b FB(!)113 b Fv(gr)-5 b(aphic)30 b FB(j)23 b Fv(sp)-5
b(ac)g(e)31 b FB(j)23 b Fv(tab)0 3697 y(gr)-5 b(aphic)191
b FB(!)113 b Fv(smal)5 b(l)33 b FB(j)23 b Fv(lar)-5 b(ge)31
b FB(j)23 b Fv(symb)-5 b(ol)34 b FB(j)23 b Fv(digit)31
b FB(j)23 b Fv(sp)-5 b(e)g(cial)34 b FB(j)23 b FD(:)f
FB(j)h FD(")f FB(j)h FD(')0 3923 y Fv(smal)5 b(l)266
b FB(!)113 b Fv(ascSmal)5 b(l)34 b FB(j)23 b Fv(uniSmal)5
b(l)33 b FB(j)23 b FD(_)0 4036 y Fv(ascSmal)5 b(l)127
b FB(!)113 b FD(a)22 b FB(j)h FD(b)g FB(j)38 b Fq(:)15
b(:)g(:)39 b FB(j)23 b FD(z)0 4149 y Fv(uniSmal)5 b(l)124
b FB(!)113 b FI(an)o(y)24 b(Unicode)h(lo)n(wercase)f(letter)0
4374 y Fv(lar)-5 b(ge)288 b FB(!)113 b Fv(ascL)-5 b(ar)g(ge)31
b FB(j)23 b Fv(uniL)-5 b(ar)g(ge)0 4487 y(ascL)g(ar)g(ge)134
b FB(!)113 b FD(A)22 b FB(j)h FD(B)g FB(j)38 b Fq(:)15
b(:)g(:)39 b FB(j)23 b FD(Z)0 4600 y Fv(uniL)-5 b(ar)g(ge)131
b FB(!)113 b FI(an)o(y)24 b(uppercase)i(or)d(titlecase)j(Unicode)f
(letter)0 4713 y Fv(symb)-5 b(ol)213 b FB(!)113 b Fv(ascSymb)-5
b(ol)34 b FB(j)23 b Fv(uniSymb)-5 b(ol)1563 4733 y Fs(h)p
Fu(sp)l(e)l(cial)33 b Fs(j)22 b FD(_)g Fs(j)h FD(:)f
Fs(j)g FD(")g Fs(j)h FD(')o Fs(i)0 4942 y Fv(ascSymb)-5
b(ol)74 b FB(!)113 b FD(!)22 b FB(j)h FD(#)g FB(j)g FD($)f
FB(j)h FD(\045)f FB(j)h FD(&)f FB(j)h FD(*)g FB(j)g FD(+)f
FB(j)h FD(.)f FB(j)h FD(/)f FB(j)h FD(<)g FB(j)g FD(=)f
FB(j)h FD(>)f FB(j)h FD(?)f FB(j)h Ft(@)506 5055 y FB(j)147
b FD(\\)22 b FB(j)h FD(\210)g FB(j)g FD(|)f FB(j)h FD(-)f
FB(j)h FD(\230)0 5168 y Fv(uniSymb)-5 b(ol)71 b FB(!)113
b FI(an)o(y)24 b(Unicode)h(symbol)f(or)f(punctuation)0
5281 y Fv(digit)300 b FB(!)113 b Fv(ascDigit)31 b FB(j)23
b Fv(uniDigit)p eop
%%Page: 9 23
9 22 bop 300 100 a FE(2.3.)51 b(COMMENTS)2850 b FI(9)300
356 y Fv(ascDigit)152 b FB(!)113 b FD(0)22 b FB(j)h FD(1)g
FB(j)38 b Fq(:)15 b(:)g(:)39 b FB(j)23 b FD(9)300 469
y Fv(uniDigit)149 b FB(!)113 b FI(an)o(y)24 b(Unicode)h(decimal)f
(digit)300 582 y Fv(o)-5 b(ctit)303 b FB(!)113 b FD(0)22
b FB(j)h FD(1)g FB(j)38 b Fq(:)15 b(:)g(:)39 b FB(j)23
b FD(7)300 695 y Fv(hexit)286 b FB(!)113 b Fv(digit)32
b FB(j)23 b FD(A)f FB(j)38 b Fq(:)15 b(:)g(:)39 b FB(j)23
b FD(F)f FB(j)h FD(a)g FB(j)38 b Fq(:)15 b(:)g(:)39 b
FB(j)23 b FD(f)300 1103 y FI(Le)o(xical)k(analysis)i(should)g(use)e
(the)g(\223maximal)h(munch\224)g(rule:)36 b(at)27 b(each)h(point,)g
(the)f(longest)i(possible)g(le)o(x)o(eme)300 1216 y(satisfying)34
b(the)e Fv(lexeme)38 b FI(production)c(is)e(read.)53
b(So,)33 b(although)g FD(case)c FI(is)j(a)f(reserv)o(ed)i(w)o(ord,)g
FD(cases)c FI(is)i(not.)300 1329 y(Similarly)-6 b(,)24
b(although)i FD(=)c FI(is)i(reserv)o(ed,)h FD(==)c FI(and)j
FD(\230=)e FI(are)i(not.)300 1525 y(An)o(y)f(kind)h(of)g
Fv(whitesp)-5 b(ac)g(e)31 b FI(is)24 b(also)g(a)f(proper)i(delimiter)g
(for)f(le)o(x)o(emes.)300 1721 y(Characters)h(not)e(in)f(the)h(cate)o
(gory)h Fv(ANY)39 b FI(are)22 b(not)h(v)n(alid)h(in)e(Hask)o(ell)i
(programs)g(and)f(should)i(result)e(in)g(a)f(le)o(xing)300
1834 y(error)-5 b(.)300 2209 y FC(2.3)119 b(Comments)300
2499 y FI(Comments)24 b(are)f(v)n(alid)i(whitespace.)300
2695 y(An)32 b(ordinary)i(comment)f(be)o(gins)h(with)e(a)g(sequence)j
(of)d(tw)o(o)g(or)h(more)f(consecuti)n(v)o(e)j(dashes)f(\(e.g.)56
b FD(--)o FI(\))32 b(and)300 2808 y(e)o(xtends)h(to)f(the)g(follo)n
(wing)h(ne)n(wline.)54 b FJ(The)32 b(sequence)i(of)d(dashes)j(must)e
(not)g(form)f(part)i(of)f(a)f(le)l(gal)i(le)n(xeme)o(.)300
2921 y FI(F)o(or)28 b(e)o(xample,)j(\223)p FD(-->)o FI(\224)e(or)g
(\223)p FD(|--)o FI(\224)f(do)h FJ(not)h FI(be)o(gin)f(a)g(comment,)i
(because)f(both)g(of)f(these)h(are)f(le)o(gal)h(le)o(x)o(emes;)300
3034 y(ho)n(we)n(v)o(er)24 b(\223)p FD(--foo)n FI(\224)f(does)h(start)h
(a)e(comment.)300 3230 y(A)e(nested)j(comment)g(be)o(gins)f(with)g
(\223)p FD({-)o FI(\224)f(and)i(ends)f(with)f(\223)p
FD(-})p FI(\224.)28 b(No)22 b(le)o(gal)g(le)o(x)o(eme)h(starts)h(with)e
(\223)p FD({-)p FI(\224;)g(hence,)300 3343 y(for)i(e)o(xample,)g(\223)p
FD({---)n FI(\224)f(starts)i(a)e(nested)i(comment)f(despite)i(the)d
(trailing)j(dashes.)300 3539 y(The)h(comment)g(itself)h(is)f(not)g(le)o
(xically)i(analysed.)42 b(Instead,)29 b(the)e(\002rst)g(unmatched)i
(occurrence)h(of)d(the)g(string)300 3652 y(\223)p FD(-})o
FI(\224)19 b(terminates)i(the)e(nested)h(comment.)28
b(Nested)20 b(comments)f(may)g(be)g(nested)h(to)f(an)o(y)g(depth:)28
b(an)o(y)19 b(occurrence)300 3765 y(of)30 b(the)g(string)h(\223)p
FD({-)o FI(\224)e(within)i(the)f(nested)h(comment)f(starts)h(a)e(ne)n
(w)g(nested)i(comment,)h(terminated)g(by)d(\223)p FD(-})p
FI(\224.)300 3878 y(W)l(ithin)c(a)e(nested)i(comment,)f(each)g(\223)p
FD({-)o FI(\224)f(is)h(matched)g(by)g(a)f(corresponding)28
b(occurrence)e(of)e(\223)p FD(-})o FI(\224.)300 4074
y(In)g(an)g(ordinary)i(comment,)e(the)g(character)i(sequences)h(\223)p
FD({-)o FI(\224)d(and)g(\223)p FD(-})o FI(\224)g(ha)n(v)o(e)g(no)g
(special)i(signi\002cance,)g(and,)300 4186 y(in)d(a)h(nested)h
(comment,)e(a)g(sequence)j(of)e(dashes)h(has)f(no)f(special)j
(signi\002cance.)300 4382 y(Nested)e(comments)h(are)e(also)i(used)f
(for)g(compiler)h(pragmas,)f(as)f(e)o(xplained)j(in)e(Chapter)g(11.)300
4578 y(If)g(some)g(code)h(is)e(commented)j(out)e(using)h(a)f(nested)h
(comment,)f(then)h(an)o(y)f(occurrence)j(of)d FD({-)e
FI(or)i FD(-})e FI(within)j(a)300 4691 y(string)g(or)e(within)h(an)g
(end-of-line)j(comment)d(in)f(that)h(code)h(will)e(interfere)i(with)f
(the)g(nested)h(comments.)300 5067 y FC(2.4)119 b(Identi\002ers)31
b(and)f(Operators)300 5357 y Fv(varid)274 b FB(!)113
b Ft(\()p Fv(smal)5 b(l)34 b FB(f)p Fv(smal)5 b(l)33
b FB(j)23 b Fv(lar)-5 b(ge)31 b FB(j)23 b Fv(digit)32
b FB(j)23 b FD(')f FB(g)p Ft(\))2265 5375 y Fs(h)p Fu(r)l(eserve)l(did)
7 b Fs(i)p eop
%%Page: 10 24
10 23 bop 0 100 a FI(10)2016 b FE(CHAPTER)20 b(2.)51
b(LEXICAL)20 b(STR)l(UCTURE)0 356 y Fv(c)-5 b(onid)266
b FB(!)113 b Fv(lar)-5 b(ge)31 b FB(f)p Fv(smal)5 b(l)33
b FB(j)23 b Fv(lar)-5 b(ge)31 b FB(j)23 b Fv(digit)32
b FB(j)23 b FD(')f FB(g)0 469 y Fv(r)-5 b(eserve)g(did)83
b FB(!)113 b FD(case)21 b FB(j)i FD(class)e FB(j)i FD(data)d
FB(j)j FD(default)d FB(j)j FD(deriving)c FB(j)k FD(do)f
FB(j)h FD(else)506 582 y FB(j)147 b FD(if)22 b FB(j)h
FD(import)d FB(j)j FD(in)f FB(j)h FD(infix)d FB(j)j FD(infixl)d
FB(j)j FD(infixr)d FB(j)j FD(instance)506 695 y FB(j)147
b FD(let)22 b FB(j)h FD(module)d FB(j)j FD(newtype)c
FB(j)k FD(of)f FB(j)h FD(then)e FB(j)i FD(type)e FB(j)i
FD(where)d FB(j)j FD(_)0 990 y FI(An)31 b(identi\002er)h(consists)i(of)
d(a)g(letter)h(follo)n(wed)h(by)e(zero)h(or)g(more)f(letters,)j
(digits,)h(underscores,)h(and)c(single)0 1103 y(quotes.)44
b(Identi\002ers)30 b(are)e(le)o(xically)i(distinguished)i(into)d(tw)o
(o)f(namespaces)i(\(Section)f(1.4\):)39 b(those)29 b(that)f(be)o(gin)0
1216 y(with)19 b(a)f(lo)n(wer)n(-case)j(letter)e(\(v)n(ariable)i
(identi\002ers\))g(and)e(those)h(that)g(be)o(gin)f(with)g(an)g(upper)n
(-case)j(letter)d(\(construc-)0 1329 y(tor)26 b(identi\002ers\).)39
b(Identi\002ers)28 b(are)f(case)g(sensiti)n(v)o(e:)36
b FD(name)n FI(,)26 b FD(naMe)n FI(,)g(and)h FD(Name)d
FI(are)i(three)h(distinct)h(identi\002ers)0 1442 y(\(the)c(\002rst)f
(tw)o(o)g(are)h(v)n(ariable)h(identi\002ers,)h(the)d(last)h(is)g(a)f
(constructor)k(identi\002er\).)0 1638 y(Underscore,)32
b(\223)p FD(_)p FI(\224,)d(is)f(treated)j(as)d(a)g(lo)n(wer)n(-case)j
(letter)l(,)g(and)e(can)g(occur)g(where)n(v)o(er)h(a)e(lo)n(wer)n
(-case)i(letter)g(can.)0 1751 y(Ho)n(we)n(v)o(er)l(,)22
b(\223)p FD(_)p FI(\224)f(all)i(by)f(itself)h(is)f(a)f(reserv)o(ed)j
(identi\002er)l(,)g(used)f(as)f(wild)g(card)h(in)f(patterns.)30
b(Compilers)23 b(that)g(of)n(fer)0 1864 y(w)o(arnings)k(for)f(unused)h
(identi\002ers)g(are)f(encouraged)i(to)e(suppress)i(such)e(w)o(arnings)
h(for)e(identi\002ers)j(be)o(ginning)0 1977 y(with)i(underscore.)50
b(This)29 b(allo)n(ws)h(programmers)i(to)d(use)h(\223)p
FD(_foo)o FI(\224)f(for)h(a)f(parameter)j(that)e(the)o(y)g(e)o(xpect)h
(to)e(be)0 2089 y(unused.)0 2385 y Fv(varsym)193 b FB(!)113
b Ft(\()23 b Fv(symb)-5 b(ol)34 b FB(f)p Fv(symb)-5 b(ol)34
b FB(j)23 b FD(:)p FB(g)g Ft(\))1577 2404 y Fs(h)p Fu(r)l(eserve)l(dop)
29 b Fs(j)22 b Fu(dashes)5 b Fs(i)0 2499 y Fv(c)-5 b(onsym)185
b FB(!)113 b Ft(\()p FD(:)23 b FB(f)p Fv(symb)-5 b(ol)34
b FB(j)23 b FD(:)o FB(g)p Ft(\))1313 2518 y Fs(h)p Fu(r)l(eserve)l(dop)
t Fs(i)0 2613 y Fv(r)-5 b(eserve)g(dop)65 b FB(!)113
b FD(..)22 b FB(j)h FD(:)f FB(j)h FD(::)f FB(j)h FD(=)f
FB(j)h FD(\\)g FB(j)g FD(|)f FB(j)h FD(<-)f FB(j)h FD(->)e
FB(j)i FD(@)g FB(j)g FD(\230)f FB(j)h FD(=>)0 2909 y
FJ(Oper)o(ator)k(symbols)g FI(are)f(formed)h(from)f(one)h(or)f(more)g
(symbol)g(characters,)j(as)d(de\002ned)h(abo)o(v)o(e,)g(and)g(are)f(le)
o(xi-)0 3022 y(cally)e(distinguished)k(into)c(tw)o(o)f(namespaces)j
(\(Section)f(1.4\):)136 3292 y FB(\017)46 b FI(An)23
b(operator)j(symbol)e(starting)i(with)d(a)g(colon)i(is)e(a)g
(constructor)-5 b(.)136 3480 y FB(\017)46 b FI(An)23
b(operator)j(symbol)e(starting)i(with)d(an)o(y)h(other)g(character)i
(is)d(an)h(ordinary)i(identi\002er)-5 b(.)0 3751 y(Notice)20
b(that)g(a)g(colon)g(by)g(itself,)h(\223)p FD(:)p FI(\224,)f(is)g
(reserv)o(ed)h(solely)g(for)f(use)g(as)f(the)h(Hask)o(ell)h(list)f
(constructor;)k(this)d(mak)o(es)0 3864 y(its)j(treatment)h(uniform)f
(with)g(other)g(parts)h(of)e(list)h(syntax,)h(such)f(as)g(\223)p
FD([])o FI(\224)f(and)h(\223)p FD([a,b])n FI(\224.)0
4060 y(Other)d(than)g(the)g(special)i(syntax)f(for)f(pre\002x)g(ne)o
(gation,)h(all)f(operators)i(are)e(in\002x,)g(although)i(each)e
(in\002x)g(operator)0 4172 y(can)29 b(be)g(used)h(in)f(a)f
FJ(section)j FI(to)e(yield)h(partially)h(applied)g(operators)g(\(see)f
(Section)g(3.5\).)45 b(All)28 b(of)h(the)g(standard)0
4285 y(in\002x)23 b(operators)j(are)e(just)g(prede\002ned)i(symbols)f
(and)f(may)f(be)g(rebound.)0 4481 y(In)g(the)h(remainder)i(of)d(the)h
(report)h(six)e(dif)n(ferent)j(kinds)f(of)e(names)h(will)f(be)h(used:)0
4777 y Fv(varid)2293 b Ft(\()p FI(v)n(ariables)s Ft(\))0
4890 y Fv(c)-5 b(onid)2285 b Ft(\()p FI(constructors)t
Ft(\))0 5003 y Fv(tyvar)274 b FB(!)113 b Fv(varid)1615
b Ft(\()p FI(type)24 b(v)n(ariables)s Ft(\))0 5116 y
Fv(tyc)-5 b(on)266 b FB(!)113 b Fv(c)-5 b(onid)1607 b
Ft(\()p FI(type)24 b(constructors)5 b Ft(\))0 5228 y
Fv(tycls)298 b FB(!)113 b Fv(c)-5 b(onid)1607 b Ft(\()p
FI(type)24 b(classes)s Ft(\))0 5341 y Fv(mo)-5 b(did)239
b FB(!)113 b Fv(c)-5 b(onid)1607 b Ft(\()p FI(modules)r
Ft(\))p eop
%%Page: 11 25
11 24 bop 300 100 a FE(2.5.)51 b(NUMERIC)21 b(LITERALS)2448
b FI(11)300 356 y(V)-10 b(ariables)37 b(and)f(type)g(v)n(ariables)i
(are)e(represented)j(by)c(identi\002ers)j(be)o(ginning)g(with)d(small)h
(letters,)k(and)c(the)300 469 y(other)28 b(four)f(by)g(identi\002ers)i
(be)o(ginning)g(with)d(capitals;)31 b(also,)d(v)n(ariables)h(and)e
(constructors)j(ha)n(v)o(e)e(in\002x)e(forms,)300 582
y(the)e(other)g(four)h(do)e(not.)29 b(Namespaces)c(are)f(also)g
(discussed)i(in)e(Section)g(1.4.)300 772 y(A)30 b(name)g(may)h
(optionally)i(be)e FJ(quali\002ed)i FI(in)e(certain)h(circumstances)i
(by)d(prepending)j(them)c(with)h(a)f(module)300 885 y(identi\002er)-5
b(.)35 b(This)25 b(applies)i(to)e(v)n(ariable,)i(constructor)l(,)i
(type)d(constructor)i(and)e(type)f(class)i(names,)e(b)n(ut)h(not)f
(type)300 998 y(v)n(ariables)h(or)d(module)i(names.)k(Quali\002ed)24
b(names)g(are)g(discussed)i(in)d(detail)i(in)e(Chapter)i(5.)300
1249 y Fv(qvarid)232 b FB(!)113 b Ft([)p Fv(mo)-5 b(did)35
b FD(.)o Ft(])23 b Fv(varid)300 1362 y(qc)-5 b(onid)224
b FB(!)113 b Ft([)p Fv(mo)-5 b(did)35 b FD(.)o Ft(])23
b Fv(c)-5 b(onid)300 1475 y(qtyc)g(on)224 b FB(!)113
b Ft([)p Fv(mo)-5 b(did)35 b FD(.)o Ft(])23 b Fv(tyc)-5
b(on)300 1588 y(qtycls)256 b FB(!)113 b Ft([)p Fv(mo)-5
b(did)35 b FD(.)o Ft(])23 b Fv(tycls)300 1701 y(qvarsym)151
b FB(!)113 b Ft([)p Fv(mo)-5 b(did)35 b FD(.)o Ft(])23
b Fv(varsym)300 1814 y(qc)-5 b(onsym)143 b FB(!)113 b
Ft([)p Fv(mo)-5 b(did)35 b FD(.)o Ft(])23 b Fv(c)-5 b(onsym)300
2065 y FI(Since)36 b(a)e(quali\002ed)j(name)f(is)f(a)g(le)o(x)o(eme,)j
(no)d(spaces)i(are)e(allo)n(wed)h(between)h(the)e(quali\002er)i(and)f
(the)f(name.)300 2178 y(Sample)23 b(le)o(xical)i(analyses)h(are)e(sho)n
(wn)f(belo)n(w)-6 b(.)p 1520 2285 1160 4 v 1518 2397
4 113 v 1570 2364 a(This)p 1782 2397 V 102 w(Le)o(x)o(es)23
b(as)h(this)p 2678 2397 V 1520 2401 1160 4 v 1518 2514
4 113 v 1570 2480 a FD(f.g)p 1782 2514 V 98 w(f)54 b(.)g(g)23
b FI(\(three)h(tok)o(ens\))p 2678 2514 V 1518 2627 V
1570 2593 a FD(F.g)p 1782 2627 V 98 w(F.g)e FI(\(quali\002ed)j(`g'\))p
2678 2627 V 1518 2740 V 1570 2706 a FD(f..)p 1782 2740
V 98 w(f)54 b(..)22 b FI(\(tw)o(o)i(tok)o(ens\))p 2678
2740 V 1518 2852 V 1570 2819 a FD(F..)p 1782 2852 V 98
w(F..)e FI(\(quali\002ed)j(`.)-6 b('\))p 2678 2852 V
1518 2965 V 1570 2931 a FD(F.)p 1782 2965 V 153 w(F)54
b(.)23 b FI(\(tw)o(o)g(tok)o(ens\))p 2678 2965 V 1520
2969 1160 4 v 300 3114 a(The)29 b(quali\002er)h(does)g(not)f(change)i
(the)e(syntactic)i(treatment)g(of)e(a)f(name;)k(for)d(e)o(xample,)i
FD(Prelude.+)24 b FI(is)29 b(an)300 3227 y(in\002x)23
b(operator)j(with)d(the)h(same)g(\002xity)g(as)f(the)h(de\002nition)h
(of)f FD(+)e FI(in)h(the)h(Prelude)h(\(Section)f(4.4.2\).)300
3594 y FC(2.5)119 b(Numeric)31 b(Literals)300 3879 y
Fv(de)-5 b(cimal)178 b FB(!)113 b Fv(digit)9 b FB(f)p
Fv(digit)g FB(g)300 3992 y Fv(o)-5 b(ctal)292 b FB(!)113
b Fv(o)-5 b(ctit)9 b FB(f)p Fv(o)-5 b(ctit)9 b FB(g)300
4105 y Fv(hexade)-5 b(cimal)o FB(!)116 b Fv(hexit)9 b
FB(f)p Fv(hexit)g FB(g)300 4461 y Fv(inte)-5 b(ger)206
b FB(!)113 b Fv(de)-5 b(cimal)806 4574 y FB(j)147 b FD(0o)22
b Fv(o)-5 b(ctal)34 b FB(j)23 b FD(0O)e Fv(o)-5 b(ctal)806
4687 y FB(j)147 b FD(0x)22 b Fv(hexade)-5 b(cimal)34
b FB(j)23 b FD(0X)f Fv(hexade)-5 b(cimal)300 5026 y(\015o)g(at)304
b FB(!)113 b Fv(de)-5 b(cimal)34 b FD(.)22 b Fv(de)-5
b(cimal)33 b Ft([)p Fv(exp)-5 b(onent)9 b Ft(])806 5139
y FB(j)147 b Fv(de)-5 b(cimal)34 b(exp)-5 b(onent)300
5365 y(exp)g(onent)129 b FB(!)113 b Ft(\()p FD(e)23 b
FB(j)g FD(E)o Ft(\))g([)p FD(+)g FB(j)g FD(-)o Ft(])g
Fv(de)-5 b(cimal)p eop
%%Page: 12 26
12 25 bop 0 100 a FI(12)2016 b FE(CHAPTER)20 b(2.)51
b(LEXICAL)20 b(STR)l(UCTURE)0 356 y FI(There)27 b(are)f(tw)o(o)g
(distinct)j(kinds)e(of)f(numeric)i(literals:)37 b(inte)o(ger)27
b(and)g(\003oating.)38 b(Inte)o(ger)28 b(literals)g(may)e(be)h(gi)n(v)o
(en)0 469 y(in)h(decimal)i(\(the)f(def)o(ault\),)i(octal)e(\(pre\002x)o
(ed)h(by)e FD(0o)f FI(or)h FD(0O)o FI(\))g(or)g(he)o(xadecimal)j
(notation)g(\(pre\002x)o(ed)e(by)g FD(0x)d FI(or)0 582
y FD(0X)o FI(\).)i(Floating)22 b(literals)h(are)f(al)o(w)o(ays)g
(decimal.)29 b(A)20 b(\003oating)i(literal)h(must)e(contain)i(digits)g
(both)f(before)h(and)e(after)0 695 y(the)29 b(decimal)h(point;)i(this)d
(ensures)i(that)e(a)f(decimal)i(point)f(cannot)h(be)f(mistak)o(en)h
(for)f(another)h(use)f(of)g(the)g(dot)0 808 y(character)-5
b(.)41 b(Ne)o(gati)n(v)o(e)26 b(numeric)i(literals)g(are)f(discussed)j
(in)c(Section)i(3.4.)38 b(The)26 b(typing)j(of)d(numeric)i(literals)g
(is)0 920 y(discussed)e(in)e(Section)g(6.4.1.)0 1292
y FC(2.6)119 b(Character)30 b(and)h(String)g(Literals)0
1579 y Fv(char)302 b FB(!)113 b FD(')22 b Ft(\()p Fv(gr)-5
b(aphic)1073 1606 y Fs(h)p FD(')25 b Fs(j)d FD(\\)p Fs(i)1331
1579 y FB(j)h Fv(sp)-5 b(ac)g(e)31 b FB(j)23 b Fv(esc)-5
b(ap)g(e)1906 1606 y Fs(h)p FD(\\&)q Fs(i)2076 1579 y
Ft(\))23 b FD(')0 1701 y Fv(string)248 b FB(!)113 b FD(")22
b FB(f)p Fv(gr)-5 b(aphic)1083 1727 y Fs(h)p FD(")25
b Fs(j)e FD(\\)o Fs(i)1341 1701 y FB(j)g Fv(sp)-5 b(ac)g(e)31
b FB(j)23 b Fv(esc)-5 b(ap)g(e)31 b FB(j)23 b Fv(gap)6
b FB(g)24 b FD(")0 1823 y Fv(esc)-5 b(ap)g(e)229 b FB(!)113
b FD(\\)22 b Ft(\()i Fv(char)-5 b(esc)29 b FB(j)23 b
Fv(ascii)32 b FB(j)23 b Fv(de)-5 b(cimal)33 b FB(j)23
b FD(o)g Fv(o)-5 b(ctal)33 b FB(j)23 b FD(x)f Fv(hexade)-5
b(cimal)35 b Ft(\))0 1936 y Fv(char)-5 b(esc)186 b FB(!)113
b FD(a)22 b FB(j)h FD(b)g FB(j)g FD(f)f FB(j)h FD(n)f
FB(j)h FD(r)f FB(j)h FD(t)g FB(j)g FD(v)f FB(j)h FD(\\)f
FB(j)h FD(")f FB(j)h FD(')g FB(j)g FD(&)0 2049 y Fv(ascii)293
b FB(!)113 b FD(\210)p Fv(cntrl)33 b FB(j)23 b FD(NUL)e
FB(j)i FD(SOH)e FB(j)i FD(STX)f FB(j)h FD(ETX)e FB(j)i
FD(EOT)e FB(j)i FD(ENQ)f FB(j)h FD(ACK)506 2162 y FB(j)147
b FD(BEL)22 b FB(j)h FD(BS)e FB(j)i FD(HT)f FB(j)h FD(LF)f
FB(j)h FD(VT)f FB(j)h FD(FF)f FB(j)h FD(CR)e FB(j)i FD(SO)f
FB(j)h FD(SI)f FB(j)h FD(DLE)506 2275 y FB(j)147 b FD(DC1)22
b FB(j)h FD(DC2)e FB(j)i FD(DC3)e FB(j)i FD(DC4)f FB(j)h
FD(NAK)e FB(j)i FD(SYN)e FB(j)i FD(ETB)f FB(j)h FD(CAN)506
2388 y FB(j)147 b FD(EM)22 b FB(j)h FD(SUB)e FB(j)i FD(ESC)f
FB(j)h FD(FS)e FB(j)i FD(GS)f FB(j)h FD(RS)f FB(j)h FD(US)f
FB(j)h FD(SP)f FB(j)h FD(DEL)0 2501 y Fv(cntrl)290 b
FB(!)113 b Fv(ascL)-5 b(ar)g(ge)31 b FB(j)23 b Ft(@)g
FB(j)g FD([)f FB(j)h FD(\\)f FB(j)h FD(])g FB(j)g FD(\210)f
FB(j)h FD(_)0 2613 y Fv(gap)340 b FB(!)113 b FD(\\)22
b Fv(white)-5 b(char)35 b FB(f)p Fv(white)-5 b(char)10
b FB(g)26 b FD(\\)0 2898 y FI(Character)g(literals)g(are)f(written)g
(between)h(single)g(quotes,)g(as)f(in)f FD('a')o FI(,)g(and)h(strings)h
(between)g(double)g(quotes,)0 3011 y(as)d(in)h FD("Hello")m
FI(.)0 3204 y(Escape)19 b(codes)h(may)f(be)g(used)g(in)g(characters)i
(and)e(strings)i(to)d(represent)j(special)g(characters.)30
b(Note)18 b(that)i(a)e(single)0 3317 y(quote)23 b FD(')d
FI(may)i(be)f(used)i(in)e(a)h(string,)h(b)n(ut)f(must)g(be)f(escaped)j
(in)d(a)h(character;)i(similarly)-6 b(,)24 b(a)d(double)i(quote)g
FD(")d FI(may)0 3430 y(be)29 b(used)h(in)g(a)e(character)l(,)33
b(b)n(ut)d(must)g(be)f(escaped)i(in)e(a)g(string.)47
b FD(\\)28 b FI(must)h(al)o(w)o(ays)h(be)g(escaped.)48
b(The)28 b(cate)o(gory)0 3543 y Fv(char)-5 b(esc)37 b
FI(also)32 b(includes)i(portable)g(representations)i(for)c(the)g
(characters)i(\223alert\224)f(\()p FD(\\a)p FI(\),)g(\223backspace\224)
i(\()p FD(\\b)o FI(\),)0 3656 y(\223form)23 b(feed\224)g(\()p
FD(\\f)p FI(\),)f(\223ne)n(w)g(line\224)h(\()p FD(\\n)p
FI(\),)f(\223carriage)j(return\224)f(\()p FD(\\r)o FI(\),)e
(\223horizontal)k(tab\224)d(\()p FD(\\t)o FI(\),)f(and)h(\223v)o
(ertical)i(tab\224)0 3769 y(\()p FD(\\v)o FI(\).)0 3962
y(Escape)g(characters)j(for)d(the)g(Unicode)h(character)h(set,)e
(including)j(control)e(characters)i(such)d(as)g FD(\\\210X)o
FI(,)f(are)h(also)0 4075 y(pro)o(vided.)44 b(Numeric)29
b(escapes)h(such)f(as)f FD(\\137)d FI(are)k(used)f(to)h(designate)h
(the)f(character)h(with)e(decimal)h(repre-)0 4188 y(sentation)d(137;)e
(octal)h(\(e.g.)e FD(\\o137)n FI(\))g(and)h(he)o(xadecimal)i(\(e.g.)d
FD(\\x37)n FI(\))g(representations)28 b(are)c(also)g(allo)n(wed.)0
4381 y(Consistent)i(with)f(the)f(\223maximal)i(munch\224)f(rule,)g
(numeric)g(escape)h(characters)h(in)d(strings)j(consist)f(of)e(all)g
(con-)0 4494 y(secuti)n(v)o(e)31 b(digits)g(and)f(may)f(be)g(of)h
(arbitrary)i(length.)48 b(Similarly)-6 b(,)31 b(the)f(one)g(ambiguous)i
(ASCII)c(escape)j(code,)0 4607 y FD("\\SOH")m FI(,)21
b(is)g(parsed)i(as)e(a)g(string)i(of)e(length)i(1.)28
b(The)21 b(escape)i(character)g FD(\\&)d FI(is)h(pro)o(vided)j(as)d(a)g
(\223null)i(character\224)0 4720 y(to)g(allo)n(w)h(strings)h(such)f(as)
g FD("\\137\\&9")18 b FI(and)24 b FD("\\SO\\&H")19 b
FI(to)k(be)h(constructed)j(\(both)d(of)g(length)h(tw)o(o\).)j(Thus)0
4833 y FD("\\&")21 b FI(is)i(equi)n(v)n(alent)j(to)d
FD("")f FI(and)i(the)f(character)j FD('\\&')21 b FI(is)i(disallo)n
(wed.)30 b(Further)25 b(equi)n(v)n(alences)h(of)e(characters)0
4946 y(are)g(de\002ned)g(in)g(Section)g(6.1.2.)0 5139
y(A)f(string)j(may)e(include)j(a)d(\223gap\224\227tw)o(o)h(backslants)j
(enclosing)f(white)d(characters\227which)29 b(is)24 b(ignored.)33
b(This)0 5252 y(allo)n(ws)25 b(one)h(to)e(write)h(long)h(strings)g(on)f
(more)g(than)h(one)f(line)h(by)f(writing)g(a)g(backslant)i(at)e(the)g
(end)g(of)g(one)h(line)0 5365 y(and)e(at)f(the)h(start)g(of)g(the)g(ne)
o(xt.)29 b(F)o(or)22 b(e)o(xample,)p eop
%%Page: 13 27
13 26 bop 300 100 a FE(2.7.)51 b(LA)-10 b(Y)m(OUT)2959
b FI(13)441 344 y FD("Here)52 b(is)i(a)g(backslant)d(\\\\)i(as)h(well)f
(as)g(\\137,)f(\\)659 457 y(\\a)i(numeric)d(escape)h(character,)e(and)j
(\\\210X,)g(a)h(control)d(character.")300 643 y FI(String)24
b(literals)h(are)f(actually)h(abbre)n(viations)j(for)23
b(lists)i(of)e(characters)j(\(see)e(Section)h(3.7\).)300
1017 y FC(2.7)119 b(Lay)m(out)300 1306 y FI(Hask)o(ell)31
b(permits)g(the)f(omission)i(of)e(the)g(braces)i(and)e(semicolons)j
(used)e(in)f(se)n(v)o(eral)h(grammar)f(productions,)300
1418 y(by)36 b(using)h FJ(layout)h FI(to)e(con)l(v)o(e)o(y)h(the)g
(same)f(information.)68 b(This)36 b(allo)n(ws)h(both)g(layout-sensiti)n
(v)o(e)j(and)c(layout-)300 1531 y(insensiti)n(v)o(e)28
b(styles)g(of)e(coding,)i(which)e(can)g(be)g(freely)h(mix)o(ed)f
(within)h(one)f(program.)38 b(Because)27 b(layout)g(is)f(not)300
1644 y(required,)f(Hask)o(ell)g(programs)g(can)f(be)f(straightforw)o
(ardly)28 b(produced)e(by)e(other)h(programs.)300 1839
y(The)k(ef)n(fect)h(of)g(layout)g(on)g(the)g(meaning)g(of)g(a)f(Hask)o
(ell)h(program)h(can)e(be)h(completely)h(speci\002ed)g(by)f(adding)300
1952 y(braces)23 b(and)f(semicolons)i(in)e(places)h(determined)h(by)e
(the)g(layout.)30 b(The)21 b(meaning)i(of)f(this)g(augmented)i(program)
300 2065 y(is)f(no)n(w)g(layout)i(insensiti)n(v)o(e.)300
2260 y(Informally)g(stated,)f(the)g(braces)g(and)g(semicolons)h(are)e
(inserted)i(as)e(follo)n(ws.)29 b(The)23 b(layout)i(\(or)e(\223of)n
(f-side\224\))j(rule)300 2373 y(tak)o(es)h(ef)n(fect)f(whene)n(v)o(er)g
(the)g(open)h(brace)f(is)f(omitted)i(after)f(the)g(k)o(e)o(yw)o(ord)g
FD(where)n FI(,)f FD(let)o FI(,)g FD(do)o FI(,)g(or)g
FD(of)o FI(.)34 b(When)300 2486 y(this)26 b(happens,)i(the)d
(indentation)k(of)c(the)h(ne)o(xt)f(le)o(x)o(eme)h(\(whether)g(or)g
(not)f(on)h(a)f(ne)n(w)f(line\))j(is)e(remembered)i(and)300
2599 y(the)i(omitted)h(open)g(brace)f(is)g(inserted)i(\(the)e
(whitespace)i(preceding)g(the)e(le)o(x)o(eme)g(may)g(include)h
(comments\).)300 2711 y(F)o(or)23 b(each)i(subsequent)i(line,)e(if)e
(it)h(contains)i(only)f(whitespace)h(or)e(is)g(indented)i(more,)e(then)
h(the)f(pre)n(vious)i(item)300 2824 y(is)34 b(continued)k(\(nothing)e
(is)f(inserted\);)42 b(if)35 b(it)f(is)g(indented)j(the)e(same)f
(amount,)k(then)d(a)f(ne)n(w)g(item)h(be)o(gins)g(\(a)300
2937 y(semicolon)26 b(is)e(inserted\);)k(and)c(if)g(it)g(is)h(indented)
h(less,)f(then)g(the)g(layout)g(list)g(ends)g(\(a)f(close)i(brace)f(is)
f(inserted\).)300 3050 y(If)h(the)g(indentation)k(of)c(the)g(non-brace)
j(le)o(x)o(eme)d(immediately)i(follo)n(wing)g(a)d FD(where)n
FI(,)h FD(let)n FI(,)g FD(do)e FI(or)i FD(of)f FI(is)h(less)300
3163 y(than)f(or)f(equal)h(to)f(the)g(current)h(indentation)j(le)n(v)o
(el,)c(then)g(instead)i(of)e(starting)i(a)d(layout,)j(an)e(empty)g
(list)g(\223)p FD({})p FI(\224)f(is)300 3276 y(inserted,)28
b(and)f(layout)g(processing)i(occurs)e(for)f(the)h(current)g(le)n(v)o
(el)f(\(i.e.)36 b(insert)27 b(a)f(semicolon)h(or)f(close)h(brace\).)300
3389 y(A)f(close)i(brace)h(is)e(also)h(inserted)h(whene)n(v)o(er)f(the)
g(syntactic)h(cate)o(gory)g(containing)i(the)c(layout)i(list)e(ends;)k
(that)300 3502 y(is,)23 b(if)g(an)g(ille)o(gal)i(le)o(x)o(eme)e(is)g
(encountered)k(at)c(a)g(point)i(where)e(a)g(close)i(brace)f(w)o(ould)g
(be)f(le)o(gal,)h(a)f(close)h(brace)g(is)300 3615 y(inserted.)31
b(The)23 b(layout)i(rule)e(matches)i(only)f(those)h(open)f(braces)h
(that)f(it)f(has)h(inserted;)h(an)f(e)o(xplicit)h(open)f(brace)300
3728 y(must)e(be)h(matched)g(by)g(an)f(e)o(xplicit)i(close)f(brace.)29
b(W)l(ithin)24 b(these)f(e)o(xplicit)h(open)f(braces,)h
FJ(no)e FI(layout)i(processing)300 3841 y(is)33 b(performed)i(for)f
(constructs)i(outside)f(the)e(braces,)k(e)n(v)o(en)d(if)f(a)f(line)i
(is)f(indented)j(to)d(the)h(left)f(of)h(an)f(earlier)300
3953 y(implicit)25 b(open)f(brace.)300 4148 y(Section)g(9.3)g(gi)n(v)o
(es)g(a)f(more)g(precise)j(de\002nition)f(of)e(the)h(layout)h(rules.)
300 4343 y(Gi)n(v)o(en)31 b(these)i(rules,)h(a)d(single)i(ne)n(wline)f
(may)g(actually)h(terminate)g(se)n(v)o(eral)g(layout)g(lists.)53
b(Also,)34 b(these)e(rules)300 4456 y(permit:)441 4645
y FD(f)54 b(x)g(=)g(let)g(a)g(=)g(1;)f(b)h(=)h(2)987
4758 y(g)f(y)g(=)g(exp2)823 4871 y(in)g(exp1)300 5057
y FI(making)24 b FD(a)p FI(,)e FD(b)h FI(and)h FD(g)e
FI(all)i(part)g(of)f(the)h(same)g(layout)h(list.)300
5252 y(As)i(an)h(e)o(xample,)i(Figure)e(2.1)g(sho)n(ws)g(a)f(\(some)n
(what)i(contri)n(v)o(ed\))h(module)f(and)f(Figure)h(2.2)f(sho)n(ws)g
(the)g(result)300 5365 y(of)33 b(applying)j(the)e(layout)h(rule)f(to)g
(it.)58 b(Note)34 b(in)f(particular:)52 b(\(a\))34 b(the)g(line)g(be)o
(ginning)i FD(}};pop)m FI(,)f(where)f(the)p eop
%%Page: 14 28
14 27 bop 0 100 a FI(14)2016 b FE(CHAPTER)20 b(2.)51
b(LEXICAL)20 b(STR)l(UCTURE)p 15 268 3548 4 v 15 1854
4 1587 v 66 389 a Fp(module)49 b(AStack\()f(Stack,)h(push,)g(pop,)g
(top,)g(size)g(\))h(where)66 488 y(data)f(Stack)g(a)h(=)f(Empty)714
588 y(|)g(MkStack)g(a)g(\(Stack)g(a\))66 721 y(push)g(::)g(a)h(->)g
(Stack)e(a)i(->)f(Stack)g(a)66 821 y(push)g(x)h(s)f(=)h(MkStack)e(x)i
(s)66 953 y(size)f(::)g(Stack)g(a)h(->)f(Int)66 1053
y(size)g(s)h(=)f(length)g(\(stkToLst)f(s\))99 b(where)614
1153 y(stkToLst)f(Empty)447 b(=)50 b([])614 1252 y(stkToLst)e
(\(MkStack)h(x)g(s\))99 b(=)50 b(x:xs)f(where)g(xs)g(=)h(stkToLst)e(s)
66 1385 y(pop)h(::)h(Stack)f(a)g(->)h(\(a,)f(Stack)g(a\))66
1485 y(pop)g(\(MkStack)g(x)g(s\))166 1584 y(=)g(\(x,)g(case)h(s)f(of)h
(r)f(->)h(i)f(r)h(where)f(i)g(x)h(=)g(x\))f(--)h(\(pop)f(Empty\))f(is)i
(an)f(error)66 1717 y(top)g(::)h(Stack)f(a)g(->)h(a)66
1817 y(top)f(\(MkStack)g(x)g(s\))h(=)f(x)1046 b(--)50
b(\(top)f(Empty\))f(is)i(an)f(error)p 3559 1854 V 15
1857 3548 4 v 1248 2111 a FI(Figure)24 b(2.1:)29 b(A)23
b(sample)h(program)p 15 2283 V 15 3965 4 1683 v 66 2403
a Fp(module)49 b(AStack\()f(Stack,)h(push,)g(pop,)g(top,)g(size)g(\))h
(where)66 2503 y({data)f(Stack)g(a)g(=)h(Empty)714 2603
y(|)f(MkStack)g(a)g(\(Stack)g(a\))66 2736 y(;push)g(::)g(a)h(->)f
(Stack)g(a)h(->)f(Stack)g(a)66 2835 y(;push)g(x)g(s)h(=)g(MkStack)e(x)i
(s)66 2968 y(;size)f(::)g(Stack)g(a)h(->)f(Int)66 3068
y(;size)g(s)g(=)h(length)f(\(stkToLst)f(s\))99 b(where)614
3167 y({stkToLst)f(Empty)447 b(=)50 b([])614 3267 y(;stkToLst)e
(\(MkStack)g(x)i(s\))99 b(=)50 b(x:xs)f(where)g({xs)g(=)h(stkToLst)e(s)
66 3400 y(}};pop)h(::)g(Stack)g(a)h(->)f(\(a,)g(Stack)g(a\))66
3499 y(;pop)g(\(MkStack)f(x)i(s\))166 3599 y(=)f(\(x,)g(case)h(s)f(of)h
({r)f(->)g(i)h(r)g(where)f({i)g(x)h(=)f(x}}\))g(--)h(\(pop)f(Empty\))g
(is)g(an)g(error)66 3732 y(;top)g(::)g(Stack)g(a)h(->)f(a)66
3831 y(;top)g(\(MkStack)f(x)i(s\))f(=)h(x)1195 b(--)50
b(\(top)f(Empty\))g(is)g(an)g(error)66 3931 y(})p 3559
3965 V 15 3968 3548 4 v 883 4221 a FI(Figure)24 b(2.2:)29
b(Sample)23 b(program)i(with)e(layout)i(e)o(xpanded)0
4539 y(termination)k(of)f(the)f(pre)n(vious)i(line)f(in)l(v)n(ok)o(es)h
(three)g(applications)h(of)d(the)h(layout)g(rule,)g(corresponding)k(to)
27 b(the)0 4652 y(depth)g(\(3\))f(of)f(the)h(nested)h
FD(where)22 b FI(clauses,)28 b(\(b\))e(the)f(close)i(braces)g(in)e(the)
h FD(where)d FI(clause)k(nested)g(within)f(the)0 4765
y(tuple)31 b(and)g FD(case)d FI(e)o(xpression,)34 b(inserted)f(because)
f(the)e(end)h(of)g(the)f(tuple)h(w)o(as)f(detected,)k(and)d(\(c\))g
(the)f(close)0 4878 y(brace)25 b(at)e(the)h(v)o(ery)g(end,)f(inserted)j
(because)f(of)f(the)g(column)g(0)f(indentation)k(of)d(the)f
(end-of-\002le)j(tok)o(en.)p eop
%%Page: 15 29
15 28 bop 300 1060 a Fw(Chapter)44 b(3)300 1556 y FH(Expr)l(essions)300
2083 y FI(In)38 b(this)h(chapter)l(,)44 b(we)37 b(describe)k(the)d
(syntax)i(and)f(informal)g(semantics)h(of)e(Hask)o(ell)i
FJ(e)n(xpr)m(essions)p FI(,)k(includ-)300 2196 y(ing)34
b(their)g(translations)j(into)d(the)f(Hask)o(ell)i(k)o(ernel,)i(where)c
(appropriate.)62 b(Except)34 b(in)f(the)h(case)g(of)f
FD(let)e FI(e)o(x-)300 2309 y(pressions,)38 b(these)c(translations)j
(preserv)o(e)e(both)f(the)g(static)g(and)g(dynamic)h(semantics.)59
b(Free)33 b(v)n(ariables)j(and)300 2421 y(constructors)f(used)c(in)g
(these)h(translations)j(al)o(w)o(ays)c(refer)h(to)f(entities)i
(de\002ned)f(by)f(the)g FD(Prelude)m FI(.)50 b(F)o(or)30
b(e)o(x-)300 2534 y(ample,)40 b(\223)p FD(concatMap)m
FI(\224)c(used)i(in)f(the)g(translation)j(of)d(list)h(comprehensions)j
(\(Section)d(3.11\))f(means)h(the)300 2647 y FD(concatMap)21
b FI(de\002ned)26 b(by)g(the)f FD(Prelude)m FI(,)g(re)o(gardless)i(of)f
(whether)g(or)g(not)g(the)f(identi\002er)i(\223)p FD(concatMap)m
FI(\224)300 2760 y(is)c(in)h(scope)h(where)e(the)h(list)g
(comprehension)j(is)d(used,)g(and)g(\(if)f(it)h(is)f(in)g(scope\))i
(what)f(it)f(is)g(bound)i(to.)300 2954 y(In)31 b(the)g(syntax)i(that)f
(follo)n(ws,)h(there)f(are)f(some)h(f)o(amilies)g(of)f(nonterminals)j
(inde)o(x)o(ed)e(by)f(precedence)k(le)n(v)o(els)300 3067
y(\(written)e(as)e(a)h(superscript\).)56 b(Similarly)-6
b(,)35 b(the)d(nonterminals)i Fv(op)7 b FI(,)33 b Fv(var)-5
b(op)7 b FI(,)33 b(and)f Fv(c)-5 b(onop)38 b FI(may)32
b(ha)n(v)o(e)g(a)g(double)300 3180 y(inde)o(x:)h(a)25
b(letter)h Fv(l)9 b FI(,)25 b Fv(r)10 b FI(,)24 b(or)h
Fv(n)32 b FI(for)25 b(left-,)h(right-)g(or)f(non-associati)n(vity)30
b(and)c(a)e(precedence)k(le)n(v)o(el.)34 b(A)24 b(precedence-)300
3293 y(le)n(v)o(el)g(v)n(ariable)h Fv(i)32 b FI(ranges)25
b(from)e(0)h(to)f(9;)g(an)h(associati)n(vity)j(v)n(ariable)e
Fv(a)30 b FI(v)n(aries)25 b(o)o(v)o(er)f FB(f)p Fv(l)9
b Fq(;)39 b Fv(r)10 b Fq(;)38 b Fv(n)7 b FB(g)q FI(.)27
b(F)o(or)c(e)o(xample)300 3558 y Fv(aexp)298 b FB(!)113
b FD(\()22 b Fv(exp)1191 3525 y Fu(i)6 b FA(+)p Fu(1)1347
3558 y Fv(qop)1487 3525 y FA(\()p Fu(a)f Fo(;)p Fu(i)h
FA(\))1659 3558 y FD(\))300 3823 y FI(actually)26 b(stands)f(for)e(30)h
(productions,)j(with)c(10)h(substitutions)j(for)d Fv(i)32
b FI(and)24 b(3)f(for)h Fv(a)7 b FI(.)300 4111 y Fv(exp)344
b FB(!)113 b Fv(exp)1114 4078 y Fu(0)1187 4111 y FD(::)21
b Ft([)p Fv(c)-5 b(ontext)33 b FD(=>)o Ft(])23 b Fv(typ)-5
b(e)825 b Ft(\()p FI(e)o(xpression)26 b(type)f(signature)s
Ft(\))806 4224 y FB(j)147 b Fv(exp)1114 4191 y Fu(0)300
4341 y Fv(exp)436 4308 y Fu(i)774 4341 y FB(!)113 b Fv(exp)1114
4308 y Fu(i)6 b FA(+)p Fu(1)1270 4341 y Ft([)p Fv(qop)1435
4308 y FA(\(n)p Fo(;)p Fu(i)g FA(\))1604 4341 y Fv(exp)1740
4308 y Fu(i)g FA(+)p Fu(1)1873 4341 y Ft(])806 4454 y
FB(j)147 b Fv(lexp)1137 4421 y Fu(i)806 4567 y FB(j)g
Fv(r)-5 b(exp)1147 4534 y Fu(i)300 4683 y Fv(lexp)459
4650 y Fu(i)774 4683 y FB(!)113 b Ft(\()p Fv(lexp)1172
4650 y Fu(i)1228 4683 y FB(j)23 b Fv(exp)1412 4650 y
Fu(i)6 b FA(+)p Fu(1)1545 4683 y Ft(\))23 b Fv(qop)1743
4650 y FA(\(l)p Fo(;)p Fu(i)6 b FA(\))1893 4683 y Fv(exp)2029
4650 y Fu(i)g FA(+)p Fu(1)300 4796 y Fv(lexp)459 4763
y Fu(6)774 4796 y FB(!)113 b FD(-)22 b Fv(exp)1191 4763
y Fu(7)300 4913 y Fv(r)-5 b(exp)469 4880 y Fu(i)774 4913
y FB(!)113 b Fv(exp)1114 4880 y Fu(i)6 b FA(+)p Fu(1)1270
4913 y Fv(qop)1410 4880 y FA(\(r)p Fo(;)p Fu(i)g FA(\))1567
4913 y Ft(\()p Fv(r)-5 b(exp)1771 4880 y Fu(i)1828 4913
y FB(j)23 b Fv(exp)2012 4880 y Fu(i)6 b FA(+)p Fu(1)2144
4913 y Ft(\))300 5026 y Fv(exp)436 4993 y Fu(10)774 5026
y FB(!)113 b FD(\\)22 b Fv(ap)-5 b(at)1218 5040 y Fu(1)1308
5026 y Fq(:)15 b(:)g(:)39 b Fv(ap)-5 b(at)1615 5040 y
Fu(n)1689 5026 y FD(->)22 b Fv(exp)842 b Ft(\()p FI(lambda)24
b(abstraction)t Fq(;)38 b Fv(n)33 b FB(\025)25 b Fv(1)12
b Ft(\))806 5139 y FB(j)147 b FD(let)22 b Fv(de)-5 b(cls)31
b FD(in)21 b Fv(exp)1151 b Ft(\()p FI(let)24 b(e)o(xpression)s
Ft(\))806 5252 y FB(j)147 b FD(if)22 b Fv(exp)29 b FD(then)21
b Fv(exp)29 b FD(else)21 b Fv(exp)753 b Ft(\()p FI(conditional)t
Ft(\))806 5365 y FB(j)147 b FD(case)21 b Fv(exp)29 b
FD(of)22 b({)g Fv(alts)31 b FD(})984 b Ft(\()p FI(case)24
b(e)o(xpression)t Ft(\))2055 5593 y FI(15)p eop
%%Page: 16 30
16 29 bop 0 100 a FI(16)2353 b FE(CHAPTER)20 b(3.)51
b(EXPRESSIONS)506 356 y FB(j)147 b FD(do)22 b({)g Fv(stmts)32
b FD(})1311 b Ft(\()p FI(do)24 b(e)o(xpression)s Ft(\))506
469 y FB(j)147 b Fv(fexp)0 582 y(fexp)316 b FB(!)113
b Ft([)p Fv(fexp)6 b Ft(])23 b Fv(aexp)1402 b Ft(\()p
FI(function)26 b(application)t Ft(\))0 808 y Fv(aexp)298
b FB(!)113 b Fv(qvar)1647 b Ft(\()p FI(v)n(ariable)s
Ft(\))506 920 y FB(j)147 b Fv(gc)-5 b(on)1639 b Ft(\()p
FI(general)25 b(constructor)t Ft(\))506 1033 y FB(j)147
b Fv(liter)-5 b(al)506 1146 y FB(j)147 b FD(\()22 b Fv(exp)29
b FD(\))1524 b Ft(\()p FI(parenthesized)28 b(e)o(xpression)s
Ft(\))506 1259 y FB(j)147 b FD(\()22 b Fv(exp)885 1273
y Fu(1)958 1259 y FD(,)38 b Fq(:)15 b(:)g(:)38 b FD(,)23
b Fv(exp)1402 1274 y Fu(k)1469 1259 y FD(\))969 b Ft(\()p
FI(tuple)r Fq(;)38 b Fv(k)d FB(\025)25 b Fv(2)12 b Ft(\))506
1372 y FB(j)147 b FD([)22 b Fv(exp)885 1386 y Fu(1)958
1372 y FD(,)38 b Fq(:)15 b(:)g(:)38 b FD(,)23 b Fv(exp)1402
1387 y Fu(k)1469 1372 y FD(])969 b Ft(\()p FI(list)q
Fq(;)38 b Fv(k)d FB(\025)25 b Fv(1)12 b Ft(\))506 1485
y FB(j)147 b FD([)22 b Fv(exp)885 1499 y Fu(1)958 1485
y Ft([)p FD(,)h Fv(exp)1191 1499 y Fu(2)1241 1485 y Ft(])g
FD(..)e Ft([)p Fv(exp)1575 1499 y Fu(3)1626 1485 y Ft(])i
FD(])764 b Ft(\()p FI(arithmetic)25 b(sequence)t Ft(\))506
1598 y FB(j)147 b FD([)22 b Fv(exp)29 b FD(|)23 b Fv(qual)1152
1612 y Fu(1)1224 1598 y FD(,)38 b Fq(:)15 b(:)g(:)39
b FD(,)22 b Fv(qual)1698 1612 y Fu(n)1771 1598 y FD(])667
b Ft(\()p FI(list)24 b(comprehension)t Fq(;)39 b Fv(n)32
b FB(\025)25 b Fv(1)12 b Ft(\))506 1715 y FB(j)147 b
FD(\()22 b Fv(exp)891 1682 y Fu(i)6 b FA(+)p Fu(1)1047
1715 y Fv(qop)1187 1682 y FA(\()p Fu(a)f Fo(;)p Fu(i)h
FA(\))1359 1715 y FD(\))1079 b Ft(\()p FI(left)24 b(section)s
Ft(\))506 1831 y FB(j)147 b FD(\()22 b Fv(lexp)914 1798
y Fu(i)970 1831 y Fv(qop)1110 1798 y FA(\()p Fu(l)7 b
Fo(;)p Fu(i)f FA(\))1265 1831 y FD(\))1173 b Ft(\()p
FI(left)24 b(section)s Ft(\))506 1963 y FB(j)147 b FD(\()22
b Fv(qop)895 1915 y FA(\()p Fu(a)5 b Fo(;)p Fu(i)h FA(\))889
1995 y Fs(h)p FD(-)q Fs(i)1067 1963 y Fv(exp)1203 1930
y Fu(i)g FA(+)p Fu(1)1359 1963 y FD(\))1079 b Ft(\()p
FI(right)25 b(section)r Ft(\))506 2109 y FB(j)147 b FD(\()22
b Fv(qop)895 2061 y FA(\()p Fu(r)7 b Fo(;)p Fu(i)f FA(\))889
2141 y Fs(h)p FD(-)q Fs(i)1063 2109 y Fv(r)-5 b(exp)1232
2076 y Fu(i)1288 2109 y FD(\))1150 b Ft(\()p FI(right)25
b(section)r Ft(\))506 2236 y FB(j)147 b Fv(qc)-5 b(on)30
b FD({)23 b Fv(fbind)1157 2250 y Fu(1)1229 2236 y FD(,)37
b Fq(:)15 b(:)g(:)39 b FD(,)23 b Fv(fbind)1738 2250 y
Fu(n)1810 2236 y FD(})628 b Ft(\()p FI(labeled)25 b(construction)5
b Fq(;)38 b Fv(n)32 b FB(\025)25 b Fv(0)12 b Ft(\))506
2349 y FB(j)147 b Fv(aexp)854 2368 y Fs(h)p Fu(qc)l(on)5
b Fs(i)1081 2349 y FD({)22 b Fv(fbind)1353 2363 y Fu(1)1425
2349 y FD(,)38 b Fq(:)15 b(:)g(:)39 b FD(,)22 b Fv(fbind)1934
2363 y Fu(n)2007 2349 y FD(})431 b Ft(\()p FI(labeled)25
b(update)s Fq(;)38 b Fv(n)55 b FB(\025)48 b Fv(1)12 b
Ft(\))0 2745 y FI(Expressions)25 b(in)l(v)n(olving)h(in\002x)c
(operators)j(are)e(disambiguated)j(by)c(the)h(operator')-5
b(s)25 b(\002xity)e(\(see)g(Section)g(4.4.2\).)0 2858
y(Consecuti)n(v)o(e)30 b(unparenthesized)j(operators)e(with)d(the)h
(same)f(precedence)j(must)e(both)g(be)f(either)h(left)g(or)f(right)0
2971 y(associati)n(v)o(e)g(to)d(a)n(v)n(oid)i(a)e(syntax)j(error)-5
b(.)35 b(Gi)n(v)o(en)25 b(an)h(unparenthesized)k(e)o(xpression)e(\223)p
Fv(x)34 b(qop)2931 2938 y FA(\()p Fu(a)5 b Fo(;)p Fu(i)h
FA(\))3104 2971 y Fv(y)30 b(qop)3318 2938 y FA(\()p Fu(b)t
Fo(;)p Fu(j)10 b FA(\))3489 2971 y Fv(z)h FI(\224,)0
3084 y(parentheses)52 b(must)c(be)h(added)h(around)g(either)g(\223)p
Fv(x)34 b(qop)1906 3051 y FA(\()p Fu(a)5 b Fo(;)p Fu(i)h
FA(\))2078 3084 y Fv(y)i FI(\224)48 b(or)h(\223)p Fv(y)31
b(qop)2597 3051 y FA(\()p Fu(b)t Fo(;)p Fu(j)10 b FA(\))2744
3084 y Fv(z)i FI(\224)48 b(when)h Fv(i)34 b Ft(=)25 b
Fv(j)61 b FI(unless)0 3196 y Fv(a)33 b Ft(=)25 b Fv(b)30
b Ft(=)48 b(l)22 b FI(or)i Fv(a)32 b Ft(=)25 b Fv(b)31
b Ft(=)48 b(r)o FI(.)0 3389 y(Ne)o(gation)28 b(is)g(the)g(only)g
(pre\002x)g(operator)i(in)d(Hask)o(ell;)k(it)d(has)g(the)f(same)h
(precedence)j(as)c(the)h(in\002x)g FD(-)e FI(operator)0
3502 y(de\002ned)e(in)g(the)g(Prelude)g(\(see)g(Section)h(4.4.2,)e
(Figure)h(4.1\).)0 3694 y(The)f(grammar)g(is)h(ambiguous)h(re)o
(garding)g(the)f(e)o(xtent)g(of)f(lambda)h(abstractions,)j(let)c(e)o
(xpressions,)j(and)e(condi-)0 3807 y(tionals.)44 b(The)27
b(ambiguity)j(is)e(resolv)o(ed)i(by)e(the)h(meta-rule)g(that)g(each)g
(of)f(these)h(constructs)h(e)o(xtends)g(as)e(f)o(ar)g(to)0
3920 y(the)c(right)g(as)g(possible.)0 4112 y(Sample)f(parses)i(are)f
(sho)n(wn)g(belo)n(w)-6 b(.)p 282 4224 3036 4 v 280 4337
4 113 v 332 4303 a(This)p 1689 4337 V 1248 w(P)o(arses)23
b(as)p 3316 4337 V 282 4340 3036 4 v 280 4453 4 113 v
332 4419 a FD(f)54 b(x)g(+)g(g)g(y)p 1689 4453 V 918
w(\(f)f(x\))h(+)g(\(g)g(y\))p 3316 4453 V 280 4566 V
332 4532 a(-)g(f)g(x)g(+)g(y)p 1689 4566 V 918 w(\(-)f(\(f)h(x\)\))f(+)
h(y)p 3316 4566 V 280 4679 V 332 4645 a(let)f({)h(...)f(})i(in)e(x)h(+)
g(y)p 1689 4679 V 318 w(let)f({)h(...)f(})h(in)g(\(x)g(+)g(y\))p
3316 4679 V 280 4792 V 332 4758 a(z)g(+)g(let)f({)h(...)g(})g(in)f(x)h
(+)h(y)p 1689 4792 V 99 w(z)f(+)g(\(let)f({)h(...)f(})h(in)g(\(x)f(+)h
(y\)\))p 3316 4792 V 280 4905 V 332 4871 a(f)g(x)g(y)g(::)g(Int)p
1689 4905 V 753 w(\(f)f(x)h(y\))g(::)g(Int)p 3316 4905
V 280 5018 V 332 4984 a(\\)g(x)g(->)g(a+b)f(::)h(Int)p
1689 5018 V 480 w(\\)g(x)g(->)g(\(\(a+b\))d(::)j(Int)o
FI(\))p 3316 5018 V 282 5021 3036 4 v 0 5252 a FJ(A)24
b(note)i(about)h(par)o(sing)o(.)36 b FI(Expressions)28
b(that)e(in)l(v)n(olv)o(e)i(the)e(interaction)i(of)d(\002xities)i(with)
e(the)h(let/lambda)h(meta-)0 5365 y(rule)d(may)f(be)h(hard)g(to)g
(parse.)29 b(F)o(or)23 b(e)o(xample,)h(the)g(e)o(xpression)p
eop
%%Page: 17 31
17 30 bop 300 100 a FE(3.1.)51 b(ERR)l(ORS)2970 b FI(17)550
356 y FD(let)53 b(x)i(=)f(True)e(in)i(x)g(==)g(x)g(==)f(True)300
552 y FI(cannot)25 b(possibly)h(mean)550 748 y FD(let)53
b(x)i(=)f(True)e(in)i(\(x)g(==)f(x)h(==)g(True\))300
944 y FI(because)25 b FD(\(==\))c FI(is)j(a)f(non-associati)n(v)o(e)k
(operator;)f(so)e(the)g(e)o(xpression)i(must)d(parse)i(thus:)550
1140 y FD(\(let)53 b(x)h(=)g(True)f(in)g(\(x)h(==)g(x\)\))f(==)h(True)
300 1336 y FI(Ho)n(we)n(v)o(er)l(,)25 b(implementations)j(may)d(well)g
(use)g(a)g(post-parsing)j(pass)e(to)f(deal)h(with)e(\002xities,)i(so)f
(the)o(y)h(may)e(well)300 1449 y(incorrectly)33 b(deli)n(v)o(er)e(the)f
(former)h(parse.)49 b(Programmers)31 b(are)f(advised)i(to)e(a)n(v)n
(oid)h(constructs)i(whose)d(parsing)300 1561 y(in)l(v)n(olv)o(es)c(an)e
(interaction)i(of)e(\(lack)g(of\))g(associati)n(vity)j(with)c(the)h
(let/lambda)h(meta-rule.)300 1757 y(F)o(or)g(the)h(sak)o(e)h(of)f
(clarity)-6 b(,)28 b(the)e(rest)g(of)g(this)h(section)g(sho)n(ws)g(the)
f(syntax)h(of)f(e)o(xpressions)j(without)e(their)g(prece-)300
1870 y(dences.)300 2246 y FC(3.1)119 b(Err)n(ors)300
2536 y FI(Errors)37 b(during)g(e)o(xpression)i(e)n(v)n(aluation,)i
(denoted)e(by)d FB(?)p FI(,)i(are)e(indistinguishable)42
b(by)36 b(a)g(Hask)o(ell)h(program)300 2649 y(from)32
b(non-termination.)57 b(Since)32 b(Hask)o(ell)h(is)e(a)h(non-strict)i
(language,)i(all)c(Hask)o(ell)h(types)f(include)i FB(?)p
FI(.)52 b(That)300 2762 y(is,)32 b(a)e(v)n(alue)i(of)e(an)o(y)h(type)h
(may)e(be)h(bound)h(to)f(a)f(computation)j(that,)g(when)e(demanded,)j
(results)e(in)f(an)g(error)-5 b(.)300 2875 y(When)33
b(e)n(v)n(aluated,)k(errors)d(cause)g(immediate)g(program)g
(termination)h(and)e(cannot)i(be)d(caught)j(by)e(the)g(user)-5
b(.)300 2988 y(The)23 b(Prelude)i(pro)o(vides)g(tw)o(o)e(functions)j
(to)e(directly)h(cause)g(such)f(errors:)441 3178 y FD(error)271
b(::)53 b(String)f(->)i(a)441 3291 y(undefined)d(::)i(a)327
3478 y FI(A)28 b(call)g(to)g FD(error)e FI(terminates)k(e)o(x)o
(ecution)g(of)e(the)h(program)g(and)g(returns)h(an)e(appropriate)j
(error)e(indication)300 3591 y(to)24 b(the)h(operating)i(system.)33
b(It)24 b(should)j(also)e(display)h(the)f(string)h(in)e(some)h
(system-dependent)k(manner)-5 b(.)33 b(When)300 3704
y FD(undefined)19 b FI(is)k(used,)h(the)g(error)g(message)h(is)e
(created)j(by)d(the)h(compiler)-5 b(.)300 3899 y(T)m(ranslations)30
b(of)e(Hask)o(ell)h(e)o(xpressions)i(use)d FD(error)d
FI(and)j FD(undefined)23 b FI(to)28 b(e)o(xplicitly)i(indicate)g(where)
e(e)o(x-)300 4012 y(ecution)37 b(time)d(errors)i(may)e(occur)-5
b(.)64 b(The)34 b(actual)i(program)g(beha)n(vior)h(when)e(an)f(error)i
(occurs)g(is)f(up)f(to)h(the)300 4125 y(implementation.)c(The)23
b(messages)i(passed)f(to)f(the)h FD(error)c FI(function)25
b(in)e(these)h(translations)i(are)d(only)h(sugges-)300
4238 y(tions;)h(implementations)i(may)c(choose)i(to)f(display)h(more)e
(or)h(less)g(information)i(when)e(an)f(error)i(occurs.)300
4614 y FC(3.2)119 b(V)-11 b(ariables,)30 b(Constructors,)g(Operators,)f
(and)i(Literals)300 4904 y Fv(aexp)298 b FB(!)113 b Fv(qvar)1647
b Ft(\()p FI(v)n(ariable)s Ft(\))806 5017 y FB(j)147
b Fv(gc)-5 b(on)1639 b Ft(\()p FI(general)25 b(constructor)t
Ft(\))806 5130 y FB(j)147 b Fv(liter)-5 b(al)p eop
%%Page: 18 32
18 31 bop 0 100 a FI(18)2353 b FE(CHAPTER)20 b(3.)51
b(EXPRESSIONS)0 356 y Fv(gc)-5 b(on)298 b FB(!)113 b
FD(\(\))506 469 y FB(j)147 b FD([])506 582 y FB(j)g FD(\(,)o
FB(f)p FD(,)p FB(g)p FD(\))506 695 y FB(j)g Fv(qc)-5
b(on)0 920 y(var)348 b FB(!)113 b Fv(varid)33 b FB(j)23
b FD(\()g Fv(varsym)30 b FD(\))1090 b Ft(\()p FI(v)n(ariable)s
Ft(\))0 1033 y Fv(qvar)306 b FB(!)113 b Fv(qvarid)33
b FB(j)23 b FD(\()f Fv(qvarsym)31 b FD(\))1006 b Ft(\()p
FI(quali\002ed)25 b(v)n(ariable)s Ft(\))0 1146 y Fv(c)-5
b(on)340 b FB(!)113 b Fv(c)-5 b(onid)33 b FB(j)23 b FD(\()g
Fv(c)-5 b(onsym)31 b FD(\))1073 b Ft(\()p FI(constructor)t
Ft(\))0 1259 y Fv(qc)-5 b(on)298 b FB(!)113 b Fv(qc)-5
b(onid)33 b FB(j)23 b FD(\()f Fv(gc)-5 b(onsym)31 b FD(\))990
b Ft(\()p FI(quali\002ed)25 b(constructor)t Ft(\))0 1372
y Fv(var)-5 b(op)261 b FB(!)113 b Fv(varsym)31 b FB(j)23
b FD(\036)t Fv(varid)14 b FD(\036)1127 b Ft(\()p FI(v)n(ariable)25
b(operator)s Ft(\))0 1485 y Fv(qvar)-5 b(op)219 b FB(!)113
b Fv(qvarsym)31 b FB(j)23 b FD(\036)t Fv(qvarid)14 b
FD(\036)1043 b Ft(\()p FI(quali\002ed)25 b(v)n(ariable)g(operator)s
Ft(\))0 1598 y Fv(c)-5 b(onop)248 b FB(!)113 b Fv(c)-5
b(onsym)31 b FB(j)23 b FD(\036)t Fv(c)-5 b(onid)14 b
FD(\036)1111 b Ft(\()p FI(constructor)27 b(operator)s
Ft(\))0 1711 y Fv(qc)-5 b(onop)206 b FB(!)113 b Fv(gc)-5
b(onsym)31 b FB(j)23 b FD(\036)t Fv(qc)-5 b(onid)14 b
FD(\036)1027 b Ft(\()p FI(quali\002ed)25 b(constructor)i(operator)s
Ft(\))0 1824 y Fv(op)382 b FB(!)113 b Fv(var)-5 b(op)31
b FB(j)23 b Fv(c)-5 b(onop)1297 b Ft(\()p FI(operator)s
Ft(\))0 1937 y Fv(qop)340 b FB(!)113 b Fv(qvar)-5 b(op)30
b FB(j)23 b Fv(qc)-5 b(onop)1214 b Ft(\()p FI(quali\002ed)25
b(operator)s Ft(\))0 2050 y Fv(gc)-5 b(onsym)143 b FB(!)113
b FD(:)22 b FB(j)h Fv(qc)-5 b(onsym)0 2345 y FI(Hask)o(ell)34
b(pro)o(vides)h(special)g(syntax)g(to)e(support)i(in\002x)e(notation.)
60 b(An)33 b FJ(oper)o(ator)i FI(is)e(a)f(function)k(that)e(can)f(be)0
2458 y(applied)25 b(using)g(in\002x)f(syntax)h(\(Section)f(3.4\),)g(or)
f(partially)j(applied)f(using)g(a)e FJ(section)i FI(\(Section)g(3.5\).)
0 2654 y(An)h FJ(oper)o(ator)j FI(is)e(either)h(an)e
FJ(oper)o(ator)j(symbol)p FI(,)f(such)g(as)f FD(+)e FI(or)i
FD($$)o FI(,)g(or)f(is)h(an)g(ordinary)i(identi\002er)f(enclosed)h(in)0
2767 y(gra)n(v)o(e)j(accents)h(\(backquotes\),)j(such)c(as)f
FD(\036)-19 b(op)g(\036)p FI(.)50 b(F)o(or)30 b(e)o(xample,)k(instead)f
(of)e(writing)g(the)h(pre\002x)f(application)0 2880 y
FD(op)54 b(x)g(y)o FI(,)29 b(one)h(can)f(write)g(the)g(in\002x)g
(application)j FD(x)22 b(\036)-18 b(op)f(\036)54 b(y)o
FI(.)44 b(If)29 b(no)g(\002xity)g(declaration)j(is)d(gi)n(v)o(en)g(for)
g FD(\036)-18 b(op)e(\036)0 2993 y FI(then)24 b(it)g(def)o(aults)h(to)f
(highest)h(precedence)i(and)d(left)f(associati)n(vity)k(\(see)e
(Section)f(4.4.2\).)0 3189 y(Dually)-6 b(,)30 b(an)f(operator)h(symbol)
g(can)f(be)f(con)l(v)o(erted)j(to)e(an)f(ordinary)j(identi\002er)f(by)f
(enclosing)i(it)d(in)h(parenthe-)0 3302 y(ses.)60 b(F)o(or)33
b(e)o(xample,)k FD(\(+\))53 b(x)h(y)33 b FI(is)h(equi)n(v)n(alent)i(to)
e FD(x)54 b(+)g(y)p FI(,)35 b(and)g FD(foldr)52 b(\(*\))h(1)h(xs)32
b FI(is)i(equi)n(v)n(alent)i(to)0 3414 y FD(foldr)52
b(\(\\x)h(y)i(->)e(x*y\))g(1)h(xs)o FI(.)0 3610 y(Special)33
b(syntax)g(is)f(used)g(to)g(name)g(some)g(constructors)j(for)d(some)g
(of)g(the)g(b)n(uilt-in)i(types,)g(as)e(found)h(in)f(the)0
3723 y(production)27 b(for)c Fv(gc)-5 b(on)31 b FI(and)24
b Fv(liter)-5 b(al)11 b FI(.)27 b(These)d(are)g(described)i(in)e
(Section)g(6.1.)0 3919 y(An)c(inte)o(ger)i(literal)h(represents)g(the)f
(application)i(of)d(the)g(function)i FD(fromInteger)15
b FI(to)21 b(the)g(appropriate)j(v)n(alue)0 4032 y(of)i(type)h
FD(Integer)l FI(.)35 b(Similarly)-6 b(,)27 b(a)f(\003oating)h(point)g
(literal)g(stands)g(for)g(an)e(application)30 b(of)25
b FD(fromRational)0 4145 y FI(to)e(a)h(v)n(alue)g(of)f(type)i
FD(Rational)19 b FI(\(that)24 b(is,)f FD(Ratio)52 b(Integer)m
FI(\).)p 15 4359 3548 4 v 15 5100 4 741 v 66 4487 a FF(T)-7
b(ranslation:)93 b FI(The)25 b(inte)o(ger)i(literal)g
Fv(i)33 b FI(is)26 b(equi)n(v)n(alent)i(to)d FD(fromInteger)20
b Fv(i)9 b FI(,)25 b(where)g FD(fromInteger)66 4600 y
FI(is)e(a)g(method)i(in)e(class)i FD(Num)c FI(\(see)j(Section)h
(6.4.1\).)66 4713 y(The)51 b(\003oating)i(point)g(literal)g
Fv(f)70 b FI(is)52 b(equi)n(v)n(alent)i(to)e FD(fromRational)45
b FI(\()p Fv(n)59 b FD(Ratio.\045)47 b Fv(d)10 b FI(\),)58
b(where)66 4826 y FD(fromRational)33 b FI(is)39 b(a)g(method)i(in)e
(class)h FD(Fractional)34 b FI(and)40 b FD(Ratio.\045)35
b FI(constructs)43 b(a)c(rational)66 4939 y(from)30 b(tw)o(o)f(inte)o
(gers,)k(as)d(de\002ned)g(in)g(the)g FD(Ratio)d FI(library)-6
b(.)49 b(The)30 b(inte)o(gers)h Fv(n)36 b FI(and)31 b
Fv(d)39 b FI(are)30 b(chosen)h(so)f(that)66 5052 y Fv(n)7
b Fq(=)p Fv(d)58 b Ft(=)48 b Fv(f)19 b FI(.)p 3559 5100
V 15 5103 3548 4 v eop
%%Page: 19 33
19 32 bop 300 100 a FE(3.3.)51 b(CURRIED)21 b(APPLICA)-10
b(TIONS)19 b(AND)j(LAMBD)l(A)f(ABSTRA)l(CTIONS)921 b
FI(19)300 356 y FC(3.3)119 b(Curried)32 b(A)m(pplications)f(and)f
(Lambda)g(Abstractions)300 646 y Fv(fexp)316 b FB(!)113
b Ft([)p Fv(fexp)6 b Ft(])23 b Fv(aexp)1402 b Ft(\()p
FI(function)26 b(application)t Ft(\))300 759 y Fv(exp)344
b FB(!)113 b FD(\\)22 b Fv(ap)-5 b(at)1218 773 y Fu(1)1308
759 y Fq(:)15 b(:)g(:)39 b Fv(ap)-5 b(at)1615 773 y Fu(n)1689
759 y FD(->)22 b Fv(exp)842 b Ft(\()p FI(lambda)24 b(abstraction)t
Fq(;)38 b Fv(n)33 b FB(\025)25 b Fv(1)12 b Ft(\))300
1054 y FJ(Function)26 b(application)h FI(is)d(written)h
Fv(e)1496 1068 y Fu(1)1568 1054 y Fv(e)1610 1068 y Fu(2)1659
1054 y FI(.)30 b(Application)d(associates)g(to)d(the)h(left,)f(so)g
(the)h(parentheses)i(may)d(be)300 1167 y(omitted)f(in)g
FD(\(f)53 b(x\))h(y)o FI(.)28 b(Because)23 b Fv(e)1490
1181 y Fu(1)1561 1167 y FI(could)h(be)e(a)g(data)h(constructor)l(,)j
(partial)e(applications)h(of)e(data)g(construc-)300 1280
y(tors)h(are)g(allo)n(wed.)300 1476 y FJ(Lambda)h(abstr)o(actions)k
FI(are)c(written)h FD(\\)c Fv(p)1635 1490 y Fu(1)1723
1476 y Fq(:)15 b(:)g(:)39 b Fv(p)1913 1490 y Fu(n)1985
1476 y FD(->)22 b Fv(e)7 b FI(,)24 b(where)i(the)f Fv(p)2641
1490 y Fu(i)2698 1476 y FI(are)g FJ(patterns)p FI(.)35
b(An)25 b(e)o(xpression)i(such)300 1589 y(as)c FD(\\x:xs->x)d
FI(is)j(syntactically)k(incorrect;)f(it)e(may)f(le)o(gally)h(be)g
(written)g(as)f FD(\\\(x:xs\)->x)l FI(.)300 1785 y(The)g(set)h(of)f
(patterns)j(must)d(be)h FJ(linear)p FI(\227no)i(v)n(ariable)f(may)e
(appear)i(more)f(than)g(once)g(in)g(the)g(set.)p 315
1999 3548 4 v 315 2502 4 503 v 366 2127 a FF(T)-7 b(ranslation:)85
b Fn(The)20 b(follo)n(wing)f(identity)g(holds:)495 2295
y Fp(\\)h Fm(p)607 2307 y Fl(1)689 2295 y Fk(:)14 b(:)g(:)35
b Fm(p)863 2307 y Fl(n)931 2295 y Fp(->)21 b Fm(e)106
b Fj(=)99 b Fp(\\)21 b Fm(x)1470 2307 y Fl(1)1550 2295
y Fk(:)14 b(:)g(:)35 b Fm(x)1721 2307 y Fl(n)1789 2295
y Fp(->)49 b(case)g(\()p Fm(x)2276 2307 y Fl(1)2323 2295
y Fp(,)34 b Fk(:)14 b(:)g(:)g Fp(,)20 b Fm(x)2627 2307
y Fl(n)2674 2295 y Fp(\))50 b(of)f(\()p Fm(p)3015 2307
y Fl(1)3063 2295 y Fp(,)34 b Fk(:)14 b(:)g(:)g Fp(,)20
b Fm(p)3370 2307 y Fl(n)3418 2295 y Fp(\))50 b(->)20
b Fm(e)366 2464 y Fn(where)g(the)g Fm(x)751 2476 y Fl(i)802
2464 y Fn(are)g(ne)n(w)g(identi\002ers.)p 3859 2502 V
315 2505 3548 4 v 300 2799 a FI(Gi)n(v)o(en)30 b(this)h(translation)i
(combined)f(with)e(the)h(semantics)h(of)e(case)h(e)o(xpressions)i(and)e
(pattern)h(matching)g(de-)300 2912 y(scribed)25 b(in)f(Section)g
(3.17.3,)g(if)f(the)h(pattern)h(f)o(ails)g(to)e(match,)h(then)g(the)g
(result)g(is)g FB(?)o FI(.)300 3287 y FC(3.4)119 b(Operator)30
b(A)m(pplications)300 3577 y Fv(exp)344 b FB(!)113 b
Fv(exp)1108 3591 y Fu(1)1181 3577 y Fv(qop)29 b(exp)1474
3591 y Fu(2)806 3690 y FB(j)147 b FD(-)22 b Fv(exp)1608
b Ft(\()p FI(pre\002x)24 b(ne)o(gation)r Ft(\))300 3803
y Fv(qop)340 b FB(!)113 b Fv(qvar)-5 b(op)30 b FB(j)23
b Fv(qc)-5 b(onop)1214 b Ft(\()p FI(quali\002ed)25 b(operator)s
Ft(\))300 4099 y FI(The)e(form)h Fv(e)706 4113 y Fu(1)778
4099 y Fv(qop)29 b(e)983 4113 y Fu(2)1055 4099 y FI(is)23
b(the)h(in\002x)f(application)k(of)d(binary)h(operator)g
Fv(qop)k FI(to)24 b(e)o(xpressions)i Fv(e)3311 4113 y
Fu(1)3383 4099 y FI(and)e Fv(e)3579 4113 y Fu(2)3629
4099 y FI(.)300 4295 y(The)i(special)i(form)e FD(-)p
Fv(e)32 b FI(denotes)c(pre\002x)e(ne)o(gation,)j(the)d(only)h(pre\002x)
g(operator)h(in)f(Hask)o(ell,)g(and)g(is)f(syntax)i(for)300
4408 y FD(negate)52 b Ft(\()p Fv(e)7 b Ft(\))p FI(.)27
b(The)22 b(binary)h FD(-)d FI(operator)k(does)f(not)f(necessarily)j
(refer)d(to)g(the)g(de\002nition)h(of)f FD(-)e FI(in)i(the)g(Prelude;)
300 4521 y(it)35 b(may)f(be)i(rebound)h(by)e(the)g(module)h(system.)64
b(Ho)n(we)n(v)o(er)l(,)37 b(unary)g FD(-)c FI(will)i(al)o(w)o(ays)h
(refer)f(to)g(the)h FD(negate)300 4634 y FI(function)29
b(de\002ned)g(in)e(the)g(Prelude.)41 b(There)28 b(is)f(no)g(link)h
(between)g(the)g(local)g(meaning)h(of)e(the)g FD(-)f
FI(operator)k(and)300 4746 y(unary)25 b(ne)o(gation.)300
4942 y(Pre\002x)19 b(ne)o(gation)i(has)g(the)f(same)g(precedence)i(as)e
(the)g(in\002x)g(operator)i FD(-)c FI(de\002ned)j(in)f(the)g(Prelude)h
(\(see)f(T)-7 b(able)20 b(4.1,)300 5055 y(page)29 b(55\).)43
b(Because)30 b FD(e1-e2)25 b FI(parses)k(as)g(an)f(in\002x)g
(application)k(of)c(the)g(binary)i(operator)g FD(-)p
FI(,)e(one)h(must)f(write)300 5168 y FD(e1\(-e2\))f FI(for)k(the)g
(alternati)n(v)o(e)i(parsing.)53 b(Similarly)-6 b(,)33
b FD(\(-\))28 b FI(is)j(syntax)h(for)f FD(\(\\)54 b(x)g(y)g(->)g(x-y\))
n FI(,)32 b(as)e(with)300 5281 y(an)o(y)24 b(in\002x)f(operator)l(,)j
(and)e(does)g(not)g(denote)h FD(\(\\)54 b(x)g(->)g(-x\))n
FI(\227one)24 b(must)g(use)g FD(negate)c FI(for)j(that.)p
eop
%%Page: 20 34
20 33 bop 0 100 a FI(20)2353 b FE(CHAPTER)20 b(3.)51
b(EXPRESSIONS)p 15 268 3548 4 v 15 737 4 470 v 66 396
a FF(T)-7 b(ranslation:)93 b FI(The)23 b(follo)n(wing)i(identities)h
(hold:)1256 566 y Fv(e)1298 580 y Fu(1)1370 566 y Fv(op)j(e)1533
580 y Fu(2)1682 566 y Ft(=)99 b FD(\()p Fv(op)6 b FD(\))23
b Fv(e)2125 580 y Fu(1)2197 566 y Fv(e)2239 580 y Fu(2)1256
678 y FD(-)o Fv(e)330 b Ft(=)99 b FD(negate)20 b Ft(\()p
Fv(e)7 b Ft(\))p 3559 737 V 15 740 3548 4 v 0 1098 a
FC(3.5)119 b(Sections)0 1388 y Fv(aexp)298 b FB(!)113
b FD(\()22 b Fv(exp)891 1355 y Fu(i)6 b FA(+)p Fu(1)1047
1388 y Fv(qop)1187 1355 y FA(\()p Fu(a)f Fo(;)p Fu(i)h
FA(\))1359 1388 y FD(\))1079 b Ft(\()p FI(left)24 b(section)s
Ft(\))506 1505 y FB(j)147 b FD(\()22 b Fv(lexp)914 1472
y Fu(i)970 1505 y Fv(qop)1110 1472 y FA(\()p Fu(l)7 b
Fo(;)p Fu(i)f FA(\))1265 1505 y FD(\))1173 b Ft(\()p
FI(left)24 b(section)s Ft(\))506 1637 y FB(j)147 b FD(\()22
b Fv(qop)895 1589 y FA(\()p Fu(a)5 b Fo(;)p Fu(i)h FA(\))889
1668 y Fs(h)p FD(-)q Fs(i)1067 1637 y Fv(exp)1203 1604
y Fu(i)g FA(+)p Fu(1)1359 1637 y FD(\))1079 b Ft(\()p
FI(right)25 b(section)r Ft(\))506 1783 y FB(j)147 b FD(\()22
b Fv(qop)895 1735 y FA(\()p Fu(r)7 b Fo(;)p Fu(i)f FA(\))889
1815 y Fs(h)p FD(-)q Fs(i)1063 1783 y Fv(r)-5 b(exp)1232
1750 y Fu(i)1288 1783 y FD(\))1150 b Ft(\()p FI(right)25
b(section)r Ft(\))0 2078 y FJ(Sections)i FI(are)e(written)h(as)f
FD(\()d Fv(op)30 b(e)f FD(\))24 b FI(or)h FD(\()d Fv(e)29
b(op)h FD(\))o FI(,)25 b(where)g Fv(op)31 b FI(is)25
b(a)f(binary)j(operator)g(and)e Fv(e)31 b FI(is)25 b(an)g(e)o
(xpression.)0 2191 y(Sections)g(are)f(a)f(con)l(v)o(enient)j(syntax)f
(for)f(partial)h(application)i(of)c(binary)i(operators.)0
2387 y(Syntactic)32 b(precedence)i(rules)d(apply)h(to)f(sections)h(as)f
(follo)n(ws.)50 b FD(\()p Fv(op)29 b(e)7 b FD(\))29 b
FI(is)i(le)o(gal)f(if)h(and)g(only)g(if)g FD(\(x)21 b
Fv(op)30 b(e)7 b FD(\))0 2500 y FI(parses)29 b(in)f(the)h(same)f(w)o
(ay)f(as)h FD(\(x)22 b Fv(op)30 b FD(\()o Fv(e)7 b FD(\)\))o
FI(;)30 b(and)e(similarly)i(for)e FD(\()o Fv(e)i(op)6
b FD(\))p FI(.)41 b(F)o(or)27 b(e)o(xample,)j FD(\(*a+b\))25
b FI(is)i(syn-)0 2613 y(tactically)d(in)l(v)n(alid,)g(b)n(ut)f
FD(\(+a*b\))18 b FI(and)k FD(\(*\(a+b\)\))c FI(are)k(v)n(alid.)29
b(Because)23 b FD(\(+\))c FI(is)j(left)g(associati)n(v)o(e,)j
FD(\(a+b+\))0 2726 y FI(is)31 b(syntactically)k(correct,)f(b)n(ut)e
FD(\(+a+b\))c FI(is)j(not;)k(the)d(latter)g(may)f(le)o(gally)h(be)f
(written)h(as)f FD(\(+\(a+b\)\))l FI(.)51 b(As)0 2839
y(another)25 b(e)o(xample,)f(the)g(e)o(xpression)250
3035 y FD(\(let)53 b(n)h(=)g(10)g(in)f(n)h(+\))0 3231
y FI(is)23 b(in)l(v)n(alid)j(because,)f(by)f(the)f(let/lambda)j
(meta-rule)f(\(Section)g(3\),)e(the)h(e)o(xpression)250
3427 y FD(\(let)53 b(n)h(=)g(10)g(in)f(n)h(+)h(x\))0
3623 y FI(parses)25 b(as)250 3818 y FD(\(let)53 b(n)h(=)g(10)g(in)f
(\(n)h(+)g(x\)\))0 4014 y FI(rather)25 b(than)250 4210
y FD(\(\(let)53 b(n)h(=)g(10)f(in)h(n\))g(+)g(x\))0 4602
y FI(Because)24 b FD(-)d FI(is)h(treated)i(specially)h(in)e(the)g
(grammar)l(,)g FD(\(-)f Fv(exp)6 b FD(\))21 b FI(is)i(not)g(a)f
(section,)i(b)n(ut)f(an)g(application)i(of)e(pre\002x)0
4715 y(ne)o(gation,)32 b(as)c(described)k(in)d(the)g(preceding)j
(section.)47 b(Ho)n(we)n(v)o(er)l(,)29 b(there)h(is)f(a)g
FD(subtract)24 b FI(function)31 b(de\002ned)0 4828 y(in)24
b(the)h(Prelude)h(such)f(that)g FD(\(subtract)19 b Fv(exp)6
b FD(\))23 b FI(is)i(equi)n(v)n(alent)h(to)f(the)g(disallo)n(wed)h
(section.)33 b(The)25 b(e)o(xpression)0 4941 y FD(\(+)54
b(\(-)21 b Fv(exp)6 b FD(\)\))22 b FI(can)i(serv)o(e)h(the)e(same)h
(purpose.)p eop
%%Page: 21 35
21 34 bop 300 100 a FE(3.6.)51 b(CONDITION)m(ALS)2645
b FI(21)p 315 268 3548 4 v 315 996 4 729 v 366 396 a
FF(T)-7 b(ranslation:)93 b FI(The)23 b(follo)n(wing)i(identities)h
(hold:)1549 566 y FD(\()o Fv(op)k(e)7 b FD(\))98 b Ft(=)i
FD(\\)22 b Fv(x)34 b FD(->)22 b Fv(x)34 b(op)29 b(e)1549
678 y FD(\()o Fv(e)h(op)6 b FD(\))99 b Ft(=)h FD(\\)22
b Fv(x)34 b FD(->)22 b Fv(e)29 b(op)g(x)366 857 y FI(where)24
b Fv(op)29 b FI(is)24 b(a)f(binary)i(operator)l(,)g Fv(e)30
b FI(is)23 b(an)h(e)o(xpression,)i(and)e Fv(x)34 b FI(is)23
b(a)g(v)n(ariable)i(that)g(does)f(not)g(occur)h(free)f(in)366
970 y Fv(e)7 b FI(.)p 3859 996 V 315 999 3548 4 v 300
1357 a FC(3.6)119 b(Conditionals)300 1647 y Fv(exp)344
b FB(!)113 b FD(if)22 b Fv(exp)1240 1661 y Fu(1)1313
1647 y FD(then)f Fv(exp)1684 1661 y Fu(2)1756 1647 y
FD(else)g Fv(exp)2127 1661 y Fu(3)300 1943 y FI(A)26
b FJ(conditional)31 b(e)n(xpr)m(ession)f FI(has)e(the)f(form)h
FD(if)21 b Fv(e)1905 1957 y Fu(1)1977 1943 y FD(then)g
Fv(e)2260 1957 y Fu(2)2332 1943 y FD(else)g Fv(e)2615
1957 y Fu(3)2691 1943 y FI(and)28 b(returns)h(the)f(v)n(alue)g(of)f
Fv(e)3631 1957 y Fu(2)3707 1943 y FI(if)g(the)300 2056
y(v)n(alue)d(of)g Fv(e)658 2070 y Fu(1)730 2056 y FI(is)f
FD(True)n FI(,)g Fv(e)1119 2070 y Fu(3)1191 2056 y FI(if)g
Fv(e)1311 2070 y Fu(1)1383 2056 y FI(is)g FD(False)n
FI(,)g(and)h FB(?)e FI(otherwise.)p 315 2264 V 315 3011
4 747 v 366 2392 a FF(T)-7 b(ranslation:)93 b FI(The)23
b(follo)n(wing)i(identity)h(holds:)546 2561 y FD(if)c
Fv(e)720 2575 y Fu(1)792 2561 y FD(then)e Fv(e)1074 2575
y Fu(2)1146 2561 y FD(else)h Fv(e)1429 2575 y Fu(3)1578
2561 y Ft(=)100 b FD(case)21 b Fv(e)2032 2575 y Fu(1)2104
2561 y FD(of)53 b({)h(True)f(->)22 b Fv(e)2823 2575 y
Fu(2)2895 2561 y FD(;)54 b(False)e(->)22 b Fv(e)3505
2575 y Fu(3)3577 2561 y FD(})366 2740 y FI(where)g FD(True)d
FI(and)j FD(False)c FI(are)k(the)f(tw)o(o)g(nullary)j(constructors)h
(from)c(the)h(type)g FD(Bool)n FI(,)f(as)h(de\002ned)g(in)f(the)366
2853 y(Prelude.)38 b(The)26 b(type)h(of)f Fv(e)1195 2867
y Fu(1)1270 2853 y FI(must)g(be)g FD(Bool)o FI(;)h Fv(e)1896
2867 y Fu(2)1970 2853 y FI(and)g Fv(e)2169 2867 y Fu(3)2244
2853 y FI(must)f(ha)n(v)o(e)h(the)g(same)f(type,)i(which)e(is)g(also)h
(the)366 2966 y(type)d(of)g(the)f(entire)i(conditional)i(e)o
(xpression.)p 3859 3011 V 315 3014 3548 4 v 300 3372
a FC(3.7)119 b(Lists)300 3662 y Fv(exp)344 b FB(!)113
b Fv(exp)1108 3676 y Fu(1)1181 3662 y Fv(qop)29 b(exp)1474
3676 y Fu(2)300 3775 y Fv(aexp)298 b FB(!)113 b FD([)22
b Fv(exp)1185 3789 y Fu(1)1258 3775 y FD(,)38 b Fq(:)15
b(:)g(:)38 b FD(,)23 b Fv(exp)1702 3790 y Fu(k)1769 3775
y FD(])969 b Ft(\()p Fv(k)35 b FB(\025)25 b Fv(1)12 b
Ft(\))806 3888 y FB(j)147 b Fv(gc)-5 b(on)300 4000 y(gc)g(on)298
b FB(!)113 b FD([])806 4113 y FB(j)147 b Fv(qc)-5 b(on)300
4226 y(qc)g(on)298 b FB(!)113 b FD(\()22 b Fv(gc)-5 b(onsym)31
b FD(\))300 4339 y Fv(qop)340 b FB(!)113 b Fv(qc)-5 b(onop)300
4452 y(qc)g(onop)206 b FB(!)113 b Fv(gc)-5 b(onsym)300
4565 y(gc)g(onsym)143 b FB(!)113 b FD(:)300 4861 y FJ(Lists)35
b FI(are)g(written)g FD([)p Fv(e)1039 4875 y Fu(1)1088
4861 y FD(,)i Fq(:)15 b(:)g(:)i FD(,)22 b Fv(e)1421 4876
y Fu(k)1465 4861 y FD(])o FI(,)37 b(where)e Fv(k)g FB(\025)25
b Fv(1)12 b FI(.)62 b(The)34 b(list)h(constructor)j(is)d
FD(:)o FI(,)i(and)e(the)g(empty)g(list)g(is)300 4973
y(denoted)26 b FD([])o FI(.)31 b(Standard)26 b(operations)h(on)d(lists)
h(are)g(gi)n(v)o(en)g(in)f(the)h(Prelude)g(\(see)g(Section)g(6.1.3,)f
(and)h(Chapter)h(8)300 5086 y(notably)f(Section)g(8.1\).)p
eop
%%Page: 22 36
22 35 bop 0 100 a FI(22)2353 b FE(CHAPTER)20 b(3.)51
b(EXPRESSIONS)p 15 268 3548 4 v 15 1011 4 744 v 66 396
a FF(T)-7 b(ranslation:)93 b FI(The)23 b(follo)n(wing)i(identity)h
(holds:)724 566 y FD([)p Fv(e)821 580 y Fu(1)870 566
y FD(,)37 b Fq(:)15 b(:)g(:)h FD(,)23 b Fv(e)1203 581
y Fu(k)1247 566 y FD(])99 b Ft(=)g Fv(e)1613 580 y Fu(1)1685
566 y FD(:)54 b(\()p Fv(e)1891 580 y Fu(2)1963 566 y
FD(:)g(\()37 b Fq(:)15 b(:)g(:)39 b FD(\()p Fv(e)2405
581 y Fu(k)2471 566 y FD(:)55 b([]\)\)\))66 744 y FI(where)31
b FD(:)e FI(and)i FD([])e FI(are)i(constructors)k(for)30
b(lists,)j(as)e(de\002ned)g(in)g(the)g(Prelude)h(\(see)f(Section)h
(6.1.3\).)50 b(The)66 857 y(types)26 b(of)e Fv(e)423
871 y Fu(1)497 857 y FI(through)i Fv(e)845 872 y Fu(k)913
857 y FI(must)f(all)g(be)g(the)g(same)f(\(call)i(it)e
Fv(t)9 b FI(\),)24 b(and)i(the)f(type)g(of)g(the)g(o)o(v)o(erall)g(e)o
(xpression)j(is)66 970 y FD([)o Fv(t)9 b FD(])23 b FI(\(see)h(Section)g
(4.1.2\).)p 3559 1011 V 15 1014 3548 4 v 0 1268 a(The)g(constructor)j
(\223)p FD(:)p FI(\224)c(is)h(reserv)o(ed)i(solely)g(for)e(list)g
(construction;)29 b(lik)o(e)24 b FD([])p FI(,)f(it)h(is)f(considered)28
b(part)c(of)g(the)h(lan-)0 1381 y(guage)g(syntax,)h(and)e(cannot)i(be)e
(hidden)i(or)e(rede\002ned.)32 b(It)24 b(is)g(a)f(right-associati)n(v)o
(e)29 b(operator)l(,)d(with)e(precedence)0 1494 y(le)n(v)o(el)g(5)f
(\(Section)i(4.4.2\).)0 1855 y FC(3.8)119 b(T)-11 b(uples)0
2135 y Fv(aexp)298 b FB(!)113 b FD(\()22 b Fv(exp)885
2149 y Fu(1)958 2135 y FD(,)38 b Fq(:)15 b(:)g(:)38 b
FD(,)23 b Fv(exp)1402 2150 y Fu(k)1469 2135 y FD(\))969
b Ft(\()p Fv(k)35 b FB(\025)25 b Fv(2)12 b Ft(\))506
2248 y FB(j)147 b Fv(qc)-5 b(on)0 2360 y(qc)g(on)298
b FB(!)113 b FD(\(,)o FB(f)p FD(,)p FB(g)p FD(\))0 2729
y FJ(T)-5 b(uples)22 b FI(are)g(written)g FD(\()p Fv(e)765
2743 y Fu(1)814 2729 y FD(,)38 b Fq(:)15 b(:)g(:)h FD(,)22
b Fv(e)1147 2744 y Fu(k)1191 2729 y FD(\))p FI(,)f(and)h(may)f(be)h(of)
f(arbitrary)j(length)f Fv(k)35 b FB(\025)25 b Fv(2)13
b FI(.)27 b(The)21 b(constructor)k(for)d(an)g Fv(n)7
b FI(-)0 2842 y(tuple)26 b(is)e(denoted)j(by)e FD(\(,)o
FI(.)14 b(.)g(.)g FD(,\))m FI(,)24 b(where)h(there)h(are)f
Fv(n)i FB(\000)20 b Fv(1)37 b FI(commas.)c(Thus)25 b
FD(\(a,b,c\))20 b FI(and)26 b FD(\(,,\))52 b(a)i(b)g(c)0
2955 y FI(denote)23 b(the)e(same)g(v)n(alue.)29 b(Standard)22
b(operations)i(on)d(tuples)i(are)e(gi)n(v)o(en)h(in)f(the)g(Prelude)h
(\(see)g(Section)g(6.1.4)f(and)0 3067 y(Chapter)k(8\).)p
15 3241 V 15 3641 4 400 v 66 3370 a FF(T)-7 b(ranslation:)93
b FD(\()p Fv(e)732 3384 y Fu(1)781 3370 y FD(,)37 b Fq(:)15
b(:)g(:)h FD(,)23 b Fv(e)1114 3385 y Fu(k)1158 3370 y
FD(\))g FI(for)i Fv(k)35 b FB(\025)25 b Fv(2)37 b FI(is)24
b(an)h(instance)i(of)e(a)f Fv(k)10 b FI(-tuple)26 b(as)e(de\002ned)i
(in)f(the)g(Prelude,)66 3483 y(and)j(requires)i(no)d(translation.)44
b(If)28 b Fv(t)1226 3497 y Fu(1)1302 3483 y FI(through)i
Fv(t)1642 3498 y Fu(k)1713 3483 y FI(are)e(the)g(types)h(of)e
Fv(e)2352 3497 y Fu(1)2428 3483 y FI(through)j Fv(e)2780
3498 y Fu(k)2824 3483 y FI(,)d(respecti)n(v)o(ely)-6
b(,)32 b(then)66 3596 y(the)24 b(type)g(of)f(the)h(resulting)i(tuple)f
(is)e FD(\()p Fv(t)1325 3610 y Fu(1)1374 3596 y FD(,)38
b Fq(:)15 b(:)g(:)h FD(,)22 b Fv(t)1695 3611 y Fu(k)1740
3596 y FD(\))g FI(\(see)i(Section)g(4.1.2\).)p 3559 3641
V 15 3644 3548 4 v 0 3987 a FC(3.9)119 b(Unit)31 b(Expr)n(essions)e
(and)h(P)o(ar)n(enthesized)h(Expr)n(essions)0 4267 y
Fv(aexp)298 b FB(!)113 b Fv(gc)-5 b(on)506 4380 y FB(j)147
b FD(\()22 b Fv(exp)29 b FD(\))0 4492 y Fv(gc)-5 b(on)298
b FB(!)113 b FD(\(\))0 4748 y FI(The)24 b(form)g FD(\()p
Fv(e)7 b FD(\))22 b FI(is)j(simply)g(a)f FJ(par)m(enthesized)k(e)n(xpr)
m(ession)p FI(,)f(and)e(is)f(equi)n(v)n(alent)j(to)d
Fv(e)6 b FI(.)31 b(The)24 b FJ(unit)h(e)n(xpr)m(ession)i
FD(\(\))0 4861 y FI(has)22 b(type)h FD(\(\))d FI(\(see)j(Section)g
(4.1.2\).)28 b(It)22 b(is)g(the)g(only)h(member)f(of)g(that)h(type)f
(apart)h(from)f FB(?)p FI(,)f(and)i(can)f(be)g(thought)0
4974 y(of)h(as)h(the)g(\223nullary)h(tuple\224)g(\(see)f(Section)h
(6.1.5\).)p 15 5147 V 15 5320 4 174 v 66 5276 a FF(T)-7
b(ranslation:)93 b FD(\()p Fv(e)7 b FD(\))21 b FI(is)j(equi)n(v)n
(alent)i(to)d Fv(e)7 b FI(.)p 3559 5320 V 15 5323 3548
4 v eop
%%Page: 23 37
23 36 bop 300 100 a FE(3.10.)52 b(ARITHMETIC)20 b(SEQ)o(UENCES)2165
b FI(23)300 356 y FC(3.10)119 b(Arithmetic)30 b(Sequences)300
645 y Fv(aexp)298 b FB(!)113 b FD([)22 b Fv(exp)1185
659 y Fu(1)1258 645 y Ft([)p FD(,)h Fv(exp)1491 659 y
Fu(2)1541 645 y Ft(])g FD(..)e Ft([)p Fv(exp)1875 659
y Fu(3)1926 645 y Ft(])i FD(])300 1017 y FI(The)29 b
FJ(arithmetic)i(sequence)h FD([)p Fv(e)1331 1031 y Fu(1)1380
1017 y FD(,)22 b Fv(e)1499 1031 y Fu(2)1571 1017 y FD(..)g
Fv(e)1745 1031 y Fu(3)1794 1017 y FD(])28 b FI(denotes)k(a)d(list)g(of)
h(v)n(alues)g(of)f(type)h Fv(t)9 b FI(,)30 b(where)g(each)g(of)f(the)h
Fv(e)3868 1031 y Fu(i)300 1130 y FI(has)24 b(type)g Fv(t)9
b FI(,)22 b(and)i Fv(t)32 b FI(is)23 b(an)h(instance)i(of)d(class)h
FD(Enum)o FI(.)p 315 1339 3548 4 v 315 2311 4 973 v 366
1467 a FF(T)-7 b(ranslation:)93 b FI(Arithmetic)25 b(sequences)h
(satisfy)f(these)g(identities:)1073 1636 y FD([)54 b
Fv(e)1224 1650 y Fu(1)1273 1636 y FD(..)g(])336 b Ft(=)100
b FD(enumFrom)19 b Fv(e)2500 1650 y Fu(1)1073 1749 y
FD([)54 b Fv(e)1224 1763 y Fu(1)1273 1749 y FD(,)p Fv(e)1370
1763 y Fu(2)1419 1749 y FD(..)g(])190 b Ft(=)100 b FD(enumFromThen)17
b Fv(e)2718 1763 y Fu(1)2790 1749 y Fv(e)2832 1763 y
Fu(2)1073 1862 y FD([)54 b Fv(e)1224 1876 y Fu(1)1273
1862 y FD(..)o Fv(e)1424 1876 y Fu(3)1528 1862 y FD(])245
b Ft(=)100 b FD(enumFromTo)18 b Fv(e)2609 1876 y Fu(1)2681
1862 y Fv(e)2723 1876 y Fu(3)1073 1975 y FD([)54 b Fv(e)1224
1989 y Fu(1)1273 1975 y FD(,)p Fv(e)1370 1989 y Fu(2)1419
1975 y FD(..)o Fv(e)1570 1989 y Fu(3)1674 1975 y FD(])99
b Ft(=)h FD(enumFromThenTo)16 b Fv(e)2827 1989 y Fu(1)2899
1975 y Fv(e)2941 1989 y Fu(2)3013 1975 y Fv(e)3055 1989
y Fu(3)366 2154 y FI(where)47 b FD(enumFrom)l FI(,)k
FD(enumFromThen)-5 b FI(,)51 b FD(enumFromTo)-5 b FI(,)51
b(and)c FD(enumFromThenTo)39 b FI(are)47 b(class)366
2267 y(methods)25 b(in)e(the)h(class)g FD(Enum)d FI(as)j(de\002ned)g
(in)g(the)f(Prelude)i(\(see)f(Figure)g(6.1,)f(page)i(83\).)p
3859 2311 V 315 2314 3548 4 v 300 2603 a(The)32 b(semantics)h(of)f
(arithmetic)i(sequences)g(therefore)h(depends)f(entirely)g(on)e(the)g
(instance)i(declaration)h(for)300 2716 y(the)f(type)g
Fv(t)9 b FI(.)59 b(See)33 b(Section)i(6.3.4)e(for)h(more)g(details)h
(of)f(which)g FD(Prelude)c FI(types)35 b(are)e(in)h FD(Enum)d
FI(and)j(their)300 2829 y(semantics.)300 3203 y FC(3.11)119
b(List)29 b(Compr)n(ehensions)300 3492 y Fv(aexp)298
b FB(!)113 b FD([)22 b Fv(exp)29 b FD(|)23 b Fv(qual)1452
3506 y Fu(1)1524 3492 y FD(,)38 b Fq(:)15 b(:)g(:)39
b FD(,)22 b Fv(qual)1998 3506 y Fu(n)2071 3492 y FD(])667
b Ft(\()p FI(list)24 b(comprehension)t Fq(;)39 b Fv(n)32
b FB(\025)25 b Fv(1)12 b Ft(\))300 3605 y Fv(qual)314
b FB(!)113 b Fv(p)-5 b(at)33 b FD(<-)22 b Fv(exp)1403
b Ft(\()p FI(generator)s Ft(\))806 3717 y FB(j)147 b
FD(let)22 b Fv(de)-5 b(cls)1443 b Ft(\()p FI(local)25
b(declaration)s Ft(\))806 3830 y FB(j)147 b Fv(exp)1685
b Ft(\()p FI(guard)r Ft(\))300 4121 y FI(A)22 b FJ(list)i(compr)m
(ehension)j FI(has)d(the)g(form)f FD([)g Fv(e)29 b FD(|)22
b Fv(q)1842 4135 y Fu(1)1891 4121 y FD(,)38 b Fq(:)15
b(:)g(:)h FD(,)22 b Fv(q)2224 4135 y Fu(n)2297 4121 y
FD(])o Fq(;)15 b Fv(n)33 b FB(\025)25 b Fv(1)12 b Fq(;)24
b FI(where)f(the)h Fv(q)3098 4135 y Fu(i)3153 4121 y
FI(quali\002ers)h(are)f(either)436 4387 y FB(\017)46
b FJ(g)o(ener)o(ator)o(s)31 b FI(of)c(the)h(form)f Fv(p)i
FD(<-)22 b Fv(e)6 b FI(,)28 b(where)f Fv(p)33 b FI(is)27
b(a)g(pattern)j(\(see)e(Section)g(3.17\))g(of)f(type)h
Fv(t)36 b FI(and)28 b Fv(e)33 b FI(is)27 b(an)527 4500
y(e)o(xpression)f(of)e(type)g FD([)p Fv(t)9 b FD(])436
4686 y FB(\017)46 b FJ(guar)m(ds)p FI(,)25 b(which)f(are)g(arbitrary)h
(e)o(xpressions)i(of)c(type)i FD(Bool)436 4873 y FB(\017)46
b FJ(local)20 b(bindings)i FI(that)d(pro)o(vide)h(ne)n(w)f
(de\002nitions)i(for)e(use)g(in)g(the)g(generated)j(e)o(xpression)f
Fv(e)k FI(or)19 b(subsequent)527 4986 y(guards)25 b(and)f(generators.)
300 5252 y(Such)29 b(a)g(list)g(comprehension)k(returns)d(the)g(list)f
(of)g(elements)i(produced)g(by)e(e)n(v)n(aluating)j Fv(e)j
FI(in)29 b(the)g(successi)n(v)o(e)300 5365 y(en)l(vironments)39
b(created)f(by)d(the)h(nested,)k(depth-\002rst)e(e)n(v)n(aluation)g(of)
e(the)g(generators)i(in)e(the)g(quali\002er)h(list.)p
eop
%%Page: 24 38
24 37 bop 0 100 a FI(24)2353 b FE(CHAPTER)20 b(3.)51
b(EXPRESSIONS)0 356 y FI(Binding)26 b(of)f(v)n(ariables)i(occurs)g
(according)h(to)d(the)g(normal)h(pattern)h(matching)f(rules)g(\(see)g
(Section)g(3.17\),)g(and)0 469 y(if)d(a)g(match)h(f)o(ails)h(then)f
(that)g(element)h(of)e(the)h(list)g(is)f(simply)h(skipped)i(o)o(v)o(er)
-5 b(.)29 b(Thus:)141 652 y FD([)54 b(x)g(|)109 b(xs)163
b(<-)53 b([)h([\(1,2\),\(3,4\)],)49 b([\(5,4\),\(3,2\)])f(],)468
765 y(\(3,x\))53 b(<-)g(xs)h(])0 945 y FI(yields)31 b(the)f(list)g
FD([4,2])m FI(.)46 b(If)29 b(a)g(quali\002er)i(is)e(a)h(guard,)h(it)f
(must)f(e)n(v)n(aluate)i(to)f FD(True)d FI(for)i(the)h(pre)n(vious)i
(pattern)0 1058 y(match)25 b(to)g(succeed.)35 b(As)24
b(usual,)i(bindings)h(in)e(list)g(comprehensions)k(can)c(shado)n(w)h
(those)g(in)f(outer)h(scopes;)h(for)0 1171 y(e)o(xample:)509
1354 y FD([)54 b(x)g(|)g(x)g(<-)g(x,)g(x)g(<-)f(x)h(])83
b Ft(=)g FD([)54 b(z)g(|)g(y)g(<-)g(x,)f(z)h(<-)g(y])p
15 1532 3548 4 v 15 3146 4 1615 v 66 1661 a FF(T)-7 b(ranslation:)93
b FI(List)22 b(comprehensions)k(satisfy)d(these)g(identities,)h(which)f
(may)e(be)h(used)h(as)f(a)g(translation)66 1774 y(into)i(the)g(k)o
(ernel:)468 1924 y FD([)77 b Fv(e)61 b FD(|)54 b(True)f(])439
b FI(=)100 b FD([)p Fv(e)7 b FD(])468 2037 y([)77 b Fv(e)61
b FD(|)54 b Fv(q)63 b FD(])607 b FI(=)100 b FD([)45 b
Fv(e)29 b FD(|)23 b Fv(q)8 b FD(,)54 b(True)e(])468 2150
y([)77 b Fv(e)61 b FD(|)54 b Fv(b)6 b FD(,)45 b Fv(Q)54
b FD(])440 b FI(=)100 b FD(if)22 b Fv(b)28 b FD(then)21
b([)77 b Fv(e)61 b FD(|)54 b Fv(Q)63 b FD(])22 b(else)53
b([])468 2263 y([)77 b Fv(e)61 b FD(|)54 b Fv(p)29 b
FD(<-)22 b Fv(l)9 b FD(,)46 b Fv(Q)63 b FD(])239 b FI(=)100
b FD(let)53 b(ok)22 b Fv(p)29 b FD(=)22 b([)77 b Fv(e)61
b FD(|)54 b Fv(Q)63 b FD(])1948 2376 y(ok)54 b(_)g(=)g([])1730
2489 y(in)g(concatMap)c(ok)45 b Fv(l)468 2602 y FD([)77
b Fv(e)61 b FD(|)54 b(let)22 b Fv(de)-5 b(cls)7 b FD(,)46
b Fv(Q)63 b FD(])99 b FI(=)h FD(let)21 b Fv(de)-5 b(cls)31
b FD(in)22 b([)77 b Fv(e)61 b FD(|)54 b Fv(Q)63 b FD(])66
2782 y FI(where)22 b Fv(e)28 b FI(ranges)c(o)o(v)o(er)e(e)o
(xpressions,)j Fv(p)i FI(o)o(v)o(er)c(patterns,)h Fv(l)31
b FI(o)o(v)o(er)22 b(list-v)n(alued)i(e)o(xpressions,)i
Fv(b)g FI(o)o(v)o(er)d(boolean)66 2895 y(e)o(xpressions,)29
b Fv(de)-5 b(cls)34 b FI(o)o(v)o(er)26 b(declaration)j(lists,)f
Fv(q)33 b FI(o)o(v)o(er)26 b(quali\002ers,)i(and)f Fv(Q)33
b FI(o)o(v)o(er)26 b(sequences)j(of)d(quali\002ers.)66
3007 y FD(ok)d FI(is)h(a)h(fresh)g(v)n(ariable.)34 b(The)25
b(function)i FD(concatMap)l FI(,)d(and)h(boolean)h(v)n(alue)g
FD(True)n FI(,)e(are)h(de\002ned)h(in)e(the)66 3120 y(Prelude.)p
3559 3146 V 15 3149 3548 4 v 0 3394 a(As)d(indicated)j(by)e(the)g
(translation)j(of)d(list)g(comprehensions,)k(v)n(ariables)e(bound)g(by)
d FD(let)f FI(ha)n(v)o(e)j(fully)f(polymor)n(-)0 3507
y(phic)32 b(types)h(while)f(those)g(de\002ned)h(by)e
FD(<-)f FI(are)i(lambda)g(bound)h(and)f(are)g(thus)g(monomorphic)i
(\(see)e(Section)0 3620 y(4.5.4\).)0 3985 y FC(3.12)119
b(Let)29 b(Expr)n(essions)0 4268 y Fv(exp)344 b FB(!)113
b FD(let)22 b Fv(de)-5 b(cls)31 b FD(in)21 b Fv(exp)0
4535 y FJ(Let)41 b(e)n(xpr)m(essions)k FI(ha)n(v)o(e)d(the)g(general)h
(form)f FD(let)53 b({)22 b Fv(d)1845 4549 y Fu(1)1918
4535 y FD(;)37 b Fq(:)15 b(:)g(:)39 b FD(;)22 b Fv(d)2277
4549 y Fu(n)2350 4535 y FD(})54 b(in)22 b Fv(e)7 b FI(,)45
b(and)d(introduce)i(a)d(nested,)0 4648 y(le)o(xically-scoped,)30
b(mutually-recursi)n(v)o(e)f(list)c(of)g(declarations)j(\()p
FD(let)23 b FI(is)i(often)h(called)g FD(letrec)21 b FI(in)k(other)h
(lan-)0 4761 y(guages\).)j(The)19 b(scope)i(of)f(the)f(declarations)k
(is)d(the)f(e)o(xpression)k Fv(e)i FI(and)20 b(the)g(right)g(hand)h
(side)f(of)f(the)h(declarations.)0 4874 y(Declarations)30
b(are)d(described)j(in)d(Chapter)h(4.)40 b(P)o(attern)27
b(bindings)j(are)d(matched)i(lazily;)h(an)d(implicit)i
FD(\230)d FI(mak)o(es)0 4987 y(these)f(patterns)g(irrefutable.)32
b(F)o(or)22 b(e)o(xample,)141 5176 y FD(let)53 b(\(x,y\))g(=)h
(undefined)c(in)k Fv(e)0 5365 y FI(does)24 b(not)g(cause)h(an)e(e)o(x)o
(ecution-time)k(error)d(until)h FD(x)d FI(or)h FD(y)g
FI(is)g(e)n(v)n(aluated.)p eop
%%Page: 25 39
25 38 bop 300 100 a FE(3.13.)52 b(CASE)21 b(EXPRESSIONS)2416
b FI(25)p 315 268 3548 4 v 315 1573 4 1306 v 366 396
a FF(T)-7 b(ranslation:)85 b Fn(The)18 b(dynamic)e(semantics)i(of)g
(the)g(e)o(xpression)e Fp(let)49 b({)21 b Fm(d)2617 408
y Fl(1)2685 396 y Fp(;)34 b Fk(:)14 b(:)g(:)35 b Fp(;)20
b Fm(d)3013 408 y Fl(n)3082 396 y Fp(})50 b(in)20 b Fm(e)3340
408 y Fl(0)3406 396 y Fn(are)e(captured)366 496 y(by)i(this)i
(translation:)k(After)20 b(remo)o(ving)f(all)i(type)f(signatures,)g
(each)h(declaration)e Fm(d)2801 508 y Fl(i)2854 496 y
Fn(is)j(translated)e(into)h(an)f(equation)366 596 y(of)25
b(the)g(form)f Fm(p)817 608 y Fl(i)869 596 y Fp(=)d Fm(e)978
608 y Fl(i)1009 596 y Fn(,)26 b(where)f Fm(p)1327 608
y Fl(i)1384 596 y Fn(and)f Fm(e)1567 608 y Fl(i)1624
596 y Fn(are)h(patterns)g(and)f(e)o(xpressions)g(respecti)n(v)o(ely)-5
b(,)25 b(using)f(the)h(translation)g(in)366 695 y(Section)20
b(4.4.3.)j(Once)d(done,)f(these)h(identities)h(hold,)e(which)g(may)h
(be)g(used)g(as)h(a)g(translation)e(into)h(the)g(k)o(ernel:)475
863 y Fp(let)49 b({)p Fm(p)766 875 y Fl(1)813 863 y Fp(=)p
Fm(e)901 875 y Fl(1)948 863 y Fp(;)70 b Fn(...)25 b Fp(;)50
b Fm(p)1298 875 y Fl(n)1346 863 y Fp(=)p Fm(e)1434 875
y Fl(n)1482 863 y Fp(})f(in)21 b Fm(e)1740 875 y Fl(0)1886
863 y Fn(=)100 b Fp(let)49 b(\(\230)p Fm(p)2374 875 y
Fl(1)2421 863 y Fp(,)21 b Fn(...)k Fp(,\230)o Fm(p)2721
875 y Fl(n)2769 863 y Fp(\))50 b(=)f(\()p Fm(e)3056 875
y Fl(1)3103 863 y Fp(,)21 b Fn(...)k Fp(,)p Fm(e)3350
875 y Fl(n)3398 863 y Fp(\))49 b(in)21 b Fm(e)3656 875
y Fl(0)475 962 y Fp(let)49 b Fm(p)55 b Fp(=)50 b Fm(e)909
974 y Fl(1)1027 962 y Fp(in)70 b Fm(e)1235 974 y Fl(0)1886
962 y Fn(=)100 b Fp(case)49 b Fm(e)2320 974 y Fl(1)2417
962 y Fp(of)g(\230)p Fm(p)55 b Fp(->)50 b Fm(e)2901 974
y Fl(0)2033 1062 y Fn(where)19 b(no)h(v)n(ariable)f(in)i
Fm(p)26 b Fn(appears)19 b(free)h(in)g Fm(e)3347 1074
y Fl(1)475 1162 y Fp(let)49 b Fm(p)55 b Fp(=)50 b Fm(e)909
1174 y Fl(1)1027 1162 y Fp(in)70 b Fm(e)1235 1174 y Fl(0)1886
1162 y Fn(=)100 b Fp(let)49 b Fm(p)56 b Fp(=)49 b(fix)g(\()h(\\)g(\230)
o Fm(p)56 b Fp(->)49 b Fm(e)3162 1174 y Fl(1)3209 1162
y Fp(\))h(in)20 b Fm(e)3467 1174 y Fl(0)366 1331 y Fn(where)c
Fp(fix)h Fn(is)h(the)f(least)h(\002xpoint)e(operator)-5
b(.)22 b(Note)17 b(the)g(use)g(of)g(the)g(irrefutable)e(patterns)h
Fp(\230)p Fm(p)6 b Fn(.)24 b(This)17 b(translation)f(does)366
1431 y(not)24 b(preserv)o(e)e(the)i(static)h(semantics)f(because)f(the)
h(use)g(of)g Fp(case)g Fn(precludes)f(a)h(fully)g(polymorphic)c(typing)
j(of)h(the)366 1530 y(bound)15 b(v)n(ariables.)23 b(The)16
b(static)h(semantics)g(of)f(the)h(bindings)e(in)i(a)g
Fp(let)f Fn(e)o(xpression)f(are)i(described)e(in)i(Section)f(4.4.3.)p
3859 1573 V 315 1576 3548 4 v 300 1933 a FC(3.13)119
b(Case)29 b(Expr)n(essions)300 2223 y Fv(exp)344 b FB(!)113
b FD(case)21 b Fv(exp)29 b FD(of)22 b({)g Fv(alts)31
b FD(})300 2336 y Fv(alts)338 b FB(!)113 b Fv(alt)1077
2350 y Fu(1)1150 2336 y FD(;)38 b Fq(:)15 b(:)g(:)39
b FD(;)22 b Fv(alt)1563 2350 y Fu(n)2793 2336 y Ft(\()p
Fv(n)32 b FB(\025)25 b Fv(1)12 b Ft(\))300 2448 y Fv(alt)375
b FB(!)113 b Fv(p)-5 b(at)33 b FD(->)22 b Fv(exp)29 b
Ft([)p FD(where)20 b Fv(de)-5 b(cls)7 b Ft(])806 2561
y FB(j)147 b Fv(p)-5 b(at)33 b(gdp)-5 b(at)33 b Ft([)p
FD(where)21 b Fv(de)-5 b(cls)7 b Ft(])806 2674 y FB(j)1962
b Ft(\()p Fv(empty)32 b(alternative)7 b Ft(\))300 2900
y Fv(gdp)-5 b(at)269 b FB(!)113 b Fv(gd)33 b FD(->)21
b Fv(exp)29 b Ft([)23 b Fv(gdp)-5 b(at)33 b Ft(])300
3013 y Fv(gd)386 b FB(!)113 b FD(|)22 b Fv(exp)1191 2980
y Fu(0)300 3306 y FI(A)g FJ(case)j(e)n(xpr)m(ession)h
FI(has)e(the)g(general)h(form)1193 3508 y FD(case)c Fv(e)29
b FD(of)54 b({)g Fv(p)1824 3522 y Fu(1)1897 3508 y Fv(match)2135
3522 y Fu(1)2208 3508 y FD(;)38 b Fq(:)15 b(:)g(:)39
b FD(;)22 b Fv(p)2568 3522 y Fu(n)2641 3508 y Fv(match)2879
3522 y Fu(n)2952 3508 y FD(})300 3710 y FI(where)i(each)g
Fv(match)972 3724 y Fu(i)1029 3710 y FI(is)f(of)g(the)h(general)h(form)
1842 3906 y FD(|)e Fv(g)1962 3920 y Fu(i1)2156 3906 y
FD(->)f Fv(e)2330 3920 y Fu(i1)1842 4019 y Fq(:)15 b(:)g(:)1842
4132 y FD(|)23 b Fv(g)1962 4146 y Fu(im)2042 4156 y Fi(i)2156
4132 y FD(->)f Fv(e)2330 4146 y Fu(im)2410 4156 y Fi(i)1842
4245 y FD(where)f Fv(de)-5 b(cls)2323 4259 y Fu(i)300
4445 y FI(\(Notice)29 b(that)g(in)f(the)g(syntax)i(rule)f(for)f
Fv(gd)10 b FI(,)28 b(the)h(\223)p FD(|)p FI(\224)f(is)g(a)f(terminal)j
(symbol,)g(not)e(the)h(syntactic)i(metasymbol)300 4558
y(for)26 b(alternation.\))38 b(Each)26 b(alternati)n(v)o(e)i
Fv(p)1565 4572 y Fu(i)1620 4558 y Fv(match)1858 4572
y Fu(i)1917 4558 y FI(consists)g(of)d(a)g(pattern)j Fv(p)2719
4572 y Fu(i)2776 4558 y FI(and)f(its)e(matches,)i Fv(match)3627
4572 y Fu(i)3661 4558 y FI(.)34 b(Each)300 4671 y(match)23
b(in)f(turn)h(consists)i(of)d(a)g(sequence)j(of)d(pairs)i(of)e(guards)i
Fv(g)2327 4685 y Fu(ij)2406 4671 y FI(and)f(bodies)h
Fv(e)2860 4685 y Fu(ij)2939 4671 y FI(\(e)o(xpressions\),)i(follo)n
(wed)d(by)300 4783 y(optional)31 b(bindings)g(\()p Fv(de)-5
b(cls)1182 4797 y Fu(i)1215 4783 y FI(\))28 b(that)i(scope)f(o)o(v)o
(er)g(all)g(of)f(the)h(guards)h(and)g(e)o(xpressions)h(of)e(the)g
(alternati)n(v)o(e.)46 b(An)300 4896 y(alternati)n(v)o(e)26
b(of)d(the)h(form)1635 5009 y Fv(p)-5 b(at)33 b FD(->)22
b Fv(exp)29 b FD(where)20 b Fv(de)-5 b(cls)300 5175 y
FI(is)23 b(treated)i(as)f(shorthand)i(for:)1727 5264
y Fv(p)-5 b(at)33 b FD(|)54 b(True)82 b(->)21 b Fv(exp)1727
5376 y FD(where)g Fv(de)-5 b(cls)p eop
%%Page: 26 40
26 39 bop 0 100 a FI(26)2353 b FE(CHAPTER)20 b(3.)51
b(EXPRESSIONS)0 356 y FI(A)32 b(case)h(e)o(xpression)j(must)d(ha)n(v)o
(e)h(at)f(least)g(one)h(alternati)n(v)o(e)h(and)e(each)h(alternati)n(v)
o(e)h(must)e(ha)n(v)o(e)h(at)f(least)h(one)0 469 y(body)-6
b(.)30 b(Each)23 b(body)i(must)e(ha)n(v)o(e)i(the)e(same)h(type,)g(and)
g(the)g(type)g(of)f(the)h(whole)g(e)o(xpression)i(is)e(that)g(type.)0
654 y(A)g(case)i(e)o(xpression)i(is)e(e)n(v)n(aluated)h(by)f(pattern)h
(matching)g(the)e(e)o(xpression)k Fv(e)i FI(against)c(the)e(indi)n
(vidual)j(alterna-)0 767 y(ti)n(v)o(es.)51 b(The)30 b(alternati)n(v)o
(es)k(are)d(tried)g(sequentially)-6 b(,)36 b(from)31
b(top)g(to)g(bottom.)51 b(If)31 b Fv(e)37 b FI(matches)32
b(the)f(pattern)h(in)f(the)0 880 y(alternati)n(v)o(e,)38
b(the)c(guards)h(for)f(that)g(alternati)n(v)o(e)h(are)f(tried)g
(sequentially)j(from)d(top)g(to)f(bottom,)k(in)c(the)h(en)l(vi-)0
993 y(ronment)e(of)e(the)h(case)g(e)o(xpression)j(e)o(xtended)e
(\002rst)e(by)h(the)g(bindings)i(created)f(during)g(the)f(matching)h
(of)f(the)0 1106 y(pattern,)g(and)d(then)h(by)g(the)f
Fv(de)-5 b(cls)1088 1120 y Fu(i)1149 1106 y FI(in)28
b(the)h FD(where)c FI(clause)k(associated)i(with)d(that)h(alternati)n
(v)o(e.)45 b(If)28 b(one)h(of)f(the)0 1219 y(guards)f(e)n(v)n(aluates)h
(to)e FD(True)n FI(,)g(the)g(corresponding)k(right-hand)f(side)d(is)g
(e)n(v)n(aluated)i(in)e(the)g(same)g(en)l(vironment)0
1331 y(as)g(the)h(guard.)39 b(If)27 b(all)f(the)h(guards)h(e)n(v)n
(aluate)g(to)f FD(False)n FI(,)f(matching)i(continues)h(with)e(the)f
(ne)o(xt)h(alternati)n(v)o(e.)40 b(If)0 1444 y(no)27
b(match)g(succeeds,)j(the)d(result)h(is)f FB(?)o FI(.)38
b(P)o(attern)27 b(matching)i(is)d(described)k(in)c(Section)i(3.17,)g
(with)f(the)g(formal)0 1557 y(semantics)e(of)f(case)g(e)o(xpressions)i
(in)e(Section)g(3.17.3.)0 1742 y FJ(A)e(note)j(about)f(par)o(sing)o(.)
31 b FI(The)23 b(e)o(xpression)250 1927 y FD(case)53
b(x)h(of)g({)g(\(a,_\))e(|)i(let)f(b)h(=)g(not)g(a)g(in)f(b)h(::)g
(Bool)f(->)g(a)i(})0 2113 y FI(is)23 b(trick)o(y)i(to)e(parse)i
(correctly)-6 b(.)31 b(It)23 b(has)h(a)f(single)i(unambiguous)i(parse,)
d(namely)250 2298 y FD(case)53 b(x)h(of)g({)g(\(a,_\))e(|)i(\(let)f(b)h
(=)g(not)f(a)h(in)g(b)g(::)g(Bool\))e(->)i(a)g(})0 2483
y FI(Ho)n(we)n(v)o(er)l(,)28 b(the)g(phrase)i FD(Bool)52
b(->)i(a)26 b FI(is)i(syntactically)j(v)n(alid)e(as)f(a)f(type,)i(and)f
(parsers)i(with)d(limited)i(looka-)0 2596 y(head)i(may)f(incorrectly)k
(commit)c(to)g(this)h(choice,)i(and)e(hence)h(reject)f(the)g(program.)
50 b(Programmers)31 b(are)g(ad-)0 2709 y(vised,)26 b(therefore,)i(to)c
(a)n(v)n(oid)j(guards)g(that)e(end)h(with)e(a)h(type)h(signature)h
(\227)d(indeed)j(that)e(is)g(why)g(a)f Fv(gd)34 b FI(contains)0
2822 y(an)24 b Fv(exp)245 2789 y Fu(0)317 2822 y FI(not)g(an)f
Fv(exp)7 b FI(.)0 3181 y FC(3.14)119 b(Do)30 b(Expr)n(essions)0
3460 y Fv(exp)344 b FB(!)113 b FD(do)22 b({)g Fv(stmts)32
b FD(})1311 b Ft(\()p FI(do)24 b(e)o(xpression)s Ft(\))0
3573 y Fv(stmts)266 b FB(!)113 b Fv(stmt)849 3587 y Fu(1)937
3573 y Fq(:)15 b(:)g(:)39 b Fv(stmt)1252 3587 y Fu(n)1326
3573 y Fv(exp)29 b Ft([)p FD(;)o Ft(])904 b(\()p Fv(n)32
b FB(\025)25 b Fv(0)12 b Ft(\))0 3686 y Fv(stmt)303 b
FB(!)113 b Fv(exp)29 b FD(;)506 3799 y FB(j)147 b Fv(p)-5
b(at)33 b FD(<-)22 b Fv(exp)29 b FD(;)506 3912 y FB(j)147
b FD(let)22 b Fv(de)-5 b(cls)31 b FD(;)506 4025 y FB(j)147
b FD(;)1760 b Ft(\()p Fv(empty)32 b(statement)9 b Ft(\))0
4277 y FI(A)36 b FJ(do)h(e)n(xpr)m(ession)j FI(pro)o(vides)f(a)e(more)g
(con)l(v)o(entional)k(syntax)e(for)f(monadic)g(programming.)72
b(It)37 b(allo)n(ws)g(an)0 4390 y(e)o(xpression)26 b(such)f(as)250
4569 y FD(putStr)52 b("x:)h(")218 b(>>)250 4682 y(getLine)488
b(>>=)53 b(\\l)h(->)250 4795 y(return)e(\(words)g(l\))0
4971 y FI(to)23 b(be)h(written)g(in)g(a)f(more)g(traditional)k(w)o(ay)c
(as:)250 5151 y FD(do)54 b(putStr)e("x:)h(")414 5264
y(l)h(<-)g(getLine)414 5376 y(return)e(\(words)f(l\))p
eop
%%Page: 27 41
27 40 bop 300 100 a FE(3.15.)52 b(D)l(A)-10 b(T)i(A)e(TYPES)18
b(WITH)k(FIELD)g(LABELS)1869 b FI(27)p 315 488 3548 4
v 315 1912 4 1425 v 366 616 a FF(T)-7 b(ranslation:)93
b FI(Do)24 b(e)o(xpressions)k(satisfy)f(these)f(identities,)h(which)e
(may)g(be)g(used)h(as)f(a)f(translation)k(into)366 729
y(the)c(k)o(ernel,)g(after)h(eliminating)h(empty)e Fv(stmts)8
b FI(:)902 898 y FD(do)53 b({)p Fv(e)6 b FD(})756 b FI(=)100
b Fv(e)902 1011 y FD(do)53 b({)p Fv(e)6 b FD(;)p Fv(stmts)j
FD(})484 b FI(=)100 b Fv(e)30 b FD(>>)53 b(do)h({)o Fv(stmts)9
b FD(})902 1124 y(do)53 b({)p Fv(p)61 b FD(<-)53 b Fv(e)7
b FD(;)54 b Fv(stmts)8 b FD(})160 b FI(=)100 b FD(let)53
b(ok)h Fv(p)61 b FD(=)54 b(do)f({)p Fv(stmts)9 b FD(})2348
1237 y(ok)54 b(_)g(=)g(fail)f("...")2239 1350 y(in)h
Fv(e)61 b FD(>>=)53 b(ok)902 1463 y(do)g({let)21 b Fv(de)-5
b(cls)8 b FD(;)55 b Fv(stmts)8 b FD(})99 b FI(=)h FD(let)22
b Fv(de)-5 b(cls)31 b FD(in)53 b(do)h({)o Fv(stmts)9
b FD(})366 1642 y FI(The)22 b(ellipsis)i FD("...")c FI(stands)k(for)e
(a)g(compiler)n(-generated)28 b(error)23 b(message,)h(passed)g(to)e
FD(fail)n FI(,)g(preferably)366 1754 y(gi)n(ving)j(some)g(indication)i
(of)d(the)g(location)i(of)f(the)f(pattern-match)j(f)o(ailure;)g(the)d
(functions)j FD(>>)o FI(,)c FD(>>=)o FI(,)g(and)366 1867
y FD(fail)c FI(are)j(operations)j(in)d(the)g(class)h
FD(Monad)m FI(,)e(as)h(de\002ned)h(in)f(the)g(Prelude;)h(and)g
FD(ok)d FI(is)i(a)f(fresh)i(identi\002er)-5 b(.)p 3859
1912 V 315 1915 3548 4 v 300 2146 a(As)24 b(indicated)k(by)d(the)h
(translation)i(of)d FD(do)o FI(,)g(v)n(ariables)i(bound)g(by)e
FD(let)e FI(ha)n(v)o(e)j(fully)g(polymorphic)i(types)e(while)300
2259 y(those)f(de\002ned)f(by)g FD(<-)d FI(are)j(lambda)h(bound)g(and)f
(are)f(thus)i(monomorphic.)300 2619 y FC(3.15)119 b(Datatypes)29
b(with)i(Field)g(Labels)300 2898 y FI(A)23 b(datatype)j(declaration)h
(may)d(optionally)j(de\002ne)d(\002eld)g(labels)h(\(see)f(Section)h
(4.2.1\).)31 b(These)24 b(\002eld)g(labels)h(can)300
3011 y(be)k(used)h(to)f(construct,)j(select)f(from,)f(and)f(update)i
(\002elds)e(in)g(a)f(manner)i(that)g(is)f(independent)j(of)d(the)g(o)o
(v)o(erall)300 3124 y(structure)d(of)d(the)h(datatype.)300
3309 y(Dif)n(ferent)j(datatypes)i(cannot)f(share)f(common)g(\002eld)f
(labels)i(in)e(the)g(same)h(scope.)38 b(A)25 b(\002eld)h(label)h(can)g
(be)f(used)300 3422 y(at)21 b(most)h(once)g(in)f(a)g(constructor)-5
b(.)31 b(W)l(ithin)23 b(a)e(datatype,)j(ho)n(we)n(v)o(er)l(,)e(a)f
(\002eld)g(label)h(can)g(be)g(used)g(in)f(more)h(than)g(one)300
3535 y(constructor)33 b(pro)o(vided)f(the)f(\002eld)f(has)g(the)g(same)
g(typing)i(in)e(all)g(constructors.)52 b(T)-7 b(o)29
b(illustrate)j(the)f(last)f(point,)300 3648 y(consider:)550
3809 y FD(data)53 b(S)h(=)g(S1)g({)g(x)g(::)g(Int)f(})h(|)g(S2)g({)g(x)
g(::)f(Int)h(})163 b(--)53 b(OK)550 3921 y(data)g(T)h(=)g(T1)g({)g(y)g
(::)g(Int)f(})h(|)g(T2)g({)g(y)g(::)f(Bool)g(})109 b(--)53
b(BAD)300 4098 y FI(Here)23 b FD(S)g FI(is)g(le)o(gal)h(b)n(ut)g
FD(T)e FI(is)h(not,)h(because)h FD(y)e FI(is)g(gi)n(v)o(en)h
(inconsistent)j(typings)f(in)d(the)h(latter)-5 b(.)300
4414 y FG(3.15.1)99 b(Field)24 b(Selection)300 4661 y
Fv(aexp)298 b FB(!)113 b Fv(qvar)300 4913 y FI(Field)27
b(labels)h(are)f(used)g(as)g(selector)h(functions.)41
b(When)27 b(used)h(as)e(a)g(v)n(ariable,)j(a)e(\002eld)f(label)i(serv)o
(es)f(as)g(a)f(func-)300 5026 y(tion)35 b(that)h(e)o(xtracts)g(the)f
(\002eld)f(from)h(an)g(object.)63 b(Selectors)37 b(are)e(top)g(le)n(v)o
(el)g(bindings)i(and)e(so)g(the)o(y)g(may)f(be)300 5139
y(shado)n(wed)g(by)e(local)h(v)n(ariables)i(b)n(ut)d(cannot)i
(con\003ict)f(with)f(other)i(top)e(le)n(v)o(el)h(bindings)h(of)f(the)f
(same)g(name.)300 5252 y(This)27 b(shado)n(wing)h(only)g(af)n(fects)f
(selector)i(functions;)i(in)c(record)h(construction)i(\(Section)e
(3.15.2\))f(and)h(update)300 5365 y(\(Section)d(3.15.3\),)f(\002eld)f
(labels)i(cannot)g(be)f(confused)h(with)f(ordinary)i(v)n(ariables.)p
eop
%%Page: 28 42
28 41 bop 0 100 a FI(28)2353 b FE(CHAPTER)20 b(3.)51
b(EXPRESSIONS)p 15 268 3548 4 v 15 1012 4 745 v 66 397
a FF(T)-7 b(ranslation:)93 b FI(A)22 b(\002eld)i(label)g
Fv(f)42 b FI(introduces)27 b(a)c(selector)i(function)h(de\002ned)e(as:)
145 564 y Fv(f)74 b FD(x)99 b FI(=)h FD(case)52 b(x)j(of)e({)22
b Fv(C)1239 578 y Fu(1)1312 564 y Fv(p)1358 578 y Fu(11)1482
564 y Fq(:)15 b(:)g(:)39 b Fv(p)1672 579 y Fu(1k)1830
564 y FD(->)77 b Fv(e)2059 578 y Fu(1)2131 564 y FD(;)22
b Fq(:)15 b(:)g(:)24 b FD(;)e Fv(C)2479 578 y Fu(n)2551
564 y Fv(p)2597 578 y Fu(n1)2725 564 y Fq(:)15 b(:)g(:)39
b Fv(p)2915 579 y Fu(nk)3077 564 y FD(->)76 b Fv(e)3305
578 y Fu(n)3378 564 y FD(})66 744 y FI(where)26 b Fv(C)378
758 y Fu(1)465 744 y Fq(:)15 b(:)g(:)39 b Fv(C)674 758
y Fu(n)749 744 y FI(are)26 b(all)g(the)g(constructors)k(of)c(the)g
(datatype)i(containing)h(a)c(\002eld)h(labeled)h(with)f
Fv(f)19 b FI(,)25 b Fv(p)3453 758 y Fu(ij)66 857 y FI(is)h
FD(y)e FI(when)i Fv(f)45 b FI(labels)27 b(the)f Fv(j)13
b FI(th)26 b(component)i(of)e Fv(C)1631 871 y Fu(i)1689
857 y FI(or)f FD(_)g FI(otherwise,)j(and)e Fv(e)2469
871 y Fu(i)2527 857 y FI(is)g FD(y)e FI(when)i(some)g(\002eld)g(in)g
Fv(C)3479 871 y Fu(i)66 970 y FI(has)e(a)f(label)h(of)g
Fv(f)42 b FI(or)23 b FD(undefined)c FI(otherwise.)p 3559
1012 V 15 1015 3548 4 v 0 1350 a FG(3.15.2)99 b(Construction)26
b(Using)e(Field)h(Labels)0 1607 y Fv(aexp)298 b FB(!)113
b Fv(qc)-5 b(on)30 b FD({)23 b Fv(fbind)1157 1621 y Fu(1)1229
1607 y FD(,)37 b Fq(:)15 b(:)g(:)39 b FD(,)23 b Fv(fbind)1738
1621 y Fu(n)1810 1607 y FD(})628 b Ft(\()p FI(labeled)25
b(construction)5 b Fq(;)38 b Fv(n)32 b FB(\025)25 b Fv(0)12
b Ft(\))0 1720 y Fv(fbind)279 b FB(!)113 b Fv(qvar)33
b FD(=)22 b Fv(exp)0 2015 y FI(A)31 b(constructor)k(with)d(labeled)i
(\002elds)f(may)f(be)g(used)h(to)f(construct)i(a)e(v)n(alue)h(in)f
(which)h(the)f(components)j(are)0 2128 y(speci\002ed)27
b(by)e(name)g(rather)i(than)f(by)f(position.)36 b(Unlik)o(e)26
b(the)f(braces)i(used)f(in)f(declaration)j(lists,)e(these)g(are)g(not)0
2241 y(subject)d(to)e(layout;)j(the)d FD({)f FI(and)i
FD(})d FI(characters)24 b(must)d(be)g(e)o(xplicit.)30
b(\(This)21 b(is)g(also)h(true)g(of)f(\002eld)g(updates)i(and)e
(\002eld)0 2354 y(patterns.\))31 b(Construction)26 b(using)f(\002eld)f
(labels)g(is)g(subject)h(to)e(the)h(follo)n(wing)h(constraints:)136
2625 y FB(\017)46 b FI(Only)24 b(\002eld)f(labels)i(declared)h(with)d
(the)h(speci\002ed)h(constructor)h(may)e(be)f(mentioned.)136
2812 y FB(\017)46 b FI(A)23 b(\002eld)g(label)h(may)g(not)g(be)f
(mentioned)j(more)d(than)i(once.)136 3000 y FB(\017)46
b FI(Fields)24 b(not)g(mentioned)i(are)d(initialized)k(to)c
FB(?)p FI(.)136 3188 y FB(\017)46 b FI(A)26 b(compile-time)i(error)g
(occurs)g(when)f(an)o(y)f(strict)i(\002elds)f(\(\002elds)g(whose)g
(declared)i(types)f(are)e(pre\002x)o(ed)227 3301 y(by)e
FD(!)o FI(\))f(are)h(omitted)h(during)g(construction.)32
b(Strict)24 b(\002elds)g(are)f(discussed)k(in)c(Section)h(4.2.1.)0
3571 y(The)k(e)o(xpression)k FD(F)54 b({})o FI(,)29 b(where)h
FD(F)d FI(is)i(a)f(data)i(constructor)l(,)j(is)c(le)o(gal)g
FJ(whether)h(or)f(not)g FD(F)f FJ(was)h(declar)m(ed)h(with)0
3684 y(r)m(ecor)m(d)22 b(syntax)g FI(\(pro)o(vided)h
FD(F)c FI(has)i(no)g(strict)h(\002elds)e(\227)g(see)h(the)g(third)h(b)n
(ullet)g(abo)o(v)o(e\);)h(it)d(denotes)j FD(F)f FB(?)3226
3698 y Fu(1)3313 3684 y Fq(:)15 b(:)g(:)39 b FB(?)3528
3698 y Fu(n)3577 3684 y FI(,)0 3797 y(where)24 b Fv(n)30
b FI(is)23 b(the)h(arity)g(of)g FD(F)o FI(.)p 15 4011
V 15 5042 4 1031 v 66 4140 a FF(T)-7 b(ranslation:)93
b FI(In)23 b(the)h(binding)i Fv(f)42 b FD(=)22 b Fv(v)10
b FI(,)22 b(the)i(\002eld)f Fv(f)42 b FI(labels)25 b
Fv(v)9 b FI(.)425 4309 y Fv(C)36 b FD({)22 b Fv(bs)30
b FD(})100 b FI(=)g Fv(C)35 b Ft(\()p Fv(pick)1321 4276
y Fu(C)1311 4332 y(1)1409 4309 y Fv(bs)30 b FD(undefined)l
Ft(\))38 b Fq(:)15 b(:)g(:)39 b Ft(\()p Fv(pick)2429
4276 y Fu(C)2419 4335 y(k)2517 4309 y Fv(bs)30 b FD(undefined)l
Ft(\))66 4489 y FI(where)24 b Fv(k)32 b FI(is)23 b(the)h(arity)h(of)e
Fv(C)13 b FI(.)66 4602 y(The)23 b(auxiliary)j(function)g
Fv(pick)1070 4569 y Fu(C)1060 4626 y(i)1157 4602 y Fv(bs)k(d)j
FI(is)23 b(de\002ned)h(as)g(follo)n(ws:)293 4790 y(If)g(the)h
Fv(i)9 b FI(th)25 b(component)h(of)f(a)f(constructor)k
Fv(C)36 b FI(has)25 b(the)g(\002eld)f(label)i Fv(f)19
b FI(,)24 b(and)h(if)f Fv(f)44 b Ft(=)25 b Fv(v)33 b
FI(appears)293 4902 y(in)27 b(the)h(binding)h(list)f
Fv(bs)7 b FI(,)28 b(then)g Fv(pick)1458 4870 y Fu(C)1448
4926 y(i)1545 4902 y Fv(bs)i(d)36 b FI(is)27 b Fv(v)10
b FI(.)39 b(Otherwise,)29 b Fv(pick)2529 4870 y Fu(C)2519
4926 y(i)2616 4902 y Fv(bs)h(d)37 b FI(is)27 b(the)h(def)o(ault)293
5015 y(v)n(alue)d Fv(d)9 b FI(.)p 3559 5042 V 15 5045
3548 4 v eop
%%Page: 29 43
29 42 bop 300 100 a FE(3.15.)52 b(D)l(A)-10 b(T)i(A)e(TYPES)18
b(WITH)k(FIELD)g(LABELS)1869 b FI(29)300 356 y FG(3.15.3)99
b(Updates)25 b(Using)g(Field)g(Labels)300 613 y Fv(aexp)298
b FB(!)113 b Fv(aexp)1154 632 y Fs(h)p Fu(qc)l(on)5 b
Fs(i)1381 613 y FD({)22 b Fv(fbind)1653 627 y Fu(1)1725
613 y FD(,)38 b Fq(:)15 b(:)g(:)39 b FD(,)22 b Fv(fbind)2234
627 y Fu(n)2307 613 y FD(})431 b Ft(\()p FI(labeled)25
b(update)s Fq(;)38 b Fv(n)32 b FB(\025)25 b Fv(1)12 b
Ft(\))300 909 y FI(V)-10 b(alues)33 b(belonging)j(to)d(a)f(datatype)j
(with)e(\002eld)f(labels)i(may)f(be)g(non-destructi)n(v)o(ely)k
(updated.)59 b(This)33 b(creates)300 1022 y(a)g(ne)n(w)g(v)n(alue)h(in)
g(which)f(the)h(speci\002ed)h(\002eld)e(v)n(alues)i(replace)g(those)g
(in)e(the)h(e)o(xisting)h(v)n(alue.)59 b(Updates)35 b(are)300
1135 y(restricted)26 b(in)d(the)h(follo)n(wing)h(w)o(ays:)436
1405 y FB(\017)46 b FI(All)23 b(labels)i(must)f(be)f(tak)o(en)i(from)e
(the)h(same)g(datatype.)436 1593 y FB(\017)46 b FI(At)23
b(least)h(one)g(constructor)j(must)d(de\002ne)f(all)h(of)g(the)f
(labels)i(mentioned)h(in)d(the)h(update.)436 1781 y FB(\017)46
b FI(No)23 b(label)i(may)e(be)g(mentioned)j(more)d(than)i(once.)436
1968 y FB(\017)46 b FI(An)24 b(e)o(x)o(ecution)i(error)f(occurs)h(when)
f(the)f(v)n(alue)h(being)h(updated)g(does)g(not)e(contain)i(all)f(of)f
(the)h(speci\002ed)527 2081 y(labels.)p 315 2276 3548
4 v 315 3404 4 1128 v 366 2405 a FF(T)-7 b(ranslation:)93
b FI(Using)24 b(the)g(prior)g(de\002nition)h(of)f Fv(pick)10
b FI(,)516 2574 y Fv(e)29 b FD({)22 b Fv(bs)30 b FD(})100
b FI(=)f FD(case)21 b Fv(e)30 b FD(of)1515 2694 y Fv(C)1580
2708 y Fu(1)1652 2694 y Fv(v)1694 2708 y Fu(1)1781 2694
y Fq(:)15 b(:)g(:)39 b Fv(v)1967 2709 y Fu(k)2000 2718
y Fi(1)2067 2694 y FD(->)22 b Fv(C)2264 2708 y Fu(1)2336
2694 y Ft(\()p Fv(pick)2539 2654 y Fu(C)2590 2663 y Fi(1)2529
2719 y Fu(1)2658 2694 y Fv(bs)30 b(v)2809 2708 y Fu(1)2859
2694 y Ft(\))38 b Fq(:)15 b(:)g(:)39 b Ft(\()p Fv(pick)3279
2654 y Fu(C)3330 2663 y Fi(1)3269 2722 y Fu(k)3302 2731
y Fi(1)3398 2694 y Fv(bs)30 b(v)3549 2709 y Fu(k)3582
2718 y Fi(1)3626 2694 y Ft(\))1756 2811 y FI(...)1515
2941 y Fv(C)1580 2955 y Fu(j)1638 2941 y Fv(v)1680 2955
y Fu(1)1767 2941 y Fq(:)15 b(:)g(:)39 b Fv(v)1953 2956
y Fu(k)1986 2966 y Fi(j)2042 2941 y FD(->)22 b Fv(C)2239
2955 y Fu(j)2298 2941 y Ft(\()p Fv(pick)2501 2890 y Fu(C)2552
2900 y Fi(j)2491 2965 y Fu(1)2608 2941 y Fv(bs)30 b(v)2759
2955 y Fu(1)2809 2941 y Ft(\))38 b Fq(:)15 b(:)g(:)39
b Ft(\()p Fv(pick)3229 2890 y Fu(C)3280 2900 y Fi(j)3219
2969 y Fu(k)3252 2979 y Fi(j)3336 2941 y Fv(bs)31 b(v)3488
2956 y Fu(k)3521 2966 y Fi(j)3554 2941 y Ft(\))1515 3067
y FD(_)54 b(->)g(error)e("Update)f(error")366 3252 y
FI(where)27 b FB(f)p Fv(C)724 3266 y Fu(1)774 3252 y
Fq(;)15 b(:)g(:)g(:)h(;)f Fv(C)1040 3266 y Fu(j)1076
3252 y FB(g)26 b FI(is)h(the)f(set)h(of)f(constructors)k(containing)g
(all)c(labels)i(in)e Fv(bs)8 b FI(,)26 b(and)h Fv(k)3263
3266 y Fu(i)3320 3252 y FI(is)g(the)f(arity)i(of)366
3365 y Fv(C)431 3379 y Fu(i)463 3365 y FI(.)p 3859 3404
V 315 3407 3548 4 v 300 3701 a(Here)23 b(are)h(some)g(e)o(xamples)g
(using)h(labeled)g(\002elds:)441 3891 y FD(data)53 b(T)218
b(=)54 b(C1)f({f1,f2)f(::)i(Int})987 4004 y(|)g(C2)f({f1)g(::)h(Int,)
1314 4117 y(f3,f4)e(::)i(Char})p 300 4254 3745 4 v 298
4367 4 113 v 350 4333 a FI(Expression)p 2089 4367 V 1389
w(T)m(ranslation)p 4043 4367 V 300 4370 3745 4 v 298
4483 4 113 v 350 4449 a FD(C1)f({f1)h(=)g(3})p 2089 4483
V 1189 w(C1)g(3)g(undefined)p 4043 4483 V 298 4596 V
350 4562 a(C2)f({f1)h(=)g(1,)f(f4)h(=)g('A',)f(f3)g(=)i('B'})p
2089 4596 V 97 w(C2)f(1)g('B')f('A')p 4043 4596 V 298
4709 V 350 4675 a(x)h({f1)f(=)h(1})p 2089 4709 V 1244
w(case)f(x)h(of)g(C1)f(_)i(f2)217 b(->)53 b(C1)h(1)g(f2)p
4043 4709 V 298 4822 V 2089 4822 V 2686 4788 a(C2)f(_)i(f3)e(f4)h(->)f
(C2)h(1)g(f3)g(f4)p 4043 4822 V 300 4825 3745 4 v 300
4949 a FI(The)27 b(\002eld)g FD(f1)f FI(is)h(common)g(to)g(both)i
(constructors)h(in)e(T)-7 b(.)26 b(This)h(e)o(xample)h(translates)i(e)o
(xpressions)g(using)e(con-)300 5062 y(structors)22 b(in)f
(\002eld-label)h(notation)g(into)f(equi)n(v)n(alent)h(e)o(xpressions)h
(using)f(the)e(same)g(constructors)k(without)d(\002eld)300
5175 y(labels.)41 b(A)26 b(compile-time)k(error)e(will)f(result)h(if)f
(no)g(single)i(constructor)i(de\002nes)d(the)f(set)h(of)f(\002eld)g
(labels)h(used)300 5288 y(in)23 b(an)h(update,)h(such)f(as)g
FD(x)54 b({f2)f(=)h(1,)g(f3)f(=)h('x'})o FI(.)p eop
%%Page: 30 44
30 43 bop 0 100 a FI(30)2353 b FE(CHAPTER)20 b(3.)51
b(EXPRESSIONS)0 356 y FC(3.16)119 b(Expr)n(ession)29
b(T)-9 b(ype-Signatur)n(es)0 646 y Fv(exp)344 b FB(!)113
b Fv(exp)29 b FD(::)22 b Ft([)p Fv(c)-5 b(ontext)33 b
FD(=>)o Ft(])23 b Fv(typ)-5 b(e)0 942 y FJ(Expr)m(ession)34
b(type-signatur)m(es)i FI(ha)n(v)o(e)c(the)g(form)g Fv(e)d
FD(::)22 b Fv(t)9 b FI(,)33 b(where)f Fv(e)37 b FI(is)32
b(an)f(e)o(xpression)k(and)d Fv(t)40 b FI(is)31 b(a)h(type)g(\(Sec-)0
1054 y(tion)f(4.1.2\);)j(the)o(y)d(are)f(used)h(to)f(type)h(an)g(e)o
(xpression)i(e)o(xplicitly)f(and)f(may)f(be)g(used)h(to)f(resolv)o(e)i
(ambiguous)0 1167 y(typings)d(due)e(to)g(o)o(v)o(erloading)j(\(see)e
(Section)g(4.3.4\).)39 b(The)27 b(v)n(alue)h(of)f(the)g(e)o(xpression)i
(is)e(just)h(that)f(of)g Fv(exp)7 b FI(.)38 b(As)0 1280
y(with)31 b(normal)g(type)h(signatures)h(\(see)f(Section)f(4.4.1\),)i
(the)e(declared)i(type)f(may)e(be)h(more)g(speci\002c)g(than)h(the)0
1393 y(principal)d(type)f(deri)n(v)n(able)g(from)f Fv(exp)6
b FI(,)26 b(b)n(ut)i(it)e(is)h(an)f(error)i(to)f(gi)n(v)o(e)f(a)h(type)
g(that)g(is)g(more)g(general)h(than,)g(or)f(not)0 1506
y(comparable)f(to,)d(the)h(principal)i(type.)p 15 1695
3548 4 v 15 2026 4 332 v 66 1824 a FF(T)-7 b(ranslation:)933
1967 y Fv(e)29 b FD(::)22 b Fv(t)108 b FI(=)100 b FD(let)53
b({)23 b Fv(v)32 b FD(::)22 b Fv(t)9 b FD(;)76 b Fv(v)33
b FD(=)22 b Fv(e)29 b FD(})54 b(in)g Fv(v)p 3559 2026
V 15 2029 3548 4 v 0 2387 a FC(3.17)119 b(P)o(atter)n(n)30
b(Matching)0 2677 y FJ(P)-7 b(atterns)26 b FI(appear)g(in)e(lambda)i
(abstractions,)i(function)f(de\002nitions,)f(pattern)g(bindings,)h
(list)e(comprehensions,)0 2790 y(do)h(e)o(xpressions,)j(and)d(case)h(e)
o(xpressions.)38 b(Ho)n(we)n(v)o(er)l(,)26 b(the)h(\002rst)e(\002)n(v)o
(e)g(of)g(these)i(ultimately)h(translate)g(into)f(case)0
2903 y(e)o(xpressions,)f(so)e(de\002ning)h(the)e(semantics)j(of)d
(pattern)i(matching)g(for)f(case)g(e)o(xpressions)j(is)c(suf)n
(\002cient.)0 3235 y FG(3.17.1)99 b(P)o(atter)o(ns)0
3493 y FI(P)o(atterns)24 b(ha)n(v)o(e)g(this)h(syntax:)0
3763 y Fv(p)-5 b(at)357 b FB(!)113 b Fv(var)33 b FD(+)23
b Fv(inte)-5 b(ger)1310 b Ft(\()p FI(successor)26 b(pattern)s
Ft(\))506 3876 y FB(j)147 b Fv(p)-5 b(at)804 3843 y Fu(0)0
3993 y Fv(p)g(at)126 3960 y Fu(i)474 3993 y FB(!)113
b Fv(p)-5 b(at)804 3960 y Fu(i)6 b FA(+)p Fu(1)961 3993
y Ft([)p Fv(qc)-5 b(onop)1260 3960 y FA(\(n)p Fo(;)p
Fu(i)6 b FA(\))1430 3993 y Fv(p)-5 b(at)1556 3960 y Fu(i)6
b FA(+)p Fu(1)1690 3993 y Ft(])506 4106 y FB(j)147 b
Fv(lp)-5 b(at)827 4073 y Fu(i)506 4219 y FB(j)147 b Fv(rp)-5
b(at)842 4186 y Fu(i)0 4335 y Fv(lp)g(at)149 4302 y Fu(i)474
4335 y FB(!)113 b Ft(\()p Fv(lp)-5 b(at)862 4302 y Fu(i)919
4335 y FB(j)23 b Fv(p)-5 b(at)1093 4302 y Fu(i)6 b FA(+)p
Fu(1)1227 4335 y Ft(\))23 b Fv(qc)-5 b(onop)1559 4302
y FA(\(l)p Fo(;)p Fu(i)6 b FA(\))1709 4335 y Fv(p)-5
b(at)1835 4302 y Fu(i)6 b FA(+)p Fu(1)0 4448 y Fv(lp)-5
b(at)149 4415 y Fu(6)474 4448 y FB(!)113 b FD(-)22 b
Ft(\()p Fv(inte)-5 b(ger)34 b FB(j)23 b Fv(\015o)-5 b(at)9
b Ft(\))1139 b(\()p FI(ne)o(gati)n(v)o(e)24 b(literal)r
Ft(\))0 4565 y Fv(rp)-5 b(at)164 4532 y Fu(i)474 4565
y FB(!)113 b Fv(p)-5 b(at)804 4532 y Fu(i)6 b FA(+)p
Fu(1)961 4565 y Fv(qc)-5 b(onop)1235 4532 y FA(\(r)p
Fo(;)p Fu(i)6 b FA(\))1393 4565 y Ft(\()p Fv(rp)-5 b(at)1592
4532 y Fu(i)1649 4565 y FB(j)23 b Fv(p)-5 b(at)1823 4532
y Fu(i)6 b FA(+)p Fu(1)1957 4565 y Ft(\))0 4678 y Fv(p)-5
b(at)126 4645 y Fu(10)474 4678 y FB(!)113 b Fv(ap)-5
b(at)506 4791 y FB(j)147 b Fv(gc)-5 b(on)30 b(ap)-5 b(at)1047
4805 y Fu(1)1137 4791 y Fq(:)15 b(:)g(:)39 b Fv(ap)-5
b(at)1444 4806 y Fu(k)2493 4791 y Ft(\()p FI(arity)24
b Fv(gc)-5 b(on)56 b Ft(=)48 b Fv(k)10 b Fq(;)37 b Fv(k)e
FB(\025)25 b Fv(1)12 b Ft(\))0 5017 y Fv(ap)-5 b(at)311
b FB(!)113 b Fv(var)33 b Ft([)23 b(@)g Fv(ap)-5 b(at)9
b Ft(])1317 b(\()p FI(as)24 b(pattern)r Ft(\))506 5129
y FB(j)147 b Fv(gc)-5 b(on)1639 b Ft(\()p FI(arity)24
b Fv(gc)-5 b(on)56 b Ft(=)48 b Fv(0)12 b Ft(\))506 5242
y FB(j)147 b Fv(qc)-5 b(on)30 b FD({)23 b Fv(fp)-5 b(at)1107
5256 y Fu(1)1180 5242 y FD(,)38 b Fq(:)15 b(:)g(:)39
b FD(,)22 b Fv(fp)-5 b(at)1639 5257 y Fu(k)1707 5242
y FD(})731 b Ft(\()p FI(labeled)25 b(pattern)s Fq(;)38
b Fv(k)d FB(\025)25 b Fv(0)12 b Ft(\))506 5355 y FB(j)147
b Fv(liter)-5 b(al)p eop
%%Page: 31 45
31 44 bop 300 100 a FE(3.17.)52 b(P)-8 b(A)e(TTERN)19
b(MA)-10 b(TCHING)2381 b FI(31)806 356 y FB(j)147 b FD(_)1760
b Ft(\()p FI(wildcard)r Ft(\))806 469 y FB(j)147 b FD(\()22
b Fv(p)-5 b(at)33 b FD(\))1533 b Ft(\()p FI(parenthesized)28
b(pattern)r Ft(\))806 582 y FB(j)147 b FD(\()22 b Fv(p)-5
b(at)1172 596 y Fu(1)1246 582 y FD(,)38 b Fq(:)15 b(:)g(:)38
b FD(,)23 b Fv(p)-5 b(at)1677 597 y Fu(k)1745 582 y FD(\))993
b Ft(\()p FI(tuple)25 b(pattern)r Fq(;)38 b Fv(k)d FB(\025)25
b Fv(2)12 b Ft(\))806 695 y FB(j)147 b FD([)22 b Fv(p)-5
b(at)1172 709 y Fu(1)1246 695 y FD(,)38 b Fq(:)15 b(:)g(:)38
b FD(,)23 b Fv(p)-5 b(at)1677 710 y Fu(k)1745 695 y FD(])993
b Ft(\()p FI(list)24 b(pattern)r Fq(;)39 b Fv(k)34 b
FB(\025)25 b Fv(1)12 b Ft(\))806 808 y FB(j)147 b FD(\230)22
b Fv(ap)-5 b(at)1575 b Ft(\()p FI(irrefutable)26 b(pattern)s
Ft(\))300 1033 y Fv(fp)-5 b(at)329 b FB(!)113 b Fv(qvar)33
b FD(=)22 b Fv(p)-5 b(at)300 1304 y FI(The)32 b(arity)h(of)f(a)f
(constructor)36 b(must)c(match)g(the)h(number)g(of)f(sub-patterns)k
(associated)f(with)d(it;)k(one)d(cannot)300 1417 y(match)24
b(against)h(a)e(partially-applied)28 b(constructor)-5
b(.)300 1613 y(All)24 b(patterns)k(must)d(be)g FJ(linear)h
FI(\227no)f(v)n(ariable)i(may)e(appear)h(more)g(than)f(once.)35
b(F)o(or)24 b(e)o(xample,)i(this)f(de\002nition)300 1726
y(is)e(ille)o(gal:)139 b FD(f)54 b(\(x,x\))f(=)h(x)163
b(--)54 b(ILLEGAL;)d(x)j(used)e(twice)h(in)g(pattern)300
1922 y FI(P)o(atterns)32 b(of)f(the)g(form)g Fv(var)10
b FD(@)p Fv(p)-5 b(at)40 b FI(are)32 b(called)g FJ(as-patterns)p
FI(,)k(and)31 b(allo)n(w)g(one)h(to)f(use)g Fv(var)41
b FI(as)31 b(a)g(name)g(for)g(the)300 2035 y(v)n(alue)24
b(being)h(matched)g(by)e Fv(p)-5 b(at)11 b FI(.)27 b(F)o(or)c(e)o
(xample,)441 2231 y FD(case)53 b(e)h(of)g({)g(xs@\(x:rest\))49
b(->)54 b(if)f(x==0)g(then)g(rest)g(else)f(xs)i(})300
2427 y FI(is)23 b(equi)n(v)n(alent)j(to:)441 2617 y FD(let)53
b({)h(xs)g(=)g(e)g(})g(in)550 2729 y(case)f(xs)h(of)f({)h(\(x:rest\))d
(->)j(if)f(x==0)g(then)g(rest)g(else)f(xs)i(})300 3065
y FI(P)o(atterns)23 b(of)f(the)h(form)f FD(_)f FI(are)i
FJ(wildcar)m(ds)h FI(and)f(are)f(useful)i(when)e(some)h(part)g(of)f(a)g
(pattern)i(is)e(not)h(referenced)i(on)300 3178 y(the)f
(right-hand-side.)33 b(It)23 b(is)h(as)f(if)h(an)f(identi\002er)i(not)f
(used)g(else)n(where)h(were)f(put)g(in)f(its)h(place.)29
b(F)o(or)23 b(e)o(xample,)441 3374 y FD(case)53 b(e)h(of)g({)g([x,_,_])
106 b(->)i(if)53 b(x==0)g(then)g(True)g(else)f(False)h(})300
3570 y FI(is)23 b(equi)n(v)n(alent)j(to:)441 3766 y FD(case)53
b(e)h(of)g({)g([x,y,z])106 b(->)i(if)53 b(x==0)g(then)g(True)g(else)f
(False)h(})300 4294 y FG(3.17.2)99 b(Inf)n(ormal)24 b(Semantics)i(of)e
(P)o(atter)o(n)i(Matching)300 4551 y FI(P)o(atterns)j(are)g(matched)h
(against)g(v)n(alues.)45 b(Attempting)30 b(to)f(match)g(a)f(pattern)j
(can)e(ha)n(v)o(e)g(one)g(of)g(three)g(results:)300 4664
y(it)f(may)g FJ(fail)p FI(;)k(it)c(may)g FJ(succeed)p
FI(,)k(returning)f(a)d(binding)i(for)f(each)g(v)n(ariable)h(in)e(the)h
(pattern;)k(or)28 b(it)g(may)h FJ(diver)m(g)o(e)300 4777
y FI(\(i.e.)24 b(return)i FB(?)p FI(\).)32 b(P)o(attern)25
b(matching)i(proceeds)g(from)d(left)i(to)e(right,)i(and)f(outside)i(to)
e(inside,)h(according)h(to)e(the)300 4890 y(follo)n(wing)g(rules:)414
5161 y(1.)45 b(Matching)25 b(the)f(pattern)h Fv(var)34
b FI(against)24 b(a)f(v)n(alue)i Fv(v)32 b FI(al)o(w)o(ays)25
b(succeeds)g(and)f(binds)h Fv(var)33 b FI(to)24 b Fv(v)9
b FI(.)p eop
%%Page: 32 46
32 45 bop 0 100 a FI(32)2353 b FE(CHAPTER)20 b(3.)51
b(EXPRESSIONS)114 356 y FI(2.)45 b(Matching)24 b(the)f(pattern)h
FD(\230)o Fv(ap)-5 b(at)32 b FI(against)24 b(a)e(v)n(alue)h
Fv(v)31 b FI(al)o(w)o(ays)23 b(succeeds.)31 b(The)22
b(free)g(v)n(ariables)j(in)d Fv(ap)-5 b(at)32 b FI(are)227
469 y(bound)c(to)d(the)h(appropriate)k(v)n(alues)d(if)e(matching)j
Fv(ap)-5 b(at)35 b FI(against)27 b Fv(v)35 b FI(w)o(ould)26
b(otherwise)i(succeed,)g(and)e(to)227 582 y FB(?)d FI(if)g(matching)i
Fv(ap)-5 b(at)33 b FI(against)25 b Fv(v)33 b FI(f)o(ails)24
b(or)f(di)n(v)o(er)n(ges.)31 b(\(Binding)25 b(does)f
FJ(not)g FI(imply)g(e)n(v)n(aluation.\))227 732 y(Operationally)-6
b(,)31 b(this)d(means)g(that)g(no)f(matching)i(is)e(done)h(on)f(a)g
FD(\230)o Fv(ap)-5 b(at)37 b FI(pattern)29 b(until)f(one)g(of)f(the)h
(v)n(ari-)227 845 y(ables)f(in)e Fv(ap)-5 b(at)36 b FI(is)25
b(used.)35 b(At)25 b(that)h(point)h(the)f(entire)g(pattern)h(is)f
(matched)g(against)h(the)f(v)n(alue,)h(and)f(if)f(the)227
958 y(match)f(f)o(ails)h(or)e(di)n(v)o(er)n(ges,)i(so)f(does)g(the)g(o)
o(v)o(erall)g(computation.)114 1145 y(3.)45 b(Matching)25
b(the)f(wildcard)h(pattern)g FD(_)e FI(against)h(an)o(y)g(v)n(alue)g
(al)o(w)o(ays)h(succeeds,)g(and)f(no)g(binding)h(is)f(done.)114
1333 y(4.)45 b(Matching)50 b(the)f(pattern)g Fv(c)-5
b(on)31 b(p)-5 b(at)57 b FI(against)50 b(a)e(v)n(alue,)54
b(where)49 b Fv(c)-5 b(on)55 b FI(is)48 b(a)g(constructor)j(de\002ned)e
(by)227 1446 y FD(newtype)m FI(,)23 b(depends)i(on)f(the)g(v)n(alue:)
336 1634 y FB(\017)46 b FI(If)24 b(the)f(v)n(alue)i(is)e(of)h(the)f
(form)h Fv(c)-5 b(on)30 b(v)10 b FI(,)22 b(then)j Fv(p)-5
b(at)32 b FI(is)24 b(matched)h(against)f Fv(v)10 b FI(.)336
1780 y FB(\017)46 b FI(If)24 b(the)f(v)n(alue)i(is)e
FB(?)p FI(,)f(then)j Fv(p)-5 b(at)32 b FI(is)24 b(matched)g(against)h
FB(?)p FI(.)227 1967 y(That)f(is,)f(constructors)k(associated)f(with)e
FD(newtype)19 b FI(serv)o(e)24 b(only)h(to)e(change)i(the)f(type)g(of)g
(a)f(v)n(alue.)114 2155 y(5.)45 b(Matching)29 b(the)f(pattern)i
Fv(c)-5 b(on)30 b(p)-5 b(at)1301 2169 y Fu(1)1390 2155
y Fq(:)15 b(:)g(:)39 b Fv(p)-5 b(at)1651 2169 y Fu(n)1729
2155 y FI(against)29 b(a)e(v)n(alue,)i(where)f Fv(c)-5
b(on)34 b FI(is)27 b(a)h(constructor)i(de\002ned)227
2268 y(by)24 b FD(data)n FI(,)f(depends)i(on)f(the)g(v)n(alue:)336
2456 y FB(\017)46 b FI(If)25 b(the)g(v)n(alue)g(is)f(of)h(the)g(form)f
Fv(c)-5 b(on)31 b(v)1591 2470 y Fu(1)1678 2456 y Fq(:)15
b(:)g(:)39 b Fv(v)1864 2470 y Fu(n)1913 2456 y FI(,)24
b(sub-patterns)k(are)d(matched)h(left-to-right)i(against)427
2568 y(the)i(components)i(of)e(the)f(data)i(v)n(alue;)i(if)d(all)f
(matches)i(succeed,)h(the)e(o)o(v)o(erall)h(match)f(succeeds;)427
2681 y(the)24 b(\002rst)f(to)h(f)o(ail)g(or)f(di)n(v)o(er)n(ge)i
(causes)g(the)f(o)o(v)o(erall)h(match)e(to)h(f)o(ail)g(or)f(di)n(v)o
(er)n(ge,)i(respecti)n(v)o(ely)-6 b(.)336 2828 y FB(\017)46
b FI(If)24 b(the)g(v)n(alue)h(is)e(of)h(the)g(form)g
Fv(c)-5 b(on)1520 2795 y Fs(0)1567 2828 y Fv(v)1609 2842
y Fu(1)1696 2828 y Fq(:)15 b(:)g(:)39 b Fv(v)1882 2842
y Fu(m)1950 2828 y FI(,)23 b(where)h Fv(c)-5 b(on)31
b FI(is)23 b(a)h(dif)n(ferent)h(constructor)i(to)d Fv(c)-5
b(on)3553 2795 y Fs(0)3577 2828 y FI(,)427 2940 y(the)24
b(match)g(f)o(ails.)336 3087 y FB(\017)46 b FI(If)24
b(the)f(v)n(alue)i(is)e FB(?)p FI(,)f(the)i(match)g(di)n(v)o(er)n(ges.)
114 3274 y(6.)45 b(Matching)35 b(against)f(a)f(constructor)j(using)e
(labeled)h(\002elds)e(is)g(the)h(same)f(as)g(matching)h(ordinary)h
(con-)227 3387 y(structor)e(patterns)g(e)o(xcept)f(that)g(the)f
(\002elds)g(are)g(matched)h(in)f(the)g(order)h(the)o(y)g(are)f(named)g
(in)g(the)g(\002eld)227 3500 y(list.)g(All)24 b(\002elds)g(listed)h
(must)g(be)f(declared)i(by)e(the)h(constructor;)j(\002elds)c(may)g(not)
g(be)h(named)f(more)g(than)227 3613 y(once.)30 b(Fields)24
b(not)g(named)g(by)f(the)h(pattern)h(are)f(ignored)i(\(matched)f
(against)f FD(_)p FI(\).)114 3801 y(7.)45 b(Matching)20
b(a)e(numeric,)i(character)l(,)i(or)c(string)i(literal)f(pattern)h
Fv(k)27 b FI(against)20 b(a)d(v)n(alue)i Fv(v)28 b FI(succeeds)20
b(if)e Fv(v)55 b FD(==)45 b Fv(k)9 b FI(,)227 3913 y(where)35
b FD(==)f FI(is)g(o)o(v)o(erloaded)j(based)f(on)f(the)h(type)f(of)g
(the)g(pattern.)64 b(The)35 b(match)g(di)n(v)o(er)n(ges)i(if)d(this)i
(test)227 4026 y(di)n(v)o(er)n(ges.)227 4177 y(The)k(interpretation)k
(of)c(numeric)h(literals)h(is)d(e)o(xactly)j(as)e(described)i(in)e
(Section)h(3.2;)49 b(that)40 b(is,)k(the)227 4290 y(o)o(v)o(erloaded)f
(function)g FD(fromInteger)34 b FI(or)41 b FD(fromRational)34
b FI(is)40 b(applied)i(to)e(an)h FD(Integer)36 b FI(or)227
4402 y FD(Rational)19 b FI(literal)25 b(\(resp\))g(to)e(con)l(v)o(ert)j
(it)d(to)g(the)h(appropriate)j(type.)114 4590 y(8.)45
b(Matching)34 b(an)e Fv(n)7 b FD(+)p Fv(k)41 b FI(pattern)34
b(\(where)e Fv(n)39 b FI(is)32 b(a)f(v)n(ariable)j(and)f
Fv(k)41 b FI(is)32 b(a)f(positi)n(v)o(e)j(inte)o(ger)f(literal\))h
(against)227 4703 y(a)e(v)n(alue)h Fv(v)41 b FI(succeeds)35
b(if)d Fv(x)56 b FD(>=)45 b Fv(k)9 b FI(,)34 b(resulting)g(in)e(the)h
(binding)h(of)e Fv(n)39 b FI(to)32 b Fv(x)i FD(-)22 b
Fv(k)10 b FI(,)33 b(and)g(f)o(ails)g(otherwise.)227 4816
y(Again,)i(the)e(functions)i FD(>=)d FI(and)h FD(-)e
FI(are)i(o)o(v)o(erloaded,)38 b(depending)d(on)e(the)g(type)h(of)e(the)
i(pattern.)58 b(The)227 4929 y(match)24 b(di)n(v)o(er)n(ges)i(if)d(the)
h(comparison)i(di)n(v)o(er)n(ges.)227 5079 y(The)i(interpretation)j(of)
d(the)g(literal)h Fv(k)36 b FI(is)28 b(the)g(same)g(as)f(in)h(numeric)h
(literal)g(patterns,)h(e)o(xcept)f(that)f(only)227 5192
y(inte)o(ger)d(literals)g(are)f(allo)n(wed.)p eop
%%Page: 33 47
33 46 bop 300 100 a FE(3.17.)52 b(P)-8 b(A)e(TTERN)19
b(MA)-10 b(TCHING)2381 b FI(33)414 356 y(9.)45 b(Matching)28
b(an)e(as-pattern)j Fv(var)10 b FD(@)p Fv(ap)-5 b(at)36
b FI(against)27 b(a)f(v)n(alue)g Fv(v)35 b FI(is)26 b(the)h(result)g
(of)f(matching)h Fv(ap)-5 b(at)36 b FI(against)28 b Fv(v)9
b FI(,)527 469 y(augmented)25 b(with)e(the)g(binding)h(of)f
Fv(var)32 b FI(to)23 b Fv(v)10 b FI(.)27 b(If)c(the)g(match)g(of)g
Fv(ap)-5 b(at)32 b FI(against)24 b Fv(v)32 b FI(f)o(ails)23
b(or)g(di)n(v)o(er)n(ges,)h(then)527 582 y(so)g(does)g(the)g(o)o(v)o
(erall)g(match.)300 852 y(Aside)i(from)f(the)h(ob)o(vious)h(static)f
(type)h(constraints)h(\(for)e(e)o(xample,)h(it)e(is)g(a)g(static)i
(error)f(to)f(match)h(a)f(character)300 965 y(against)g(a)e(boolean\),)
i(the)f(follo)n(wing)h(static)g(class)f(constraints)j(hold:)436
1236 y FB(\017)46 b FI(An)23 b(inte)o(ger)i(literal)g(pattern)g(can)f
(only)g(be)g(matched)g(against)h(a)e(v)n(alue)i(in)e(the)h(class)g
FD(Num)o FI(.)436 1424 y FB(\017)46 b FI(A)23 b(\003oating)h(literal)h
(pattern)g(can)f(only)g(be)g(matched)h(against)g(a)e(v)n(alue)h(in)f
(the)h(class)h FD(Fractional)-5 b FI(.)436 1611 y FB(\017)46
b FI(An)23 b Fv(n)7 b FD(+)p Fv(k)32 b FI(pattern)25
b(can)f(only)g(be)g(matched)h(against)g(a)e(v)n(alue)h(in)f(the)h
(class)h FD(Integral)l FI(.)300 1882 y(Man)o(y)d(people)i(feel)e(that)h
Fv(n)7 b FD(+)p Fv(k)30 b FI(patterns)25 b(should)e(not)g(be)f(used.)29
b(These)22 b(patterns)i(may)e(be)g(remo)o(v)o(ed)h(or)f(changed)300
1995 y(in)h(future)i(v)o(ersions)h(of)d(Hask)o(ell.)300
2191 y(It)g(is)g(sometimes)h(helpful)h(to)d(distinguish)27
b(tw)o(o)22 b(kinds)j(of)e(patterns.)30 b(Matching)25
b(an)e FJ(irr)m(efutable)j(pattern)f FI(is)d(non-)300
2304 y(strict:)46 b(the)32 b(pattern)h(matches)g(e)n(v)o(en)e(if)h(the)
g(v)n(alue)g(to)f(be)h(matched)h(is)e FB(?)p FI(.)51
b(Matching)34 b(a)d FJ(r)m(efutable)i FI(pattern)g(is)300
2417 y(strict:)f(if)24 b(the)h(v)n(alue)g(to)g(be)f(matched)i(is)e
FB(?)g FI(the)h(match)f(di)n(v)o(er)n(ges.)34 b(The)24
b(irrefutable)j(patterns)g(are)d(as)h(follo)n(ws:)32
b(a)300 2529 y(v)n(ariable,)24 b(a)e(wildcard,)i Fv(N)37
b(ap)-5 b(at)33 b FI(where)23 b Fv(N)36 b FI(is)23 b(a)f(constructor)k
(de\002ned)d(by)g FD(newtype)18 b FI(and)24 b Fv(ap)-5
b(at)32 b FI(is)22 b(irrefutable)300 2642 y(\(see)i(Section)h(4.2.3\),)
f Fv(var)10 b FD(@)p Fv(ap)-5 b(at)33 b FI(where)25 b
Fv(ap)-5 b(at)33 b FI(is)24 b(irrefutable,)i(or)e(of)g(the)g(form)f
FD(\230)p Fv(ap)-5 b(at)33 b FI(\(whether)26 b(or)d(not)h
Fv(ap)-5 b(at)300 2755 y FI(is)23 b(irrefutable\).)32
b(All)23 b(other)i(patterns)g(are)f FJ(r)m(efutable)p
FI(.)300 2951 y(Here)f(are)h(some)g(e)o(xamples:)414
3222 y(1.)45 b(If)29 b(the)h(pattern)h FD(['a','b'])24
b FI(is)29 b(matched)h(against)h FD(['x',)n FB(?)p FD(])o
FI(,)f(then)g FD('a')d Fv(fails)36 b FI(to)29 b(match)h(against)527
3335 y FD('x')o FI(,)20 b(and)i(the)f(result)h(is)e(a)h(f)o(ailed)h
(match.)28 b(But)21 b(if)f FD(['a','b'])c FI(is)21 b(matched)h(against)
g FD([)p FB(?)p FD(,'x'])m FI(,)e(then)527 3448 y(attempting)26
b(to)d(match)h FD('a')e FI(against)i FB(?)f FI(causes)i(the)f(match)g
(to)f Fv(diver)-5 b(ge)7 b FI(.)414 3635 y(2.)45 b(These)24
b(e)o(xamples)h(demonstrate)h(refutable)g(vs.)d(irrefutable)j
(matching:)668 3780 y FD(\(\\)54 b(\230\(x,y\))e(->)i(0\))f
FB(?)218 b(\))g FD(0)668 3893 y(\(\\)109 b(\(x,y\))52
b(->)i(0\))f FB(?)218 b(\))g(?)668 4111 y FD(\(\\)54
b(\230[x])f(->)g(0\))h([])217 b FB(\))h FD(0)668 4224
y(\(\\)54 b(\230[x])f(->)g(x\))h([])217 b FB(\))h(?)668
4443 y FD(\(\\)54 b(\230[x,\230\(a,b\)])c(->)j(x\))h([\(0,1\),)m
FB(?)o FD(])218 b FB(\))g FD(\(0,1\))668 4556 y(\(\\)54
b(\230[x,)f(\(a,b\)])f(->)h(x\))h([\(0,1\),)m FB(?)o
FD(])218 b FB(\))g(?)668 4774 y FD(\(\\)109 b(\(x:xs\))51
b(->)j(x:x:xs\))d FB(?)164 b(\))f(?)668 4887 y FD(\(\\)54
b(\230\(x:xs\))d(->)j(x:x:xs\))d FB(?)164 b(\))f(?)p
FD(:)p FB(?)o FD(:)p FB(?)414 5066 y FI(3.)45 b(Consider)25
b(the)f(follo)n(wing)h(declarations:)778 5211 y FD(newtype)51
b(N)j(=)g(N)g(Bool)778 5323 y(data)216 b(D)54 b(=)g(D)g(!Bool)p
eop
%%Page: 34 48
34 47 bop 0 100 a FI(34)2353 b FE(CHAPTER)20 b(3.)51
b(EXPRESSIONS)227 356 y FI(These)25 b(e)o(xamples)h(illustrate)h(the)e
(dif)n(ference)i(in)d(pattern)i(matching)g(between)g(types)g(de\002ned)
f(by)g FD(data)227 469 y FI(and)f FD(newtype)m FI(:)368
608 y FD(\(\\)109 b(\(N)53 b(True\))g(->)g(True\))f FB(?)273
b(\))218 b(?)368 720 y FD(\(\\)109 b(\(D)53 b(True\))g(->)g(True\))f
FB(?)273 b(\))218 b(?)368 833 y FD(\(\\)54 b(\230\(D)f(True\))g(->)g
(True\))f FB(?)273 b(\))218 b FD(True)227 975 y FI(Additional)26
b(e)o(xamples)f(may)e(be)g(found)i(in)f(Section)g(4.2.3.)0
1246 y(T)-7 b(op)20 b(le)n(v)o(el)h(patterns)i(in)d(case)i(e)o
(xpressions)i(and)d(the)g(set)g(of)f(top)h(le)n(v)o(el)g(patterns)i(in)
e(function)i(or)d(pattern)j(bindings)0 1358 y(may)28
b(ha)n(v)o(e)h(zero)h(or)e(more)h(associated)i FJ(guar)m(ds)p
FI(.)45 b(A)27 b(guard)j(is)f(a)f(boolean)i(e)o(xpression)h(that)e(is)g
(e)n(v)n(aluated)h(only)0 1471 y(after)23 b(all)f(of)f(the)i(ar)n
(guments)h(ha)n(v)o(e)e(been)h(successfully)i(matched,)e(and)g(it)e
(must)h(be)g(true)h(for)f(the)g(o)o(v)o(erall)h(pattern)0
1584 y(match)33 b(to)f(succeed.)58 b(The)32 b(en)l(vironment)k(of)c
(the)h(guard)h(is)e(the)h(same)g(as)f(the)h(right-hand-side)k(of)32
b(the)h(case-)0 1697 y(e)o(xpression)26 b(alternati)n(v)o(e,)g
(function)f(de\002nition,)g(or)f(pattern)h(binding)h(to)d(which)h(it)f
(is)h(attached.)0 1893 y(The)d(guard)h(semantics)h(ha)n(v)o(e)f(an)g
(ob)o(vious)h(in\003uence)f(on)g(the)f(strictness)j(characteristics)i
(of)21 b(a)g(function)i(or)f(case)0 2006 y(e)o(xpression.)32
b(In)23 b(particular)l(,)k(an)c(otherwise)j(irrefutable)g(pattern)g
(may)d(be)h(e)n(v)n(aluated)h(because)h(of)e(a)f(guard.)30
b(F)o(or)0 2119 y(e)o(xample,)24 b(in)141 2309 y FD(f)54
b(::)g(\(Int,Int,Int\))48 b(->)54 b([Int])e(->)i(Int)141
2422 y(f)g(\230\(x,y,z\))d([a])i(|)h(\(a)g(==)g(y\))f(=)h(1)0
2609 y FI(both)24 b FD(a)f FI(and)h FD(y)e FI(will)h(be)h(e)n(v)n
(aluated)h(by)f FD(==)e FI(in)h(the)h(guard.)0 2941 y
FG(3.17.3)99 b(F)n(ormal)24 b(Semantics)h(of)g(P)o(atter)o(n)g
(Matching)0 3199 y FI(The)c(semantics)i(of)f(all)f(pattern)j(matching)f
(constructs)h(other)f(than)f FD(case)d FI(e)o(xpressions)24
b(are)e(de\002ned)g(by)g(gi)n(ving)0 3312 y(identities)36
b(that)e(relate)h(those)f(constructs)i(to)e FD(case)c
FI(e)o(xpressions.)62 b(The)33 b(semantics)i(of)e FD(case)e
FI(e)o(xpressions)0 3424 y(themselv)o(es)23 b(are)e(in)g(turn)g(gi)n(v)
o(en)g(as)g(a)g(series)h(of)f(identities,)i(in)e(Figures)h(3.1\2263.2.)
29 b(An)o(y)20 b(implementation)k(should)0 3537 y(beha)n(v)o(e)g(so)f
(that)h(these)f(identities)j(hold;)e(it)f(is)f(not)h(e)o(xpected)i
(that)f(it)e(will)h(use)g(them)g(directly)-6 b(,)24 b(since)g(that)g(w)
o(ould)0 3650 y(generate)i(rather)e(inef)n(\002cient)h(code.)0
3846 y(In)30 b(Figures)h(3.1\2263.2:)43 b Fv(e)7 b FI(,)31
b Fv(e)898 3813 y Fs(0)950 3846 y FI(and)g Fv(e)1153
3860 y Fu(i)1214 3846 y FI(are)g(e)o(xpressions;)36 b
Fv(g)i FI(and)30 b Fv(g)2117 3860 y Fu(i)2179 3846 y
FI(are)g(boolean-v)n(alued)k(e)o(xpressions;)j Fv(p)f
FI(and)0 3959 y Fv(p)46 3973 y Fu(i)108 3959 y FI(are)31
b(patterns;)36 b Fv(v)10 b FI(,)31 b Fv(x)11 b FI(,)31
b(and)f Fv(x)1010 3973 y Fu(i)1073 3959 y FI(are)g(v)n(ariables;)36
b Fv(K)43 b FI(and)31 b Fv(K)1954 3926 y Fs(0)2007 3959
y FI(are)f(algebraic)j(datatype)f(\()p FD(data)o FI(\))e(constructors)0
4072 y(\(including)c(tuple)f(constructors\);)j(and)c
Fv(N)37 b FI(is)23 b(a)g FD(newtype)d FI(constructor.)0
4268 y(Rule)35 b(\(b\))h(matches)h(a)e(general)i(source-language)j
FD(case)33 b FI(e)o(xpression,)41 b(re)o(gardless)c(of)f(whether)g(it)f
(actually)0 4381 y(includes)23 b(guards\227if)f(no)f(guards)h(are)f
(written,)g(then)h FD(True)17 b FI(is)k(substituted)i(for)e(the)g
(guards)h Fv(g)3004 4395 y Fu(i)6 b Fo(;)p Fu(j)3107
4381 y FI(in)21 b(the)f Fv(match)3566 4395 y Fu(i)0 4494
y FI(forms.)52 b(Subsequent)34 b(identities)f(manipulate)h(the)d
(resulting)j FD(case)29 b FI(e)o(xpression)34 b(into)d(simpler)i(and)e
(simpler)0 4607 y(forms.)0 4803 y(Rule)c(\(h\))g(in)g(Figure)h(3.2)f
(in)l(v)n(olv)o(es)i(the)e(o)o(v)o(erloaded)j(operator)f
FD(==)o FI(;)f(it)f(is)g(this)h(rule)f(that)h(de\002nes)g(the)f
(meaning)0 4915 y(of)c(pattern)j(matching)f(against)g(o)o(v)o(erloaded)
g(constants.)0 5111 y(These)f(identities)j(all)d(preserv)o(e)i(the)e
(static)i(semantics.)32 b(Rules)24 b(\(d\),)g(\(e\),)g(\(j\),)g(\(q\),)
g(and)h(\(s\))f(use)g(a)g(lambda)h(rather)0 5224 y(than)20
b(a)f FD(let)o FI(;)h(this)g(indicates)i(that)f(v)n(ariables)g(bound)g
(by)f FD(case)d FI(are)j(monomorphically)j(typed)d(\(Section)h
(4.1.4\).)p eop
%%Page: 35 49
35 48 bop 300 100 a FE(3.17.)52 b(P)-8 b(A)e(TTERN)19
b(MA)-10 b(TCHING)2381 b FI(35)p 315 1334 3548 4 v 315
3982 4 2648 v 368 1470 a Fn(\(a\))101 b Fp(case)49 b
Fk(e)h Fp(of)f({)h Fk(al)r(ts)f Fp(})h Fj(=)f Fp(\(\\)p
Fk(v)k Fp(->)c(case)g Fk(v)k Fp(of)d({)f Fk(al)r(ts)g
Fp(}\))h Fm(e)562 1569 y Fn(where)20 b Fk(v)k Fn(is)d(a)g(ne)n(w)f(v)n
(ariable)366 1669 y(\(b\))98 b Fp(case)49 b Fk(v)k Fp(of)d({)g
Fk(p)1196 1681 y Fh(1)1274 1669 y Fk(match)1505 1681
y Fh(1)1542 1669 y Fp(;)99 b Fk(:)14 b(:)g(:)64 b Fp(;)49
b Fk(p)1993 1681 y Fg(n)2080 1669 y Fk(match)2311 1681
y Fg(n)2405 1669 y Fp(})562 1768 y Fj(=)100 b Fp(case)49
b Fk(v)k Fp(of)c({)h Fk(p)1360 1780 y Fh(1)1438 1768
y Fk(match)1669 1780 y Fh(1)1756 1768 y Fp(;)1359 1868
y(_)100 b(->)49 b Fk(:)14 b(:)g(:)64 b Fp(case)49 b Fk(v)k
Fp(of)c({)1907 1968 y Fk(p)1949 1980 y Fg(n)2036 1968
y Fk(match)2267 1980 y Fg(n)2332 1968 y Fp(;)1907 2067
y(_)100 b(->)49 b(error)g("No)g(match")g(})p Fk(:)14
b(:)g(:)p Fp(})612 2167 y Fn(where)20 b(each)g Fk(match)1240
2179 y Fg(i)1288 2167 y Fn(has)g(the)g(form:)662 2267
y Fp(|)50 b Fk(g)802 2279 y Fg(i;)p Fh(1)952 2267 y Fp(->)g
Fk(e)1141 2279 y Fg(i;)p Fh(1)1271 2267 y Fp(;)f Fk(:)14
b(:)g(:)64 b Fp(;)49 b(|)h Fk(g)1770 2279 y Fg(i;m)1872
2287 y Ff(i)1952 2267 y Fp(->)f Fk(e)2140 2279 y Fg(i;m)2242
2287 y Ff(i)2322 2267 y Fp(where)g({)h Fk(decl)r(s)2905
2279 y Fg(i)2982 2267 y Fp(})368 2399 y Fn(\(c\))101
b Fp(case)49 b Fk(v)k Fp(of)d({)g Fk(p)f Fp(|)h Fk(g)1385
2411 y Fh(1)1471 2399 y Fp(->)g Fk(e)1660 2411 y Fh(1)1747
2399 y Fp(;)f Fk(:)14 b(:)g(:)1243 2499 y Fp(|)50 b Fk(g)1383
2511 y Fg(n)1477 2499 y Fp(->)g Fk(e)1666 2511 y Fg(n)1760
2499 y Fp(where)f({)h Fk(decl)r(s)f Fp(})1177 2599 y(_)249
b(->)49 b Fk(e)1664 2568 y Fe(0)1737 2599 y Fp(})562
2698 y Fj(=)h Fp(case)f Fk(e)965 2668 y Fe(0)1038 2698
y Fp(of)662 2798 y({)p Fk(y)j Fp(->)70 b Fn(\(where)20
b Fm(y)28 b Fn(is)21 b(a)g(ne)n(w)f(v)n(ariable\))712
2897 y Fp(case)49 b Fk(v)k Fp(of)c({)1011 2997 y Fk(p)g
Fp(->)h(let)f({)h Fk(decl)r(s)f Fp(})g(in)1359 3097 y(if)h
Fk(g)1549 3109 y Fh(1)1635 3097 y Fp(then)g Fk(e)1924
3109 y Fh(1)2010 3097 y Fk(:)14 b(:)g(:)64 b Fp(else)49
b(if)g Fk(g)2609 3109 y Fg(n)2704 3097 y Fp(then)g Fk(e)2992
3109 y Fg(n)3087 3097 y Fp(else)g Fk(y)44 b Fp(;)1011
3196 y(_)49 b(->)h Fk(y)i Fp(}})366 3329 y Fn(\(d\))98
b Fp(case)49 b Fk(v)k Fp(of)d({)g(\230)o Fk(p)g Fp(->)f
Fk(e)p Fp(;)h(_)f(->)h Fk(e)1871 3299 y Fe(0)1943 3329
y Fp(})562 3429 y Fj(=)g Fp(\(\\)o Fk(x)823 3441 y Fh(1)882
3429 y Fk(:)14 b(:)g(:)20 b(x)1046 3441 y Fg(n)1113 3429
y Fp(->)g Fk(e)h Fp(\))49 b(\(case)g Fk(v)k Fp(of)d({)f
Fk(p)p Fp(->)20 b Fk(x)2242 3441 y Fh(1)2330 3429 y Fp(}\))g
Fk(:)14 b(:)g(:)21 b Fp(\(case)49 b Fk(v)k Fp(of)c({)h
Fk(p)f Fp(->)h Fk(x)3497 3441 y Fg(n)3543 3429 y Fp(}\))562
3528 y Fn(where)20 b Fk(x)833 3540 y Fh(1)871 3528 y
Fk(;)14 b(:)g(:)g(:)f(;)h(x)1102 3540 y Fg(n)1169 3528
y Fn(are)20 b(all)g(the)h(v)n(ariables)e(in)h Fk(p)368
3661 y Fn(\(e\))101 b Fp(case)49 b Fk(v)k Fp(of)d({)g
Fk(x)p Fp(@)p Fk(p)f Fp(->)h Fk(e)p Fp(;)f(_)h(->)f Fk(e)1918
3631 y Fe(0)1991 3661 y Fp(})562 3761 y Fj(=)100 b Fp(case)49
b Fk(v)k Fp(of)c({)h Fk(p)f Fp(->)h(\()f(\\)h Fk(x)g
Fp(->)g Fk(e)f Fp(\))h Fk(v)j Fp(;)c(_)h(->)g Fk(e)2674
3731 y Fe(0)2746 3761 y Fp(})373 3894 y Fn(\(f\))105
b Fp(case)49 b Fk(v)k Fp(of)d({)g(_)f(->)h Fk(e)p Fp(;)f(_)h(->)f
Fk(e)1829 3864 y Fe(0)1902 3894 y Fp(})g Fj(=)h Fk(e)p
3859 3982 V 315 3985 3548 4 v 1190 4238 a FI(Figure)24
b(3.1:)29 b(Semantics)c(of)e(Case)h(Expressions,)i(P)o(art)c(1)p
eop
%%Page: 36 50
36 49 bop 0 100 a FI(36)2353 b FE(CHAPTER)20 b(3.)51
b(EXPRESSIONS)p 15 396 3548 4 v 15 4920 4 4525 v 77 531
a Fn(\(g\))110 b Fp(case)50 b Fk(v)j Fp(of)c({)h Fk(K)26
b(p)1016 543 y Fh(1)1067 531 y Fk(:)14 b(:)g(:)f(p)1219
543 y Fg(n)1314 531 y Fp(->)50 b Fk(e)p Fp(;)f(_)g(->)h
Fk(e)1890 501 y Fe(0)1963 531 y Fp(})285 631 y Fj(=)g
Fp(case)f Fk(v)k Fp(of)c({)535 731 y Fk(K)26 b(x)679
743 y Fh(1)730 731 y Fk(:)14 b(:)g(:)g(x)888 743 y Fg(n)983
731 y Fp(->)50 b(case)f Fk(x)1429 743 y Fh(1)1516 731
y Fp(of)h({)1282 830 y Fk(p)1324 842 y Fh(1)1411 830
y Fp(->)f Fk(:)14 b(:)g(:)50 b Fp(case)f Fk(x)2003 842
y Fg(n)2098 830 y Fp(of)h({)f Fk(p)2389 842 y Fg(n)2484
830 y Fp(->)g Fk(e)h Fp(;)g(_)f(->)h Fk(e)3110 800 y
Fe(0)3182 830 y Fp(})g Fk(:)14 b(:)g(:)1282 930 y Fp(_)99
b(->)50 b Fk(e)1620 900 y Fe(0)1692 930 y Fp(})535 1029
y(_)f(->)h Fk(e)823 999 y Fe(0)895 1029 y Fp(})285 1146
y Fn(at)21 b(least)g(one)f(of)g Fk(p)812 1158 y Fh(1)849
1146 y Fk(;)14 b(:)g(:)g(:)f(;)h(p)1075 1158 y Fg(n)1141
1146 y Fn(is)21 b(not)f(a)g(v)n(ariable;)g Fk(x)1758
1158 y Fh(1)1795 1146 y Fk(;)14 b(:)g(:)g(:)g(;)g(x)2027
1158 y Fg(n)2093 1146 y Fn(are)20 b(ne)n(w)g(v)n(ariables)77
1279 y(\(h\))110 b Fp(case)50 b Fk(v)j Fp(of)c({)h Fk(k)i
Fp(->)e Fk(e)p Fp(;)f(_)h(->)f Fk(e)1548 1248 y Fe(0)1621
1279 y Fp(})g Fj(=)h Fp(if)f(\()p Fk(v)s Fp(==)p Fk(k)s
Fp(\))g(then)g Fk(e)h Fp(else)f Fk(e)2948 1248 y Fe(0)285
1378 y Fn(where)20 b Fk(k)k Fn(is)d(a)f(numeric,)f(character)m(,)f(or)i
(string)g(literal.)87 1511 y(\(i\))119 b Fp(case)50 b
Fk(v)j Fp(of)c({)h Fk(x)g Fp(->)f Fk(e)p Fp(;)h(_)f(->)h
Fk(e)1550 1481 y Fe(0)1622 1511 y Fp(})g Fj(=)f Fp(case)g
Fk(v)54 b Fp(of)49 b({)h Fk(x)g Fp(->)f Fk(e)h Fp(})87
1644 y Fn(\(j\))119 b Fp(case)50 b Fk(v)j Fp(of)c({)h
Fk(x)g Fp(->)f Fk(e)h Fp(})f Fj(=)h Fp(\()f(\\)h Fk(x)g
Fp(->)g Fk(e)f Fp(\))h Fk(v)77 1777 y Fn(\(k\))110 b
Fp(case)50 b Fk(N)29 b(v)53 b Fp(of)c({)h Fk(N)59 b(p)49
b Fp(->)h Fk(e)p Fp(;)f(_)h(->)f Fk(e)1766 1747 y Fe(0)1839
1777 y Fp(})285 1876 y Fj(=)h Fp(case)f Fk(v)k Fp(of)c({)h
Fk(p)g Fp(->)f Fk(e)p Fp(;)g(_)h(->)f Fk(e)1658 1846
y Fe(0)1731 1876 y Fp(})285 1976 y Fn(where)20 b Fk(N)30
b Fn(is)21 b(a)f Fp(newtype)g Fn(constructor)87 2109
y(\(l\))119 b Fp(case)50 b Fd(?)f Fp(of)g({)h Fk(N)59
b(p)49 b Fp(->)h Fk(e)p Fp(;)f(_)g(->)h Fk(e)1691 2079
y Fe(0)1764 2109 y Fp(})f Fj(=)h Fp(case)f Fd(?)g Fp(of)h({)f
Fk(p)h Fp(->)f Fk(e)h Fp(})285 2208 y Fn(where)20 b Fk(N)30
b Fn(is)21 b(a)f Fp(newtype)g Fn(constructor)66 2341
y(\(m\))98 b Fp(case)70 b Fk(v)k Fp(of)49 b({)71 b Fk(K)76
b Fp({)20 b Fk(f)1197 2353 y Fh(1)1305 2341 y Fp(=)70
b Fk(p)1467 2353 y Fh(1)1575 2341 y Fp(,)g Fk(f)1736
2353 y Fh(2)1844 2341 y Fp(=)g Fk(p)2006 2353 y Fh(2)2114
2341 y Fp(,)g Fk(:)14 b(:)g(:)21 b Fp(})49 b(->)71 b
Fk(e)20 b Fp(;)50 b(_)f(->)70 b Fk(e)3089 2311 y Fe(0)3183
2341 y Fp(})285 2441 y Fj(=)h Fp(case)49 b Fk(e)709 2411
y Fe(0)781 2441 y Fp(of)h({)435 2540 y Fk(y)i Fp(->)485
2640 y(case)70 b Fk(v)j Fp(of)50 b({)555 2740 y Fk(K)76
b Fp({)71 b Fk(f)864 2752 y Fh(1)971 2740 y Fp(=)g Fk(p)1134
2752 y Fh(1)1241 2740 y Fp(})50 b(->)883 2839 y(case)70
b Fk(v)k Fp(of)49 b({)21 b Fk(K)76 b Fp({)20 b Fk(f)1745
2851 y Fh(2)1853 2839 y Fp(=)70 b Fk(p)2015 2851 y Fh(2)2123
2839 y Fp(,)g Fk(:)14 b(:)g(:)71 b Fp(})49 b(->)70 b
Fk(e)21 b Fp(;)49 b(_)h(->)70 b Fk(y)k Fp(};)883 2939
y(_)50 b(->)70 b Fk(y)j Fp(}})285 3039 y Fn(where)20
b Fk(f)550 3051 y Fh(1)587 3039 y Fn(,)g Fk(f)669 3051
y Fh(2)706 3039 y Fn(,)h Fk(:)14 b(:)g(:)20 b Fn(are)h(\002elds)f(of)g
(constructor)e Fk(K)6 b Fn(;)21 b Fk(y)i Fn(is)e(a)g(ne)n(w)f(v)n
(ariable)77 3171 y(\(n\))110 b Fp(case)70 b Fk(v)k Fp(of)49
b({)71 b Fk(K)76 b Fp({)20 b Fk(f)80 b Fp(=)70 b Fk(p)21
b Fp(})49 b(->)70 b Fk(e)21 b Fp(;)49 b(_)h(->)70 b Fk(e)2197
3141 y Fe(0)2291 3171 y Fp(})285 3271 y Fj(=)50 b Fp(case)70
b Fk(v)j Fp(of)50 b({)505 3371 y Fk(K)27 b(p)645 3383
y Fh(1)716 3371 y Fk(:)14 b(:)g(:)35 b(p)890 3383 y Fg(n)1005
3371 y Fp(->)70 b Fk(e)21 b Fp(;)49 b(_)h(->)70 b Fk(e)1643
3341 y Fe(0)1737 3371 y Fp(})285 3470 y Fn(where)20 b
Fk(p)551 3482 y Fg(i)599 3470 y Fn(is)h Fk(p)g Fn(if)f
Fk(f)30 b Fn(labels)20 b(the)g Fk(i)p Fn(th)g(component)e(of)i
Fk(K)6 b Fn(,)20 b Fp(_)g Fn(otherwise)77 3570 y(\(o\))110
b Fp(case)70 b Fk(v)k Fp(of)49 b({)71 b Fk(K)76 b Fp({})49
b(->)71 b Fk(e)20 b Fp(;)50 b(_)f(->)70 b Fk(e)1873 3540
y Fe(0)1967 3570 y Fp(})285 3670 y Fj(=)50 b Fp(case)70
b Fk(v)j Fp(of)50 b({)505 3769 y Fk(K)27 b Fp(_)20 b
Fk(:)14 b(:)g(:)21 b Fp(_)49 b(->)71 b Fk(e)20 b Fp(;)50
b(_)f(->)71 b Fk(e)1529 3739 y Fe(0)1622 3769 y Fp(})77
3869 y Fn(\(p\))110 b Fp(case)50 b(\()o Fk(K)661 3839
y Fe(0)734 3869 y Fk(e)773 3881 y Fh(1)860 3869 y Fk(:)14
b(:)g(:)49 b(e)1045 3881 y Fg(m)1108 3869 y Fp(\))h(of)f({)h
Fk(K)55 b(x)1630 3881 y Fh(1)1717 3869 y Fk(:)14 b(:)g(:)50
b(x)1911 3881 y Fg(n)2007 3869 y Fp(->)f Fk(e)p Fp(;)g(_)h(->)f
Fk(e)2582 3839 y Fe(0)2655 3869 y Fp(})h Fj(=)f Fk(e)2908
3839 y Fe(0)285 3968 y Fn(where)20 b Fk(K)26 b Fn(and)20
b Fk(K)824 3938 y Fe(0)867 3968 y Fn(are)g(distinct)h
Fp(data)f Fn(constructors)e(of)i(arity)g Fk(n)h Fn(and)e
Fk(m)p Fn(,)i(respecti)n(v)o(ely)77 4101 y(\(q\))110
b Fp(case)50 b(\()o Fk(K)56 b(e)750 4113 y Fh(1)836 4101
y Fk(:)14 b(:)g(:)50 b(e)1022 4113 y Fg(n)1067 4101 y
Fp(\))f(of)h({)g Fk(K)55 b(x)1589 4113 y Fh(1)1676 4101
y Fk(:)14 b(:)g(:)50 b(x)1870 4113 y Fg(n)1965 4101 y
Fp(->)g Fk(e)p Fp(;)f(_)h(->)f Fk(e)2541 4071 y Fe(0)2614
4101 y Fp(})285 4201 y Fj(=)h Fp(\(\\)o Fk(x)546 4213
y Fh(1)619 4201 y Fk(:)14 b(:)g(:)34 b(x)797 4213 y Fg(n)893
4201 y Fp(->)49 b Fk(e)p Fp(\))g Fk(e)1219 4213 y Fh(1)1291
4201 y Fk(:)14 b(:)g(:)34 b(e)1461 4213 y Fg(n)285 4301
y Fn(where)20 b Fk(K)26 b Fn(is)21 b(a)g Fp(data)f Fn(constructor)e(of)
i(arity)g Fk(n)84 4433 y Fn(\(r\))117 b Fp(case)20 b
Fd(?)h Fp(of)49 b({)h Fk(K)55 b(x)1013 4445 y Fh(1)1101
4433 y Fk(:)14 b(:)g(:)49 b(x)1294 4445 y Fg(n)1390 4433
y Fp(->)g Fk(e)p Fp(;)g(_)h(->)g Fk(e)1966 4403 y Fe(0)2038
4433 y Fp(})42 b Fj(=)f Fd(?)285 4533 y Fn(where)20 b
Fk(K)26 b Fn(is)21 b(a)g Fp(data)f Fn(constructor)e(of)i(arity)g
Fk(n)82 4666 y Fn(\(s\))115 b Fp(case)50 b Fk(v)j Fp(of)c({)h
Fk(x)p Fp(+)p Fk(k)j Fp(->)c Fk(e)p Fp(;)g(_)h(->)f Fk(e)1645
4636 y Fe(0)1718 4666 y Fp(})285 4765 y Fj(=)h Fp(if)f
Fk(v)k Fp(>=)d Fk(k)i Fp(then)d(\(\\)p Fk(x)h Fp(->)g
Fk(e)p Fp(\))f(\()p Fk(v)s Fp(-)p Fk(k)s Fp(\))g(else)g
Fk(e)2197 4735 y Fe(0)285 4865 y Fn(where)20 b Fk(k)k
Fn(is)d(a)f(numeric)f(literal)p 3559 4920 V 15 4923 3548
4 v 890 5176 a FI(Figure)24 b(3.2:)29 b(Semantics)c(of)e(Case)h
(Expressions,)i(P)o(art)c(2)p eop
%%Page: 37 51
37 50 bop 300 1062 a Fw(Chapter)44 b(4)300 1560 y FH(Declarations)53
b(and)e(Bindings)300 2088 y FI(In)23 b(this)i(chapter)l(,)g(we)e
(describe)i(the)f(syntax)h(and)f(informal)h(semantics)g(of)f(Hask)o
(ell)g FJ(declar)o(ations)p FI(.)300 2383 y Fv(mo)-5
b(dule)199 b FB(!)113 b FD(module)20 b Fv(mo)-5 b(did)34
b Ft([)p Fv(exp)-5 b(orts)7 b Ft(])26 b FD(where)20 b
Fv(b)-5 b(o)g(dy)806 2496 y FB(j)147 b Fv(b)-5 b(o)g(dy)300
2609 y(b)g(o)g(dy)306 b FB(!)113 b FD({)22 b Fv(imp)-5
b(de)g(cls)33 b FD(;)22 b Fv(top)-5 b(de)g(cls)32 b FD(})806
2722 y FB(j)147 b FD({)22 b Fv(imp)-5 b(de)g(cls)33 b
FD(})806 2835 y FB(j)147 b FD({)22 b Fv(top)-5 b(de)g(cls)33
b FD(})300 3061 y Fv(top)-5 b(de)g(cls)172 b FB(!)113
b Fv(top)-5 b(de)g(cl)1243 3075 y Fu(1)1318 3061 y FD(;)37
b Fq(:)15 b(:)g(:)39 b FD(;)22 b Fv(top)-5 b(de)g(cl)1896
3075 y Fu(n)2793 3061 y Ft(\()p Fv(n)32 b FB(\025)25
b Fv(1)12 b Ft(\))300 3174 y Fv(top)-5 b(de)g(cl)209
b FB(!)113 b FD(type)21 b Fv(simpletyp)-5 b(e)32 b FD(=)22
b Fv(typ)-5 b(e)806 3287 y FB(j)147 b FD(data)21 b Ft([)p
Fv(c)-5 b(ontext)33 b FD(=>)o Ft(])23 b Fv(simpletyp)-5
b(e)31 b FD(=)23 b Fv(c)-5 b(onstrs)31 b Ft([)p Fv(deriving)8
b Ft(])806 3400 y FB(j)147 b FD(newtype)20 b Ft([)p Fv(c)-5
b(ontext)32 b FD(=>)p Ft(])23 b Fv(simpletyp)-5 b(e)31
b FD(=)22 b Fv(newc)-5 b(onstr)35 b Ft([)p Fv(deriving)8
b Ft(])806 3512 y FB(j)147 b FD(class)21 b Ft([)p Fv(sc)-5
b(ontext)33 b FD(=>)o Ft(])23 b Fv(tycls)30 b(tyvar)k
Ft([)p FD(where)21 b Fv(c)-5 b(de)g(cls)7 b Ft(])806
3625 y FB(j)147 b FD(instance)19 b Ft([)p Fv(sc)-5 b(ontext)33
b FD(=>)o Ft(])23 b Fv(qtycls)31 b(inst)h Ft([)p FD(where)20
b Fv(ide)-5 b(cls)7 b Ft(])806 3738 y FB(j)147 b FD(default)20
b(\()o Fv(typ)-5 b(e)1594 3752 y Fu(1)1667 3738 y FD(,)38
b Fq(:)15 b(:)g(:)39 b FD(,)22 b Fv(typ)-5 b(e)2138 3752
y Fu(n)2189 3738 y FD(\))753 b Ft(\()p Fv(n)33 b FB(\025)25
b Fv(0)12 b Ft(\))806 3851 y FB(j)147 b Fv(de)-5 b(cl)300
4077 y(de)g(cls)289 b FB(!)113 b FD({)22 b Fv(de)-5 b(cl)1203
4091 y Fu(1)1276 4077 y FD(;)38 b Fq(:)15 b(:)g(:)39
b FD(;)22 b Fv(de)-5 b(cl)1738 4091 y Fu(n)1811 4077
y FD(})927 b Ft(\()p Fv(n)32 b FB(\025)25 b Fv(0)12 b
Ft(\))300 4190 y Fv(de)-5 b(cl)326 b FB(!)113 b Fv(gende)-5
b(cl)806 4303 y FB(j)147 b Ft(\()p Fv(funlhs)31 b FB(j)23
b Fv(p)-5 b(at)1452 4270 y Fu(0)1503 4303 y Ft(\))23
b Fv(rhs)300 4529 y(c)-5 b(de)g(cls)252 b FB(!)113 b
FD({)22 b Fv(c)-5 b(de)g(cl)1240 4543 y Fu(1)1314 4529
y FD(;)37 b Fq(:)15 b(:)g(:)39 b FD(;)22 b Fv(c)-5 b(de)g(cl)1812
4543 y Fu(n)1885 4529 y FD(})853 b Ft(\()p Fv(n)32 b
FB(\025)25 b Fv(0)12 b Ft(\))300 4642 y Fv(c)-5 b(de)g(cl)289
b FB(!)113 b Fv(gende)-5 b(cl)806 4754 y FB(j)147 b Ft(\()p
Fv(funlhs)31 b FB(j)23 b Fv(var)10 b Ft(\))24 b Fv(rhs)300
4980 y(ide)-5 b(cls)261 b FB(!)113 b FD({)22 b Fv(ide)-5
b(cl)1231 4994 y Fu(1)1304 4980 y FD(;)38 b Fq(:)15 b(:)g(:)39
b FD(;)22 b Fv(ide)-5 b(cl)1794 4994 y Fu(n)1867 4980
y FD(})871 b Ft(\()p Fv(n)32 b FB(\025)25 b Fv(0)12 b
Ft(\))300 5093 y Fv(ide)-5 b(cl)298 b FB(!)113 b Ft(\()p
Fv(funlhs)31 b FB(j)23 b Fv(var)10 b Ft(\))24 b Fv(rhs)806
5206 y FB(j)1962 b Ft(\()p FI(empty)q Ft(\))2055 5593
y FI(37)p eop
%%Page: 38 52
38 51 bop 0 100 a FI(38)1591 b FE(CHAPTER)19 b(4.)52
b(DECLARA)-10 b(TIONS)18 b(AND)k(BINDINGS)0 356 y Fv(gende)-5
b(cl)191 b FB(!)113 b Fv(vars)31 b FD(::)22 b Ft([)p
Fv(c)-5 b(ontext)33 b FD(=>)o Ft(])23 b Fv(typ)-5 b(e)839
b Ft(\()p FI(type)24 b(signature)t Ft(\))506 469 y FB(j)147
b Fv(\014xity)31 b Ft([)p Fv(inte)-5 b(ger)10 b Ft(])24
b Fv(ops)1108 b Ft(\()p FI(\002xity)24 b(declaration)t
Ft(\))506 582 y FB(j)1962 b Ft(\()p FI(empty)24 b(declaration)t
Ft(\))0 808 y Fv(ops)345 b FB(!)113 b Fv(op)770 822 y
Fu(1)843 808 y FD(,)38 b Fq(:)15 b(:)g(:)39 b FD(,)22
b Fv(op)1249 822 y Fu(n)2493 808 y Ft(\()p Fv(n)32 b
FB(\025)25 b Fv(1)12 b Ft(\))0 920 y Fv(vars)311 b FB(!)113
b Fv(var)804 934 y Fu(1)877 920 y FD(,)37 b Fq(:)15 b(:)g(:)39
b FD(,)23 b Fv(var)1317 934 y Fu(n)2493 920 y Ft(\()p
Fv(n)32 b FB(\025)25 b Fv(1)12 b Ft(\))0 1033 y Fv(\014xity)279
b FB(!)113 b FD(infixl)20 b FB(j)j FD(infixr)d FB(j)j
FD(infix)0 1329 y FI(The)30 b(declarations)k(in)c(the)h(syntactic)i
(cate)o(gory)f Fv(top)-5 b(de)g(cls)39 b FI(are)31 b(only)g(allo)n(wed)
g(at)g(the)f(top)h(le)n(v)o(el)g(of)f(a)g(Hask)o(ell)0
1442 y(module)37 b(\(see)f(Chapter)h(5\),)i(whereas)e
Fv(de)-5 b(cls)43 b FI(may)36 b(be)g(used)h(either)g(at)f(the)g(top)g
(le)n(v)o(el)h(or)e(in)h(nested)i(scopes)0 1555 y(\(i.e.)23
b(those)i(within)f(a)f FD(let)e FI(or)j FD(where)c FI(construct\).)0
1751 y(F)o(or)27 b(e)o(xposition,)32 b(we)27 b(di)n(vide)i(the)g
(declarations)i(into)e(three)g(groups:)40 b(user)n(-de\002ned)31
b(datatypes,)g(consisting)g(of)0 1864 y FD(type)n FI(,)21
b FD(newtype)m FI(,)g(and)i FD(data)c FI(declarations)25
b(\(Section)e(4.2\);)g(type)g(classes)g(and)g(o)o(v)o(erloading,)h
(consisting)h(of)0 1977 y FD(class)n FI(,)d FD(instance)l
FI(,)h(and)h FD(default)19 b FI(declarations)27 b(\(Section)e(4.3\);)f
(and)g(nested)h(declarations,)h(consisting)0 2089 y(of)d(v)n(alue)i
(bindings,)g(type)g(signatures,)h(and)e(\002xity)g(declarations)j
(\(Section)d(4.4\).)0 2285 y(Hask)o(ell)32 b(has)f(se)n(v)o(eral)i
(primiti)n(v)o(e)e(datatypes)j(that)e(are)f(\223hard-wired\224)j
(\(such)e(as)f(inte)o(gers)h(and)g(\003oating-point)0
2398 y(numbers\),)26 b(b)n(ut)g(most)e(\223b)n(uilt-in\224)k(datatypes)
f(are)e(de\002ned)g(with)g(normal)g(Hask)o(ell)h(code,)g(using)f
(normal)h FD(type)0 2511 y FI(and)e FD(data)d FI(declarations.)32
b(These)24 b(\223b)n(uilt-in\224)i(datatypes)g(are)e(described)i(in)e
(detail)g(in)g(Section)g(6.1.)0 2887 y FC(4.1)119 b(Ov)o(er)o(view)30
b(of)f(T)-9 b(ypes)30 b(and)h(Classes)0 3177 y FI(Hask)o(ell)26
b(uses)f(a)g(traditional)i(Hindle)o(y-Milner)g(polymorphic)h(type)d
(system)h(to)f(pro)o(vide)h(a)e(static)i(type)f(seman-)0
3290 y(tics)j([3,)e(5)q(],)h(b)n(ut)h(the)f(type)h(system)f(has)h(been)
g(e)o(xtended)h(with)e FJ(type)h(classes)g FI(\(or)g(just)f
FJ(classes)p FI(\))i(that)f(pro)o(vide)h(a)0 3403 y(structured)d(w)o
(ay)e(to)f(introduce)j FJ(o)o(verloaded)h FI(functions.)0
3599 y(A)32 b FD(class)e FI(declaration)36 b(\(Section)e(4.3.1\))f
(introduces)j(a)d(ne)n(w)f FJ(type)i(class)g FI(and)g(the)f(o)o(v)o
(erloaded)i(operations)0 3712 y(that)e(must)f(be)g(supported)i(by)e(an)
o(y)h(type)f(that)h(is)f(an)g(instance)i(of)e(that)g(class.)55
b(An)32 b FD(instance)27 b FI(declaration)0 3824 y(\(Section)37
b(4.3.2\))f(declares)i(that)e(a)g(type)g(is)g(an)g FJ(instance)i
FI(of)e(a)f(class)i(and)f(includes)i(the)e(de\002nitions)i(of)e(the)0
3937 y(o)o(v)o(erloaded)26 b(operations\227called)i FJ(class)d(methods)
p FI(\227instantiated)k(on)23 b(the)h(named)g(type.)0
4133 y(F)o(or)33 b(e)o(xample,)k(suppose)f(we)d(wish)h(to)g(o)o(v)o
(erload)h(the)g(operations)h FD(\(+\))c FI(and)j FD(negate)30
b FI(on)k(types)h FD(Int)d FI(and)0 4246 y FD(Float)n
FI(.)c(W)-7 b(e)22 b(introduce)k(a)d(ne)n(w)g(type)i(class)f(called)h
FD(Num)o FI(:)241 4427 y Fp(class)49 b(Num)g(a)99 b(where)498
b(--)49 b(simplified)f(class)h(declaration)f(for)h(Num)340
4527 y(\(+\))199 b(::)50 b(a)f(->)h(a)f(->)h(a)249 b(--)49
b(\(Num)g(is)g(defined)g(in)g(the)h(Prelude\))340 4626
y(negate)f(::)h(a)f(->)h(a)0 4809 y FI(This)29 b(declaration)j(may)d
(be)g(read)h(\223a)f(type)h FD(a)e FI(is)h(an)g(instance)j(of)d(the)g
(class)h FD(Num)d FI(if)i(there)h(are)g(class)g(methods)0
4922 y FD(\(+\))21 b FI(and)j FD(negate)n FI(,)e(of)i(the)f(gi)n(v)o
(en)h(types,)h(de\002ned)f(on)g(it.)-6 b(\224)0 5118
y(W)f(e)23 b(may)g(then)h(declare)h FD(Int)d FI(and)i
FD(Float)c FI(to)k(be)f(instances)j(of)e(this)g(class:)p
eop
%%Page: 39 53
39 52 bop 300 100 a FE(4.1.)51 b(O)-5 b(VER)e(VIEW)21
b(OF)h(TYPES)e(AND)i(CLASSES)1775 b FI(39)550 344 y FD(instance)51
b(Num)i(Int)108 b(where)270 b(--)54 b(simplified)c(instance)h(of)j(Num)
f(Int)659 457 y(x)h(+)h(y)381 b(=)108 b(addInt)52 b(x)i(y)659
569 y(negate)e(x)218 b(=)108 b(negateInt)51 b(x)550 729
y(instance)g(Num)i(Float)107 b(where)161 b(--)54 b(simplified)c
(instance)h(of)j(Num)f(Float)659 842 y(x)h(+)h(y)381
b(=)108 b(addFloat)51 b(x)j(y)659 955 y(negate)e(x)218
b(=)108 b(negateFloat)50 b(x)300 1140 y FI(where)33 b
FD(addInt)m FI(,)g FD(negateInt)l FI(,)h FD(addFloat)l
FI(,)f(and)g FD(negateFloat)27 b FI(are)32 b(assumed)i(in)e(this)h
(case)g(to)f(be)300 1253 y(primiti)n(v)o(e)d(functions,)i(b)n(ut)d(in)g
(general)h(could)g(be)f(an)o(y)f(user)n(-de\002ned)k(function.)43
b(The)27 b(\002rst)h(declaration)j(abo)o(v)o(e)300 1366
y(may)37 b(be)f(read)i(\223)p FD(Int)d FI(is)h(an)h(instance)i(of)e
(the)g(class)h FD(Num)c FI(as)j(witnessed)h(by)f(these)h(de\002nitions)
h(\(i.e.)d(class)300 1479 y(methods\))25 b(for)f FD(\(+\))d
FI(and)j FD(negate)m FI(.)-6 b(\224)300 1673 y(More)29
b(e)o(xamples)i(of)e(type)h(classes)h(can)e(be)g(found)i(in)e(the)g
(papers)i(by)e(Jones)i([7])e(or)g(W)-7 b(adler)30 b(and)g(Blott)f([12)q
(].)300 1786 y(The)24 b(term)g(`type)h(class')h(w)o(as)e(used)h(to)f
(describe)i(the)f(original)h(Hask)o(ell)f(1.0)g(type)g(system;)g
(`constructor)j(class')300 1899 y(w)o(as)c(used)i(to)e(describe)j(an)d
(e)o(xtension)j(to)e(the)f(original)j(type)e(classes.)34
b(There)25 b(is)f(no)h(longer)h(an)o(y)e(reason)i(to)f(use)300
2012 y(tw)o(o)i(dif)n(ferent)j(terms:)38 b(in)28 b(this)g(report,)i
(`type)f(class')g(includes)h(both)e(the)g(original)i(Hask)o(ell)f(type)
f(classes)i(and)300 2125 y(the)24 b(constructor)j(classes)e(introduced)
h(by)e(Jones.)300 2454 y FG(4.1.1)99 b(Kinds)300 2710
y FI(T)-7 b(o)24 b(ensure)j(that)e(the)o(y)h(are)f(v)n(alid,)h(type)g
(e)o(xpressions)i(are)d(classi\002ed)i(into)e(dif)n(ferent)i
FJ(kinds)p FI(,)f(which)g(tak)o(e)g(one)f(of)300 2823
y(tw)o(o)e(possible)j(forms:)436 3087 y FB(\017)46 b
FI(The)23 b(symbol)i FB(\003)e FI(represents)j(the)e(kind)g(of)g(all)g
(nullary)h(type)f(constructors.)436 3273 y FB(\017)46
b FI(If)21 b Fq(\024)660 3287 y FA(1)720 3273 y FI(and)g
Fq(\024)923 3287 y FA(2)983 3273 y FI(are)g(kinds,)i(then)e
Fq(\024)1583 3287 y FA(1)1648 3273 y FB(!)k Fq(\024)1816
3287 y FA(2)1876 3273 y FI(is)c(the)g(kind)h(of)f(types)h(that)f(tak)o
(e)h(a)e(type)i(of)f(kind)h Fq(\024)3472 3287 y FA(1)3532
3273 y FI(and)f(return)527 3386 y(a)i(type)i(of)e(kind)h
Fq(\024)1104 3400 y FA(2)1144 3386 y FI(.)300 3650 y(Kind)j(inference)j
(checks)f(the)f(v)n(alidity)h(of)e(type)h(e)o(xpressions)j(in)c(a)g
(similar)h(w)o(ay)f(that)h(type)g(inference)i(checks)300
3763 y(the)f(v)n(alidity)i(of)e(v)n(alue)h(e)o(xpressions.)48
b(Ho)n(we)n(v)o(er)l(,)30 b(unlik)o(e)h(types,)g(kinds)f(are)f
(entirely)i(implicit)f(and)g(are)f(not)h(a)300 3876 y(visible)25
b(part)f(of)g(the)g(language.)31 b(Kind)23 b(inference)j(is)d
(discussed)k(in)c(Section)i(4.6.)300 4206 y FG(4.1.2)99
b(Syntax)25 b(of)g(T)-7 b(ypes)300 4461 y Fv(typ)i(e)317
b FB(!)113 b Fv(btyp)-5 b(e)31 b Ft([)p FD(->)22 b Fv(typ)-5
b(e)7 b Ft(])1239 b(\()p FI(function)26 b(type)q Ft(\))300
4687 y Fv(btyp)-5 b(e)275 b FB(!)113 b Ft([)p Fv(btyp)-5
b(e)7 b Ft(])24 b Fv(atyp)-5 b(e)1332 b Ft(\()p FI(type)24
b(application)t Ft(\))300 4913 y Fv(atyp)-5 b(e)271 b
FB(!)113 b Fv(gtyc)-5 b(on)806 5026 y FB(j)147 b Fv(tyvar)806
5139 y FB(j)g FD(\()22 b Fv(typ)-5 b(e)1212 5153 y Fu(1)1286
5139 y FD(,)37 b Fq(:)15 b(:)g(:)39 b FD(,)22 b Fv(typ)-5
b(e)1756 5154 y Fu(k)1824 5139 y FD(\))914 b Ft(\()p
FI(tuple)25 b(type)q Fq(;)38 b Fv(k)d FB(\025)25 b Fv(2)12
b Ft(\))806 5252 y FB(j)147 b FD([)22 b Fv(typ)-5 b(e)31
b FD(])1495 b Ft(\()p FI(list)24 b(type)r Ft(\))806 5365
y FB(j)147 b FD(\()22 b Fv(typ)-5 b(e)31 b FD(\))1495
b Ft(\()p FI(parenthesised)28 b(constructor)t Ft(\))p
eop
%%Page: 40 54
40 53 bop 0 100 a FI(40)1591 b FE(CHAPTER)19 b(4.)52
b(DECLARA)-10 b(TIONS)18 b(AND)k(BINDINGS)0 469 y Fv(gtyc)-5
b(on)224 b FB(!)113 b Fv(qtyc)-5 b(on)506 582 y FB(j)147
b FD(\(\))1705 b Ft(\()p FI(unit)24 b(type)r Ft(\))506
695 y FB(j)147 b FD([])1705 b Ft(\()p FI(list)24 b(constructor)t
Ft(\))506 808 y FB(j)147 b FD(\(->\))1595 b Ft(\()p FI(function)26
b(constructor)t Ft(\))506 920 y FB(j)147 b FD(\(,)o FB(f)p
FD(,)p FB(g)p FD(\))1506 b Ft(\()p FI(tupling)25 b(constructors)5
b Ft(\))0 1169 y FI(The)31 b(syntax)i(for)e(Hask)o(ell)i(type)f(e)o
(xpressions)65 b(is)31 b(gi)n(v)o(en)h(abo)o(v)o(e.)52
b(Just)32 b(as)g(data)g(v)n(alues)g(are)g(b)n(uilt)g(using)h(data)0
1282 y(constructors,)26 b(type)e(v)n(alues)g(are)f(b)n(uilt)h(from)f
Fv(typ)-5 b(e)30 b(c)-5 b(onstructors)10 b FI(.)27 b(As)22
b(with)h(data)h(constructors,)i(the)d(names)g(of)0 1394
y(type)28 b(constructors)i(start)e(with)f(uppercase)j(letters.)41
b(Unlik)o(e)28 b(data)f(constructors,)32 b(in\002x)27
b(type)g(constructors)k(are)0 1507 y(not)24 b(allo)n(wed)g(\(other)h
(than)f FD(\(->\))n FI(\).)0 1691 y(The)f(main)h(forms)f(of)h(type)g(e)
o(xpression)i(are)e(as)g(follo)n(ws:)114 1921 y(1.)45
b(T)-7 b(ype)22 b(v)n(ariables,)j(written)e(as)f(identi\002ers)i(be)o
(ginning)h(with)d(a)g(lo)n(wercase)i(letter)-5 b(.)29
b(The)22 b(kind)h(of)g(a)e(v)n(ariable)227 2033 y(is)j(determined)h
(implicitly)h(by)d(the)h(conte)o(xt)h(in)f(which)g(it)f(appears.)114
2209 y(2.)45 b(T)-7 b(ype)27 b(constructors.)42 b(Most)26
b(type)i(constructors)i(are)d(written)h(as)e(an)h(identi\002er)h(be)o
(ginning)h(with)e(an)g(up-)227 2322 y(percase)f(letter)-5
b(.)29 b(F)o(or)23 b(e)o(xample:)336 2498 y FB(\017)46
b FD(Char)n FI(,)23 b FD(Int)o FI(,)f FD(Integer)m FI(,)g
FD(Float)n FI(,)g FD(Double)e FI(and)k FD(Bool)d FI(are)j(type)g
(constants)i(with)e(kind)g FB(\003)p FI(.)336 2632 y
FB(\017)46 b FD(Maybe)21 b FI(and)j FD(IO)e FI(are)h(unary)i(type)f
(constructors,)j(and)d(treated)h(as)f(types)g(with)g(kind)g
FB(\003)i(!)f(\003)p FI(.)336 2766 y FB(\017)46 b FI(The)20
b(declarations)k FD(data)53 b(T)h(...)19 b FI(or)h FD(newtype)52
b(T)i(...)18 b FI(add)j(the)g(type)g(constructor)j FD(T)19
b FI(to)i(the)427 2879 y(type)k(v)n(ocab)n(ulary)-6 b(.)32
b(The)23 b(kind)h(of)g FD(T)e FI(is)h(determined)j(by)e(kind)g
(inference.)227 3055 y(Special)h(syntax)g(is)e(pro)o(vided)j(for)d
(certain)i(b)n(uilt-in)h(type)e(constructors:)336 3231
y FB(\017)46 b FI(The)24 b FJ(trivial)h(type)f FI(is)g(written)h(as)e
FD(\(\))f FI(and)j(has)f(kind)h FB(\003)p FI(.)k(It)23
b(denotes)j(the)e(\223nullary)i(tuple\224)f(type,)g(and)427
3344 y(has)f(e)o(xactly)h(one)f(v)n(alue,)g(also)g(written)h
FD(\(\))c FI(\(see)k(Sections)f(3.9)g(and)g(6.1.5\).)336
3478 y FB(\017)46 b FI(The)23 b FJ(function)j(type)e
FI(is)g(written)g(as)f FD(\(->\))e FI(and)j(has)g(kind)h
FB(\003)g(!)g(\003)h(!)f(\003)p FI(.)336 3612 y FB(\017)46
b FI(The)23 b FJ(list)h(type)g FI(is)g(written)g(as)g
FD([])d FI(and)j(has)g(kind)h FB(\003)g(!)g(\003)p FI(.)336
3747 y FB(\017)46 b FI(The)32 b FJ(tuple)g(types)h FI(are)f(written)g
(as)g FD(\(,\))n FI(,)h FD(\(,,\))n FI(,)g(and)f(so)g(on.)53
b(Their)32 b(kinds)h(are)f FB(\003)40 b(!)h(\003)g(!)f(\003)p
FI(,)427 3860 y FB(\003)26 b(!)f(\003)h(!)f(\003)h(!)f(\003)p
FI(,)e(and)h(so)f(on.)227 4035 y(Use)g(of)h(the)g FD(\(->\))d
FI(and)j FD([])d FI(constants)26 b(is)e(described)i(in)d(more)h(detail)
h(belo)n(w)-6 b(.)114 4211 y(3.)45 b(T)-7 b(ype)27 b(application.)42
b(If)26 b Fq(t)1017 4225 y FA(1)1083 4211 y FI(is)g(a)h(type)g(of)g
(kind)h Fq(\024)1760 4225 y FA(1)1831 4211 y FB(!)k Fq(\024)2006
4225 y FA(2)2071 4211 y FI(and)c Fq(t)2262 4225 y FA(2)2327
4211 y FI(is)f(a)f(type)i(of)f(kind)g Fq(\024)3004 4225
y FA(1)3044 4211 y FI(,)g(then)g Fq(t)3309 4225 y FA(1)3375
4211 y Fq(t)3408 4225 y FA(2)3473 4211 y FI(is)g(a)227
4324 y(type)e(e)o(xpression)h(of)d(kind)i Fq(\024)1152
4338 y FA(2)1191 4324 y FI(.)114 4500 y(4.)45 b(A)23
b FJ(par)m(enthesized)k(type)p FI(,)d(ha)n(ving)h(form)f
FD(\()o Fv(t)9 b FD(\))p FI(,)22 b(is)h(identical)j(to)e(the)g(type)g
Fv(t)9 b FI(.)0 4729 y(F)o(or)26 b(e)o(xample,)i(the)g(type)f(e)o
(xpression)j FD(IO)54 b(a)25 b FI(can)j(be)f(understood)j(as)d(the)g
(application)j(of)d(a)g(constant,)i FD(IO)p FI(,)d(to)0
4842 y(the)j(v)n(ariable)i FD(a)p FI(.)45 b(Since)29
b(the)g FD(IO)f FI(type)i(constructor)i(has)d(kind)h
FB(\003)36 b(!)g(\003)p FI(,)30 b(it)f(follo)n(ws)h(that)f(both)h(the)g
(v)n(ariable)g FD(a)0 4955 y FI(and)i(the)g(whole)f(e)o(xpression,)36
b FD(IO)54 b(a)o FI(,)33 b(must)e(ha)n(v)o(e)h(kind)g
FB(\003)p FI(.)52 b(In)32 b(general,)i(a)d(process)j(of)d
FJ(kind)h(infer)m(ence)i FI(\(see)0 5068 y(Section)d(4.6\))f(is)g
(needed)i(to)e(determine)i(appropriate)h(kinds)f(for)e(user)n
(-de\002ned)j(datatypes,)h(type)d(synon)o(yms,)0 5181
y(and)24 b(classes.)0 5365 y(Special)e(syntax)i(is)d(pro)o(vided)j(to)d
(allo)n(w)h(certain)h(type)f(e)o(xpressions)j(to)c(be)h(written)g(in)g
(a)f(more)g(traditional)k(style:)p eop
%%Page: 41 55
41 54 bop 300 100 a FE(4.1.)51 b(O)-5 b(VER)e(VIEW)21
b(OF)h(TYPES)e(AND)i(CLASSES)1775 b FI(41)414 356 y(1.)45
b(A)51 b FJ(function)j(type)f FI(has)f(the)g(form)g Fv(t)1788
370 y Fu(1)1860 356 y FD(->)22 b Fv(t)2022 370 y Fu(2)2072
356 y FI(,)58 b(which)52 b(is)f(equi)n(v)n(alent)k(to)d(the)g(type)g
FD(\(->\))21 b Fv(t)3725 370 y Fu(1)3798 356 y Fv(t)3828
370 y Fu(2)3877 356 y FI(.)527 469 y(Function)40 b(arro)n(ws)f
(associate)i(to)d(the)g(right.)75 b(F)o(or)37 b(e)o(xample,)43
b FD(Int)53 b(->)h(Int)f(->)g(Float)36 b FI(means)527
582 y FD(Int)53 b(->)h(\(Int)f(->)g(Float\))n FI(.)414
762 y(2.)45 b(A)37 b FJ(tuple)h(type)g FI(has)g(the)g(form)f
FD(\()p Fv(t)1640 776 y Fu(1)1689 762 y FD(,)h Fq(:)15
b(:)g(:)39 b FD(,)22 b Fv(t)2033 777 y Fu(k)2077 762
y FD(\))36 b FI(where)i Fv(k)d FB(\025)25 b Fv(2)13 b
FI(,)39 b(which)f(is)g(equi)n(v)n(alent)h(to)f(the)f(type)527
875 y FD(\(,)o FI(.)14 b(.)g(.)g FD(,\))20 b Fq(t)910
889 y FA(1)987 875 y Fq(:)15 b(:)g(:)39 b(t)1164 890
y Fo(k)1238 875 y FI(where)32 b(there)h(are)g Fq(k)c
FB(\000)d Ft(1)32 b FI(commas)g(between)h(the)g(parenthesis.)57
b(It)32 b(denotes)i(the)527 988 y(type)24 b(of)f Fv(k)9
b FI(-tuples)25 b(with)d(the)h(\002rst)g(component)i(of)d(type)i
Fv(t)2337 1002 y Fu(1)2387 988 y FI(,)e(the)h(second)h(component)h(of)e
(type)g Fv(t)3571 1002 y Fu(2)3621 988 y FI(,)f(and)h(so)527
1101 y(on)h(\(see)g(Sections)h(3.8)e(and)h(6.1.4\).)414
1281 y(3.)45 b(A)23 b FJ(list)i(type)g FI(has)g(the)f(form)g
FD([)p Fv(t)9 b FD(])o FI(,)24 b(which)g(is)g(equi)n(v)n(alent)j(to)d
(the)h(type)g FD([])d Fv(t)8 b FI(.)31 b(It)24 b(denotes)i(the)e(type)h
(of)f(lists)527 1393 y(with)g(elements)h(of)e(type)h
Fv(t)32 b FI(\(see)24 b(Sections)h(3.7)e(and)h(6.1.3\).)300
1637 y(These)36 b(special)h(syntactic)g(forms)f(al)o(w)o(ays)g(denote)h
(the)f(b)n(uilt-in)h(type)f(constructors)j(for)d(functions,)k(tuples,)
300 1750 y(and)29 b(lists,)h(re)o(gardless)g(of)e(what)g(is)h(in)f
(scope.)44 b(In)28 b(a)g(similar)h(w)o(ay)-6 b(,)29 b(the)g(pre\002x)g
(type)g(constructors)j FD(\(->\))n FI(,)c FD([])o FI(,)300
1863 y FD(\(\))o FI(,)36 b FD(\(,\))n FI(,)g(and)e(so)h(on,)h(al)o(w)o
(ays)f(denote)h(the)e(b)n(uilt-in)i(type)f(constructors;)43
b(the)o(y)34 b(cannot)i(be)e(quali\002ed,)k(nor)300 1976
y(mentioned)26 b(in)d(import)h(or)g(e)o(xport)g(lists)h(\(Chapter)f
(5\).)29 b(\(Hence)24 b(the)g(special)h(production,)i(\223gtycon\224,)e
(abo)o(v)o(e.\))300 2164 y(Although)j(the)e(list)g(and)h(tuple)g(types)
g(ha)n(v)o(e)f(special)i(syntax,)g(their)f(semantics)h(is)d(the)i(same)
f(as)g(the)g(equi)n(v)n(alent)300 2277 y(user)n(-de\002ned)g(algebraic)
g(data)e(types.)300 2466 y(Notice)h(that)f(e)o(xpressions)j(and)d
(types)h(ha)n(v)o(e)g(a)f(consistent)i(syntax.)32 b(If)24
b Fv(t)2586 2480 y Fu(i)2641 2466 y FI(is)g(the)g(type)h(of)f(e)o
(xpression)j(or)d(pattern)300 2579 y Fv(e)342 2593 y
Fu(i)374 2579 y FI(,)h(then)h(the)f(e)o(xpressions)k
FD(\(\\)21 b Fv(e)1359 2593 y Fu(1)1431 2579 y FD(->)h
Fv(e)1605 2593 y Fu(2)1655 2579 y FD(\))o FI(,)j FD([)o
Fv(e)1853 2593 y Fu(1)1903 2579 y FD(])o FI(,)g(and)g
FD(\()p Fv(e)2257 2593 y Fu(1)2306 2579 y Fq(;)15 b Fv(e)2388
2593 y Fu(2)2438 2579 y FD(\))24 b FI(ha)n(v)o(e)i(the)f(types)i
FD(\()o Fv(t)3146 2593 y Fu(1)3219 2579 y FD(->)22 b
Fv(t)3381 2593 y Fu(2)3430 2579 y FD(\))p FI(,)i FD([)p
Fv(t)3617 2593 y Fu(1)3667 2579 y FD(])o FI(,)h(and)300
2692 y FD(\()p Fv(t)385 2706 y Fu(1)434 2692 y Fq(;)15
b Fv(t)504 2706 y Fu(2)554 2692 y FD(\))p FI(,)22 b(respecti)n(v)o(ely)
-6 b(.)300 2880 y(W)l(ith)29 b(one)h(e)o(xception)h(\(that)f(of)e(the)i
(distinguished)j(type)c(v)n(ariable)i(in)e(a)f(class)i(declaration)i
(\(Section)e(4.3.1\)\),)300 2993 y(the)g(type)g(v)n(ariables)h(in)f(a)f
(Hask)o(ell)h(type)g(e)o(xpression)i(are)e(all)f(assumed)i(to)e(be)h
(uni)n(v)o(ersally)i(quanti\002ed;)i(there)300 3106 y(is)e(no)h(e)o
(xplicit)h(syntax)g(for)f(uni)n(v)o(ersal)h(quanti\002cation)i([3)q(].)
55 b(F)o(or)32 b(e)o(xample,)j(the)e(type)h(e)o(xpression)h
FD(a)54 b(->)f(a)300 3219 y FI(denotes)30 b(the)e(type)h
FB(8)23 b Fv(a)7 b Fq(:)23 b Fv(a)55 b FB(!)48 b Fv(a)8
b FI(.)41 b(F)o(or)28 b(clarity)-6 b(,)30 b(ho)n(we)n(v)o(er)l(,)g(we)d
(often)i(write)f(quanti\002cation)k(e)o(xplicitly)e(when)300
3331 y(discussing)25 b(the)d(types)h(of)f(Hask)o(ell)h(programs.)30
b(When)23 b(we)e(write)h(an)g(e)o(xplicitly)i(quanti\002ed)g(type,)f
(the)f(scope)h(of)300 3444 y(the)h FB(8)e FI(e)o(xtends)j(as)f(f)o(ar)f
(to)h(the)g(right)g(as)f(possible;)j(for)e(e)o(xample,)g
FB(8)f Fv(a)7 b Fq(:)23 b Fv(a)55 b FB(!)48 b Fv(a)30
b FI(means)24 b FB(8)f Fv(a)7 b Fq(:)23 b Ft(\()p Fv(a)56
b FB(!)48 b Fv(a)7 b Ft(\))q FI(.)300 3765 y FG(4.1.3)99
b(Syntax)25 b(of)g(Class)f(Assertions)h(and)g(Contexts)300
4015 y Fv(c)-5 b(ontext)196 b FB(!)113 b Fv(class)806
4128 y FB(j)147 b FD(\()22 b Fv(class)1240 4142 y Fu(1)1314
4128 y FD(,)37 b Fq(:)15 b(:)g(:)39 b FD(,)22 b Fv(class)1812
4142 y Fu(n)1885 4128 y FD(\))853 b Ft(\()p Fv(n)32 b
FB(\025)25 b Fv(0)12 b Ft(\))300 4241 y Fv(class)289
b FB(!)113 b Fv(qtycls)31 b(tyvar)806 4354 y FB(j)147
b Fv(qtycls)31 b FD(\()22 b Fv(tyvar)33 b(atyp)-5 b(e)1740
4368 y Fu(1)1829 4354 y Fq(:)15 b(:)g(:)39 b Fv(atyp)-5
b(e)2176 4368 y Fu(n)2250 4354 y FD(\))488 b Ft(\()p
Fv(n)32 b FB(\025)25 b Fv(1)12 b Ft(\))300 4467 y Fv(qtycls)256
b FB(!)113 b Ft([)23 b Fv(mo)-5 b(did)34 b FD(.)23 b
Ft(])g Fv(tycls)300 4579 y(tycls)298 b FB(!)113 b Fv(c)-5
b(onid)300 4692 y(tyvar)274 b FB(!)113 b Fv(varid)300
4957 y FI(A)19 b FJ(class)i(assertion)i FI(has)e(form)f
Fv(qtycls)30 b(tyvar)11 b FI(,)20 b(and)h(indicates)h(the)f(membership)
h(of)e(the)g(type)h Fv(tyvar)31 b FI(in)20 b(the)g(class)300
5070 y Fv(qtycls)8 b FI(.)38 b(A)26 b(class)i(identi\002er)g(be)o(gins)
g(with)f(an)g(uppercase)j(letter)-5 b(.)40 b(A)26 b FJ(conte)n(xt)j
FI(consists)g(of)e(zero)g(or)g(more)g(class)300 5183
y(assertions,)f(and)e(has)g(the)g(general)h(form)1663
5365 y FD(\()e Fv(C)1806 5379 y Fu(1)1878 5365 y Fv(u)1927
5379 y Fu(1)1976 5365 y Fq(;)38 b(:)15 b(:)g(:)h(;)38
b Fv(C)2288 5379 y Fu(n)2361 5365 y Fv(u)2410 5379 y
Fu(n)2482 5365 y FD(\))p eop
%%Page: 42 56
42 55 bop 0 100 a FI(42)1591 b FE(CHAPTER)19 b(4.)52
b(DECLARA)-10 b(TIONS)18 b(AND)k(BINDINGS)0 356 y FI(where)31
b Fv(C)317 370 y Fu(1)366 356 y Fq(;)38 b(:)15 b(:)g(:)h(;)39
b Fv(C)679 370 y Fu(n)758 356 y FI(are)30 b(class)h(identi\002ers,)j
(and)c(each)h(of)g(the)f Fv(u)2173 370 y Fu(1)2222 356
y Fq(;)38 b(:)15 b(:)g(:)i(;)38 b Fv(u)2519 370 y Fu(n)2598
356 y FI(is)30 b(either)h(a)f(type)h(v)n(ariable,)i(or)0
469 y(the)26 b(application)j(of)d(type)h(v)n(ariable)h(to)e(one)g(or)g
(more)g(types.)37 b(The)26 b(outer)h(parentheses)i(may)d(be)g(omitted)h
(when)0 582 y Fv(n)32 b Ft(=)25 b Fv(1)13 b FI(.)63 b(In)36
b(general,)k(we)34 b(use)i Fv(cx)45 b FI(to)36 b(denote)g(a)f(conte)o
(xt)i(and)f(we)f(write)g Fv(cx)f FD(=>)21 b Fv(t)44 b
FI(to)35 b(indicate)i(the)f(type)g Fv(t)0 695 y FI(restricted)29
b(by)f(the)f(conte)o(xt)h Fv(cx)11 b FI(.)39 b(The)26
b(conte)o(xt)j Fv(cx)37 b FI(must)27 b(only)h(contain)g(type)g(v)n
(ariables)h(referenced)h(in)d Fv(t)9 b FI(.)38 b(F)o(or)0
808 y(con)l(v)o(enience,)33 b(we)28 b(write)h Fv(cx)34
b FD(=>)22 b Fv(t)36 b FI(e)n(v)o(en)29 b(if)g(the)g(conte)o(xt)h
Fv(cx)39 b FI(is)29 b(empty)-6 b(,)30 b(although)h(in)e(this)h(case)f
(the)g(concrete)0 920 y(syntax)c(contains)h(no)d FD(=>)p
FI(.)0 1253 y FG(4.1.4)99 b(Semantics)25 b(of)g(T)-7
b(ypes)26 b(and)f(Classes)0 1510 y FI(In)d(this)g(section,)i(we)d(pro)o
(vide)j(informal)f(details)h(of)e(the)g(type)h(system.)29
b(\(W)-7 b(adler)22 b(and)h(Blott)f([12)q(])f(and)i(Jones)g([7)q(])0
1623 y(discuss)i(type)g(and)f(constructor)i(classes,)f(respecti)n(v)o
(ely)-6 b(,)26 b(in)e(more)f(detail.\))0 1819 y(The)28
b(Hask)o(ell)h(type)g(system)g(attrib)n(utes)i(a)d FJ(type)h
FI(to)f(each)h(e)o(xpression)i(in)e(the)f(program.)44
b(In)29 b(general,)h(a)e(type)h(is)0 1932 y(of)c(the)h(form)f
FB(8)p 511 1883 56 4 v 23 w Fv(u)6 b Fq(:)23 b Fv(cx)59
b FB(\))48 b Fv(t)9 b FI(,)25 b(where)p 1230 1883 V 26
w Fv(u)31 b FI(is)25 b(a)g(set)h(of)f(type)i(v)n(ariables)g
Fv(u)2267 1946 y Fu(1)2316 1932 y Fq(;)39 b(:)15 b(:)g(:)h(;)38
b Fv(u)2613 1946 y Fu(n)2662 1932 y FI(.)c(In)25 b(an)o(y)h(such)g
(type,)h(an)o(y)e(of)0 2045 y(the)h(uni)n(v)o(ersally-quanti\002ed)32
b(type)27 b(v)n(ariables)h Fv(u)1538 2059 y Fu(i)1596
2045 y FI(that)f(are)f(free)h(in)f Fv(cx)36 b FI(must)26
b(also)h(be)f(free)h(in)f Fv(t)9 b FI(.)36 b(Furthermore,)0
2158 y(the)25 b(conte)o(xt)i Fv(cx)35 b FI(must)26 b(be)f(of)g(the)g
(form)g(gi)n(v)o(en)h(abo)o(v)o(e)g(in)f(Section)h(4.1.3.)34
b(F)o(or)24 b(e)o(xample,)i(here)g(are)f(some)g(v)n(alid)0
2270 y(types:)250 2461 y FD(Eq)54 b(a)g(=>)g(a)g(->)f(a)250
2573 y(\(Eq)g(a,)h(Show)f(a,)g(Eq)h(b\))g(=>)f([a])g(->)h([b])f(->)h
(String)250 2686 y(\(Eq)f(\(f)h(a\),)f(Functor)f(f\))h(=>)h(\(a)f(->)h
(b\))g(->)f(f)h(a)h(->)e(f)h(b)g(->)g(Bool)0 2874 y FI(In)24
b(the)g(third)h(type,)g(the)f(constraint)j FD(Eq)53 b(\(f)h(a\))22
b FI(cannot)k(be)e(made)g(simpler)h(because)h FD(f)d
FI(is)g(uni)n(v)o(ersally)k(quan-)0 2986 y(ti\002ed.)0
3182 y(The)c(type)h(of)f(an)h(e)o(xpression)i Fv(e)j
FI(depends)c(on)f(a)f FJ(type)g(en)l(vir)l(onment)k FI(that)d(gi)n(v)o
(es)f(types)i(for)e(the)h(free)g(v)n(ariables)h(in)0
3295 y Fv(e)7 b FI(,)21 b(and)h(a)g FJ(class)h(en)l(vir)l(onment)i
FI(that)e(declares)h(which)e(types)h(are)g(instances)h(of)e(which)h
(classes)g(\(a)f(type)h(becomes)0 3408 y(an)h(instance)h(of)f(a)f
(class)h(only)h(via)e(the)h(presence)i(of)d(an)h FD(instance)19
b FI(declaration)27 b(or)c(a)g FD(deriving)c FI(clause\).)0
3604 y(T)-7 b(ypes)30 b(are)f(related)j(by)d(a)g(generalization)34
b(preorder)e(\(speci\002ed)f(belo)n(w\);)i(the)d(most)g(general)h
(type,)h(up)d(to)h(the)0 3717 y(equi)n(v)n(alence)f(induced)f(by)e(the)
h(generalization)j(preorder)l(,)f(that)e(can)f(be)h(assigned)h(to)e(a)g
(particular)j(e)o(xpression)0 3830 y(\(in)20 b(a)g(gi)n(v)o(en)h(en)l
(vironment\))j(is)c(called)h(its)g FJ(principal)h(type)p
FI(.)29 b(Hask)o(ell')-5 b(s)22 b(e)o(xtended)g(Hindle)o(y-Milner)g
(type)f(system)0 3943 y(can)i(infer)g(the)g(principal)i(type)e(of)f
(all)h(e)o(xpressions,)i(including)g(the)e(proper)h(use)e(of)h(o)o(v)o
(erloaded)i(class)e(methods)0 4056 y(\(although)34 b(certain)f
(ambiguous)g(o)o(v)o(erloadings)i(could)d(arise,)i(as)d(described)j(in)
d(Section)i(4.3.4\).)52 b(Therefore,)0 4169 y(e)o(xplicit)25
b(typings)h(\(called)f FJ(type)f(signatur)m(es)p FI(\))i(are)e(usually)
h(optional)h(\(see)e(Sections)h(3.16)f(and)g(4.4.1\).)0
4365 y(The)32 b(type)g FB(8)p 433 4316 V 22 w Fv(u)7
b Fq(:)23 b Fv(cx)621 4379 y Fu(1)719 4365 y FB(\))47
b Fv(t)887 4379 y Fu(1)968 4365 y FI(is)32 b FJ(mor)m(e)g(g)o(ener)o
(al)h(than)g FI(the)f(type)h FB(8)p 2177 4316 71 4 v
22 w Fv(w)10 b Fq(:)23 b Fv(cx)2379 4379 y Fu(2)2477
4365 y FB(\))48 b Fv(t)2646 4379 y Fu(2)2726 4365 y FI(if)32
b(and)h(only)f(if)g(there)h(is)f(a)0 4478 y(substitution)27
b Fv(S)34 b FI(whose)24 b(domain)g(is)p 1166 4428 56
4 v 24 w Fv(u)29 b FI(such)24 b(that:)136 4748 y FB(\017)46
b Fv(t)257 4762 y Fu(2)330 4748 y FI(is)23 b(identical)j(to)d
Fv(S)11 b Ft(\()p Fv(t)969 4762 y Fu(1)1019 4748 y Ft(\))q
FI(.)136 4936 y FB(\017)46 b FI(Whene)n(v)o(er)25 b Fv(cx)704
4950 y Fu(2)776 4936 y FI(holds)g(in)e(the)h(class)h(en)l(vironment,)h
Fv(S)11 b Ft(\()p Fv(cx)2105 4950 y Fu(1)2155 4936 y
Ft(\))23 b FI(also)h(holds.)0 5206 y(A)32 b(v)n(alue)i(of)f(type)h
FB(8)p 695 5157 V 22 w Fv(u)7 b Fq(:)23 b Fv(cx)58 b
FB(\))48 b Fv(t)9 b FI(,)35 b(may)d(be)h(instantiated)k(at)c(types)p
2257 5157 45 4 v 34 w Fv(s)40 b FI(if)33 b(and)g(only)h(if)f(the)g
(conte)o(xt)i Fv(cx)11 b Ft([)p 3429 5157 V Fv(s)d Fq(=)p
3519 5157 56 4 v Fv(u)f Ft(])0 5319 y FI(holds.)30 b(F)o(or)23
b(e)o(xample,)h(consider)h(the)f(function)i FD(double)m
FI(:)p eop
%%Page: 43 57
43 56 bop 300 100 a FE(4.2.)51 b(USER-DEFINED)19 b(D)l(A)-10
b(T)i(A)e(TYPES)2146 b FI(43)550 356 y FD(double)52 b(x)i(=)g(x)g(+)g
(x)300 552 y FI(The)26 b(most)g(general)h(type)g(of)f
FD(double)d FI(is)i FB(8)e Fv(a)7 b Fq(:)23 b FD(Num)e
Fv(a)56 b FB(\))48 b Fv(a)55 b FB(!)48 b Fv(a)8 b FI(.)35
b FD(double)22 b FI(may)k(be)g(applied)i(to)e(v)n(alues)300
665 y(of)20 b(type)i FD(Int)c FI(\(instantiating)24 b
Fv(a)k FI(to)20 b FD(Int)o FI(\),)g(since)h FD(Num)54
b(Int)18 b FI(holds,)k(because)g FD(Int)d FI(is)h(an)h(instance)h(of)f
(the)f(class)300 778 y FD(Num)o FI(.)44 b(Ho)n(we)n(v)o(er)l(,)31
b FD(double)25 b FI(may)k(not)h(normally)g(be)g(applied)h(to)e(v)n
(alues)h(of)f(type)h FD(Char)n FI(,)g(because)h FD(Char)26
b FI(is)300 891 y(not)g(normally)h(an)f(instance)h(of)f(class)h
FD(Num)n FI(.)34 b(The)26 b(user)g(may)f(choose)i(to)f(declare)h(such)g
(an)e(instance,)j(in)e(which)300 1003 y(case)e FD(double)c
FI(may)j(indeed)j(be)d(applied)i(to)f(a)f FD(Char)n FI(.)300
1379 y FC(4.2)119 b(User)l(-De\002ned)31 b(Datatypes)300
1669 y FI(In)20 b(this)i(section,)g(we)e(describe)i(algebraic)h
(datatypes)g(\()p FD(data)c FI(declarations\),)24 b(renamed)e
(datatypes)h(\()p FD(newtype)300 1782 y FI(declarations\),)31
b(and)26 b(type)h(synon)o(yms)h(\()p FD(type)c FI(declarations\).)41
b(These)27 b(declarations)j(may)c(only)h(appear)h(at)e(the)300
1895 y(top)e(le)n(v)o(el)g(of)f(a)g(module.)300 2227
y FG(4.2.1)99 b(Algebraic)25 b(Datatype)g(Declarations)300
2484 y Fv(top)-5 b(de)g(cl)209 b FB(!)113 b FD(data)21
b Ft([)p Fv(c)-5 b(ontext)33 b FD(=>)o Ft(])23 b Fv(simpletyp)-5
b(e)31 b FD(=)23 b Fv(c)-5 b(onstrs)31 b Ft([)p Fv(deriving)8
b Ft(])300 2710 y Fv(simpletyp)-5 b(e)67 b FB(!)113 b
Fv(tyc)-5 b(on)31 b(tyvar)1417 2724 y Fu(1)1505 2710
y Fq(:)15 b(:)g(:)39 b Fv(tyvar)1849 2725 y Fu(k)2793
2710 y Ft(\()p Fv(k)c FB(\025)25 b Fv(0)12 b Ft(\))300
2936 y Fv(c)-5 b(onstrs)198 b FB(!)113 b Fv(c)-5 b(onstr)1217
2950 y Fu(1)1291 2936 y FD(|)37 b Fq(:)15 b(:)g(:)39
b FD(|)22 b Fv(c)-5 b(onstr)1843 2950 y Fu(n)2793 2936
y Ft(\()p Fv(n)32 b FB(\025)25 b Fv(1)12 b Ft(\))300
3049 y Fv(c)-5 b(onstr)235 b FB(!)113 b Fv(c)-5 b(on)31
b Ft([)p FD(!)o Ft(])23 b Fv(atyp)-5 b(e)1473 3063 y
Fu(1)1562 3049 y Fq(:)15 b(:)g(:)39 b Ft([)p FD(!)p Ft(])23
b Fv(atyp)-5 b(e)2037 3064 y Fu(k)2793 3049 y Ft(\()p
FI(arity)24 b Fv(c)-5 b(on)56 b Ft(=)48 b Fv(k)10 b Fq(;)38
b Fv(k)c FB(\025)25 b Fv(0)12 b Ft(\))806 3162 y FB(j)147
b Ft(\()p Fv(btyp)-5 b(e)31 b FB(j)23 b FD(!)f Fv(atyp)-5
b(e)7 b Ft(\))24 b Fv(c)-5 b(onop)31 b Ft(\()p Fv(btyp)-5
b(e)30 b FB(j)23 b FD(!)g Fv(atyp)-5 b(e)7 b Ft(\))264
b(\()p FI(in\002x)24 b Fv(c)-5 b(onop)6 b Ft(\))806 3275
y FB(j)147 b Fv(c)-5 b(on)31 b FD({)22 b Fv(\014eldde)-5
b(cl)1530 3289 y Fu(1)1603 3275 y FD(,)38 b Fq(:)15 b(:)g(:)39
b FD(,)22 b Fv(\014eldde)-5 b(cl)2227 3289 y Fu(n)2301
3275 y FD(})437 b Ft(\()p Fv(n)32 b FB(\025)25 b Fv(0)12
b Ft(\))300 3388 y Fv(\014eldde)-5 b(cl)164 b FB(!)113
b Fv(vars)31 b FD(::)22 b Ft(\()p Fv(typ)-5 b(e)31 b
FB(j)23 b FD(!)f Fv(atyp)-5 b(e)7 b Ft(\))300 3613 y
Fv(deriving)157 b FB(!)113 b FD(deriving)19 b Ft(\()p
Fv(dclass)32 b FB(j)23 b FD(\()p Fv(dclass)2069 3627
y Fu(1)2119 3613 y FD(,)38 b Fq(:)15 b(:)g(:)39 b FD(,)22
b Fv(dclass)2664 3627 y Fu(n)2715 3613 y FD(\))p Ft(\))-12
b(\()p Fv(n)32 b FB(\025)25 b Fv(0)12 b Ft(\))300 3726
y Fv(dclass)243 b FB(!)113 b Fv(qtycls)300 4022 y FI(The)24
b(precedence)k(for)d Fv(c)-5 b(onstr)35 b FI(is)25 b(the)g(same)g(as)f
(that)i(for)f(e)o(xpressions\227normal)k(constructor)f(application)g
(has)300 4135 y(higher)22 b(precedence)h(than)e(in\002x)f(constructor)j
(application)h(\(thus)d FD(a)54 b(:)g(Foo)f(a)19 b FI(parses)j(as)e
FD(a)54 b(:)g(\(Foo)f(a\))o FI(\).)300 4331 y(An)23 b(algebraic)j
(datatype)f(declaration)i(has)d(the)g(form:)812 4535
y FD(data)d Fv(cx)33 b FD(=>)22 b Fv(T)35 b(u)1451 4549
y Fu(1)1538 4535 y Fq(:)15 b(:)g(:)39 b Fv(u)1731 4550
y Fu(k)1798 4535 y FD(=)22 b Fv(K)1945 4549 y Fu(1)2017
4535 y Fv(t)2047 4549 y Fu(11)2171 4535 y Fq(:)15 b(:)g(:)39
b Fv(t)2345 4550 y Fu(1k)2414 4559 y Fi(1)2482 4535 y
FD(|)e FB(\001)15 b(\001)g(\001)39 b FD(|)23 b Fv(K)2866
4549 y Fu(n)2938 4535 y Fv(t)2968 4549 y Fu(n1)3096 4535
y Fq(:)15 b(:)g(:)39 b Fv(t)3270 4550 y Fu(nk)3343 4558
y Fi(n)300 4739 y FI(where)34 b Fv(cx)44 b FI(is)34 b(a)f(conte)o(xt.)
62 b(This)34 b(declaration)j(introduces)f(a)e(ne)n(w)f
FJ(type)i(constructor)i Fv(T)45 b FI(with)34 b(one)g(or)g(more)300
4852 y(constituent)j FJ(data)e(constructor)o(s)j Fv(K)1484
4866 y Fu(1)1534 4852 y Fq(;)g(:)15 b(:)g(:)h(;)38 b
Fv(K)1851 4866 y Fu(n)1901 4852 y FI(.)120 b(In)34 b(this)g(Report,)j
(the)e(unquali\002ed)h(term)e(\223constructor\224)300
4965 y(al)o(w)o(ays)24 b(means)g(\223data)h(constructor\224.)300
5160 y(The)e(types)i(of)e(the)h(data)g(constructors)j(are)d(gi)n(v)o
(en)g(by:)852 5365 y Fv(K)922 5379 y Fu(i)1002 5365 y
Ft(::)48 b FB(8)23 b Fv(u)1223 5379 y Fu(1)1310 5365
y Fq(:)15 b(:)g(:)39 b Fv(u)1503 5380 y Fu(k)1547 5365
y Fq(:)45 b Fv(cx)1701 5379 y Fu(i)1782 5365 y FB(\))j
Fv(t)1951 5379 y Fu(i1)2070 5365 y FB(!)g(\001)15 b(\001)g(\001)49
b(!)f Fv(t)2532 5380 y Fu(ik)2587 5390 y Fi(i)2666 5365
y FB(!)g Ft(\()p Fv(T)35 b(u)2989 5379 y Fu(1)3076 5365
y Fq(:)15 b(:)g(:)39 b Fv(u)3269 5380 y Fu(k)3313 5365
y Ft(\))p eop
%%Page: 44 58
44 57 bop 0 100 a FI(44)1591 b FE(CHAPTER)19 b(4.)52
b(DECLARA)-10 b(TIONS)18 b(AND)k(BINDINGS)0 356 y FI(where)36
b Fv(cx)341 370 y Fu(i)408 356 y FI(is)g(the)g(lar)n(gest)i(subset)f
(of)f Fv(cx)46 b FI(that)36 b(constrains)j(only)e(those)g(type)f(v)n
(ariables)i(free)e(in)g(the)g(types)0 469 y Fv(t)30 483
y Fu(i1)102 469 y Fq(;)i(:)15 b(:)g(:)h(;)38 b Fv(t)379
484 y Fu(ik)434 494 y Fi(i)465 469 y FI(.)c(The)26 b(type)g(v)n
(ariables)i Fv(u)1270 483 y Fu(1)1344 469 y FI(through)g
Fv(u)1701 484 y Fu(k)1770 469 y FI(must)d(be)h(distinct)i(and)e(may)f
(appear)i(in)f Fv(cx)36 b FI(and)26 b(the)g Fv(t)3517
483 y Fu(ij)3575 469 y FI(;)0 582 y(it)k(is)h(a)f(static)h(error)h(for)
f(an)o(y)f(other)i(type)f(v)n(ariable)i(to)d(appear)i(in)f
Fv(cx)40 b FI(or)31 b(on)f(the)h(right-hand-side.)55
b(The)30 b(ne)n(w)0 695 y(type)e(constant)i Fv(T)39 b
FI(has)28 b(a)f(kind)h(of)f(the)h(form)f Fq(\024)1515
709 y FA(1)1588 695 y FB(!)32 b Fq(:)15 b(:)g(:)34 b
FB(!)e Fq(\024)2025 710 y Fo(k)2101 695 y FB(!)g(\003)27
b FI(where)h(the)g(kinds)h Fq(\024)2959 709 y Fu(i)3018
695 y FI(of)f(the)f(ar)n(gument)0 808 y(v)n(ariables)h
Fv(u)400 822 y Fu(i)458 808 y FI(are)e(determined)i(by)e(kind)h
(inference)h(as)e(described)j(in)d(Section)h(4.6.)36
b(This)26 b(means)g(that)h Fv(T)37 b FI(may)0 920 y(be)24
b(used)g(in)f(type)i(e)o(xpressions)h(with)e(an)o(ywhere)g(between)h
Fv(0)35 b FI(and)24 b Fv(k)33 b FI(ar)n(guments.)0 1116
y(F)o(or)23 b(e)o(xample,)h(the)g(declaration)250 1312
y FD(data)53 b(Eq)h(a)g(=>)f(Set)g(a)i(=)f(NilSet)d(|)k(ConsSet)c(a)j
(\(Set)f(a\))0 1508 y FI(introduces)32 b(a)c(type)h(constructor)j
FD(Set)26 b FI(of)j(kind)g FB(\003)35 b(!)g(\003)p FI(,)29
b(and)g(constructors)k FD(NilSet)25 b FI(and)k FD(ConsSet)24
b FI(with)0 1621 y(types)746 1728 y FD(NilSet)135 b Ft(::)48
b FB(8)23 b Fv(a)7 b Fq(:)46 b FD(Set)e Fv(a)746 1841
y FD(ConsSet)80 b Ft(::)48 b FB(8)23 b Fv(a)7 b Fq(:)46
b FD(Eq)e Fv(a)56 b FB(\))48 b Fv(a)55 b FB(!)48 b FD(Set)c
Fv(a)55 b FB(!)48 b FD(Set)c Fv(a)0 1999 y FI(In)20 b(the)h(e)o(xample)
h(gi)n(v)o(en,)f(the)g(o)o(v)o(erloaded)i(type)e(for)g
FD(ConsSet)16 b FI(ensures)23 b(that)e FD(ConsSet)c FI(can)j(only)i(be)
e(applied)0 2112 y(to)25 b(v)n(alues)i(whose)f(type)g(is)f(an)h
(instance)h(of)e(the)h(class)g FD(Eq)o FI(.)34 b(P)o(attern)26
b(matching)h(against)f FD(ConsSet)c FI(also)k(gi)n(v)o(es)0
2225 y(rise)e(to)f(an)h FD(Eq)54 b(a)22 b FI(constraint.)31
b(F)o(or)23 b(e)o(xample:)250 2421 y FD(f)54 b(\(ConsSet)d(a)j(s\))g(=)
g(a)0 2617 y FI(the)29 b(function)i FD(f)c FI(has)i(inferred)i(type)e
FD(Eq)54 b(a)g(=>)g(Set)f(a)h(->)f(a)p FI(.)43 b(The)28
b(conte)o(xt)j(in)d(the)h FD(data)d FI(declaration)0
2730 y(has)e(no)g(other)g(ef)n(fect)g(whatsoe)n(v)o(er)-5
b(.)0 2926 y(The)33 b(visibility)j(of)e(a)f(datatype')-5
b(s)36 b(constructors)i(\(i.e.)33 b(the)h(\223abstractness\224)j(of)d
(the)g(datatype\))i(outside)f(of)f(the)0 3039 y(module)g(in)f(which)g
(the)g(datatype)i(is)e(de\002ned)g(is)g(controlled)j(by)d(the)g(form)g
(of)f(the)h(datatype')-5 b(s)36 b(name)d(in)g(the)0 3152
y(e)o(xport)25 b(list)f(as)f(described)j(in)e(Section)g(5.8.)0
3348 y(The)29 b(optional)i FD(deriving)25 b FI(part)30
b(of)g(a)f FD(data)d FI(declaration)33 b(has)d(to)f(do)g(with)h
FJ(derived)h(instances)p FI(,)i(and)d(is)f(de-)0 3460
y(scribed)c(in)f(Section)g(4.3.3.)0 3789 y FF(Labelled)c(Fields)92
b FI(A)19 b(data)j(constructor)i(of)d(arity)g Fv(k)30
b FI(creates)22 b(an)f(object)h(with)f Fv(k)30 b FI(components.)g
(These)21 b(compo-)0 3902 y(nents)k(are)f(normally)h(accessed)h
(positionally)h(as)d(ar)n(guments)i(to)d(the)h(constructor)j(in)d(e)o
(xpressions)j(or)c(patterns.)0 4015 y(F)o(or)f(lar)n(ge)i(datatypes)h
(it)e(is)f(useful)i(to)f(assign)h Fv(\014eld)33 b(lab)-5
b(els)30 b FI(to)23 b(the)g(components)i(of)e(a)f(data)i(object.)29
b(This)23 b(allo)n(ws)0 4128 y(a)g(speci\002c)i(\002eld)e(to)g(be)h
(referenced)i(independently)i(of)23 b(its)h(location)i(within)e(the)g
(constructor)-5 b(.)0 4324 y(A)30 b(constructor)k(de\002nition)f(in)e
(a)g FD(data)d FI(declaration)34 b(may)d(assign)i(labels)f(to)f(the)g
(\002elds)h(of)f(the)g(constructor)l(,)0 4437 y(using)e(the)g(record)g
(syntax)h(\()p FD(C)55 b({)f(...)f(})o FI(\).)43 b(Constructors)31
b(using)e(\002eld)f(labels)i(may)d(be)i(freely)g(mix)o(ed)f(with)0
4550 y(constructors)j(without)d(them.)39 b(A)26 b(constructor)k(with)d
(associated)j(\002eld)d(labels)h(may)f(still)g(be)g(used)h(as)f(an)g
(ordi-)0 4663 y(nary)k(constructor;)37 b(features)c(using)e(labels)h
(are)f(simply)g(a)f(shorthand)j(for)e(operations)i(using)f(an)e
(underlying)0 4776 y(positional)h(constructor)-5 b(.)46
b(The)27 b(ar)n(guments)k(to)d(the)g(positional)j(constructor)h(occur)d
(in)f(the)h(same)f(order)h(as)f(the)0 4889 y(labeled)d(\002elds.)k(F)o
(or)23 b(e)o(xample,)h(the)g(declaration)250 5084 y FD(data)53
b(C)h(=)g(F)g({)g(f1,f2)f(::)g(Int,)g(f3)h(::)f(Bool)g(})0
5280 y FI(de\002nes)24 b(a)f(type)i(and)f(constructor)i(identical)g(to)
e(the)f(one)h(produced)i(by)p eop
%%Page: 45 59
45 58 bop 300 100 a FE(4.2.)51 b(USER-DEFINED)19 b(D)l(A)-10
b(T)i(A)e(TYPES)2146 b FI(45)550 356 y FD(data)53 b(C)h(=)g(F)g(Int)f
(Int)h(Bool)300 552 y FI(Operations)28 b(using)f(\002eld)e(labels)i
(are)f(described)i(in)e(Section)g(3.15.)36 b(A)24 b FD(data)f
FI(declaration)29 b(may)c(use)h(the)g(same)300 665 y(\002eld)21
b(label)h(in)f(multiple)h(constructors)i(as)d(long)h(as)f(the)g(typing)
i(of)e(the)g(\002eld)g(is)g(the)g(same)g(in)g(all)g(cases)h(after)f
(type)300 777 y(synon)o(ym)28 b(e)o(xpansion.)40 b(A)26
b(label)h(cannot)i(be)d(shared)i(by)f(more)g(than)g(one)g(type)h(in)e
(scope.)39 b(Field)27 b(names)g(share)300 890 y(the)d(top)g(le)n(v)o
(el)g(namespace)i(with)d(ordinary)j(v)n(ariables)g(and)e(class)h
(methods)g(and)f(must)g(not)g(con\003ict)h(with)e(other)300
1003 y(top)h(le)n(v)o(el)g(names)g(in)f(scope.)300 1199
y(The)i(pattern)i FD(F)54 b({})24 b FI(matches)j(an)o(y)e(v)n(alue)i(b)
n(uilt)f(with)f(constructor)k FD(F)p FI(,)c FJ(whether)h(or)g(not)g
FD(F)e FJ(was)h(declar)m(ed)i(with)300 1312 y(r)m(ecor)m(d)d(syntax)p
FI(.)300 1640 y FF(Strictness)e(Flags)92 b FI(Whene)n(v)o(er)22
b(a)f(data)h(constructor)i(is)d(applied,)i(each)f(ar)n(gument)h(to)e
(the)h(constructor)i(is)d(e)n(v)n(al-)300 1753 y(uated)h(if)f(and)h
(only)g(if)f(the)g(corresponding)k(type)d(in)f(the)h(algebraic)h
(datatype)h(declaration)g(has)e(a)e(strictness)k(\003ag,)300
1866 y(denoted)g(by)d(an)h(e)o(xclamation)i(point,)e(\223)p
FD(!)p FI(\224.)28 b(Le)o(xically)-6 b(,)23 b(\223)p
FD(!)p FI(\224)e(is)g(an)h(ordinary)i(v)n(arsym)e(not)g(a)f
Fv(r)-5 b(eserve)g(dop)8 b FI(;)22 b(it)f(has)300 1979
y(special)k(signi\002cance)h(only)f(in)e(the)h(conte)o(xt)h(of)e(the)h
(ar)n(gument)i(types)e(of)g(a)f(data)h(declaration.)p
315 2192 3548 4 v 315 3392 4 1201 v 366 2320 a FF(T)-7
b(ranslation:)93 b FI(A)22 b(declaration)27 b(of)c(the)h(form)1098
2525 y FD(data)d Fv(cx)33 b FD(=>)22 b Fv(T)35 b(u)1737
2539 y Fu(1)1824 2525 y Fq(:)15 b(:)g(:)39 b Fv(u)2017
2540 y Fu(k)2084 2525 y FD(=)e Fq(:)15 b(:)g(:)39 b FD(|)22
b Fv(K)36 b(s)2540 2539 y Fu(1)2628 2525 y Fq(:)15 b(:)g(:)39
b Fv(s)2809 2539 y Fu(n)2881 2525 y FD(|)f Fq(:)15 b(:)g(:)366
2729 y FI(where)28 b(each)g Fv(s)845 2743 y Fu(i)904
2729 y FI(is)f(either)i(of)e(the)h(form)f FD(!)p Fv(t)1753
2743 y Fu(i)1812 2729 y FI(or)g Fv(t)1944 2743 y Fu(i)1977
2729 y FI(,)g(replaces)j(e)n(v)o(ery)e(occurrence)i(of)d
Fv(K)40 b FI(in)27 b(an)h(e)o(xpression)366 2842 y(by)1067
2955 y FD(\(\\)54 b Fv(x)1273 2969 y Fu(1)1361 2955 y
Fq(:)15 b(:)g(:)39 b Fv(x)1547 2969 y Fu(n)1619 2955
y FD(->)22 b Ft(\()h(\(\()p Fv(K)37 b(op)2078 2969 y
Fu(1)2151 2955 y Fv(x)2193 2969 y Fu(1)2242 2955 y Ft(\))23
b Fv(op)2392 2969 y Fu(2)2466 2955 y Fv(x)2508 2969 y
Fu(2)2557 2955 y Ft(\))38 b Fq(:)15 b(:)g(:)24 b Ft(\))f
Fv(op)2909 2969 y Fu(n)2983 2955 y Fv(x)3025 2969 y Fu(n)3074
2955 y Ft(\))366 3122 y FI(where)30 b Fv(op)709 3136
y Fu(i)770 3122 y FI(is)f(the)h(non-strict)i(apply)f(function)g
FD($)d FI(if)h Fv(s)2142 3136 y Fu(i)2203 3122 y FI(is)g(of)h(the)f
(form)g Fv(t)2771 3136 y Fu(i)2804 3122 y FI(,)h(and)f
Fv(op)3108 3136 y Fu(i)3170 3122 y FI(is)g(the)h(strict)g(apply)366
3234 y(function)25 b FD($!)d FI(\(see)i(Section)g(6.2\))f(if)g
Fv(s)1568 3248 y Fu(i)1623 3234 y FI(is)g(of)g(the)h(form)f
FD(!)f Fv(t)2244 3248 y Fu(i)2277 3234 y FI(.)28 b(P)o(attern)23
b(matching)i(on)e Fv(K)36 b FI(is)23 b(not)h(af)n(fected)g(by)366
3347 y(strictness)i(\003ags.)p 3859 3392 V 315 3395 3548
4 v 300 3729 a FG(4.2.2)99 b(T)-7 b(ype)25 b(Synonym)h(Declarations)300
3986 y Fv(top)-5 b(de)g(cl)209 b FB(!)113 b FD(type)21
b Fv(simpletyp)-5 b(e)32 b FD(=)22 b Fv(typ)-5 b(e)300
4099 y(simpletyp)g(e)67 b FB(!)113 b Fv(tyc)-5 b(on)31
b(tyvar)1417 4113 y Fu(1)1505 4099 y Fq(:)15 b(:)g(:)39
b Fv(tyvar)1849 4114 y Fu(k)2793 4099 y Ft(\()p Fv(k)c
FB(\025)25 b Fv(0)12 b Ft(\))300 4393 y FI(A)22 b(type)j(synon)o(ym)f
(declaration)j(introduces)f(a)e(ne)n(w)e(type)j(that)f(is)f(equi)n(v)n
(alent)j(to)e(an)f(old)h(type.)29 b(It)24 b(has)g(the)f(form)1674
4597 y FD(type)e Fv(T)35 b(u)2064 4611 y Fu(1)2151 4597
y Fq(:)15 b(:)g(:)39 b Fv(u)2344 4612 y Fu(k)2410 4597
y FD(=)22 b Fv(t)300 4800 y FI(which)39 b(introduces)j(a)c(ne)n(w)g
(type)i(constructor)l(,)45 b Fv(T)12 b FI(.)74 b(The)38
b(type)i Ft(\()p Fv(T)35 b(t)2619 4814 y Fu(1)2706 4800
y Fq(:)15 b(:)g(:)i Fv(t)2858 4815 y Fu(k)2902 4800 y
Ft(\))38 b FI(is)h(equi)n(v)n(alent)i(to)d(the)h(type)300
4913 y Fv(t)9 b Ft([)p Fv(t)394 4927 y Fu(1)444 4913
y Fq(=)p Fv(u)538 4927 y Fu(1)587 4913 y Fq(;)39 b(:)15
b(:)g(:)h(;)38 b Fv(t)865 4928 y Fu(k)909 4913 y Fq(=)p
Fv(u)1003 4928 y Fu(k)1048 4913 y Ft(])p FI(.)27 b(The)19
b(type)i(v)n(ariables)h Fv(u)1853 4927 y Fu(1)1922 4913
y FI(through)g Fv(u)2273 4928 y Fu(k)2336 4913 y FI(must)e(be)g
(distinct)i(and)f(are)f(scoped)i(only)f(o)o(v)o(er)f
Fv(t)9 b FI(;)300 5026 y(it)23 b(is)h(a)f(static)h(error)h(for)f(an)o
(y)f(other)i(type)f(v)n(ariable)h(to)f(appear)h(in)e
Fv(t)9 b FI(.)28 b(The)23 b(kind)i(of)e(the)h(ne)n(w)f(type)h
(constructor)j Fv(T)300 5139 y FI(is)d(of)g(the)h(form)f
Fq(\024)870 5153 y FA(1)936 5139 y FB(!)i Fq(:)15 b(:)g(:)28
b FB(!)e Fq(\024)1355 5154 y Fo(k)1424 5139 y FB(!)h
Fq(\024)c FI(where)i(the)f(kinds)i Fq(\024)2270 5153
y Fu(i)2326 5139 y FI(of)e(the)g(ar)n(guments)j Fv(u)3009
5153 y Fu(i)3064 5139 y FI(and)e Fq(\024)f FI(of)g(the)g(right)h(hand)
300 5252 y(side)32 b Fv(t)40 b FI(are)31 b(determined)j(by)e(kind)g
(inference)i(as)d(described)j(in)e(Section)g(4.6.)52
b(F)o(or)31 b(e)o(xample,)j(the)e(follo)n(wing)300 5365
y(de\002nition)25 b(can)f(be)g(used)g(to)g(pro)o(vide)h(an)e(alternati)
n(v)o(e)j(w)o(ay)d(of)h(writing)g(the)g(list)g(type)g(constructor:)p
eop
%%Page: 46 60
46 59 bop 0 100 a FI(46)1591 b FE(CHAPTER)19 b(4.)52
b(DECLARA)-10 b(TIONS)18 b(AND)k(BINDINGS)250 356 y FD(type)53
b(List)g(=)h([])0 552 y FI(T)-7 b(ype)26 b(constructor)i(symbols)g
Fv(T)37 b FI(introduced)28 b(by)e(type)h(synon)o(ym)g(declarations)i
(cannot)e(be)f(partially)i(applied;)0 665 y(it)23 b(is)h(a)f(static)h
(error)h(to)e(use)h Fv(T)35 b FI(without)24 b(the)g(full)g(number)h(of)
e(ar)n(guments.)0 861 y(Although)i(recursi)n(v)o(e)g(and)f(mutually)h
(recursi)n(v)o(e)g(datatypes)h(are)d(allo)n(wed,)47 b(this)24
b(is)f(not)h(so)f(for)h(type)g(synon)o(yms,)0 974 y FJ(unless)h(an)f
(alg)o(ebr)o(aic)i(datatype)f(intervenes)p FI(.)32 b(F)o(or)23
b(e)o(xample,)250 1164 y FD(type)53 b(Rec)g(a)163 b(=)109
b([Circ)52 b(a])250 1277 y(data)h(Circ)g(a)108 b(=)h(Tag)53
b([Rec)g(a])0 1464 y FI(is)23 b(allo)n(wed,)h(whereas)250
1647 y FD(type)53 b(Rec)g(a)163 b(=)109 b([Circ)52 b(a])436
b(--)53 b(invalid)250 1760 y(type)g(Circ)g(a)108 b(=)h([Rec)53
b(a])490 b(--)53 b(invalid)0 1947 y FI(is)23 b(not.)29
b(Similarly)-6 b(,)24 b FD(type)53 b(Rec)g(a)h(=)h([Rec)d(a])22
b FI(is)h(not)h(allo)n(wed.)0 2143 y(T)-7 b(ype)29 b(synon)o(yms)j(are)
e(a)f(con)l(v)o(enient,)34 b(b)n(ut)d(strictly)g(syntactic,)i
(mechanism)e(to)f(mak)o(e)g(type)h(signatures)h(more)0
2256 y(readable.)j(A)23 b(synon)o(ym)j(and)g(its)f(de\002nition)h(are)f
(completely)i(interchangeable,)j(e)o(xcept)c(in)e(the)i(instance)g
(type)0 2369 y(of)d(an)h FD(instance)19 b FI(declaration)27
b(\(Section)d(4.3.2\).)0 2701 y FG(4.2.3)99 b(Datatype)25
b(Renamings)0 2958 y Fv(top)-5 b(de)g(cl)209 b FB(!)113
b FD(newtype)20 b Ft([)p Fv(c)-5 b(ontext)32 b FD(=>)p
Ft(])23 b Fv(simpletyp)-5 b(e)31 b FD(=)22 b Fv(newc)-5
b(onstr)35 b Ft([)p Fv(deriving)8 b Ft(])0 3071 y Fv(newc)-5
b(onstr)82 b FB(!)113 b Fv(c)-5 b(on)31 b(atyp)-5 b(e)506
3184 y FB(j)147 b Fv(c)-5 b(on)31 b FD({)22 b Fv(var)33
b FD(::)22 b Fv(typ)-5 b(e)30 b FD(})0 3297 y Fv(simpletyp)-5
b(e)67 b FB(!)113 b Fv(tyc)-5 b(on)31 b(tyvar)1117 3311
y Fu(1)1205 3297 y Fq(:)15 b(:)g(:)39 b Fv(tyvar)1549
3312 y Fu(k)2493 3297 y Ft(\()p Fv(k)c FB(\025)25 b Fv(0)12
b Ft(\))0 3593 y FI(A)22 b(declaration)27 b(of)c(the)h(form)1115
3706 y FD(newtype)19 b Fv(cx)34 b FD(=>)22 b Fv(T)34
b(u)1917 3720 y Fu(1)2005 3706 y Fq(:)15 b(:)g(:)39 b
Fv(u)2198 3721 y Fu(k)2264 3706 y FD(=)22 b Fv(N)38 b(t)0
3872 y FI(introduces)22 b(a)d(ne)n(w)g(type)h(whose)f(representation)24
b(is)19 b(the)g(same)h(as)f(an)g(e)o(xisting)i(type.)28
b(The)19 b(type)h FD(\()o Fv(T)35 b(u)3244 3886 y Fu(1)3309
3872 y Fq(:)15 b(:)g(:)39 b Fv(u)3502 3887 y Fu(k)3545
3872 y FD(\))0 3985 y FI(renames)25 b(the)f(datatype)j
Fv(t)8 b FI(.)30 b(It)23 b(dif)n(fers)i(from)f(a)g(type)h(synon)o(ym)g
(in)f(that)g(it)g(creates)i(a)d(distinct)j(type)f(that)f(must)g(be)0
4098 y(e)o(xplicitly)g(coerced)f(to)f(or)g(from)f(the)h(original)i
(type.)29 b(Also,)22 b(unlik)o(e)h(type)f(synon)o(yms,)i
FD(newtype)17 b FI(may)22 b(be)f(used)0 4211 y(to)28
b(de\002ne)h(recursi)n(v)o(e)g(types.)44 b(The)28 b(constructor)j
Fv(N)42 b FI(in)28 b(an)g(e)o(xpression)j(coerces)f(a)d(v)n(alue)i
(from)f(type)h Fv(t)36 b FI(to)28 b(type)0 4324 y FD(\()p
Fv(T)34 b(u)203 4338 y Fu(1)291 4324 y Fq(:)15 b(:)g(:)38
b Fv(u)483 4339 y Fu(k)527 4324 y FD(\))p FI(.)e(Using)27
b Fv(N)40 b FI(in)26 b(a)g(pattern)h(coerces)h(a)e(v)n(alue)h(from)f
(type)h FD(\()p Fv(T)35 b(u)2603 4338 y Fu(1)2690 4324
y Fq(:)15 b(:)g(:)39 b Fv(u)2883 4339 y Fu(k)2927 4324
y FD(\))25 b FI(to)h(type)h Fv(t)9 b FI(.)36 b(These)0
4437 y(coercions)d(may)d(be)g(implemented)i(without)f(e)o(x)o(ecution)h
(time)e(o)o(v)o(erhead;)35 b FD(newtype)27 b FI(does)k(not)f(change)i
(the)0 4550 y(underlying)27 b(representation)g(of)d(an)f(object.)0
4746 y(Ne)n(w)k(instances)k(\(see)e(Section)g(4.3.2\))g(can)g(be)f
(de\002ned)i(for)e(a)g(type)i(de\002ned)f(by)g FD(newtype)24
b FI(b)n(ut)29 b(may)f(not)h(be)0 4859 y(de\002ned)34
b(for)f(a)g(type)g(synon)o(ym.)59 b(A)32 b(type)i(created)g(by)f
FD(newtype)c FI(dif)n(fers)35 b(from)e(an)g(algebraic)i(datatype)g(in)0
4972 y(that)d(the)g(representation)k(of)c(an)f(algebraic)j(datatype)g
(has)e(an)g(e)o(xtra)g(le)n(v)o(el)g(of)g(indirection.)56
b(This)32 b(dif)n(ference)0 5085 y(may)e(mak)o(e)g(access)h(to)f(the)g
(representation)k(less)c(ef)n(\002cient.)49 b(The)29
b(dif)n(ference)j(is)e(re\003ected)h(in)f(dif)n(ferent)h(rules)0
5197 y(for)c(pattern)i(matching)g(\(see)f(Section)g(3.17\).)40
b(Unlik)o(e)28 b(algebraic)i(datatypes,)g(the)e(ne)n(wtype)g
(constructor)i Fv(N)41 b FI(is)0 5310 y FJ(unlifted)p
FI(,)25 b(so)f(that)g Fv(N)37 b FB(?)23 b FI(is)g(the)h(same)f(as)h
FB(?)o FI(.)p eop
%%Page: 47 61
47 60 bop 300 100 a FE(4.3.)51 b(TYPE)21 b(CLASSES)f(AND)i(O)-5
b(VERLO)m(ADING)1783 b FI(47)300 356 y(The)30 b(follo)n(wing)i(e)o
(xamples)g(clarify)g(the)f(dif)n(ferences)i(between)f
FD(data)c FI(\(algebraic)33 b(datatypes\),)i FD(type)28
b FI(\(type)300 469 y(synon)o(yms\),)d(and)f FD(newtype)c
FI(\(renaming)25 b(types.\))30 b(Gi)n(v)o(en)23 b(the)h(declarations)
550 650 y FD(data)53 b(D1)h(=)g(D1)f(Int)550 763 y(data)g(D2)h(=)g(D2)f
(!Int)550 876 y(type)g(S)h(=)g(Int)550 989 y(newtype)e(N)i(=)g(N)g(Int)
550 1101 y(d1)g(\(D1)f(i\))h(=)g(42)550 1214 y(d2)g(\(D2)f(i\))h(=)g
(42)550 1327 y(s)g(i)g(=)h(42)550 1440 y(n)f(\(N)g(i\))g(=)g(42)300
1619 y FI(the)45 b(e)o(xpressions)k FD(\()22 b(d1)g FB(?)g
FD(\))p FI(,)49 b FD(\()22 b(d2)g FB(?)h FD(\))43 b FI(and)j
FD(\(d2)53 b(\(D2)22 b FB(?)g FD(\))54 b(\))44 b FI(are)h(all)g(equi)n
(v)n(alent)j(to)d FB(?)p FI(,)k(whereas)300 1732 y FD(\()22
b(n)h FB(?)f FD(\))p FI(,)28 b FD(\()23 b(n)f(\()g(N)54
b FB(?)23 b FD(\))54 b(\))o FI(,)29 b FD(\()22 b(d1)g(\()g(D1)g
FB(?)h FD(\))54 b(\))27 b FI(and)i FD(\()22 b(s)h FB(?)f
FD(\))27 b FI(are)i(all)g(equi)n(v)n(alent)i(to)d FD(42)o
FI(.)43 b(In)29 b(particular)l(,)300 1845 y FD(\()22
b(N)h FB(?)f FD(\))g FI(is)i(equi)n(v)n(alent)i(to)d
FB(?)f FI(while)i FD(\()e(D1)g FB(?)h FD(\))f FI(is)h(not)h(equi)n(v)n
(alent)i(to)e FB(?)o FI(.)300 2032 y(The)32 b(optional)i(deri)n(ving)g
(part)f(of)f(a)g FD(newtype)c FI(declaration)35 b(is)d(treated)i(in)e
(the)h(same)f(w)o(ay)g(as)g(the)g(deri)n(ving)300 2145
y(component)26 b(of)d(a)g FD(data)e FI(declaration;)27
b(see)d(Section)g(4.3.3.)300 2332 y(A)33 b FD(newtype)c
FI(declaration)37 b(may)d(use)g(\002eld-naming)h(syntax,)j(though)d(of)
f(course)h(there)g(may)e(only)i(be)f(one)300 2445 y(\002eld.)29
b(Thus:)550 2632 y FD(newtype)52 b(Age)h(=)h(Age)f({)h(unAge)e(::)i
(Int)f(})300 2819 y FI(brings)25 b(into)f(scope)h(both)f(a)f
(constructor)k(and)d(a)f(de-constructor:)550 3000 y FD(Age)163
b(::)53 b(Int)g(->)h(Age)550 3113 y(unAge)f(::)g(Age)g(->)h(Int)300
3605 y FC(4.3)119 b(T)-9 b(ype)30 b(Classes)f(and)i(Ov)o(erloading)300
3890 y FG(4.3.1)99 b(Class)24 b(Declarations)300 4138
y Fv(top)-5 b(de)g(cl)209 b FB(!)113 b FD(class)21 b
Ft([)p Fv(sc)-5 b(ontext)33 b FD(=>)o Ft(])23 b Fv(tycls)30
b(tyvar)k Ft([)p FD(where)21 b Fv(c)-5 b(de)g(cls)7 b
Ft(])300 4251 y Fv(sc)-5 b(ontext)159 b FB(!)113 b Fv(simple)-5
b(class)806 4364 y FB(j)147 b FD(\()22 b Fv(simple)-5
b(class)1485 4378 y Fu(1)1560 4364 y FD(,)37 b Fq(:)15
b(:)g(:)39 b FD(,)22 b Fv(simple)-5 b(class)2303 4378
y Fu(n)2378 4364 y FD(\))360 b Ft(\()p Fv(n)32 b FB(\025)25
b Fv(0)12 b Ft(\))300 4477 y Fv(simple)-5 b(class)44
b FB(!)113 b Fv(qtycls)31 b(tyvar)300 4589 y(c)-5 b(de)g(cls)252
b FB(!)113 b FD({)22 b Fv(c)-5 b(de)g(cl)1240 4603 y
Fu(1)1314 4589 y FD(;)37 b Fq(:)15 b(:)g(:)39 b FD(;)22
b Fv(c)-5 b(de)g(cl)1812 4603 y Fu(n)1885 4589 y FD(})853
b Ft(\()p Fv(n)32 b FB(\025)25 b Fv(0)12 b Ft(\))300
4702 y Fv(c)-5 b(de)g(cl)289 b FB(!)113 b Fv(gende)-5
b(cl)806 4815 y FB(j)147 b Ft(\()p Fv(funlhs)31 b FB(j)23
b Fv(var)10 b Ft(\))24 b Fv(rhs)300 5075 y FI(A)g FJ(class)i(declar)o
(ation)i FI(introduces)g(a)c(ne)n(w)g(class)i(and)g(the)f(operations)j
(\()p FJ(class)e(methods)p FI(\))g(on)g(it.)32 b(A)24
b(class)i(decla-)300 5188 y(ration)f(has)f(the)g(general)h(form:)1475
5365 y FD(class)20 b Fv(cx)34 b FD(=>)22 b Fv(C)36 b(u)29
b FD(where)21 b Fv(c)-5 b(de)g(cls)p eop
%%Page: 48 62
48 61 bop 0 100 a FI(48)1591 b FE(CHAPTER)19 b(4.)52
b(DECLARA)-10 b(TIONS)18 b(AND)k(BINDINGS)0 356 y FI(This)35
b(introduces)j(a)c(ne)n(w)g(class)i(name)f Fv(C)13 b
FI(;)40 b(the)35 b(type)h(v)n(ariable)h Fv(u)j FI(is)35
b(scoped)i(only)e(o)o(v)o(er)g(the)g(class)h(method)0
469 y(signatures)24 b(in)e(the)g(class)g(body)-6 b(.)30
b(The)21 b(conte)o(xt)i Fv(cx)32 b FI(speci\002es)23
b(the)f(superclasses)j(of)c Fv(C)14 b FI(,)21 b(as)g(described)j(belo)n
(w;)f(the)0 582 y(only)h(type)h(v)n(ariable)g(that)f(may)f(be)h
(referred)h(to)f(in)f Fv(cx)34 b FI(is)23 b Fv(u)7 b
FI(.)0 776 y(The)23 b(superclass)j(relation)g(must)d(not)h(be)g(c)o
(yclic;)h(i.e.)d(it)i(must)f(form)h(a)f(directed)i(ac)o(yclic)g(graph.)
0 971 y(The)e Fv(c)-5 b(de)g(cls)31 b FI(part)24 b(of)g(a)f
FD(class)d FI(declaration)27 b(contains)f(three)e(kinds)h(of)e
(declarations:)136 1238 y FB(\017)46 b FI(The)38 b(class)h(declaration)
i(introduces)g(ne)n(w)d FJ(class)h(methods)g Fv(v)2265
1252 y Fu(i)2298 1238 y FI(,)h(whose)f(scope)g(e)o(xtends)h(outside)g
(the)227 1351 y FD(class)25 b FI(declaration.)46 b(The)28
b(class)h(methods)g(of)f(a)g(class)h(declaration)j(are)c(precisely)i
(the)f Fv(v)3185 1365 y Fu(i)3244 1351 y FI(for)g(which)227
1463 y(there)c(is)e(an)h(e)o(xplicit)h(type)f(signature)1632
1576 y Fv(v)1674 1590 y Fu(i)1729 1576 y FD(::)e Fv(cx)1945
1590 y Fu(i)2000 1576 y FD(=>)g Fv(t)2162 1590 y Fu(i)227
1741 y FI(in)37 b Fv(c)-5 b(de)g(cls)8 b FI(.)67 b(Class)36
b(methods)i(share)g(the)e(top)h(le)n(v)o(el)g(namespace)h(with)e(v)n
(ariable)j(bindings)f(and)f(\002eld)227 1854 y(names;)27
b(the)o(y)f(must)f(not)h(con\003ict)g(with)g(other)g(top)g(le)n(v)o(el)
f(bindings)j(in)d(scope.)36 b(That)25 b(is,)g(a)g(class)h(method)227
1967 y(can)e(not)g(ha)n(v)o(e)g(the)g(same)g(name)f(as)h(a)f(top)h(le)n
(v)o(el)g(de\002nition,)h(a)e(\002eld)g(name,)g(or)h(another)h(class)g
(method.)227 2117 y(The)e(type)i(of)e(the)h(top-le)n(v)o(el)h(class)g
(method)f Fv(v)1682 2131 y Fu(i)1737 2117 y FI(is:)1420
2318 y Fq(v)1464 2332 y Fo(i)1517 2318 y Ft(::)i FB(8)p
Fq(u;)p 1736 2268 68 4 v 15 w(w)r(:)d Ft(\()p Fq(C)7
b(u;)15 b(cx)2141 2332 y Fo(i)2170 2318 y Ft(\))26 b
FB(\))f Fq(t)2380 2332 y Fo(i)227 2518 y FI(The)f Fv(t)422
2532 y Fu(i)477 2518 y FI(must)g(mention)i Fv(u)6 b FI(;)24
b(it)g(may)f(mention)i(type)g(v)n(ariables)p 2206 2469
71 4 v 26 w Fv(w)33 b FI(other)25 b(than)g Fv(u)7 b FI(,)23
b(in)g(which)i(case)f(the)g(type)227 2631 y(of)29 b Fv(v)373
2645 y Fu(i)432 2631 y FI(is)g(polymorphic)i(in)d(both)h
Fv(u)35 b FI(and)p 1542 2582 V 28 w Fv(w)11 b FI(.)42
b(The)28 b Fv(cx)1931 2645 y Fu(i)1991 2631 y FI(may)g(constrain)j
(only)p 2725 2582 V 29 w Fv(w)10 b FI(;)30 b(in)f(particular)l(,)j(the)
d Fv(cx)3568 2645 y Fu(i)227 2744 y FI(may)24 b(not)f(constrain)j
Fv(u)7 b FI(.)28 b(F)o(or)23 b(e)o(xample:)478 2888 y
FD(class)52 b(Foo)h(a)h(where)587 3001 y(op)f(::)h(Num)f(b)h(=>)g(a)g
(->)g(b)g(->)f(a)227 3148 y FI(Here)24 b(the)f(type)i(of)e
FD(op)f FI(is)h FB(8)g Fv(a)7 b Fq(;)38 b Fv(b)6 b Fq(:)23
b Ft(\()p FD(Foo)e Fv(a)7 b Fq(;)39 b FD(Num)21 b Fv(b)6
b Ft(\))71 b FB(\))48 b Fv(a)55 b FB(!)48 b Fv(b)54 b
FB(!)48 b Fv(a)7 b FI(.)136 3334 y FB(\017)46 b FI(The)22
b Fv(c)-5 b(de)g(cls)29 b FI(may)22 b(also)h(contain)g(a)f
FJ(\002xity)h(declar)o(ation)i FI(for)d(an)o(y)g(of)g(the)g(class)h
(methods)g(\(b)n(ut)g(for)f(no)g(other)227 3447 y(v)n(alues\).)52
b(Ho)n(we)n(v)o(er)l(,)32 b(since)g(class)g(methods)g(declare)h(top-le)
n(v)o(el)f(v)n(alues,)i(the)d(\002xity)g(declaration)j(for)d(a)227
3560 y(class)25 b(method)f(may)f(alternati)n(v)o(ely)k(appear)e(at)e
(top)h(le)n(v)o(el,)g(outside)h(the)f(class)g(declaration.)136
3747 y FB(\017)46 b FI(Lastly)-6 b(,)35 b(the)e Fv(c)-5
b(de)g(cls)40 b FI(may)32 b(contain)i(a)e FJ(default)j(class)e(method)g
FI(for)g(an)o(y)f(of)h(the)f Fv(v)2857 3761 y Fu(i)2890
3747 y FI(.)54 b(The)32 b(def)o(ault)i(class)227 3859
y(method)26 b(for)f Fv(v)696 3873 y Fu(i)752 3859 y FI(is)g(used)g(if)g
(no)f(binding)j(for)e(it)f(is)h(gi)n(v)o(en)g(in)g(a)f(particular)k
FD(instance)20 b FI(declaration)28 b(\(see)227 3972 y(Section)i
(4.3.2\).)47 b(The)28 b(def)o(ault)j(method)f(declaration)j(is)c(a)g
(normal)h(v)n(alue)g(de\002nition,)i(e)o(xcept)e(that)g(the)227
4085 y(left)24 b(hand)h(side)f(may)f(only)h(be)g(a)f(v)n(ariable)i(or)f
(function)i(de\002nition.)k(F)o(or)23 b(e)o(xample:)478
4229 y FD(class)52 b(Foo)h(a)h(where)587 4342 y(op1,)e(op2)i(::)f(a)h
(->)g(a)587 4455 y(\(op1,)e(op2\))h(=)h(...)227 4596
y FI(is)24 b(not)g(permitted,)g(because)i(the)e(left)g(hand)g(side)g
(of)g(the)g(def)o(ault)h(declaration)h(is)e(a)f(pattern.)0
4862 y(Other)h(than)g(these)h(cases,)f(no)f(other)i(declarations)i(are)
d(permitted)h(in)e Fv(c)-5 b(de)g(cls)9 b FI(.)0 5057
y(A)22 b FD(class)f FI(declaration)26 b(with)e(no)f FD(where)e
FI(part)j(may)f(be)h(useful)g(for)g(combining)i(a)d(collection)j(of)d
(classes)j(into)0 5170 y(a)d(lar)n(ger)i(one)f(that)g(inherits)i(all)d
(of)h(the)g(class)g(methods)h(in)e(the)h(original)i(ones.)j(F)o(or)23
b(e)o(xample:)250 5365 y FD(class)107 b(\(Read)52 b(a,)i(Show)f(a\))g
(=>)h(Textual)d(a)p eop
%%Page: 49 63
49 62 bop 300 100 a FE(4.3.)51 b(TYPE)21 b(CLASSES)f(AND)i(O)-5
b(VERLO)m(ADING)1783 b FI(49)300 356 y(In)26 b(such)h(a)e(case,)i(if)f
(a)f(type)i(is)f(an)g(instance)i(of)e(all)g(superclasses,)k(it)c(is)f
(not)i FJ(automatically)i FI(an)d(instance)i(of)e(the)300
469 y(subclass,)32 b(e)n(v)o(en)d(though)i(the)e(subclass)i(has)e(no)g
(immediate)h(class)g(methods.)46 b(The)29 b FD(instance)24
b FI(declaration)300 582 y(must)g(be)f(gi)n(v)o(en)h(e)o(xplicitly)i
(with)d(no)h FD(where)c FI(part.)300 910 y FG(4.3.2)99
b(Instance)26 b(Declarations)300 1165 y Fv(top)-5 b(de)g(cl)209
b FB(!)113 b FD(instance)19 b Ft([)p Fv(sc)-5 b(ontext)33
b FD(=>)o Ft(])23 b Fv(qtycls)31 b(inst)h Ft([)p FD(where)20
b Fv(ide)-5 b(cls)7 b Ft(])300 1278 y Fv(inst)328 b FB(!)113
b Fv(gtyc)-5 b(on)806 1390 y FB(j)147 b FD(\()22 b Fv(gtyc)-5
b(on)31 b(tyvar)1536 1404 y Fu(1)1624 1390 y Fq(:)15
b(:)g(:)39 b Fv(tyvar)1968 1405 y Fu(k)2036 1390 y FD(\))702
b Ft(\()p Fv(k)35 b FB(\025)25 b Fv(0)12 b Fq(;)39 b
Fv(tyvars)54 b Ft(distinct)n(\))806 1503 y FB(j)147 b
FD(\()22 b Fv(tyvar)1255 1517 y Fu(1)1329 1503 y FD(,)37
b Fq(:)15 b(:)g(:)39 b FD(,)22 b Fv(tyvar)1842 1518 y
Fu(k)1910 1503 y FD(\))828 b Ft(\()p Fv(k)35 b FB(\025)25
b Fv(2)12 b Fq(;)39 b Fv(tyvars)54 b Ft(distinct)n(\))806
1616 y FB(j)147 b FD([)22 b Fv(tyvar)34 b FD(])806 1729
y FB(j)147 b FD(\()22 b Fv(tyvar)1255 1743 y Fu(1)1329
1729 y FD(->)f Fv(tyvar)1660 1743 y Fu(2)1734 1729 y
FD(\))1004 b Ft(\()p Fv(tyvar)3028 1743 y Fu(1)3124 1729
y Ft(and)22 b Fv(tyvar)3493 1743 y Fu(2)3589 1729 y Ft(distinct)o(\))
300 1842 y Fv(ide)-5 b(cls)261 b FB(!)113 b FD({)22 b
Fv(ide)-5 b(cl)1231 1856 y Fu(1)1304 1842 y FD(;)38 b
Fq(:)15 b(:)g(:)39 b FD(;)22 b Fv(ide)-5 b(cl)1794 1856
y Fu(n)1867 1842 y FD(})871 b Ft(\()p Fv(n)32 b FB(\025)25
b Fv(0)12 b Ft(\))300 1955 y Fv(ide)-5 b(cl)298 b FB(!)113
b Ft(\()p Fv(funlhs)31 b FB(j)23 b Fv(var)10 b Ft(\))24
b Fv(rhs)806 2068 y FB(j)1962 b Ft(\()p Fv(empty)8 b
Ft(\))300 2353 y FI(An)23 b FJ(instance)j(declar)o(ation)g
FI(introduces)h(an)c(instance)j(of)d(a)g(class.)30 b(Let)1403
2549 y FD(class)21 b Fv(cx)33 b FD(=>)22 b Fv(C)36 b(u)29
b FD(where)21 b({)h Fv(cb)-5 b(o)g(dy)32 b FD(})300 2745
y FI(be)24 b(a)f FD(class)d FI(declaration.)32 b(The)23
b(general)i(form)f(of)f(the)h(corresponding)k(instance)d(declaration)i
(is:)1148 2942 y FD(instance)19 b Fv(cx)1702 2909 y Fs(0)1748
2942 y FD(=>)i Fv(C)36 b Ft(\()p Fv(T)g(u)2165 2956 y
Fu(1)2252 2942 y Fq(:)15 b(:)g(:)39 b Fv(u)2445 2957
y Fu(k)2489 2942 y Ft(\))23 b FD(where)d({)i Fv(d)33
b FD(})300 3138 y FI(where)21 b Fv(k)35 b FB(\025)25
b Fv(0)13 b FI(.)27 b(The)20 b(type)i Ft(\()p Fv(T)35
b(u)1346 3152 y Fu(1)1433 3138 y Fq(:)15 b(:)g(:)39 b
Fv(u)1626 3153 y Fu(k)1670 3138 y Ft(\))20 b FI(must)h(tak)o(e)h(the)f
(form)f(of)h(a)f(type)i(constructor)i Fv(T)32 b FI(applied)23
b(to)e(simple)300 3251 y(type)35 b(v)n(ariables)i Fv(u)899
3265 y Fu(1)948 3251 y Fq(;)i(:)15 b(:)g(:)38 b Fv(u)1204
3266 y Fu(k)1248 3251 y FI(;)i(furthermore,)g Fv(T)45
b FI(must)35 b(not)g(be)g(a)f(type)h(synon)o(ym,)k(and)c(the)g
Fv(u)3413 3265 y Fu(i)3479 3251 y FI(must)f(all)h(be)300
3364 y(distinct.)300 3557 y(This)23 b(prohibits)j(instance)g
(declarations)h(such)d(as:)550 3744 y FD(instance)51
b(C)j(\(a,a\))e(where)h(...)550 3857 y(instance)e(C)j(\(Int,a\))e
(where)g(...)550 3970 y(instance)f(C)j([[a]])e(where)h(...)300
4156 y FI(The)31 b(declarations)36 b Fv(d)41 b FI(may)31
b(contain)j(bindings)g(only)f(for)f(the)g(class)g(methods)i(of)d
Fv(C)14 b FI(.)52 b(It)32 b(is)g(ille)o(gal)g(to)g(gi)n(v)o(e)g(a)300
4269 y(binding)22 b(for)f(a)f(class)h(method)h(that)f(is)f(not)h(in)f
(scope,)i(b)n(ut)f(the)f(name)h(under)h(which)e(it)g(is)h(in)f(scope)i
(is)e(immaterial;)300 4382 y(in)26 b(particular)l(,)k(it)c(may)g(be)h
(a)f(quali\002ed)i(name.)37 b(\(This)27 b(rule)g(is)f(identical)j(to)d
(that)h(used)g(for)g(subordinate)j(names)300 4495 y(in)24
b(e)o(xport)h(lists)g(\227)e(Section)h(5.2.\))30 b(F)o(or)24
b(e)o(xample,)g(this)h(is)e(le)o(gal,)h(e)n(v)o(en)g(though)i
FD(range)21 b FI(is)j(in)f(scope)j(only)e(with)300 4607
y(the)g(quali\002ed)h(name)e FD(Ix.range)m FI(.)550 4795
y FD(module)52 b(A)i(where)659 4908 y(import)e(qualified)f(Ix)659
5067 y(instance)g(Ix.Ix)h(T)j(where)768 5180 y(range)e(=)h(...)300
5365 y FI(The)21 b(declarations)j(may)d(not)h(contain)g(an)o(y)g(type)f
(signatures)j(or)d(\002xity)h(declarations,)i(since)f(these)f(ha)n(v)o
(e)f(already)p eop
%%Page: 50 64
50 63 bop 0 100 a FI(50)1591 b FE(CHAPTER)19 b(4.)52
b(DECLARA)-10 b(TIONS)18 b(AND)k(BINDINGS)0 356 y FI(been)29
b(gi)n(v)o(en)f(in)g(the)g FD(class)d FI(declaration.)45
b(As)27 b(in)h(the)g(case)g(of)g(def)o(ault)i(class)f(methods)g
(\(Section)g(4.3.1\),)g(the)0 469 y(method)24 b(declarations)j(must)d
(tak)o(e)g(the)g(form)g(of)f(a)g(v)n(ariable)i(or)f(function)i
(de\002nition.)0 665 y(If)31 b(no)h(binding)i(is)d(gi)n(v)o(en)i(for)e
(some)h(class)h(method)f(then)h(the)f(corresponding)k(def)o(ault)d
(class)g(method)f(in)g(the)0 778 y FD(class)20 b FI(declaration)26
b(is)d(used)h(\(if)f(present\);)i(if)e(such)h(a)f(def)o(ault)i(does)e
(not)h(e)o(xist)g(then)f(the)h(class)g(method)g(of)f(this)0
891 y(instance)j(is)d(bound)i(to)e FD(undefined)c FI(and)24
b(no)g(compile-time)h(error)g(results.)0 1087 y(An)34
b FD(instance)c FI(declaration)37 b(that)e(mak)o(es)g(the)g(type)g
Fv(T)46 b FI(to)34 b(be)h(an)f(instance)j(of)d(class)i
Fv(C)47 b FI(is)34 b(called)i(a)e FJ(C-T)0 1199 y(instance)26
b(declar)o(ation)g FI(and)e(is)g(subject)h(to)e(these)i(static)g
(restrictions:)136 1470 y FB(\017)46 b FI(A)20 b(type)h(may)f(not)h(be)
g(declared)i(as)d(an)h(instance)h(of)f(a)f(particular)j(class)f(more)e
(than)i(once)f(in)f(the)h(program.)136 1658 y FB(\017)46
b FI(The)26 b(class)i(and)f(type)g(must)f(ha)n(v)o(e)h(the)g(same)g
(kind;)i(this)e(can)f(be)h(determined)i(using)e(kind)g(inference)i(as)
227 1771 y(described)d(in)e(Section)g(4.6.)136 1958 y
FB(\017)46 b FI(Assume)29 b(that)f(the)h(type)g(v)n(ariables)h(in)f
(the)f(instance)j(type)e Ft(\()p Fv(T)35 b(u)2318 1972
y Fu(1)2405 1958 y Fq(:)15 b(:)g(:)39 b Fv(u)2598 1973
y Fu(k)2642 1958 y Ft(\))28 b FI(satisfy)h(the)g(constraints)i(in)227
2071 y(the)e(instance)h(conte)o(xt)g Fv(cx)1080 2038
y Fs(0)1104 2071 y FI(.)42 b(Under)29 b(this)g(assumption,)j(the)c
(follo)n(wing)i(tw)o(o)e(conditions)k(must)c(also)h(be)227
2184 y(satis\002ed:)314 2372 y(1.)45 b(The)31 b(constraints)j(e)o
(xpressed)f(by)e(the)g(superclass)j(conte)o(xt)e Fv(cx)11
b Ft([\()p Fv(T)35 b(u1)51 b Fq(:)15 b(:)g(:)39 b Fv(uk)10
b Ft(\))p Fq(=)p Fv(u)d Ft(])30 b FI(of)h Fv(C)43 b FI(must)427
2485 y(be)25 b(satis\002ed.)33 b(In)24 b(other)i(w)o(ords,)f
Fv(T)36 b FI(must)24 b(be)h(an)f(instance)j(of)d(each)i(of)e
Fv(C)13 b FI(')-5 b(s)25 b(superclasses)j(and)d(the)427
2598 y(conte)o(xts)h(of)d(all)h(superclass)i(instances)g(must)e(be)f
(implied)i(by)e Fv(cx)2533 2565 y Fs(0)2557 2598 y FI(.)314
2744 y(2.)45 b(An)o(y)24 b(constraints)k(on)d(the)g(type)h(v)n
(ariables)g(in)f(the)g(instance)i(type)e(that)h(are)f(required)h(for)f
(the)g(class)427 2857 y(method)g(declarations)i(in)c
Fv(d)33 b FI(to)23 b(be)h(well-typed)h(must)f(also)g(be)g(satis\002ed.)
227 3044 y(In)30 b(f)o(act,)i(e)o(xcept)f(in)f(pathological)j(cases)e
(it)f(is)g(possible)i(to)e(infer)h(from)f(the)g(instance)i(declaration)
h(the)227 3157 y(most)27 b(general)i(instance)h(conte)o(xt)e
Fv(cx)1436 3124 y Fs(0)1486 3157 y FI(satisfying)i(the)d(abo)o(v)o(e)h
(tw)o(o)f(constraints,)k(b)n(ut)c(it)g(is)g(ne)n(v)o(ertheless)227
3270 y(mandatory)f(to)d(write)h(an)f(e)o(xplicit)i(instance)h(conte)o
(xt.)0 3541 y(The)d(follo)n(wing)i(e)o(xample)f(illustrates)j(the)d
(restrictions)i(imposed)f(by)f(superclass)i(instances:)250
3731 y FD(class)53 b(Foo)g(a)h(=>)f(Bar)h(a)g(where)e(...)250
3890 y(instance)f(\(Eq)i(a,)h(Show)f(a\))g(=>)h(Foo)f([a])g(where)g
(...)250 4050 y(instance)e(Num)i(a)h(=>)g(Bar)f([a])g(where)g(...)0
4237 y FI(This)23 b(e)o(xample)h(is)f(v)n(alid)h(Hask)o(ell.)30
b(Since)23 b FD(Foo)e FI(is)i(a)g(superclass)j(of)d FD(Bar)n
FI(,)g(the)g(second)i(instance)g(declaration)h(is)0 4350
y(only)d(v)n(alid)f(if)g FD([a])e FI(is)h(an)h(instance)i(of)e
FD(Foo)e FI(under)j(the)f(assumption)i FD(Num)53 b(a)p
FI(.)27 b(The)22 b(\002rst)f(instance)j(declaration)0
4463 y(does)k(indeed)h(say)f(that)g FD([a])d FI(is)j(an)f(instance)j
(of)d FD(Foo)e FI(under)k(this)f(assumption,)i(because)g
FD(Eq)25 b FI(and)j FD(Show)d FI(are)0 4575 y(superclasses)i(of)d
FD(Num)n FI(.)0 4771 y(If)f(the)h(tw)o(o)f(instance)j(declarations)h
(instead)e(read)f(lik)o(e)h(this:)250 4943 y FD(instance)51
b(Num)i(a)h(=>)g(Foo)f([a])g(where)g(...)250 5102 y(instance)e(\(Eq)i
(a,)h(Show)f(a\))g(=>)h(Bar)f([a])g(where)g(...)0 5290
y FI(then)36 b(the)f(program)i(w)o(ould)f(be)f(in)l(v)n(alid.)66
b(The)34 b(second)j(instance)h(declaration)g(is)d(v)n(alid)h(only)g(if)
f FD([a])e FI(is)i(an)p eop
%%Page: 51 65
51 64 bop 300 100 a FE(4.3.)51 b(TYPE)21 b(CLASSES)f(AND)i(O)-5
b(VERLO)m(ADING)1783 b FI(51)300 356 y(instance)28 b(of)f
FD(Foo)d FI(under)j(the)g(assumptions)i FD(\(Eq)53 b(a,)g(Show)g(a\))o
FI(.)36 b(But)26 b(this)h(does)g(not)g(hold,)g(since)g
FD([a])d FI(is)300 469 y(only)g(an)g(instance)i(of)d
FD(Foo)e FI(under)k(the)f(stronger)i(assumption)f FD(Num)54
b(a)o FI(.)300 656 y(Further)24 b(e)o(xamples)h(of)f
FD(instance)19 b FI(declarations)27 b(may)c(be)g(found)i(in)f(Chapter)g
(8.)300 975 y FG(4.3.3)99 b(Deri)o(v)o(ed)25 b(Instances)300
1223 y FI(As)h(mentioned)i(in)f(Section)g(4.2.1,)g FD(data)d
FI(and)j FD(newtype)22 b FI(declarations)30 b(contain)e(an)f(optional)i
FD(deriving)300 1336 y FI(form.)49 b(If)30 b(the)h(form)f(is)g
(included,)k(then)e FJ(derived)g(instance)g(declar)o(ations)i
FI(are)d(automatically)i(generated)g(for)300 1449 y(the)d(datatype)h
(in)e(each)h(of)f(the)h(named)g(classes.)47 b(These)30
b(instances)h(are)f(subject)h(to)e(the)h(same)f(restrictions)j(as)300
1562 y(user)n(-de\002ned)f(instances.)44 b(When)28 b(deri)n(ving)h(a)f
(class)g Fv(C)41 b FI(for)28 b(a)f(type)i Fv(T)12 b FI(,)28
b(instances)i(for)e(all)g(superclasses)j(of)d Fv(C)300
1675 y FI(must)23 b(e)o(xist)h(for)f Fv(T)12 b FI(,)22
b(either)i(via)f(an)g(e)o(xplicit)i FD(instance)18 b
FI(declaration)26 b(or)d(by)g(including)j(the)d(superclass)j(in)d(the)
300 1788 y FD(deriving)c FI(clause.)300 1975 y(Deri)n(v)o(ed)32
b(instances)i(pro)o(vide)f(con)l(v)o(enient)i(commonly-used)f
(operations)h(for)c(user)n(-de\002ned)k(datatypes.)55
b(F)o(or)300 2088 y(e)o(xample,)30 b(deri)n(v)o(ed)f(instances)h(for)e
(datatypes)j(in)d(the)g(class)h FD(Eq)d FI(de\002ne)j(the)f(operations)
j FD(==)26 b FI(and)i FD(/=)p FI(,)g(freeing)300 2201
y(the)c(programmer)h(from)e(the)h(need)h(to)e(de\002ne)h(them.)300
2388 y(The)39 b(only)h(classes)h(in)f(the)g(Prelude)g(for)g(which)f
(deri)n(v)o(ed)i(instances)h(are)e(allo)n(wed)g(are)g
FD(Eq)o FI(,)i FD(Ord)o FI(,)g FD(Enum)n FI(,)300 2500
y FD(Bounded)m FI(,)34 b FD(Show)n FI(,)g(and)f FD(Read)n
FI(,)h(all)f(mentioned)i(in)d(Figure)i(6.1,)g(page)g(83.)56
b(The)32 b(precise)j(details)f(of)f(ho)n(w)300 2613 y(the)23
b(deri)n(v)o(ed)g(instances)i(are)e(generated)i(for)d(each)i(of)e
(these)h(classes)h(are)f(pro)o(vided)h(in)f(Chapter)g(10,)g(including)i
(a)300 2726 y(speci\002cation)i(of)e(when)g(such)h(deri)n(v)o(ed)f
(instances)j(are)d(possible.)34 b(Classes)26 b(de\002ned)f(by)g(the)g
(standard)i(libraries)300 2839 y(may)c(also)h(be)g(deri)n(v)n(able.)300
3026 y(A)g(static)i(error)g(results)h(if)e(it)g(is)g(not)g(possible)j
(to)d(deri)n(v)o(e)h(an)f FD(instance)20 b FI(declaration)29
b(o)o(v)o(er)c(a)f(class)j(named)e(in)300 3139 y(a)f
FD(deriving)19 b FI(form.)30 b(F)o(or)23 b(e)o(xample,)i(not)f(all)g
(datatypes)j(can)d(properly)i(support)g(class)f(methods)g(in)f
FD(Enum)n FI(.)29 b(It)300 3252 y(is)23 b(also)i(a)e(static)h(error)h
(to)e(gi)n(v)o(e)h(an)f(e)o(xplicit)i FD(instance)19
b FI(declaration)27 b(for)d(a)f(class)h(that)g(is)g(also)g(deri)n(v)o
(ed.)300 3439 y(If)i(the)i FD(deriving)22 b FI(form)k(is)h(omitted)h
(from)e(a)h FD(data)d FI(or)j FD(newtype)22 b FI(declaration,)31
b(then)c FJ(no)g FI(instance)i(decla-)300 3552 y(rations)e(are)e(deri)n
(v)o(ed)i(for)e(that)h(datatype;)i(that)e(is,)f(omitting)h(a)f
FD(deriving)c FI(form)k(is)g(equi)n(v)n(alent)i(to)f(including)300
3665 y(an)e(empty)g(deri)n(ving)h(form:)k FD(deriving)51
b(\(\))o FI(.)300 3984 y FG(4.3.4)99 b(Ambiguous)25 b(T)-7
b(ypes,)25 b(and)h(Defaults)f(f)n(or)f(Ov)o(erloaded)h(Numeric)h
(Operations)300 4232 y Fv(top)-5 b(de)g(cl)209 b FB(!)113
b FD(default)20 b(\()o Fv(typ)-5 b(e)1594 4246 y Fu(1)1667
4232 y FD(,)38 b Fq(:)15 b(:)g(:)39 b FD(,)22 b Fv(typ)-5
b(e)2138 4246 y Fu(n)2189 4232 y FD(\))549 b Ft(\()p
Fv(n)32 b FB(\025)25 b Fv(0)12 b Ft(\))300 4492 y FI(A)32
b(problem)j(inherent)h(with)d(Hask)o(ell-style)k(o)o(v)o(erloading)f
(is)d(the)h(possibility)j(of)c(an)h FJ(ambiguous)i(type)p
FI(.)59 b(F)o(or)300 4605 y(e)o(xample,)28 b(using)f(the)g
FD(read)d FI(and)j FD(show)c FI(functions)29 b(de\002ned)f(in)e
(Chapter)h(10,)g(and)g(supposing)i(that)e(just)g FD(Int)300
4718 y FI(and)d FD(Bool)d FI(are)j(members)g(of)f FD(Read)e
FI(and)j FD(Show)n FI(,)f(then)h(the)g(e)o(xpression)550
4905 y FD(let)53 b(x)i(=)f(read)e("...")h(in)g(show)g(x)109
b(--)53 b(invalid)300 5092 y FI(is)23 b(ambiguous,)j(because)f(the)f
(types)h(for)e FD(show)e FI(and)j FD(read)o FI(,)1277
5264 y FD(show)81 b Ft(::)49 b FB(8)22 b Fv(a)7 b Fq(:)23
b FD(Show)44 b Fv(a)55 b FB(\))48 b Fv(a)56 b FB(!)48
b FD(String)1277 5376 y(read)81 b Ft(::)49 b FB(8)22
b Fv(a)7 b Fq(:)23 b FD(Read)44 b Fv(a)55 b FB(\))48
b FD(String)e FB(!)h Fv(a)p eop
%%Page: 52 66
52 65 bop 0 100 a FI(52)1591 b FE(CHAPTER)19 b(4.)52
b(DECLARA)-10 b(TIONS)18 b(AND)k(BINDINGS)0 356 y FI(could)32
b(be)e(satis\002ed)h(by)g(instantiating)j FD(a)29 b FI(as)h(either)i
FD(Int)c FI(in)i(both)i(cases,)g(or)f FD(Bool)n FI(.)48
b(Such)31 b(e)o(xpressions)i(are)0 469 y(considered)27
b(ill-typed,)e(a)e(static)i(error)-5 b(.)0 659 y(W)e(e)32
b(say)i(that)g(an)f(e)o(xpression)j FD(e)31 b FI(has)j(an)f
FJ(ambiguous)i(type)f FI(if,)h(in)e(its)h(type)g FB(8)p
2582 610 56 4 v 22 w Fv(u)7 b Fq(:)23 b Fv(cx)58 b FB(\))48
b Fv(t)9 b FI(,)35 b(there)f(is)f(a)f(type)0 772 y(v)n(ariable)25
b Fv(u)30 b FI(in)p 485 723 V 23 w Fv(u)g FI(that)24
b(occurs)h(in)e Fv(cx)34 b FI(b)n(ut)24 b(not)g(in)f
Fv(t)9 b FI(.)28 b(Such)c(types)g(are)g(in)l(v)n(alid.)0
963 y(F)o(or)d(e)o(xample,)h(the)g(earlier)h(e)o(xpression)h(in)l(v)n
(olving)h FD(show)19 b FI(and)j FD(read)d FI(has)j(an)g(ambiguous)i
(type)e(since)h(its)e(type)0 1076 y(is)i FB(8)g Fv(a)7
b Fq(:)46 b FD(Show)d Fv(a)7 b Fq(;)39 b FD(Read)44 b
Fv(a)55 b FB(\))48 b FD(String)m FI(.)0 1267 y(Ambiguous)27
b(types)f(can)g(only)h(be)e(circumv)o(ented)j(by)e(input)g(from)g(the)f
(user)-5 b(.)36 b(One)25 b(w)o(ay)g(is)g(through)j(the)d(use)h(of)0
1379 y FJ(e)n(xpr)m(ession)e(type-signatur)m(es)i FI(as)21
b(described)i(in)f(Section)g(3.16.)28 b(F)o(or)20 b(e)o(xample,)i(for)g
(the)f(ambiguous)j(e)o(xpression)0 1492 y(gi)n(v)o(en)g(earlier)l(,)h
(one)f(could)h(write:)250 1683 y FD(let)53 b(x)i(=)f(read)e("...")h(in)
g(show)g(\(x::Bool\))0 1874 y FI(which)24 b(disambiguates)j(the)d
(type.)0 2064 y(Occasionally)-6 b(,)24 b(an)e(otherwise)h(ambiguous)g
(e)o(xpression)h(needs)e(to)g(be)f(made)g(the)h(same)f(type)h(as)f
(some)h(v)n(ariable,)0 2177 y(rather)30 b(than)g(being)g(gi)n(v)o(en)g
(a)e(\002x)o(ed)h(type)h(with)f(an)g(e)o(xpression)i(type-signature.)50
b(This)29 b(is)g(the)g(purpose)i(of)e(the)0 2290 y(function)e
FD(asTypeOf)21 b FI(\(Chapter)27 b(8\):)32 b Fv(x)k FD(`asTypeOf`)20
b Fv(y)32 b FI(has)26 b(the)g(v)n(alue)g(of)f Fv(x)11
b FI(,)25 b(b)n(ut)g Fv(x)36 b FI(and)26 b Fv(y)32 b
FI(are)26 b(forced)g(to)0 2403 y(ha)n(v)o(e)e(the)g(same)g(type.)29
b(F)o(or)23 b(e)o(xample,)250 2594 y FD(approxSqrt)50
b(x)k(=)g(encodeFloat)c(1)k(\(exponent)c(x)55 b(`div`)d(2\))h
(`asTypeOf`)d(x)0 2784 y FI(\(See)23 b(Section)i(6.4.6)e(for)h(a)f
(description)k(of)c FD(encodeFloat)18 b FI(and)24 b FD(exponent)l
FI(.\))0 2975 y(Ambiguities)f(in)e(the)g(class)h FD(Num)c
FI(are)j(most)g(common,)h(so)f(Hask)o(ell)h(pro)o(vides)h(another)f(w)o
(ay)f(to)g(resolv)o(e)h(them\227)0 3088 y(with)h(a)g
FJ(default)j(declar)o(ation)p FI(:)1279 3201 y FD(default)52
b(\()o Fv(t)1800 3215 y Fu(1)1873 3201 y FD(,)37 b Fq(:)15
b(:)g(:)39 b FD(,)22 b Fv(t)2216 3215 y Fu(n)2266 3201
y FD(\))0 3359 y FI(where)e Fv(n)33 b FB(\025)25 b Fv(0)13
b FI(,)19 b(and)i(each)g Fv(t)889 3373 y Fu(i)941 3359
y FI(must)f(be)g(a)g(type)h(for)f(which)h FD(Num)53 b
Fv(t)2093 3373 y Fu(i)2145 3359 y FI(holds.)28 b(In)21
b(situations)h(where)f(an)f(ambiguous)0 3472 y(type)k(is)g(disco)o(v)o
(ered,)h(an)f(ambiguous)h(type)g(v)n(ariable,)g Fv(v)9
b FI(,)23 b(is)g(def)o(aultable)k(if:)136 3724 y FB(\017)46
b Fv(v)33 b FI(appears)25 b(only)f(in)g(constraints)i(of)e(the)g(form)f
Fv(C)36 b(v)10 b FI(,)22 b(where)i Fv(C)36 b FI(is)23
b(a)g(class,)i(and)136 3907 y FB(\017)46 b FI(at)24 b(least)g(one)g(of)
f(these)i(classes)g(is)f(a)f(numeric)h(class,)g(\(that)h(is,)e
FD(Num)e FI(or)j(a)f(subclass)j(of)d FD(Num)o FI(\),)f(and)136
4089 y FB(\017)46 b FI(all)21 b(of)g(these)h(classes)g(are)f(de\002ned)
h(in)e(the)i(Prelude)f(or)g(a)f(standard)j(library)g(\(Figures)f
(6.2\2266.3,)g(pages)g(91\226)227 4202 y(92)28 b(sho)n(w)f(the)h
(numeric)g(classes,)i(and)e(Figure)g(6.1,)g(page)g(83,)g(sho)n(ws)g
(the)f(classes)i(de\002ned)g(in)e(the)h(Pre-)227 4315
y(lude.\))0 4567 y(Each)d(def)o(aultable)i(v)n(ariable)g(is)d(replaced)
j(by)e(the)g(\002rst)f(type)h(in)g(the)g(def)o(ault)h(list)f(that)h(is)
e(an)h(instance)i(of)d(all)h(the)0 4680 y(ambiguous)h(v)n(ariable')-5
b(s)26 b(classes.)k(It)23 b(is)h(a)f(static)h(error)h(if)e(no)h(such)g
(type)g(is)g(found.)0 4870 y(Only)h(one)g(def)o(ault)i(declaration)h
(is)c(permitted)j(per)e(module,)h(and)f(its)g(ef)n(fect)h(is)e(limited)
i(to)f(that)g(module.)34 b(If)24 b(no)0 4983 y(def)o(ault)h
(declaration)i(is)c(gi)n(v)o(en)h(in)g(a)f(module)h(then)h(it)e
(assumed)i(to)e(be:)250 5174 y FD(default)52 b(\(Integer,)e(Double\))0
5365 y FI(The)23 b(empty)h(def)o(ault)h(declaration,)i
FD(default)51 b(\(\))o FI(,)23 b(turns)h(of)n(f)g(all)f(def)o(aults)j
(in)d(a)g(module.)p eop
%%Page: 53 67
53 66 bop 300 100 a FE(4.4.)51 b(NESTED)20 b(DECLARA)-10
b(TIONS)2260 b FI(53)300 356 y FC(4.4)119 b(Nested)30
b(Declarations)300 644 y FI(The)23 b(follo)n(wing)i(declarations)i(may)
c(be)h(used)g(in)g(an)o(y)f(declaration)k(list,)d(including)i(the)e
(top)g(le)n(v)o(el)f(of)h(a)f(module.)300 974 y FG(4.4.1)99
b(T)-7 b(ype)25 b(Signatur)n(es)300 1229 y Fv(gende)-5
b(cl)191 b FB(!)113 b Fv(vars)31 b FD(::)22 b Ft([)p
Fv(c)-5 b(ontext)33 b FD(=>)o Ft(])23 b Fv(typ)-5 b(e)300
1342 y(vars)311 b FB(!)113 b Fv(var)1104 1356 y Fu(1)1177
1342 y FD(,)37 b Fq(:)15 b(:)g(:)i FD(,)22 b Fv(var)1594
1356 y Fu(n)2793 1342 y Ft(\()p Fv(n)32 b FB(\025)25
b Fv(1)12 b Ft(\))300 1630 y FI(A)26 b(type)i(signature)h(speci\002es)g
(types)f(for)f(v)n(ariables,)j(possibly)f(with)e(respect)i(to)e(a)f
(conte)o(xt.)41 b(A)26 b(type)i(signature)300 1743 y(has)c(the)g(form:)
1663 1856 y Fv(v)1705 1870 y Fu(1)1755 1856 y Fq(;)38
b(:)15 b(:)g(:)h(;)38 b Fv(v)2044 1870 y Fu(n)2116 1856
y FD(::)22 b Fv(cx)34 b FD(=>)22 b Fv(t)300 2020 y FI(which)28
b(is)g(equi)n(v)n(alent)i(to)e(asserting)i Fv(v)1528
2034 y Fu(i)1583 2020 y FD(::)21 b Fv(cx)34 b FD(=>)22
b Fv(t)36 b FI(for)28 b(each)g Fv(i)36 b FI(from)28 b
Fv(1)40 b FI(to)27 b Fv(n)7 b FI(.)41 b(Each)28 b Fv(v)3180
2034 y Fu(i)3239 2020 y FI(must)g(ha)n(v)o(e)g(a)f(v)n(alue)300
2133 y(binding)j(in)d(the)h(same)f(declaration)k(list)d(that)g
(contains)i(the)e(type)g(signature;)k(i.e.)27 b(it)g(is)h(in)l(v)n
(alid)h(to)f(gi)n(v)o(e)f(a)g(type)300 2246 y(signature)g(for)e(a)g(v)n
(ariable)i(bound)f(in)f(an)g(outer)g(scope.)34 b(Moreo)o(v)o(er)l(,)27
b(it)d(is)h(in)l(v)n(alid)i(to)e(gi)n(v)o(e)g(more)f(than)i(one)f(type)
300 2359 y(signature)h(for)e(one)g(v)n(ariable,)h(e)n(v)o(en)e(if)h
(the)g(signatures)i(are)e(identical.)300 2553 y(As)d(mentioned)j(in)e
(Section)g(4.1.2,)g(e)n(v)o(ery)g(type)h(v)n(ariable)h(appearing)g(in)e
(a)f(signature)j(is)e(uni)n(v)o(ersally)i(quanti\002ed)300
2666 y(o)o(v)o(er)36 b(that)g(signature,)41 b(and)c(hence)g(the)f
(scope)h(of)e(a)h(type)g(v)n(ariable)i(is)d(limited)i(to)f(the)g(type)g
(signature)j(that)300 2779 y(contains)26 b(it.)i(F)o(or)23
b(e)o(xample,)h(in)f(the)h(follo)n(wing)h(declarations)550
2967 y FD(f)54 b(::)g(a)g(->)g(a)550 3080 y(f)g(x)g(=)h(x)f(::)f(a)982
b(--)53 b(invalid)300 3265 y FI(the)23 b FD(a)p FI(')-5
b(s)22 b(in)h(the)g(tw)o(o)f(type)h(signatures)j(are)d(quite)g
(distinct.)31 b(Indeed,)24 b(these)g(declarations)i(contain)e(a)e
(static)i(error)l(,)300 3378 y(since)j FD(x)e FI(does)j(not)e(ha)n(v)o
(e)h(type)g FB(8)22 b Fv(a)7 b Fq(:)24 b Fv(a)7 b FI(.)37
b(\(The)26 b(type)h(of)f FD(x)f FI(is)h(dependent)j(on)e(the)f(type)h
(of)g FD(f)o FI(;)g(there)h(is)e(currently)300 3491 y(no)i(w)o(ay)g(in)
g(Hask)o(ell)h(to)g(specify)g(a)f(signature)j(for)d(a)g(v)n(ariable)i
(with)e(a)g(dependent)j(type;)g(this)e(is)f(e)o(xplained)i(in)300
3604 y(Section)24 b(4.5.4.\))300 3798 y(If)i(a)f(gi)n(v)o(en)h(program)
i(includes)g(a)d(signature)j(for)e(a)g(v)n(ariable)h
Fv(f)20 b FI(,)25 b(then)h(each)h(use)f(of)g Fv(f)44
b FI(is)26 b(treated)h(as)f(ha)n(ving)i(the)300 3911
y(declared)d(type.)k(It)23 b(is)f(a)h(static)g(error)h(if)f(the)g(same)
f(type)i(cannot)g(also)g(be)f(inferred)h(for)f(the)g(de\002ning)h
(occurrence)300 4024 y(of)f Fv(f)d FI(.)300 4218 y(If)29
b(a)g(v)n(ariable)j Fv(f)47 b FI(is)30 b(de\002ned)g(without)h(pro)o
(viding)g(a)e(corresponding)34 b(type)c(signature)i(declaration,)i
(then)c(each)300 4331 y(use)d(of)g Fv(f)45 b FI(outside)28
b(its)f(o)n(wn)f(declaration)k(group)e(\(see)f(Section)g(4.5\))g(is)g
(treated)h(as)e(ha)n(ving)j(the)e(corresponding)300 4444
y(inferred,)35 b(or)d FJ(principal)i FI(type)e(.)52 b(Ho)n(we)n(v)o(er)
l(,)33 b(to)f(ensure)h(that)f(type)g(inference)i(is)d(still)i
(possible,)i(the)d(de\002ning)300 4557 y(occurrence,)i(and)c(all)f
(uses)i(of)e Fv(f)48 b FI(within)30 b(its)g(declaration)j(group)d(must)
g(ha)n(v)o(e)g(the)g(same)g(monomorphic)h(type)300 4669
y(\(from)24 b(which)g(the)f(principal)j(type)f(is)e(obtained)j(by)d
(generalization,)28 b(as)23 b(described)j(in)e(Section)g(4.5.2\).)300
4864 y(F)o(or)f(e)o(xample,)h(if)f(we)g(de\002ne)550
5058 y FD(sqr)53 b(x)109 b(=)g(x*x)300 5252 y FI(then)39
b(the)g(principal)i(type)e(is)f FD(sqr)47 b Ft(::)h FB(8)22
b Fv(a)7 b Fq(:)46 b FD(Num)f Fv(a)55 b FB(\))48 b Fv(a)55
b FB(!)48 b Fv(a)8 b FI(,)41 b(which)d(allo)n(ws)h(applications)j(such)
d(as)300 5365 y FD(sqr)53 b(5)22 b FI(or)i FD(sqr)53
b(0.1)o FI(.)28 b(It)23 b(is)g(also)h(v)n(alid)h(to)e(declare)i(a)e
(more)h(speci\002c)g(type,)g(such)h(as)p eop
%%Page: 54 68
54 67 bop 0 100 a FI(54)1591 b FE(CHAPTER)19 b(4.)52
b(DECLARA)-10 b(TIONS)18 b(AND)k(BINDINGS)250 356 y FD(sqr)53
b(::)h(Int)f(->)h(Int)0 552 y FI(b)n(ut)24 b(no)n(w)f(applications)k
(such)e(as)e FD(sqr)53 b(0.1)22 b FI(are)h(in)l(v)n(alid.)31
b(T)-7 b(ype)23 b(signatures)j(such)f(as)250 742 y FD(sqr)53
b(::)h(\(Num)f(a,)g(Num)h(b\))f(=>)h(a)g(->)g(b)272 b(--)53
b(invalid)250 855 y(sqr)g(::)h(a)g(->)g(a)1254 b(--)53
b(invalid)0 1042 y FI(are)24 b(in)l(v)n(alid,)h(as)e(the)o(y)h(are)g
(more)f(general)j(than)e(the)g(principal)i(type)e(of)f
FD(sqr)o FI(.)0 1238 y(T)-7 b(ype)34 b(signatures)i(can)e(also)h(be)f
(used)g(to)g(support)i FJ(polymorphic)g(r)m(ecur)o(sion)p
FI(.)62 b(The)34 b(follo)n(wing)h(de\002nition)g(is)0
1351 y(pathological,)f(b)n(ut)c(illustrates)i(ho)n(w)c(a)h(type)h
(signature)i(can)d(be)h(used)g(to)f(specify)i(a)d(type)i(more)g
(general)g(than)0 1464 y(the)24 b(one)g(that)g(w)o(ould)g(be)g
(inferred:)250 1635 y FD(data)53 b(T)h(a)109 b(=)f(K)54
b(\(T)g(Int\))f(\(T)g(a\))250 1748 y(f)491 b(::)53 b(T)h(a)g(->)g(a)250
1861 y(f)g(\(K)g(x)g(y\))g(=)108 b(if)54 b(f)g(x)g(==)g(1)g(then)f(f)h
(y)g(else)e(undefined)0 2048 y FI(If)20 b(we)g(remo)o(v)o(e)h(the)g
(signature)i(declaration,)h(the)c(type)i(of)e FD(f)f
FI(will)i(be)f(inferred)j(as)d FD(T)54 b(Int)f(->)h(Int)18
b FI(due)j(to)g(the)0 2161 y(\002rst)i(recursi)n(v)o(e)h(call)f(for)h
(which)f(the)g(ar)n(gument)i(to)e FD(f)e FI(is)i FD(T)54
b(Int)o FI(.)27 b(Polymorphic)e(recursion)g(allo)n(ws)f(the)f(user)g
(to)0 2274 y(supply)i(the)f(more)g(general)h(type)f(signature,)i
FD(T)54 b(a)g(->)g(a)o FI(.)0 2606 y FG(4.4.2)99 b(Fixity)24
b(Declarations)0 2864 y Fv(gende)-5 b(cl)191 b FB(!)113
b Fv(\014xity)31 b Ft([)p Fv(inte)-5 b(ger)10 b Ft(])24
b Fv(ops)0 2977 y(\014xity)279 b FB(!)113 b FD(infixl)20
b FB(j)j FD(infixr)d FB(j)j FD(infix)0 3090 y Fv(ops)345
b FB(!)113 b Fv(op)770 3104 y Fu(1)843 3090 y FD(,)38
b Fq(:)15 b(:)g(:)39 b FD(,)22 b Fv(op)1249 3104 y Fu(n)2493
3090 y Ft(\()p Fv(n)32 b FB(\025)25 b Fv(1)12 b Ft(\))0
3202 y Fv(op)382 b FB(!)113 b Fv(var)-5 b(op)31 b FB(j)23
b Fv(c)-5 b(onop)0 3498 y FI(A)24 b(\002xity)i(declaration)j(gi)n(v)o
(es)c(the)h(\002xity)g(and)g(binding)h(precedence)i(of)c(one)h(or)f
(more)h(operators.)37 b(The)25 b Fv(inte)-5 b(ger)0 3611
y FI(in)27 b(a)g(\002xity)g(declaration)j(must)e(be)f(in)g(the)g(range)
h Fv(0)40 b FI(to)27 b Fv(9)12 b FI(.)39 b(A)26 b(\002xity)i
(declaration)i(may)d(appear)h(an)o(ywhere)h(that)0 3724
y(a)35 b(type)g(signature)j(appears)f(and,)h(lik)o(e)d(a)g(type)h
(signature,)k(declares)d(a)d(property)j(of)e(a)g(particular)i(operator)
-5 b(.)0 3837 y(Also)26 b(lik)o(e)g(a)f(type)h(signature,)j(a)c
(\002xity)g(declaration)k(can)d(only)h(occur)f(in)g(the)g(same)f
(sequence)j(of)e(declarations)0 3950 y(as)32 b(the)h(declaration)i(of)d
(the)h(operator)h(itself,)i(and)c(at)g(most)h(one)g(\002xity)f
(declaration)j(may)d(be)h(gi)n(v)o(en)g(for)f(an)o(y)0
4063 y(operator)-5 b(.)60 b(\(Class)34 b(methods)g(are)f(a)g(minor)h(e)
o(xception;)40 b(their)34 b(\002xity)g(declarations)i(can)e(occur)g
(either)h(in)e(the)0 4175 y(class)24 b(declaration)j(itself)e(or)e(at)g
(top)h(le)n(v)o(el.\))0 4371 y(There)i(are)g(three)h(kinds)h(of)e
(\002xity)-6 b(,)26 b(non-,)h(left-)g(and)g(right-associati)n(vity)k
(\()p FD(infix)n FI(,)26 b FD(infixl)m FI(,)g(and)g FD(infixr)m
FI(,)0 4484 y(respecti)n(v)o(ely\),)e(and)c(ten)g(precedence)j(le)n(v)o
(els,)f(0)d(to)h(9)g(inclusi)n(v)o(e)i(\(le)n(v)o(el)e(0)g(binds)h
(least)g(tightly)-6 b(,)22 b(and)f(le)n(v)o(el)f(9)g(binds)0
4597 y(most)i(tightly\).)31 b(If)22 b(the)g Fv(digit)31
b FI(is)22 b(omitted,)h(le)n(v)o(el)g(9)f(is)g(assumed.)30
b(An)o(y)22 b(operator)i(lacking)g(a)e(\002xity)h(declaration)i(is)0
4710 y(assumed)f(to)f(be)g FD(infixl)52 b(9)21 b FI(\(See)i(Section)h
(3)e(for)h(more)g(on)g(the)h(use)f(of)g(\002xities\).)29
b(T)-7 b(able)23 b(4.1)g(lists)g(the)g(\002xities)0 4823
y(and)h(precedences)j(of)c(the)h(operators)i(de\002ned)f(in)e(the)h
(Prelude.)0 5019 y(Fixity)29 b(is)f(a)g(property)j(of)d(a)g(particular)
j(entity)e(\(constructor)j(or)d(v)n(ariable\),)i(just)e(lik)o(e)g(its)f
(type;)k(\002xity)d(is)f(not)h(a)0 5132 y(property)d(of)d(that)h
(entity')-5 b(s)26 b FJ(name)p FI(.)j(F)o(or)22 b(e)o(xample:)p
eop
%%Page: 55 69
55 68 bop 300 100 a FE(4.4.)51 b(NESTED)20 b(DECLARA)-10
b(TIONS)2260 b FI(55)p 554 368 3115 4 v 552 480 4 113
v 664 447 a(Prec-)p 904 480 V 921 480 V 117 w(Left)24
b(associati)n(v)o(e)p 1984 480 V 497 w(Non-associati)n(v)o(e)p
2947 480 V 385 w(Right)g(associati)n(v)o(e)p 3667 480
V 552 593 V 604 560 a(edence)p 904 593 V 921 593 V 118
w(operators)p 1984 593 V 729 w(operators)p 2947 593 V
628 w(operators)p 3667 593 V 554 597 3115 4 v 554 613
V 552 726 4 113 v 811 692 a(9)p 904 726 V 921 726 V 116
w FD(!!)p 1984 726 V 2947 726 V 1917 w(.)p 3667 726 V
554 730 3115 4 v 552 842 4 113 v 811 809 a FI(8)p 904
842 V 921 842 V 1984 842 V 2947 842 V 2143 w FD(\210)o
FI(,)f FD(\210\210)o FI(,)f FD(**)p 3667 842 V 554 846
3115 4 v 552 959 4 113 v 811 925 a FI(7)p 904 959 V 921
959 V 116 w FD(*)p FI(,)g FD(/)p FI(,)g FD(`div`)n FI(,)p
1984 959 V 2947 959 V 3667 959 V 552 1072 V 904 1072
V 921 1072 V 972 1038 a FD(`mod`)n FI(,)h FD(`rem`)m
FI(,)g FD(`quot`)p 1984 1072 V 2947 1072 V 3667 1072
V 554 1075 3115 4 v 552 1188 4 113 v 811 1154 a FI(6)p
904 1188 V 921 1188 V 116 w FD(+)p FI(,)f FD(-)p 1984
1188 V 2947 1188 V 3667 1188 V 554 1191 3115 4 v 552
1304 4 113 v 811 1270 a FI(5)p 904 1304 V 921 1304 V
1984 1304 V 2947 1304 V 2143 w FD(:)o FI(,)h FD(++)p
3667 1304 V 554 1307 3115 4 v 552 1420 4 113 v 811 1386
a FI(4)p 904 1420 V 921 1420 V 1984 1420 V 1180 w FD(==)o
FI(,)f FD(/=)o FI(,)h FD(<)o FI(,)g FD(<=)o FI(,)f FD(>)p
FI(,)g FD(>=)o FI(,)p 2947 1420 V 3667 1420 V 552 1533
V 904 1533 V 921 1533 V 1984 1533 V 2036 1499 a FD(`elem`)m
FI(,)g FD(`notElem`)p 2947 1533 V 3667 1533 V 554 1537
3115 4 v 552 1649 4 113 v 811 1616 a FI(3)p 904 1649
V 921 1649 V 1984 1649 V 2947 1649 V 2143 w FD(&&)p 3667
1649 V 554 1653 3115 4 v 552 1766 4 113 v 811 1732 a
FI(2)p 904 1766 V 921 1766 V 1984 1766 V 2947 1766 V
2143 w FD(||)p 3667 1766 V 554 1769 3115 4 v 552 1882
4 113 v 811 1848 a FI(1)p 904 1882 V 921 1882 V 116 w
FD(>>)o FI(,)h FD(>>=)p 1984 1882 V 2947 1882 V 3667
1882 V 554 1885 3115 4 v 552 1998 4 113 v 811 1964 a
FI(0)p 904 1998 V 921 1998 V 1984 1998 V 2947 1998 V
2143 w FD($)o FI(,)g FD($!)o FI(,)f FD(`seq`)p 3667 1998
V 554 2001 3115 4 v 1091 2256 a FI(T)-7 b(able)24 b(4.1:)29
b(Precedences)d(and)e(\002xities)g(of)f(prelude)j(operators)550
2562 y FD(module)52 b(Bar\()h(op)g(\))h(where)659 2675
y(infixr)e(7)i(`op`)659 2788 y(op)g(=)g(...)550 2947
y(module)e(Foo)h(where)659 3060 y(import)f(qualified)f(Bar)659
3173 y(infix)i(3)h(`op`)659 3332 y(a)g(`op`)f(b)h(=)g(\(a)g(`Bar.op`)d
(b\))i(+)i(1)659 3492 y(f)f(x)h(=)f(let)1150 3605 y(p)g(`op`)f(q)h(=)g
(\(p)g(`Foo.op`)d(q\))i(*)h(2)987 3717 y(in)f(...)300
3905 y FI(Here,)26 b FD(`Bar.op`)21 b FI(is)k FD(infixr)52
b(7)p FI(,)25 b FD(`Foo.op`)c FI(is)k FD(infix)53 b(3)o
FI(,)25 b(and)h(the)g(nested)h(de\002nition)h(of)d FD(op)f
FI(in)i FD(f)o FI(')-5 b(s)300 4018 y(right-hand)25 b(side)d(has)g(the)
g(def)o(ault)i(\002xity)e(of)f FD(infixl)52 b(9)p FI(.)27
b(\(It)22 b(w)o(ould)g(also)h(be)e(possible)j(to)e(gi)n(v)o(e)g(a)f
(\002xity)h(to)g(the)300 4130 y(nested)j(de\002nition)g(of)f
FD(`op`)d FI(with)i(a)g(nested)i(\002xity)f(declaration.\))300
4463 y FG(4.4.3)99 b(Function)26 b(and)f(P)o(atter)o(n)h(Bindings)300
4720 y Fv(de)-5 b(cl)326 b FB(!)113 b Ft(\()p Fv(funlhs)31
b FB(j)23 b Fv(p)-5 b(at)1452 4687 y Fu(0)1503 4720 y
Ft(\))23 b Fv(rhs)300 4946 y(funlhs)240 b FB(!)113 b
Fv(var)33 b(ap)-5 b(at)34 b FB(f)23 b Fv(ap)-5 b(at)33
b FB(g)806 5062 y(j)147 b Fv(p)-5 b(at)1104 5029 y Fu(i)6
b FA(+)p Fu(1)1261 5062 y Fv(var)-5 b(op)1480 5029 y
FA(\()p Fu(a)5 b Fo(;)p Fu(i)h FA(\))1653 5062 y Fv(p)-5
b(at)1779 5029 y Fu(i)6 b FA(+)p Fu(1)806 5179 y FB(j)147
b Fv(lp)-5 b(at)1127 5146 y Fu(i)1184 5179 y Fv(var)g(op)1403
5146 y FA(\(l)q Fo(;)p Fu(i)6 b FA(\))1554 5179 y Fv(p)-5
b(at)1680 5146 y Fu(i)6 b FA(+)p Fu(1)806 5296 y FB(j)147
b Fv(p)-5 b(at)1104 5263 y Fu(i)6 b FA(+)p Fu(1)1261
5296 y Fv(var)-5 b(op)1480 5263 y FA(\(r)q Fo(;)p Fu(i)6
b FA(\))1638 5296 y Fv(rp)-5 b(at)1802 5263 y Fu(i)p
eop
%%Page: 56 70
56 69 bop 0 100 a FI(56)1591 b FE(CHAPTER)19 b(4.)52
b(DECLARA)-10 b(TIONS)18 b(AND)k(BINDINGS)506 356 y FB(j)147
b FD(\()22 b Fv(funlhs)31 b FD(\))23 b Fv(ap)-5 b(at)33
b FB(f)23 b Fv(ap)-5 b(at)33 b FB(g)0 582 y Fv(rhs)353
b FB(!)113 b FD(=)22 b Fv(exp)29 b Ft([)p FD(where)21
b Fv(de)-5 b(cls)7 b Ft(])506 695 y FB(j)147 b Fv(gdrhs)32
b Ft([)p FD(where)20 b Fv(de)-5 b(cls)7 b Ft(])0 920
y Fv(gdrhs)265 b FB(!)113 b Fv(gd)33 b FD(=)22 b Fv(exp)29
b Ft([)p Fv(gdrhs)7 b Ft(])0 1146 y Fv(gd)386 b FB(!)113
b FD(|)22 b Fv(exp)891 1113 y Fu(0)0 1442 y FI(W)-7 b(e)26
b(distinguish)31 b(tw)o(o)26 b(cases)j(within)e(this)h(syntax:)38
b(a)27 b FJ(pattern)i(binding)g FI(occurs)g(when)e(the)g(left)h(hand)g
(side)g(is)f(a)0 1555 y Fv(p)-5 b(at)126 1522 y Fu(0)177
1555 y FI(;)21 b(otherwise,)j(the)e(binding)i(is)d(called)i(a)e
FJ(function)j(binding)p FI(.)30 b(Either)23 b(binding)g(may)f(appear)h
(at)e(the)h(top-le)n(v)o(el)0 1668 y(of)h(a)h(module)g(or)f(within)i(a)
e FD(where)d FI(or)k FD(let)d FI(construct.)0 1997 y
FF(4.4.3.1)92 b(Function)22 b(bindings)0 2254 y FI(A)h(function)k
(binding)f(binds)f(a)f(v)n(ariable)i(to)e(a)g(function)j(v)n(alue.)k
(The)24 b(general)i(form)e(of)g(a)g(function)j(binding)f(for)0
2367 y(v)n(ariable)f Fv(x)34 b FI(is:)1295 2455 y Fv(x)147
b(p)1530 2469 y Fu(11)1655 2455 y Fq(:)15 b(:)g(:)38
b Fv(p)1844 2470 y Fu(1k)2016 2455 y Fv(match)2254 2469
y Fu(1)1295 2568 y Fq(:)15 b(:)g(:)1295 2681 y Fv(x)147
b(p)1530 2695 y Fu(n1)1658 2681 y Fq(:)15 b(:)g(:)39
b Fv(p)1848 2696 y Fu(nk)2016 2681 y Fv(match)2254 2695
y Fu(n)0 2840 y FI(where)24 b(each)g Fv(p)480 2854 y
Fu(ij)561 2840 y FI(is)f(a)g(pattern,)i(and)f(where)g(each)g
Fv(match)1831 2854 y Fu(i)1888 2840 y FI(is)f(of)g(the)h(general)h
(form:)1363 3045 y FD(=)d Fv(e)1482 3059 y Fu(i)1537
3045 y FD(where)52 b({)23 b Fv(de)-5 b(cls)2127 3059
y Fu(i)2183 3045 y FD(})0 3249 y FI(or)1293 3337 y FD(|)23
b Fv(g)1413 3351 y Fu(i1)1607 3337 y FD(=)f Fv(e)1726
3351 y Fu(i1)1293 3450 y Fq(:)15 b(:)g(:)1293 3563 y
FD(|)23 b Fv(g)1413 3577 y Fu(im)1493 3587 y Fi(i)1607
3563 y FD(=)f Fv(e)1726 3577 y Fu(im)1806 3587 y Fi(i)1607
3676 y FD(where)52 b({)22 b Fv(de)-5 b(cls)2196 3690
y Fu(i)2252 3676 y FD(})0 3834 y FI(and)27 b(where)g
Fv(n)32 b FB(\025)25 b Fv(1)13 b FI(,)26 b Fv(1)38 b
FB(\024)25 b Fv(i)35 b FB(\024)25 b Fv(n)7 b FI(,)26
b Fv(m)1212 3848 y Fu(i)1270 3834 y FB(\025)f Fv(1)13
b FI(.)37 b(The)26 b(former)h(is)f(treated)i(as)f(shorthand)i(for)e(a)f
(particular)j(case)e(of)0 3947 y(the)d(latter)l(,)g(namely:)1172
4060 y FD(|)54 b(True)f(=)22 b Fv(e)1673 4074 y Fu(i)1728
4060 y FD(where)52 b({)23 b Fv(de)-5 b(cls)2318 4074
y Fu(i)2374 4060 y FD(})0 4310 y FI(Note)31 b(that)h(all)f(clauses)i
(de\002ning)f(a)f(function)i(must)e(be)g(contiguous,)36
b(and)c(the)f(number)h(of)f(patterns)i(in)e(each)0 4423
y(clause)36 b(must)g(be)f(the)g(same.)63 b(The)35 b(set)g(of)g
(patterns)i(corresponding)j(to)35 b(each)g(match)h(must)f(be)g
FJ(linear)p FI(\227no)0 4536 y(v)n(ariable)25 b(is)f(allo)n(wed)g(to)f
(appear)i(more)f(than)g(once)h(in)e(the)h(entire)h(set.)0
4732 y(Alternati)n(v)o(e)j(syntax)h(is)e(pro)o(vided)i(for)e(binding)i
(functional)h(v)n(alues)e(to)f(in\002x)f(operators.)42
b(F)o(or)26 b(e)o(xample,)i(these)0 4845 y(three)c(function)i
(de\002nitions)g(are)e(all)f(equi)n(v)n(alent:)250 5035
y FD(plus)53 b(x)h(y)g(z)g(=)g(x+y+z)250 5148 y(x)g(\036)-18
b(plus)e(\036)54 b(y)g(=)g(\\)g(z)g(->)g(x+y+z)250 5260
y(\(x)g(\036)-19 b(plus)f(\036)54 b(y\))g(z)g(=)g(x+y+z)p
eop
%%Page: 57 71
57 70 bop 300 100 a FE(4.4.)51 b(NESTED)20 b(DECLARA)-10
b(TIONS)2260 b FI(57)p 315 268 3548 4 v 315 1173 4 906
v 366 396 a FF(T)-7 b(ranslation:)93 b FI(The)27 b(general)i(binding)g
(form)e(for)g(functions)j(is)d(semantically)j(equi)n(v)n(alent)g(to)d
(the)g(equa-)366 509 y(tion)d(\(i.e.)f(simple)h(pattern)i(binding\):)
637 714 y Fv(x)33 b FD(=)54 b(\\)23 b Fv(x)941 728 y
Fu(1)1028 714 y Fq(:)15 b(:)g(:)39 b Fv(x)1214 729 y
Fu(k)1281 714 y FD(->)54 b(case)f(\()o Fv(x)1814 728
y Fu(1)1864 714 y FD(,)69 b Fq(:)15 b(:)g(:)h FD(,)54
b Fv(x)2260 729 y Fu(k)2305 714 y FD(\))g(of)40 b(\()p
Fv(p)2665 728 y Fu(11)2751 714 y Fq(;)e(:)15 b(:)g(:)i(;)38
b Fv(p)3045 729 y Fu(1k)3126 714 y FD(\))22 b Fv(match)3441
728 y Fu(1)2564 826 y Fq(:)15 b(:)g(:)2564 939 y FD(\()p
Fv(p)2665 953 y Fu(n1)2755 939 y Fq(;)38 b(:)15 b(:)g(:)h(;)38
b Fv(p)3048 954 y Fu(nk)3133 939 y FD(\))22 b Fv(match)3448
953 y Fu(n)366 1135 y FI(where)i(the)g Fv(x)787 1149
y Fu(i)842 1135 y FI(are)g(ne)n(w)e(identi\002ers.)p
3859 1173 V 315 1176 3548 4 v 300 1505 a FF(4.4.3.2)92
b(P)o(atter)o(n)23 b(bindings)300 1762 y FI(A)f(pattern)i(binding)h
(binds)f(v)n(ariables)h(to)e(v)n(alues.)29 b(A)22 b FJ(simple)i
FI(pattern)g(binding)h(has)e(form)g Fv(p)54 b Ft(=)48
b Fv(e)6 b FI(.)28 b(The)23 b(pattern)300 1875 y Fv(p)32
b FI(is)27 b(matched)g(\223lazily\224)i(as)e(an)f(irrefutable)k
(pattern,)e(as)f(if)f(there)i(were)e(an)h(implicit)h
FD(\230)d FI(in)i(front)g(of)g(it.)38 b(See)26 b(the)300
1988 y(translation)h(in)c(Section)h(3.12.)300 2184 y(The)35
b FJ(g)o(ener)o(al)i FI(form)e(of)g(a)g(pattern)i(binding)g(is)e
Fv(p)29 b(match)8 b FI(,)37 b(where)f(a)f Fv(match)42
b FI(is)36 b(the)f(same)g(structure)j(as)d(for)300 2297
y(function)26 b(bindings)g(abo)o(v)o(e;)e(in)f(other)i(w)o(ords,)f(a)f
(pattern)i(binding)h(is:)1695 2495 y Fv(p)98 b FD(|)23
b Fv(g)1959 2509 y Fu(1)2100 2495 y FD(=)f Fv(e)2219
2509 y Fu(1)1839 2608 y FD(|)h Fv(g)1959 2622 y Fu(2)2100
2608 y FD(=)f Fv(e)2219 2622 y Fu(2)1871 2721 y Fq(:)15
b(:)g(:)1830 2834 y FD(|)22 b Fv(g)1949 2848 y Fu(m)2100
2834 y FD(=)g Fv(e)2219 2848 y Fu(m)1830 2946 y FD(where)52
b({)23 b Fv(de)-5 b(cls)31 b FD(})p 315 3175 V 315 4033
4 859 v 366 3303 a FF(T)-7 b(ranslation:)93 b FI(The)19
b(pattern)i(binding)h(abo)o(v)o(e)e(is)g(semantically)i(equi)n(v)n
(alent)g(to)e(this)g(simple)g(pattern)h(bind-)366 3416
y(ing:)752 3523 y Fv(p)89 b FD(=)82 b(let)22 b Fv(de)-5
b(cls)31 b FD(in)1024 3636 y(if)54 b Fv(g)1230 3650 y
Fu(1)1334 3636 y FD(then)f Fv(e)1649 3650 y Fu(1)1752
3636 y FD(else)1024 3749 y(if)h Fv(g)1230 3763 y Fu(2)1334
3749 y FD(then)f Fv(e)1649 3763 y Fu(2)1752 3749 y FD(else)1024
3862 y Fq(:::)1024 3975 y FD(if)h Fv(g)1230 3989 y Fu(m)1352
3975 y FD(then)f Fv(e)1667 3989 y Fu(m)1789 3975 y FD(else)g(error)f
("Unmatched)e(pattern")p 3859 4033 V 315 4036 3548 4
v 300 4365 a FF(A)21 b(note)g(about)h(syntax.)92 b FI(It)21
b(is)h(usually)i(straightforw)o(ard)h(to)d(tell)g(whether)h(a)e
(binding)j(is)e(a)f(pattern)i(binding)h(or)300 4477 y(a)i(function)k
(binding,)f(b)n(ut)f(the)f(e)o(xistence)i(of)e FD(n+k)d
FI(patterns)29 b(sometimes)f(confuses)i(the)d(issue.)40
b(Here)26 b(are)i(four)300 4590 y(e)o(xamples:)p eop
%%Page: 58 72
58 71 bop 0 100 a FI(58)1591 b FE(CHAPTER)19 b(4.)52
b(DECLARA)-10 b(TIONS)18 b(AND)k(BINDINGS)250 344 y FD(x)54
b(+)g(1)h(=)f(...)598 b(--)54 b(Function)d(binding,)g(defines)g(\(+\))
1450 457 y(--)j(Equivalent)c(to)163 b(\(+\))53 b(x)h(1)g(=)g(...)250
616 y(\(x)g(+)g(1\))g(=)g(...)489 b(--)54 b(Pattern)d(binding,)g
(defines)g(x)250 775 y(\(x)j(+)g(1\))g(*)g(y)g(=)g(...)271
b(--)54 b(Function)d(binding,)g(defines)g(\(*\))1450
888 y(--)j(Equivalent)c(to)163 b(\(*\))53 b(\(x+1\))f(y)i(=)g(...)250
1048 y(\(x)g(+)g(1\))g(y)g(=)g(...)380 b(--)54 b(Function)d(binding,)g
(defines)g(\(+\))1450 1161 y(--)j(Equivalent)c(to)163
b(\(+\))53 b(x)h(1)g(y)g(=)g(...)0 1362 y FI(The)25 b(\002rst)f(tw)o(o)
h(can)h(be)f(distinguished)k(because)e(a)e(pattern)i(binding)g(has)e(a)
g Fv(p)-5 b(at)2553 1329 y Fu(0)2628 1362 y FI(on)25
b(the)h(left)f(hand)h(side,)g(not)g(a)0 1474 y Fv(p)-5
b(at)33 b FI(\227)22 b(the)i(former)g(cannot)h(be)f(an)g
(unparenthesised)k FD(n+k)21 b FI(pattern.)0 1850 y FC(4.5)119
b(Static)30 b(Semantics)g(of)f(Function)j(and)e(P)o(atter)n(n)g
(Bindings)0 2140 y FI(The)23 b(static)i(semantics)h(of)d(the)i
(function)g(and)g(pattern)g(bindings)h(of)e(a)f FD(let)f
FI(e)o(xpression)k(or)e FD(where)d FI(clause)k(are)0
2253 y(discussed)h(in)e(this)g(section.)0 2585 y FG(4.5.1)99
b(Dependency)27 b(Analysis)0 2843 y FI(In)i(general)h(the)f(static)h
(semantics)g(are)f(gi)n(v)o(en)g(by)g(the)g(normal)h(Hindle)o(y-Milner)
h(inference)g(rules.)45 b(A)28 b FJ(depen-)0 2955 y(dency)j(analysis)g
(tr)o(ansformation)i FI(is)c(\002rst)g(performed)j(to)d(increase)i
(polymorphism.)49 b(T)-7 b(w)o(o)28 b(v)n(ariables)k(bound)0
3068 y(by)24 b(v)n(alue)g(declarations)j(are)d(in)f(the)h(same)g
FJ(declar)o(ation)i(gr)l(oup)f FI(if)e(either)114 3339
y(1.)45 b(the)o(y)24 b(are)g(bound)h(by)f(the)f(same)h(pattern)h
(binding,)g(or)114 3527 y(2.)45 b(their)29 b(bindings)h(are)e(mutually)
i(recursi)n(v)o(e)f(\(perhaps)h(via)e(some)g(other)h(declarations)j
(that)c(are)g(also)h(part)227 3640 y(of)24 b(the)g(group\).)0
3910 y(Application)38 b(of)d(the)h(follo)n(wing)h(rules)f(causes)h
(each)f FD(let)d FI(or)i FD(where)e FI(construct)k(\(including)i(the)c
FD(where)0 4023 y FI(de\002ning)24 b(the)f(top)g(le)n(v)o(el)g
(bindings)i(in)d(a)h(module\))g(to)g(bind)g(only)h(the)f(v)n(ariables)i
(of)d(a)g(single)i(declaration)i(group,)0 4136 y(thus)e(capturing)i
(the)e(required)i(dependenc)o(y)g(analysis:)1770 4103
y Fz(1)114 4407 y FI(1.)45 b(The)23 b(order)i(of)e(declarations)k(in)d
FD(where)n FI(/)p FD(let)d FI(constructs)27 b(is)c(irrele)n(v)n(ant.)
114 4594 y(2.)45 b FD(let)53 b({)p Fv(d)546 4608 y Fu(1)596
4594 y FD(;)h Fv(d)751 4608 y Fu(2)801 4594 y FD(})g(in)g
Fv(e)29 b FI(=)23 b FD(let)53 b({)p Fv(d)1538 4608 y
Fu(1)1588 4594 y FD(})h(in)f(\(let)g({)p Fv(d)2234 4608
y Fu(2)2284 4594 y FD(})h(in)f Fv(e)7 b FD(\))227 4707
y FI(\(when)24 b(no)g(identi\002er)h(bound)g(in)e Fv(d)1331
4721 y Fu(2)1404 4707 y FI(appears)i(free)f(in)g Fv(d)2008
4721 y Fu(1)2058 4707 y FI(\))p 0 4788 1440 4 v 105 4844
a Fy(1)134 4876 y Fx(A)19 b(similar)f(transformation)i(is)f(described)h
(in)e(Pe)o(yton)h(Jones')h(book)g([10)q(].)p eop
%%Page: 59 73
59 72 bop 300 100 a FE(4.5.)51 b(ST)-8 b(A)e(TIC)21 b(SEMANTICS)f(OF)h
(FUNCTION)g(AND)g(P)-8 b(A)e(TTERN)20 b(BINDINGS)771
b FI(59)300 356 y FG(4.5.2)99 b(Generalization)300 612
y FI(The)27 b(Hindle)o(y-Milner)i(type)f(system)f(assigns)i(types)f(to)
f(a)g FD(let)n FI(-e)o(xpression)j(in)d(tw)o(o)g(stages.)40
b(First,)28 b(the)f(right-)300 725 y(hand)22 b(side)g(of)e(the)i
(declaration)i(is)d(typed,)h(gi)n(ving)g(a)f(type)h(with)e(no)h(uni)n
(v)o(ersal)i(quanti\002cation.)31 b(Second,)22 b(all)f(type)300
838 y(v)n(ariables)35 b(that)e(occur)h(in)e(this)i(type)f(are)g(uni)n
(v)o(ersally)i(quanti\002ed)g(unless)f(the)o(y)f(are)g(associated)i
(with)e(bound)300 951 y(v)n(ariables)39 b(in)e(the)h(type)g(en)l
(vironment;)47 b(this)38 b(is)f(called)h FJ(g)o(ener)o(alization)p
FI(.)74 b(Finally)-6 b(,)41 b(the)c(body)i(of)e(the)g
FD(let)o FI(-)300 1064 y(e)o(xpression)26 b(is)e(typed.)300
1259 y(F)o(or)f(e)o(xample,)h(consider)h(the)f(declaration)550
1448 y FD(f)54 b(x)g(=)h(let)e(g)h(y)g(=)g(\(y,y\))878
1561 y(in)f(...)300 1866 y FI(The)27 b(type)g(of)h FD(g)o
FI(')-5 b(s)27 b(de\002nition)i(is)e Fv(a)55 b FB(!)48
b Ft(\()p Fv(a)7 b Fq(;)15 b Fv(a)7 b Ft(\))r FI(.)39
b(The)26 b(generalization)32 b(step)27 b(attrib)n(utes)j(to)d
FD(g)f FI(the)h(polymorphic)300 1979 y(type)d FB(8)f
Fv(a)7 b Fq(:)46 b Fv(a)55 b FB(!)48 b Ft(\()p Fv(a)7
b Fq(;)15 b Fv(a)7 b Ft(\))r FI(,)22 b(after)j(which)f(the)f(typing)i
(of)f(the)g(\223)p FD(...)o FI(\224)f(part)h(can)g(proceed.)300
2174 y(When)f(typing)i(o)o(v)o(erloaded)g(de\002nitions,)g(all)e(the)g
(o)o(v)o(erloading)i(constraints)h(from)d(a)g(single)h(declaration)i
(group)300 2287 y(are)h(collected)j(together)l(,)g(to)e(form)f(the)g
(conte)o(xt)i(for)e(the)h(type)g(of)f(each)h(v)n(ariable)h(declared)g
(in)e(the)h(group.)41 b(F)o(or)300 2400 y(e)o(xample,)24
b(in)g(the)f(de\002nition:)550 2588 y FD(f)54 b(x)g(=)h(let)e(g1)g(x)h
(y)g(=)h(if)e(x>y)g(then)g(show)g(x)h(else)f(g2)g(y)h(x)1096
2701 y(g2)f(p)h(q)g(=)h(g1)e(q)h(p)878 2814 y(in)f(...)300
3000 y FI(The)33 b(types)i(of)f(the)g(de\002nitions)i(of)e
FD(g1)e FI(and)j FD(g2)d FI(are)i(both)h Fv(a)55 b FB(!)48
b Fv(a)55 b FB(!)48 b FD(String)n FI(,)35 b(and)f(the)h(accumulated)300
3113 y(constraints)26 b(are)d FD(Ord)f Fv(a)30 b FI(\(arising)25
b(from)e(the)g(use)g(of)g FD(>)p FI(\),)f(and)i FD(Show)d
Fv(a)30 b FI(\(arising)25 b(from)e(the)g(use)g(of)g FD(show)o
FI(\).)28 b(The)300 3226 y(type)c(v)n(ariables)i(appearing)g(in)e(this)
g(collection)i(of)d(constraints)k(are)d(called)h(the)e
FJ(constr)o(ained)k(type)d(variables)p FI(.)300 3421
y(The)f(generalization)28 b(step)c(attrib)n(utes)i(to)e(both)g
FD(g1)e FI(and)i FD(g2)e FI(the)i(type)1181 3622 y FB(8)f
Fv(a)7 b Fq(:)23 b Ft(\()p FD(Ord)f Fv(a)7 b Fq(;)38
b FD(Show)21 b Fv(a)7 b Ft(\))49 b FB(\))f Fv(a)55 b
FB(!)48 b Fv(a)56 b FB(!)47 b FD(String)300 3823 y FI(Notice)29
b(that)g FD(g2)e FI(is)i(o)o(v)o(erloaded)i(in)d(the)h(same)g(w)o(ay)f
(as)h FD(g1)e FI(e)n(v)o(en)i(though)h(the)f(occurrences)j(of)c
FD(>)g FI(and)h FD(show)300 3936 y FI(are)24 b(in)f(the)h(de\002nition)
h(of)f FD(g1)o FI(.)300 4131 y(If)36 b(the)h(programmer)h(supplies)g(e)
o(xplicit)g(type)f(signatures)j(for)c(more)h(than)g(one)g(v)n(ariable)h
(in)e(a)g(declaration)300 4244 y(group,)25 b(the)e(conte)o(xts)j(of)d
(these)i(signatures)h(must)e(be)f(identical)j(up)e(to)f(renaming)i(of)f
(the)f(type)i(v)n(ariables.)300 4575 y FG(4.5.3)99 b(Context)25
b(Reduction)h(Err)n(ors)300 4831 y FI(As)33 b(mentioned)j(in)e(Section)
h(4.1.4,)h(the)e(conte)o(xt)i(of)e(a)f(type)i(may)f(constrain)i(only)f
(a)e(type)i(v)n(ariable,)j(or)c(the)300 4944 y(application)29
b(of)d(a)f(type)i(v)n(ariable)g(to)f(one)g(or)g(more)g(types.)37
b(Hence,)26 b(types)h(produced)h(by)e(generalization)k(must)300
5057 y(be)23 b(e)o(xpressed)i(in)d(a)g(form)h(in)g(which)g(all)g(conte)
o(xt)h(constraints)h(ha)n(v)o(e)f(be)e(reduced)j(to)e(this)g(\223head)h
(normal)f(form\224.)300 5170 y(Consider)l(,)i(for)f(e)o(xample,)g(the)g
(de\002nition:)550 5365 y FD(f)54 b(xs)g(y)109 b(=)f(xs)54
b(==)f([y])p eop
%%Page: 60 74
60 73 bop 0 100 a FI(60)1591 b FE(CHAPTER)19 b(4.)52
b(DECLARA)-10 b(TIONS)18 b(AND)k(BINDINGS)0 356 y FI(Its)i(type)g(is)f
(gi)n(v)o(en)h(by)250 551 y FD(f)54 b(::)g(Eq)g(a)g(=>)f([a])g(->)h(a)g
(->)g(Bool)0 745 y FI(and)24 b(not)250 940 y FD(f)54
b(::)g(Eq)g([a])f(=>)g([a])h(->)f(a)h(->)g(Bool)0 1135
y FI(Ev)o(en)24 b(though)i(the)f(equality)h(is)f(tak)o(en)g(at)g(the)f
(list)h(type,)g(the)g(conte)o(xt)h(must)e(be)h(simpli\002ed,)g(using)g
(the)g(instance)0 1248 y(declaration)37 b(for)e FD(Eq)d
FI(on)i(lists,)j(before)f(generalization.)65 b(If)33
b(no)i(such)g(instance)h(is)e(in)g(scope,)j(a)d(static)h(error)0
1361 y(occurs.)0 1555 y(Here)24 b(is)g(an)h(e)o(xample)g(that)g(sho)n
(ws)g(the)f(need)h(for)g(a)f(constraint)j(of)d(the)h(form)f
Fv(C)36 b Ft(\()p Fv(m)31 b(t)9 b Ft(\))24 b FI(where)g(m)g(is)g(one)h
(of)f(the)0 1668 y(type)g(v)n(ariables)h(being)f(generalized;)i(that)e
(is,)e(where)h(the)g(class)h Fv(C)35 b FI(applies)25
b(to)e(a)f(type)i(e)o(xpression)h(that)f(is)e(not)i(a)0
1781 y(type)g(v)n(ariable)i(or)d(a)g(type)h(constructor)-5
b(.)32 b(Consider:)250 1970 y FD(f)54 b(::)g(\(Monad)e(m,)h(Eq)h(\(m)g
(a\)\))f(=>)g(a)i(->)e(m)h(a)g(->)g(Bool)250 2083 y(f)g(x)g(y)h(=)f
(return)d(x)j(==)g(y)0 2269 y FI(The)129 b(type)i(of)f
FD(return)c FI(is)k FD(Monad)52 b(m)j(=>)e(a)h(->)g(m)g(a)p
FI(;)182 b(the)130 b(type)h(of)f FD(\(==\))0 2382 y FI(is)e
FD(Eq)53 b(a)i(=>)e(a)h(->)g(a)g(->)g(Bool)n FI(.)341
b(The)128 b(type)h(of)e FD(f)g FI(should)j(be)e(therefore)0
2494 y FD(\(Monad)52 b(m,)h(Eq)h(\(m)g(a\)\))f(=>)h(a)g(->)f(m)h(a)g
(->)g(Bool)n FI(,)67 b(and)59 b(the)g(conte)o(xt)h(cannot)g(be)e
(simpli-)0 2607 y(\002ed)23 b(further)-5 b(.)0 2802 y(The)24
b(instance)j(declaration)g(deri)n(v)o(ed)f(from)f(a)f(data)h(type)g
FD(deriving)c FI(clause)k(\(see)h(Section)f(4.3.3\))g(must,)g(lik)o(e)0
2915 y(an)o(y)f(instance)i(declaration,)g(ha)n(v)o(e)e(a)g
FJ(simple)g FI(conte)o(xt;)h(that)g(is,)e(all)h(the)g(constraints)i
(must)e(be)g(of)f(the)h(form)g Fv(C)36 b(a)7 b FI(,)0
3028 y(where)24 b Fv(a)30 b FI(is)23 b(a)g(type)i(v)n(ariable.)30
b(F)o(or)23 b(e)o(xample,)h(in)f(the)h(type)250 3223
y FD(data)53 b(Apply)f(a)i(b)g(=)g(App)g(\(a)f(b\))108
b(deriving)51 b(Show)0 3417 y FI(the)28 b(deri)n(v)o(ed)h(Sho)n(w)e
(instance)j(will)d(produce)j(a)d(conte)o(xt)i FD(Show)53
b(\(a)h(b\))o FI(,)27 b(which)h(cannot)i(be)e(reduced)h(and)f(is)0
3530 y(not)c(simple;)g(thus)h(a)e(static)h(error)h(results.)0
3861 y FG(4.5.4)99 b(Monomor)o(phism)0 4117 y FI(Sometimes)19
b(it)f(is)h(not)g(possible)h(to)f(generalize)i(o)o(v)o(er)e(all)f(the)h
(type)h(v)n(ariables)g(used)g(in)e(the)h(type)g(of)g(the)g
(de\002nition.)0 4230 y(F)o(or)k(e)o(xample,)h(consider)h(the)f
(declaration)250 4418 y FD(f)54 b(x)g(=)h(let)e(g)h(y)g(z)g(=)g
(\([x,y],)d(z\))578 4531 y(in)i(...)0 4718 y FI(In)32
b(an)f(en)l(vironment)k(where)d FD(x)e FI(has)i(type)h
Fv(a)7 b FI(,)33 b(the)e(type)i(of)e FD(g)p FI(')-5 b(s)31
b(de\002nition)j(is)d Fv(a)56 b FB(!)47 b Fv(b)54 b FB(!)48
b FD(\([)o Fv(a)7 b FD(])p Fq(;)15 b Fv(b)6 b FD(\))o
FI(.)53 b(The)0 4831 y(generalization)33 b(step)c(attrib)n(utes)i(to)e
FD(g)e FI(the)i(type)h FB(8)22 b Fv(b)6 b Fq(:)45 b Fv(a)56
b FB(!)47 b Fv(b)54 b FB(!)48 b FD(\([)o Fv(a)7 b FD(])p
Fq(;)15 b Fv(b)6 b FD(\))o FI(;)31 b(only)f Fv(b)j FI(can)c(be)g(uni)n
(v)o(ersally)0 4944 y(quanti\002ed)e(because)h Fv(a)k
FI(occurs)27 b(in)f(the)f(type)i(en)l(vironment.)38 b(W)-7
b(e)24 b(say)i(that)g(the)g(type)g(of)g FD(g)e FI(is)i
FJ(monomorphic)h(in)0 5057 y(the)d(type)g(variable)i
Fv(a)7 b FI(.)0 5252 y(The)30 b(ef)n(fect)h(of)f(such)h(monomorphism)h
(is)e(that)h(the)g(\002rst)e(ar)n(gument)k(of)d(all)g(applications)k
(of)c FD(g)f FI(must)h(be)g(of)h(a)0 5365 y(single)25
b(type.)k(F)o(or)23 b(e)o(xample,)h(it)f(w)o(ould)h(be)g(v)n(alid)g
(for)g(the)g(\223)p FD(...)o FI(\224)f(to)g(be)p eop
%%Page: 61 75
61 74 bop 300 100 a FE(4.5.)51 b(ST)-8 b(A)e(TIC)21 b(SEMANTICS)f(OF)h
(FUNCTION)g(AND)g(P)-8 b(A)e(TTERN)20 b(BINDINGS)771
b FI(61)550 356 y FD(\(g)54 b(True,)e(g)i(False\))300
552 y FI(\(which)24 b(w)o(ould,)g(incidentally)-6 b(,)27
b(force)d FD(x)f FI(to)g(ha)n(v)o(e)h(type)g FD(Bool)o
FI(\))f(b)n(ut)h(in)l(v)n(alid)h(for)f(it)f(to)h(be)550
748 y FD(\(g)54 b(True,)e(g)i('c'\))300 944 y FI(In)33
b(general,)j(a)c(type)h FB(8)p 1066 895 56 4 v 23 w Fv(u)6
b Fq(:)23 b Fv(cx)59 b FB(\))48 b Fv(t)41 b FI(is)32
b(said)i(to)e(be)h FJ(monomorphic)i FI(in)d(the)h(type)g(v)n(ariable)i
Fv(a)k FI(if)32 b Fv(a)40 b FI(is)32 b(free)h(in)300
1057 y FB(8)p 373 1008 V 22 w Fv(u)7 b Fq(:)23 b Fv(cx)59
b FB(\))48 b Fv(t)9 b FI(.)300 1253 y(It)27 b(is)f(w)o(orth)h(noting)i
(that)e(the)g(e)o(xplicit)h(type)g(signatures)h(pro)o(vided)g(by)e
(Hask)o(ell)h(are)f(not)g(po)n(werful)h(enough)g(to)300
1365 y(e)o(xpress)d(types)g(that)f(include)h(monomorphic)h(type)e(v)n
(ariables.)31 b(F)o(or)23 b(e)o(xample,)h(we)e(cannot)k(write)550
1556 y FD(f)54 b(x)g(=)h(let)987 1668 y(g)f(::)f(a)h(->)g(b)g(->)g
(\([a],b\))987 1781 y(g)g(y)g(z)g(=)g(\([x,y],)d(z\))878
1894 y(in)i(...)300 2081 y FI(because)26 b(that)f(w)o(ould)f(claim)h
(that)f FD(g)f FI(w)o(as)h(polymorphic)j(in)d(both)h
FD(a)e FI(and)i FD(b)d FI(\(Section)k(4.4.1\).)31 b(In)24
b(this)g(program,)300 2194 y FD(g)k FI(can)h(only)h(be)f(gi)n(v)o(en)h
(a)e(type)i(signature)i(if)c(its)h(\002rst)g(ar)n(gument)i(is)e
(restricted)i(to)e(a)g(type)h(not)f(in)l(v)n(olving)j(type)300
2307 y(v)n(ariables;)26 b(for)e(e)o(xample)550 2503 y
FD(g)54 b(::)g(Int)f(->)h(b)g(->)f(\([Int],b\))300 2699
y FI(This)23 b(signature)j(w)o(ould)e(also)h(cause)f
FD(x)f FI(to)g(ha)n(v)o(e)h(type)g FD(Int)o FI(.)300
3031 y FG(4.5.5)99 b(The)26 b(Monomor)o(phism)f(Restriction)300
3289 y FI(Hask)o(ell)33 b(places)f(certain)i(e)o(xtra)e(restrictions)i
(on)e(the)g(generalization)k(step,)e(be)o(yond)f(the)e(standard)j
(Hindle)o(y-)300 3402 y(Milner)24 b(restriction)j(described)f(abo)o(v)o
(e,)d(which)h(further)h(reduces)h(polymorphism)g(in)d(particular)j
(cases.)300 3597 y(The)g(monomorphism)i(restriction)i(depends)e(on)f
(the)g(binding)h(syntax)g(of)e(a)g(v)n(ariable.)40 b(Recall)26
b(that)h(a)f(v)n(ariable)300 3710 y(is)31 b(bound)h(by)f(either)h(a)e
FJ(function)j(binding)g FI(or)e(a)f FJ(pattern)j(binding)p
FI(,)h(and)e(that)f(a)f FJ(simple)i FI(pattern)g(binding)h(is)e(a)300
3823 y(pattern)25 b(binding)h(in)d(which)h(the)g(pattern)h(consists)h
(of)d(only)i(a)e(single)i(v)n(ariable)g(\(Section)g(4.4.3\).)300
4019 y(The)e(follo)n(wing)i(tw)o(o)e(rules)i(de\002ne)f(the)f
(monomorphism)j(restriction:)p eop
%%Page: 62 76
62 75 bop 0 100 a FI(62)1591 b FE(CHAPTER)19 b(4.)52
b(DECLARA)-10 b(TIONS)18 b(AND)k(BINDINGS)p 15 268 3548
4 v 15 2204 4 1936 v 66 396 a FF(The)g(monomor)o(phism)h(r)n
(estriction)66 547 y(Rule)f(1.)46 b FI(W)-7 b(e)23 b(say)h(that)g(a)f
(gi)n(v)o(en)h(declaration)j(group)d(is)g FJ(unr)m(estricted)i
FI(if)e(and)g(only)g(if:)293 734 y FF(\(a\):)47 b FI(e)n(v)o(ery)19
b(v)n(ariable)h(in)e(the)h(group)h(is)e(bound)i(by)f(a)f(function)i
(binding)h(or)d(a)g(simple)h(pattern)i(binding)493 847
y(\(Section)k(4.4.3.2\),)f FJ(and)293 993 y FF(\(b\):)46
b FI(an)29 b(e)o(xplicit)h(type)g(signature)h(is)e(gi)n(v)o(en)h(for)f
(e)n(v)o(ery)g(v)n(ariable)i(in)e(the)g(group)h(that)f(is)g(bound)h(by)
493 1106 y(simple)24 b(pattern)i(binding.)293 1294 y(The)c(usual)h
(Hindle)o(y-Milner)i(restriction)g(on)e(polymorphism)h(is)e(that)h
(only)g(type)g(v)n(ariables)i(that)d(do)293 1407 y(not)27
b(occur)h(free)f(in)g(the)g(en)l(vironment)j(may)c(be)h(generalized.)42
b(In)27 b(addition,)i FJ(the)e(constr)o(ained)j(type)293
1520 y(variables)g(of)d(a)g(r)m(estricted)i(declar)o(ation)h(gr)l(oup)e
(may)f(not)h(be)f(g)o(ener)o(alized)j FI(in)d(the)g(generalization)293
1633 y(step)h(for)f(that)h(group.)41 b(\(Recall)28 b(that)g(a)f(type)h
(v)n(ariable)h(is)e(constrained)j(if)d(it)g(must)g(belong)i(to)e(some)
293 1746 y(type)d(class;)h(see)f(Section)g(4.5.2.\))66
1933 y FF(Rule)e(2.)46 b FI(An)o(y)19 b(monomorphic)j(type)f(v)n
(ariables)h(that)e(remain)g(when)g(type)h(inference)h(for)e(an)g
(entire)h(module)293 2046 y(is)34 b(complete,)k(are)d(considered)i
FJ(ambiguous)p FI(,)i(and)c(are)f(resolv)o(ed)i(to)f(particular)h
(types)g(using)f(the)293 2159 y(def)o(aulting)27 b(rules)d(\(Section)h
(4.3.4\).)p 3559 2204 V 15 2207 3548 4 v 0 2530 a FF(Moti)o(v)o(ation)
93 b FI(Rule)24 b(1)f(is)g(required)j(for)e(tw)o(o)f(reasons,)i(both)f
(of)g(which)g(are)f(f)o(airly)i(subtle.)136 2790 y FB(\017)46
b FJ(Rule)71 b(1)g(pr)m(e)o(vents)i(computations)h(fr)l(om)d(being)h
(une)n(xpectedly)j(r)m(epeated.)173 b FI(F)o(or)71 b(e)o(xample,)227
2903 y FD(genericLength)17 b FI(is)23 b(a)h(standard)h(function)h(\(in)
e(library)h FD(List)n FI(\))e(whose)h(type)g(is)g(gi)n(v)o(en)g(by)478
3051 y FD(genericLength)48 b(::)54 b(Num)f(a)h(=>)g([b])f(->)g(a)227
3200 y FI(No)n(w)22 b(consider)k(the)e(follo)n(wing)h(e)o(xpression:)
478 3349 y FD(let)53 b({)h(len)f(=)h(genericLength)49
b(xs)k(})h(in)g(\(len,)e(len\))227 3497 y FI(It)28 b(looks)i(as)e(if)f
FD(len)f FI(should)k(be)e(computed)i(only)f(once,)h(b)n(ut)f(without)g
(Rule)f(1)g(it)g(might)g(be)g(computed)227 3610 y(twice,)g(once)g(at)f
(each)g(of)g(tw)o(o)g(dif)n(ferent)i(o)o(v)o(erloadings.)42
b(If)26 b(the)i(programmer)g(does)g(actually)h(wish)e(the)227
3723 y(computation)g(to)c(be)h(repeated,)h(an)e(e)o(xplicit)j(type)e
(signature)i(may)d(be)h(added:)478 3872 y FD(let)53 b({)h(len)f(::)h
(Num)f(a)h(=>)g(a;)f(len)g(=)h(genericLength)49 b(xs)54
b(})g(in)f(\(len,)g(len\))136 4205 y FB(\017)46 b FJ(Rule)24
b(1)f(pr)m(e)o(vents)i(ambiguity)-5 b(.)30 b FI(F)o(or)23
b(e)o(xample,)h(consider)i(the)e(declaration)i(group)478
4354 y FD([\(n,s\)])51 b(=)j(reads)e(t)227 4503 y FI(Recall)24
b(that)g FD(reads)d FI(is)i(a)g(standard)j(function)g(whose)e(type)g
(is)f(gi)n(v)o(en)h(by)g(the)g(signature)478 4651 y FD(reads)52
b(::)h(\(Read)g(a\))g(=>)h(String)e(->)h([\(a,String\)])227
4800 y FI(W)l(ithout)21 b(Rule)f(1,)g FD(n)e FI(w)o(ould)i(be)g
(assigned)h(the)f(type)g FB(8)j Fv(a)7 b Fq(:)23 b FD(Read)e
Fv(a)55 b FB(\))48 b Fv(a)27 b FI(and)20 b FD(s)e FI(the)i(type)g
FB(8)i Fv(a)7 b Fq(:)20 b FD(Read)h Fv(a)227 4913 y FB(\))48
b FD(String)m FI(.)67 b(The)35 b(latter)j(is)e(an)g(in)l(v)n(alid)i
(type,)i(because)e(it)e(is)g(inherently)k(ambiguous.)69
b(It)36 b(is)g(not)227 5026 y(possible)30 b(to)e(determine)i(at)e(what)
f(o)o(v)o(erloading)k(to)d(use)g FD(s)p FI(,)f(nor)i(can)f(this)g(be)g
(solv)o(ed)h(by)f(adding)i(a)d(type)227 5139 y(signature)22
b(for)d FD(s)p FI(.)26 b(Hence,)20 b(when)f FJ(non-simple)j
FI(pattern)e(bindings)i(are)d(used)h(\(Section)h(4.4.3.2\),)f(the)f
(types)227 5252 y(inferred)27 b(are)e(al)o(w)o(ays)g(monomorphic)i(in)e
(their)g(constrained)j(type)e(v)n(ariables,)g(irrespecti)n(v)o(e)i(of)c
(whether)227 5365 y(a)f(type)i(signature)h(is)d(pro)o(vided.)31
b(In)23 b(this)h(case,)g(both)h FD(n)d FI(and)i FD(s)e
FI(are)i(monomorphic)i(in)d Fv(a)8 b FI(.)p eop
%%Page: 63 77
63 76 bop 300 100 a FE(4.5.)51 b(ST)-8 b(A)e(TIC)21 b(SEMANTICS)f(OF)h
(FUNCTION)g(AND)g(P)-8 b(A)e(TTERN)20 b(BINDINGS)771
b FI(63)527 356 y(The)23 b(same)h(constraint)i(applies)f(to)f
(pattern-bound)k(functions.)j(F)o(or)23 b(e)o(xample,)h(in)778
502 y FD(\(f,g\))52 b(=)i(\(\(+\),\(-\)\))527 648 y FI(both)25
b FD(f)d FI(and)i FD(g)e FI(are)i(monomorphic)i(re)o(gardless)f(of)f
(an)o(y)f(type)i(signatures)h(supplied)g(for)d FD(f)g
FI(or)g FD(g)p FI(.)300 889 y(Rule)32 b(2)f(is)h(required)h(because)h
(there)f(is)e(no)h(w)o(ay)g(to)f(enforce)j(monomorphic)g(use)e(of)g(an)
f FJ(e)n(xported)j FI(binding,)300 1002 y(e)o(xcept)26
b(by)g(performing)h(type)g(inference)g(on)f(modules)g(outside)i(the)d
(current)i(module.)35 b(Rule)25 b(2)g(states)i(that)f(the)300
1115 y(e)o(xact)k(types)g(of)f(all)g(the)g(v)n(ariables)i(bound)g(in)d
(a)h(module)h(must)f(be)g(determined)i(by)e(that)h(module)g(alone,)h
(and)300 1228 y(not)24 b(by)g(an)o(y)f(modules)i(that)f(import)g(it.)
550 1409 y FD(module)52 b(M1\(len1\))f(where)659 1522
y(default\()g(Int,)i(Double)f(\))659 1635 y(len1)h(=)h(genericLength)49
b("Hello")550 1795 y(module)j(M2)i(where)659 1907 y(import)e
(M1\(len1\))659 2020 y(len2)h(=)h(\(2*len1\))d(::)j(Rational)300
2199 y FI(When)27 b(type)g(inference)i(on)e(module)g
FD(M1)e FI(is)i(complete,)h FD(len1)c FI(has)j(the)g(monomorphic)i
(type)f FD(Num)53 b(a)h(=>)f(a)300 2312 y FI(\(by)30
b(Rule)f(1\).)45 b(Rule)29 b(2)g(no)n(w)f(states)j(that)f(the)f
(monomorphic)i(type)f(v)n(ariable)h FD(a)d FI(is)h(ambiguous,)j(and)e
(must)f(be)300 2425 y(resolv)o(ed)k(using)g(the)f(def)o(aulting)i
(rules)f(of)e(Section)h(4.3.4.)53 b(Hence,)34 b FD(len1)28
b FI(gets)33 b(type)f FD(Int)n FI(,)h(and)f(its)f(use)h(in)300
2538 y FD(len2)c FI(is)i(type-incorrect.)53 b(\(If)30
b(the)g(abo)o(v)o(e)h(code)g(is)f(actually)i(what)f(is)f(w)o(anted,)i
(a)e(type)h(signature)h(on)f FD(len1)300 2651 y FI(w)o(ould)24
b(solv)o(e)g(the)g(problem.\))300 2838 y(This)f(issue)i(does)f(not)g
(arise)h(for)e(nested)i(bindings,)h(because)f(their)g(entire)f(scope)h
(is)f(visible)h(to)e(the)h(compiler)-5 b(.)300 3154 y
FF(Consequences)91 b FI(The)20 b(monomorphism)i(rule)f(has)g(a)e
(number)i(of)f(consequences)25 b(for)20 b(the)g(programmer)-5
b(.)30 b(An)o(y-)300 3267 y(thing)25 b(de\002ned)f(with)f(function)j
(syntax)f(usually)h(generalizes)g(as)e(a)f(function)i(is)f(e)o(xpected)
h(to.)k(Thus)23 b(in)550 3455 y FD(f)54 b(x)g(y)h(=)f(x+y)300
3642 y FI(the)27 b(function)i FD(f)c FI(may)h(be)h(used)g(at)g(an)o(y)f
(o)o(v)o(erloading)k(in)c(class)i FD(Num)n FI(.)37 b(There)27
b(is)g(no)f(danger)i(of)f(recomputation)300 3755 y(here.)i(Ho)n(we)n(v)
o(er)l(,)23 b(the)h(same)g(function)i(de\002ned)e(with)f(pattern)i
(syntax:)550 3943 y FD(f)54 b(=)g(\\x)g(->)g(\\y)f(->)h(x+y)300
4130 y FI(requires)29 b(a)d(type)h(signature)j(if)c FD(f)g
FI(is)g(to)h(be)f(fully)i(o)o(v)o(erloaded.)41 b(Man)o(y)26
b(functions)k(are)d(most)f(naturally)j(de\002ned)300
4243 y(using)e(simple)g(pattern)h(bindings;)i(the)c(user)h(must)f(be)g
(careful)i(to)e(af)n(\002x)f(these)i(with)f(type)h(signatures)i(to)d
(retain)300 4356 y(full)e(o)o(v)o(erloading.)31 b(The)24
b(standard)h(prelude)h(contains)f(man)o(y)f(e)o(xamples)g(of)g(this:)
550 4537 y FD(sum)108 b(::)54 b(\(Num)e(a\))i(=>)g([a])f(->)g(a)550
4650 y(sum)108 b(=)h(foldl)52 b(\(+\))h(0)300 4969 y
FI(Rule)23 b(1)h(applies)h(to)e(both)i(top-le)n(v)o(el)g(and)f(nested)h
(de\002nitions.)31 b(Consider)550 5151 y FD(module)52
b(M)i(where)659 5264 y(len1)f(=)h(genericLength)49 b("Hello")659
5376 y(len2)k(=)h(\(2*len1\))d(::)j(Rational)p eop
%%Page: 64 78
64 77 bop 0 100 a FI(64)1591 b FE(CHAPTER)19 b(4.)52
b(DECLARA)-10 b(TIONS)18 b(AND)k(BINDINGS)0 356 y FI(Here,)37
b(type)e(inference)i(\002nds)d(that)h FD(len1)d FI(has)j(the)g
(monomorphic)h(type)f(\()p FD(Num)54 b(a)g(=>)g(a)o FI(\);)40
b(and)35 b(the)f(type)0 469 y(v)n(ariable)25 b FD(a)e
FI(is)g(resolv)o(ed)i(to)f FD(Rational)19 b FI(when)k(performing)j
(type)e(inference)i(on)e FD(len2)n FI(.)0 828 y FC(4.6)119
b(Kind)31 b(Infer)n(ence)0 1107 y FI(This)c(section)i(describes)g(the)f
(rules)g(that)g(are)f(used)h(to)f(perform)h FJ(kind)g(infer)m(ence)p
FI(,)i(i.e.)39 b(to)27 b(calculate)i(a)e(suitable)0 1220
y(kind)d(for)g(each)g(type)h(constructor)h(and)e(class)h(appearing)h
(in)d(a)h(gi)n(v)o(en)g(program.)0 1405 y(The)31 b(\002rst)h(step)g(in)
g(the)g(kind)h(inference)h(process)g(is)d(to)h(arrange)i(the)e(set)g
(of)f(datatype,)36 b(synon)o(ym,)f(and)d(class)0 1518
y(de\002nitions)25 b(into)f(dependenc)o(y)i(groups.)k(This)22
b(can)i(be)f(achie)n(v)o(ed)h(in)f(much)g(the)h(same)e(w)o(ay)h(as)g
(the)g(dependenc)o(y)0 1631 y(analysis)30 b(for)e(v)n(alue)h
(declarations)i(that)d(w)o(as)g(described)i(in)e(Section)h(4.5.)42
b(F)o(or)27 b(e)o(xample,)i(the)f(follo)n(wing)i(pro-)0
1744 y(gram)23 b(fragment)h(includes)g(the)f(de\002nition)i(of)d(a)g
(datatype)j(constructor)h FD(D)o FI(,)c(a)g(synon)o(ym)i
FD(S)e FI(and)h(a)f(class)h FD(C)p FI(,)f(all)g(of)0
1856 y(which)i(w)o(ould)g(be)g(included)h(in)f(the)g(same)f(dependenc)o
(y)k(group:)250 2035 y FD(data)53 b(C)h(a)g(=>)g(D)g(a)g(=)g(Foo)f(\(S)
h(a\))250 2148 y(type)f(S)h(a)g(=)g([D)g(a])250 2261
y(class)f(C)h(a)g(where)468 2374 y(bar)g(::)f(a)h(->)g(D)g(a)g(->)g
(Bool)0 2550 y FI(The)27 b(kinds)i(of)f(v)n(ariables,)i(constructors,)i
(and)c(classes)h(within)f(each)h(group)g(are)e(determined)j(using)f
(standard)0 2663 y(techniques)35 b(of)d(type)g(inference)i(and)f
(kind-preserving)j(uni\002cation)e([7)q(].)53 b(F)o(or)31
b(e)o(xample,)j(in)e(the)g(de\002nitions)0 2776 y(abo)o(v)o(e,)22
b(the)h(parameter)g FD(a)e FI(appears)i(as)f(an)g(ar)n(gument)i(of)e
(the)g(function)i(constructor)h FD(\(->\))19 b FI(in)j(the)g(type)h(of)
e FD(bar)0 2889 y FI(and)31 b(hence)h(must)f(ha)n(v)o(e)g(kind)g
FB(\003)p FI(.)50 b(It)30 b(follo)n(ws)h(that)h(both)f
FD(D)e FI(and)i FD(S)f FI(must)g(ha)n(v)o(e)i(kind)f
FB(\003)39 b(!)f(\003)30 b FI(and)i(that)f(e)n(v)o(ery)0
3002 y(instance)26 b(of)d(class)i FD(C)d FI(must)h(ha)n(v)o(e)i(kind)f
FB(\003)p FI(.)0 3187 y(It)h(is)f(possible)j(that)f(some)f(parts)g(of)g
(an)g(inferred)i(kind)e(may)g(not)g(be)g(fully)h(determined)h(by)e(the)
g(corresponding)0 3300 y(de\002nitions;)36 b(in)31 b(such)g(cases,)i(a)
d(def)o(ault)i(of)e FB(\003)h FI(is)f(assumed.)51 b(F)o(or)29
b(e)o(xample,)k(we)d(could)h(assume)h(an)e(arbitrary)0
3413 y(kind)24 b Fq(\024)f FI(for)h(the)g FD(a)e FI(parameter)j(in)f
(each)g(of)g(the)f(follo)n(wing)i(e)o(xamples:)250 3592
y FD(data)53 b(App)g(f)h(a)g(=)g(A)g(\(f)g(a\))250 3705
y(data)f(Tree)g(a)108 b(=)54 b(Leaf)f(|)h(Fork)f(\(Tree)f(a\))i(\(Tree)
e(a\))0 3887 y FI(This)23 b(w)o(ould)g(gi)n(v)o(e)g(kinds)h
Ft(\()p Fq(\024)i FB(!)f(\003)p Ft(\))h FB(!)g Fq(\024)f
FB(!)g(\003)e FI(and)g Fq(\024)j FB(!)f(\003)d FI(for)i
FD(App)c FI(and)k FD(Tree)n FI(,)e(respecti)n(v)o(ely)-6
b(,)25 b(for)e(an)o(y)g(kind)0 4000 y Fq(\024)p FI(,)29
b(and)f(w)o(ould)h(require)h(an)e(e)o(xtension)i(to)e(allo)n(w)g
(polymorphic)j(kinds.)44 b(Instead,)31 b(using)e(the)f(def)o(ault)i
(binding)0 4113 y Fq(\024)c Ft(=)f FB(\003)p FI(,)d(the)i(actual)h
(kinds)g(for)f(these)g(tw)o(o)f(constructors)k(are)d
Ft(\()p FB(\003)i(!)f(\003)p Ft(\))h FB(!)g(\003)f(!)g(\003)f
FI(and)g FB(\003)h(!)g(\003)p FI(,)e(respecti)n(v)o(ely)-6
b(.)0 4298 y(Def)o(aults)28 b(are)f(applied)h(to)f(each)g(dependenc)o
(y)j(group)e(without)f(consideration)k(of)c(the)f(w)o(ays)h(in)g(which)
g(partic-)0 4411 y(ular)i(type)h(constructor)h(constants)h(or)c
(classes)j(are)d(used)i(in)e(later)i(dependenc)o(y)h(groups)g(or)d
(else)n(where)i(in)f(the)0 4524 y(program.)42 b(F)o(or)27
b(e)o(xample,)i(adding)h(the)e(follo)n(wing)h(de\002nition)g(to)f
(those)h(abo)o(v)o(e)f(does)g(not)g(in\003uence)h(the)f(kind)0
4636 y(inferred)33 b(for)e FD(Tree)d FI(\(by)j(changing)j(it)c(to)h
Ft(\()p FB(\003)40 b(!)e(\003)p Ft(\))i FB(!)f(\003)p
FI(,)32 b(for)f(instance\),)j(and)e(instead)g(generates)i(a)c(static)0
4749 y(error)25 b(because)h(the)f(kind)g(of)f FD([])o
FI(,)g FB(\003)j(!)f(\003)p FI(,)e(does)h(not)g(match)g(the)f(kind)h
FB(\003)f FI(that)h(is)f(e)o(xpected)i(for)f(an)f(ar)n(gument)i(of)0
4862 y FD(Tree)n FI(:)250 5047 y FD(type)53 b(FunnyTree)d(=)k(Tree)f
([])272 b(--)54 b(invalid)0 5232 y FI(This)28 b(is)g(important)i
(because)g(it)d(ensures)j(that)f(each)g(constructor)i(and)d(class)h
(are)g(used)f(consistently)k(with)c(the)0 5345 y(same)c(kind)g(whene)n
(v)o(er)g(the)o(y)g(are)g(in)f(scope.)p eop
%%Page: 65 79
65 78 bop 300 1053 a Fw(Chapter)44 b(5)300 1543 y FH(Modules)300
2063 y FI(A)23 b(module)j(de\002nes)f(a)f(collection)j(of)e(v)n(alues,)
g(datatypes,)i(type)f(synon)o(yms,)g(classes,)g(etc.)e(\(see)h(Chapter)
h(4\),)e(in)300 2176 y(an)k(en)l(vironment)j(created)f(by)f(a)e(set)i
(of)f FJ(imports)h FI(\(resources)i(brought)f(into)f(scope)g(from)f
(other)h(modules\).)44 b(It)300 2289 y FJ(e)n(xports)25
b FI(some)d(of)h(these)h(resources,)h(making)e(them)g(a)n(v)n(ailable)i
(to)e(other)g(modules.)30 b(W)-7 b(e)22 b(use)h(the)g(term)f
FJ(entity)i FI(to)300 2402 y(refer)g(to)g(a)f(v)n(alue,)h(type,)g(or)f
(class)i(de\002ned)f(in,)f(imported)i(into,)f(or)g(perhaps)h(e)o
(xported)h(from)d(a)g(module.)300 2590 y(A)j(Hask)o(ell)h
FJ(pr)l(o)o(gr)o(am)h FI(is)f(a)f(collection)j(of)e(modules,)i(one)e
(of)f(which,)i(by)f(con)l(v)o(ention,)j(must)d(be)g(called)h
FD(Main)300 2703 y FI(and)h(must)f(e)o(xport)i(the)e(v)n(alue)h
FD(main)o FI(.)42 b(The)28 b FJ(value)h FI(of)g(the)f(program)i(is)e
(the)h(v)n(alue)g(of)f(the)h(identi\002er)h FD(main)25
b FI(in)300 2816 y(module)i FD(Main)n FI(,)e(which)h(must)g(be)g(a)g
(computation)i(of)e(type)g FD(IO)f Fq(\034)35 b FI(for)26
b(some)g(type)g Fq(\034)35 b FI(\(see)27 b(Chapter)f(7\).)36
b(When)300 2929 y(the)22 b(program)h(is)f(e)o(x)o(ecuted,)h(the)g
(computation)h FD(main)19 b FI(is)j(performed,)i(and)e(its)g(result)h
(\(of)f(type)h Fq(\034)10 b FI(\))21 b(is)h(discarded.)300
3116 y(Modules)37 b(may)e(reference)i(other)f(modules)h(via)e(e)o
(xplicit)i FD(import)32 b FI(declarations,)41 b(each)36
b(gi)n(ving)h(the)e(name)300 3229 y(of)29 b(a)g(module)i(to)e(be)h
(imported)h(and)f(specifying)i(its)e(entities)h(to)f(be)f(imported.)48
b(Modules)31 b(may)e(be)h(mutually)300 3342 y(recursi)n(v)o(e.)300
3530 y(Modules)h(are)f(used)g(for)g(name-space)i(control,)g(and)e(are)g
(not)g(\002rst)f(class)i(v)n(alues.)48 b(A)28 b(multi-module)k(Hask)o
(ell)300 3643 y(program)20 b(can)f(be)f(con)l(v)o(erted)j(into)f(a)e
(single-module)k(program)d(by)g(gi)n(ving)h(each)f(entity)h(a)e(unique)
i(name,)g(chang-)300 3756 y(ing)27 b(all)f(occurrences)k(to)d(refer)g
(to)f(the)h(appropriate)j(unique)e(name,)f(and)g(then)g(concatenating)k
(all)26 b(the)h(module)300 3869 y(bodies)535 3836 y Fz(1)575
3869 y FI(.)h(F)o(or)22 b(e)o(xample,)i(here)h(is)e(a)g(three-module)j
(program:)550 4051 y FD(module)52 b(Main)h(where)659
4164 y(import)f(A)659 4276 y(import)g(B)659 4389 y(main)h(=)h(A.f)f(>>)
h(B.f)550 4549 y(module)e(A)i(where)659 4662 y(f)g(=)h(...)550
4821 y(module)d(B)i(where)659 4934 y(f)g(=)h(...)300
5113 y FI(It)23 b(is)h(equi)n(v)n(alent)i(to)d(the)h(follo)n(wing)h
(single-module)i(program:)p 300 5186 1440 4 v 405 5242
a Fy(1)434 5273 y Fx(There)d(are)g(tw)o(o)h(minor)f(e)o(xceptions)h(to)
f(this)g(statement.)38 b(First,)24 b Fc(default)e Fx(declarations)j
(scope)g(o)o(v)o(er)f(a)g(single)g(module)h(\(Sec-)300
5365 y(tion)19 b(4.3.4\).)k(Second,)c(Rule)g(2)g(of)g(the)g
(monomorphism)i(restriction)e(\(Section)g(4.5.5\))g(is)f(af)n(fected)h
(by)h(module)g(boundaries.)2055 5593 y FI(65)p eop
%%Page: 66 80
66 79 bop 0 100 a FI(66)2515 b FE(CHAPTER)20 b(5.)51
b(MODULES)250 344 y FD(module)h(Main)h(where)359 457
y(main)g(=)h(af)g(>>)f(bf)359 616 y(af)h(=)g(...)359
775 y(bf)g(=)g(...)0 959 y FI(Because)22 b(the)o(y)e(are)h(allo)n(wed)g
(to)f(be)h(mutually)h(recursi)n(v)o(e,)g(modules)g(allo)n(w)e(a)g
(program)i(to)e(be)g(partitioned)k(freely)0 1072 y(without)h(re)o(gard)
f(to)f(dependencies.)0 1264 y(The)28 b(name-space)j(for)d(modules)i
(themselv)o(es)g(is)e(\003at,)h(with)f(each)h(module)h(being)f
(associated)i(with)e(a)f(unique)0 1377 y(module)21 b(name)f(\(which)g
(are)g(Hask)o(ell)h(identi\002ers)g(be)o(ginning)h(with)e(a)f(capital)j
(letter;)g(i.e.)d Fv(mo)-5 b(did)11 b FI(\).)27 b(There)20
b(is)g(one)0 1490 y(distinguished)31 b(module,)c FD(Prelude)m
FI(,)f(which)h(is)g(imported)h(into)f(all)f(modules)i(by)f(def)o(ault)h
(\(see)f(Section)g(5.6\),)0 1603 y(plus)d(a)f(set)h(of)g(standard)h
(library)g(modules)g(that)f(may)g(be)f(imported)i(as)f(required)h
(\(see)f(P)o(art)f(II\).)0 1973 y FC(5.1)119 b(Module)31
b(Structur)n(e)0 2260 y FI(A)21 b(module)i(de\002nes)g(a)f(mutually)h
(recursi)n(v)o(e)h(scope)g(containing)h(declarations)h(for)c(v)n(alue)h
(bindings,)i(data)d(types,)0 2373 y(type)i(synon)o(yms,)h(classes,)g
(etc.)k(\(see)24 b(Chapter)h(4\).)0 2654 y Fv(mo)-5 b(dule)199
b FB(!)113 b FD(module)20 b Fv(mo)-5 b(did)34 b Ft([)p
Fv(exp)-5 b(orts)7 b Ft(])26 b FD(where)20 b Fv(b)-5
b(o)g(dy)506 2767 y FB(j)147 b Fv(b)-5 b(o)g(dy)0 2880
y(b)g(o)g(dy)306 b FB(!)113 b FD({)22 b Fv(imp)-5 b(de)g(cls)33
b FD(;)22 b Fv(top)-5 b(de)g(cls)32 b FD(})506 2992 y
FB(j)147 b FD({)22 b Fv(imp)-5 b(de)g(cls)33 b FD(})506
3105 y FB(j)147 b FD({)22 b Fv(top)-5 b(de)g(cls)33 b
FD(})0 3331 y Fv(mo)-5 b(did)239 b FB(!)113 b Fv(c)-5
b(onid)0 3444 y(imp)g(de)g(cls)146 b FB(!)113 b Fv(imp)-5
b(de)g(cl)969 3458 y Fu(1)1043 3444 y FD(;)38 b Fq(:)15
b(:)g(:)38 b FD(;)23 b Fv(imp)-5 b(de)g(cl)1648 3458
y Fu(n)2493 3444 y Ft(\()p Fv(n)32 b FB(\025)25 b Fv(1)12
b Ft(\))0 3557 y Fv(top)-5 b(de)g(cls)172 b FB(!)113
b Fv(top)-5 b(de)g(cl)943 3571 y Fu(1)1018 3557 y FD(;)37
b Fq(:)15 b(:)g(:)39 b FD(;)22 b Fv(top)-5 b(de)g(cl)1596
3571 y Fu(n)2493 3557 y Ft(\()p Fv(n)32 b FB(\025)25
b Fv(1)12 b Ft(\))0 3838 y FI(A)33 b(module)i(be)o(gins)g(with)f(a)g
(header:)52 b(the)35 b(k)o(e)o(yw)o(ord)g FD(module)m
FI(,)h(the)f(module)g(name,)h(and)f(a)f(list)g(of)g(entities)0
3951 y(\(enclosed)g(in)d(round)i(parentheses\))i(to)c(be)h(e)o
(xported.)54 b(The)31 b(header)i(is)e(follo)n(wed)i(by)f(a)f
(possibly-empty)k(list)0 4064 y(of)c FD(import)d FI(declarations)34
b(\()p Fv(imp)-5 b(de)g(cls)10 b FI(,)32 b(Section)g(5.3\))f(that)h
(specify)h(modules)f(to)f(be)g(imported,)j(optionally)0
4177 y(restricting)24 b(the)e(imported)h(bindings.)30
b(This)22 b(is)f(follo)n(wed)h(by)g(a)f(possibly-empty)k(list)d(of)g
(top-le)n(v)o(el)h(declarations)0 4290 y(\()p Fv(top)-5
b(de)g(cls)10 b FI(,)23 b(Chapter)h(4\).)0 4482 y(An)c(abbre)n(viated)k
(form)c(of)h(module,)g(consisting)j(only)d(of)g(the)g(module)g(body)-6
b(,)22 b(is)f(permitted.)29 b(If)21 b(this)g(is)f(used,)i(the)0
4595 y(header)27 b(is)f(assumed)i(to)e(be)g(`)p FD(module)52
b(Main\(main\))e(where)m FI('.)36 b(If)26 b(the)g(\002rst)g(le)o(x)o
(eme)g(in)g(the)g(abbre)n(viated)0 4708 y(module)e(is)g(not)g(a)f
FD({)o FI(,)g(then)h(the)g(layout)h(rule)f(applies)h(for)f(the)g(top)g
(le)n(v)o(el)g(of)f(the)h(module.)0 5078 y FC(5.2)119
b(Export)30 b(Lists)0 5365 y Fv(exp)-5 b(orts)198 b FB(!)113
b FD(\()22 b Fv(exp)-5 b(ort)994 5379 y Fu(1)1068 5365
y FD(,)38 b Fq(:)15 b(:)g(:)39 b FD(,)22 b Fv(exp)-5
b(ort)1621 5379 y Fu(n)1695 5365 y Ft([)23 b FD(,)g Ft(])g
FD(\))569 b Ft(\()p Fv(n)32 b FB(\025)25 b Fv(0)12 b
Ft(\))p eop
%%Page: 67 81
67 80 bop 300 100 a FE(5.2.)51 b(EXPOR)-5 b(T)20 b(LISTS)2707
b FI(67)300 469 y Fv(exp)-5 b(ort)235 b FB(!)113 b Fv(qvar)806
582 y FB(j)147 b Fv(qtyc)-5 b(on)31 b Ft([)p FD(\(..\))21
b FB(j)i FD(\()f Fv(cname)1905 596 y Fu(1)1978 582 y
FD(,)37 b Fq(:)15 b(:)g(:)39 b FD(,)23 b Fv(cname)2547
596 y Fu(n)2620 582 y FD(\))o Ft(])94 b(\()p Fv(n)32
b FB(\025)25 b Fv(0)12 b Ft(\))806 695 y FB(j)147 b Fv(qtycls)31
b Ft([)p FD(\(..\))21 b FB(j)i FD(\()f Fv(var)1744 709
y Fu(1)1817 695 y FD(,)37 b Fq(:)15 b(:)g(:)39 b FD(,)23
b Fv(var)2257 709 y Fu(n)2330 695 y FD(\))o Ft(])384
b(\()p Fv(n)32 b FB(\025)25 b Fv(0)12 b Ft(\))806 808
y FB(j)147 b FD(module)20 b Fv(mo)-5 b(did)300 1033 y(cname)219
b FB(!)113 b Fv(var)33 b FB(j)23 b Fv(c)-5 b(on)300 1329
y FI(An)26 b FJ(e)n(xport)j(list)e FI(identi\002es)i(the)e(entities)i
(to)d(be)h(e)o(xported)i(by)e(a)g(module)h(declaration.)41
b(A)26 b(module)i(implemen-)300 1442 y(tation)g(may)f(only)g(e)o(xport)
h(an)f(entity)h(that)f(it)g(declares,)i(or)e(that)g(it)g(imports)h
(from)e(some)h(other)h(module.)39 b(If)27 b(the)300 1555
y(e)o(xport)d(list)g(is)f(omitted,)h(all)g(v)n(alues,)g(types)g(and)g
(classes)h(de\002ned)f(in)f(the)h(module)g(are)g(e)o(xported,)h
FJ(b)n(ut)e(not)h(those)300 1668 y(that)g(ar)m(e)g(imported)p
FI(.)300 1864 y(Entities)h(in)e(an)h(e)o(xport)g(list)g(may)f(be)h
(named)g(as)f(follo)n(ws:)414 2134 y(1.)45 b(A)23 b(v)n(alue,)h
(\002eld)f(name,)g(or)h(class)g(method,)g(whether)h(declared)g(in)f
(the)f(module)i(body)f(or)g(imported,)g(may)527 2247
y(be)29 b(named)h(by)f(gi)n(ving)i(the)e(name)g(of)g(the)h(v)n(alue)g
(as)f(a)f Fv(qvarid)11 b FI(,)29 b(which)h(must)f(be)g(in)g(scope.)47
b(Operators)527 2360 y(should)25 b(be)f(enclosed)i(in)d(parentheses)k
(to)d(turn)g(them)f(into)h Fv(qvarid)11 b FI(s.)414 2548
y(2.)45 b(An)23 b(algebraic)j(datatype)f Fv(T)35 b FI(declared)25
b(by)f(a)e FD(data)f FI(or)i FD(newtype)d FI(declaration)26
b(may)d(be)h(named)f(in)h(one)527 2661 y(of)g(three)g(w)o(ays:)636
2848 y FB(\017)46 b FI(The)35 b(form)g Fv(T)47 b FI(names)36
b(the)f(type)h FJ(b)n(ut)g(not)f(the)h(constructor)o(s)j(or)c(\002eld)h
(names)p FI(.)65 b(The)34 b(ability)j(to)727 2961 y(e)o(xport)27
b(a)d(type)i(without)h(its)e(constructors)k(allo)n(ws)c(the)h
(construction)j(of)c(abstract)i(datatypes)h(\(see)727
3074 y(Section)d(5.8\).)636 3220 y FB(\017)46 b FI(The)26
b(form)g Fq(T)13 b FD(\()p Fq(c)1256 3234 y FA(1)1295
3220 y FD(,)i Fq(:)g(:)g(:)h FD(,)p Fq(c)1580 3234 y
Fo(n)1627 3220 y FD(\))p FI(,)26 b(names)h(the)f(type)h(and)g(some)f
(or)h(all)f(of)g(its)h(constructors)j(and)c(\002eld)727
3333 y(names.)636 3479 y FB(\017)46 b FI(The)28 b(abbre)n(viated)k
(form)c Fv(T)12 b FD(\(..\))26 b FI(names)j(the)g(type)g(and)g(all)g
(its)f(constructors)k(and)d(\002eld)g(names)727 3592
y(that)24 b(are)g(currently)i(in)d(scope)i(\(whether)g(quali\002ed)g
(or)e(not\).)527 3780 y(In)31 b(all)g(cases,)i(the)e
(\(possibly-quali\002ed\))37 b(type)31 b(constructor)j
Fv(T)42 b FI(must)31 b(be)g(in)g(scope.)52 b(The)30 b(constructor)527
3893 y(and)23 b(\002eld)e(names)i Fq(c)1155 3907 y Fo(i)1204
3893 y FI(in)f(the)g(second)i(form)e(are)g(unquali\002ed;)j(one)d(of)g
(these)h(subordinate)i(names)d(is)g(le)o(gal)527 4006
y(if)31 b(and)g(only)g(if)f(\(a\))h(it)f(names)h(a)f(constructor)k(or)d
(\002eld)f(of)g Fv(T)12 b FI(,)32 b(and)f(\(b\))f(the)h(constructor)j
(or)d(\002eld)f(is)g(in)527 4119 y(scope)23 b(in)f(the)g(module)h(body)
g FJ(r)m(e)l(gar)m(dless)i(of)d(whether)h(it)e(is)h(in)g(scope)h(under)
g(a)f(quali\002ed)i(or)e(unquali\002ed)527 4231 y(name)p
FI(.)29 b(F)o(or)23 b(e)o(xample,)h(the)g(follo)n(wing)h(is)e(le)o(gal)
778 4376 y FD(module)51 b(A\()j(Mb.Maybe\()c(Nothing,)h(Just)i(\))h(\))
g(where)887 4489 y(import)d(qualified)g(Maybe)h(as)i(Mb)527
4630 y FI(Data)24 b(constructors)k(cannot)e(be)e(named)h(in)f(e)o
(xport)h(lists)g(e)o(xcept)g(as)g(subordinate)i(names,)e(because)h(the)
o(y)527 4743 y(cannot)f(otherwise)h(be)d(distinguished)28
b(from)23 b(type)h(constructors.)414 4931 y(3.)45 b(A)24
b(type)j(synon)o(ym)f Fv(T)37 b FI(declared)27 b(by)f(a)f
FD(type)d FI(declaration)29 b(may)c(be)g(named)h(by)f(the)h(form)f
Fv(T)13 b FI(,)24 b(where)i Fv(T)527 5044 y FI(is)e(in)f(scope.)414
5231 y(4.)45 b(A)24 b(class)h Fq(C)31 b FI(with)24 b(operations)k
Fq(f)1546 5245 y FA(1)1585 5231 y Fq(;)15 b(:)g(:)g(:)i(;)e(f)1832
5245 y Fo(n)1902 5231 y FI(declared)27 b(in)e(a)f FD(class)e
FI(declaration)28 b(may)c(be)h(named)g(in)g(one)527 5344
y(of)f(three)g(w)o(ays:)p eop
%%Page: 68 82
68 81 bop 0 100 a FI(68)2515 b FE(CHAPTER)20 b(5.)51
b(MODULES)336 356 y FB(\017)46 b FI(The)23 b(form)h Fv(C)36
b FI(names)24 b(the)g(class)g FJ(b)n(ut)g(not)g(the)g(class)g(methods)p
FI(.)336 498 y FB(\017)46 b FI(The)23 b(form)h Fq(C)7
b FD(\()o Fq(f)962 512 y FA(1)1001 498 y FD(,)14 b Fq(:)h(:)g(:)i
FD(,)o Fq(f)1291 512 y Fo(n)1338 498 y FD(\))o FI(,)23
b(names)h(the)g(class)g(and)g(some)g(or)f(all)h(of)f(its)h(methods.)336
641 y FB(\017)46 b FI(The)35 b(abbre)n(viated)j(form)d
Fq(C)7 b FD(\(..\))32 b FI(names)k(the)g(class)g(and)g(all)f(its)g
(methods)i(that)e(are)h(in)f(scope)427 754 y(\(whether)25
b(quali\002ed)g(or)e(not\).)227 937 y(In)31 b(all)f(cases,)k
Fv(C)43 b FI(must)30 b(be)h(in)f(scope.)51 b(In)31 b(the)g(second)h
(form,)g(one)f(of)g(the)f(\(unquali\002ed\))k(subordinate)227
1050 y(names)22 b Fq(f)525 1064 y Fo(i)573 1050 y FI(is)f(le)o(gal)g
(if)g(and)h(only)g(if)f(\(a\))g(it)g(names)h(a)e(class)j(method)f(of)f
Fv(C)13 b FI(,)21 b(and)g(\(b\))h(the)f(class)h(method)g(is)f(in)227
1163 y(scope)j(in)f(the)h(module)g(body)g(re)o(gardless)g(of)f(whether)
h(it)f(is)g(in)g(scope)h(under)g(a)f(quali\002ed)h(or)f(unquali\002ed)
227 1276 y(name.)114 1460 y(5.)45 b(The)21 b(form)f(\223)p
FD(module)53 b(M)o FI(\224)21 b(names)g(the)g(set)g(of)g(all)g
(entities)h(that)g(are)f(in)g(scope)h(with)e(both)i(an)f(unquali\002ed)
227 1573 y(name)j(\223)p FD(e)p FI(\224)f(and)h(a)f(quali\002ed)i(name)
f(\223)p FD(M.e)o FI(\224.)k(This)23 b(set)h(may)f(be)h(empty)-6
b(.)29 b(F)o(or)23 b(e)o(xample:)478 1715 y FD(module)51
b(Queue\()h(module)g(Stack,)g(enqueue,)f(dequeue)g(\))j(where)696
1828 y(import)e(Stack)696 1941 y(...)227 2081 y FI(Here)25
b(the)g(module)g FD(Queue)d FI(uses)j(the)g(module)h(name)f
FD(Stack)c FI(in)k(its)g(e)o(xport)g(list)g(to)g(abbre)n(viate)i(all)e
(the)227 2194 y(entities)h(imported)f(from)e FD(Stack)n
FI(.)227 2342 y(A)35 b(module)i(can)f(name)g(its)g(o)n(wn)f(local)i
(de\002nitions)h(in)e(its)g(e)o(xport)h(list)f(using)h(its)f(o)n(wn)f
(name)h(in)g(the)227 2455 y(\223)p FD(module)52 b(M)p
FI(\224)26 b(syntax,)j(because)g(a)d(local)i(declaration)i(brings)e
(into)f(scope)h(both)g(a)e(quali\002ed)j(and)e(un-)227
2568 y(quali\002ed)e(name)f(\(Section)h(5.5.1\).)k(F)o(or)22
b(e)o(xample:)478 2710 y FD(module)51 b(Mod1\()i(module)e(Mod1,)i
(module)e(Mod2)i(\))h(where)478 2823 y(import)d(Mod2)478
2936 y(import)g(Mod3)227 3076 y FI(Here)23 b(module)h
FD(Mod1)d FI(e)o(xports)j(all)f(local)h(de\002nitions)h(as)e(well)g(as)
g(those)h(imported)h(from)e FD(Mod2)d FI(b)n(ut)k(not)227
3189 y(those)h(imported)g(from)e FD(Mod3)o FI(.)227 3337
y(It)e(is)h(an)f(error)i(to)e(use)h FD(module)52 b(M)20
b FI(in)h(an)h(e)o(xport)g(list)g(unless)h FD(M)d FI(is)h(the)h(module)
h(bearing)g(the)f(e)o(xport)g(list,)227 3450 y(or)i FD(M)e
FI(is)h(imported)i(by)f(at)f(least)i(one)f(import)g(declaration)j
(\(quali\002ed)e(or)e(unquali\002ed\).)0 3707 y(Exports)i(lists)f(are)g
(cumulati)n(v)o(e:)32 b(the)24 b(set)g(of)g(entities)h(e)o(xported)h
(by)e(an)g(e)o(xport)h(list)f(is)f(the)h(union)i(of)d(the)h(entities)0
3820 y(e)o(xported)h(by)f(the)g(indi)n(vidual)i(items)e(of)f(the)h
(list.)0 4012 y(It)30 b(mak)o(es)g(no)g(dif)n(ference)i(to)e(an)g
(importing)i(module)e(ho)n(w)g(an)g(entity)h(w)o(as)e(e)o(xported.)50
b(F)o(or)29 b(e)o(xample,)j(a)d(\002eld)0 4125 y(name)19
b FD(f)f FI(from)i(data)f(type)h FD(T)e FI(may)h(be)h(e)o(xported)h
(indi)n(vidually)h(\()p FD(f)p FI(,)d(item)g(\(1\))h(abo)o(v)o(e\);)i
(or)d(as)g(an)g(e)o(xplicitly-named)0 4238 y(member)24
b(of)g(its)h(data)g(type)g(\()p FD(T\(f\))n FI(,)e(item)h(\(2\)\);)i
(or)e(as)g(an)g(implicitly-named)k(member)c(\()p FD(T\(..\))n
FI(,)f(item\(2\)\);)j(or)0 4351 y(by)e(e)o(xporting)h(an)f(entire)h
(module)f(\()p FD(module)52 b(M)p FI(,)22 b(item)i(\(5\)\).)0
4543 y(The)d FJ(unquali\002ed)k FI(names)d(of)g(the)g(entities)h(e)o
(xported)h(by)e(a)f(module)i(must)e(all)h(be)g(distinct)i(\(within)e
(their)h(respec-)0 4656 y(ti)n(v)o(e)g(namespace\).)31
b(F)o(or)23 b(e)o(xample)250 4842 y FD(module)52 b(A)i(\()g(C.f,)f
(C.g,)g(g,)g(module)f(B)i(\))g(where)162 b(--)53 b(an)h(invalid)d
(module)250 4955 y(import)h(B\(f\))250 5068 y(import)g(qualified)e
(C\(f,g\))250 5181 y(g)k(=)g(f)h(True)0 5365 y FI(There)34
b(are)h(no)f(name)h(clashes)h(within)f(module)g FD(A)e
FI(itself,)38 b(b)n(ut)c(there)i(are)e(name)h(clashes)h(in)e(the)g(e)o
(xport)i(list)p eop
%%Page: 69 83
69 82 bop 300 100 a FE(5.3.)51 b(IMPOR)-5 b(T)21 b(DECLARA)-10
b(TIONS)2270 b FI(69)300 356 y(between)30 b FD(C.g)e
FI(and)i FD(g)e FI(\(assuming)j FD(C.g)c FI(and)j FD(g)e
FI(are)i(dif)n(ferent)h(entities)g(\226)e(remember)l(,)j(modules)f(can)
f(import)300 469 y(each)g(other)h(recursi)n(v)o(ely\),)i(and)d(between)
h FD(module)51 b(B)29 b FI(and)g FD(C.f)f FI(\(assuming)j
FD(B.f)c FI(and)j FD(C.f)e FI(are)h(dif)n(ferent)300
582 y(entities\).)300 957 y FC(5.3)119 b(Import)29 b(Declarations)300
1247 y Fv(imp)-5 b(de)g(cl)183 b FB(!)113 b FD(import)20
b Ft([)p FD(qualified)l Ft(])j Fv(mo)-5 b(did)34 b Ft([)p
FD(as)22 b Fv(mo)-5 b(did)9 b Ft(])26 b([)p Fv(impsp)-5
b(e)g(c)5 b Ft(])806 1360 y FB(j)1962 b Ft(\()p Fv(empty)32
b(de)-5 b(clar)g(ation)7 b Ft(\))300 1473 y Fv(impsp)-5
b(e)g(c)169 b FB(!)113 b FD(\()22 b Fv(imp)-5 b(ort)1312
1487 y Fu(1)1387 1473 y FD(,)37 b Fq(:)15 b(:)g(:)39
b FD(,)22 b Fv(imp)-5 b(ort)1957 1487 y Fu(n)2032 1473
y Ft([)23 b FD(,)f Ft(])h FD(\))533 b Ft(\()p Fv(n)32
b FB(\025)25 b Fv(0)12 b Ft(\))806 1586 y FB(j)147 b
FD(hiding)20 b(\()i Fv(imp)-5 b(ort)1662 1600 y Fu(1)1737
1586 y FD(,)37 b Fq(:)15 b(:)g(:)39 b FD(,)22 b Fv(imp)-5
b(ort)2307 1600 y Fu(n)2382 1586 y Ft([)23 b FD(,)f Ft(])h
FD(\))183 b Ft(\()p Fv(n)32 b FB(\025)25 b Fv(0)12 b
Ft(\))300 1812 y Fv(imp)-5 b(ort)217 b FB(!)113 b Fv(var)806
1925 y FB(j)147 b Fv(tyc)-5 b(on)31 b Ft([)23 b FD(\(..\))e
FB(j)i FD(\()f Fv(cname)1886 1939 y Fu(1)1959 1925 y
FD(,)37 b Fq(:)15 b(:)g(:)39 b FD(,)22 b Fv(cname)2527
1939 y Fu(n)2600 1925 y FD(\))p Ft(])113 b(\()p Fv(n)32
b FB(\025)25 b Fv(0)12 b Ft(\))806 2038 y FB(j)147 b
Fv(tycls)31 b Ft([)p FD(\(..\))21 b FB(j)i FD(\()f Fv(var)1702
2052 y Fu(1)1775 2038 y FD(,)38 b Fq(:)15 b(:)g(:)39
b FD(,)22 b Fv(var)2215 2052 y Fu(n)2288 2038 y FD(\))o
Ft(])426 b(\()p Fv(n)32 b FB(\025)25 b Fv(0)12 b Ft(\))300
2151 y Fv(cname)219 b FB(!)113 b Fv(var)33 b FB(j)23
b Fv(c)-5 b(on)300 2446 y FI(The)26 b(entities)i(e)o(xported)h(by)d(a)g
(module)i(may)e(be)h(brought)h(into)f(scope)h(in)e(another)j(module)e
(with)f(an)h FD(import)300 2559 y FI(declaration)40 b(at)c(the)g(be)o
(ginning)j(of)e(the)f(module.)69 b(The)36 b FD(import)c
FI(declaration)40 b(names)d(the)g(module)g(to)f(be)300
2672 y(imported)26 b(and)f(optionally)i(speci\002es)f(the)e(entities)i
(to)f(be)f(imported.)33 b(A)23 b(single)j(module)f(may)f(be)g(imported)
i(by)300 2785 y(more)31 b(than)g(one)h FD(import)27 b
FI(declaration.)54 b(Imported)32 b(names)g(serv)o(e)f(as)g(top)g(le)n
(v)o(el)g(declarations:)48 b(the)o(y)31 b(scope)300 2898
y(o)o(v)o(er)24 b(the)f(entire)i(body)g(of)e(the)h(module)g(b)n(ut)g
(may)g(be)f(shado)n(wed)i(by)f(local)g(non-top-le)n(v)o(el)j(bindings.)
300 3094 y(The)35 b(ef)n(fect)h(of)g(multiple)g FD(import)c
FI(declarations)39 b(is)d(strictly)h(cumulati)n(v)o(e:)54
b(an)36 b(entity)h(is)e(in)g(scope)i(if)e(it)g(is)300
3207 y(imported)30 b(by)e(an)o(y)g(of)g(the)g FD(import)d
FI(declarations)31 b(in)d(a)g(module.)43 b(The)28 b(ordering)i(of)e
(import)h(declarations)i(is)300 3320 y(irrele)n(v)n(ant.)300
3516 y(Le)o(xically)-6 b(,)25 b(the)g(terminal)g(symbols)h(\223)p
FD(as)o FI(\224,)e(\223)p FD(qualified)l FI(\224)g(and)g(\223)p
FD(hiding)n FI(\224)f(are)i(each)g(a)e Fv(varid)34 b
FI(rather)25 b(than)300 3629 y(a)j Fv(r)-5 b(eserve)g(did)11
b FI(.)44 b(The)o(y)29 b(ha)n(v)o(e)g(special)i(signi\002cance)g(only)f
(in)f(the)g(conte)o(xt)h(of)f(an)g FD(import)c FI(declaration;)35
b(the)o(y)300 3741 y(may)23 b(also)h(be)g(used)g(as)g(v)n(ariables.)300
4074 y FG(5.3.1)99 b(What)25 b(is)f(imported)300 4331
y FI(Exactly)g(which)g(entities)i(are)d(to)h(be)f(imported)i(can)f(be)g
(speci\002ed)h(in)e(one)h(of)g(the)g(follo)n(wing)h(three)f(w)o(ays:)
414 4602 y(1.)45 b(The)26 b(imported)h(entities)h(can)e(be)g
(speci\002ed)h(e)o(xplicitly)i(by)d(listing)h(them)f(in)g(parentheses.)
39 b(Items)26 b(in)g(the)527 4714 y(list)32 b(ha)n(v)o(e)g(the)f(same)g
(form)g(as)g(those)i(in)e(e)o(xport)h(lists,)i(e)o(xcept)e
(quali\002ers)h(are)e(not)g(permitted)i(and)f(the)527
4827 y(`)p FD(module)23 b Fv(mo)-5 b(did)11 b FI(')26
b(entity)h(is)f(not)g(permitted.)37 b(When)27 b(the)f
FD(\(..\))d FI(form)j(of)g(import)g(is)g(used)h(for)f(a)f(type)527
4940 y(or)d(class,)h(the)g FD(\(..\))c FI(refers)k(to)f(all)g(of)g(the)
h(constructors,)i(methods,)f(or)e(\002eld)f(names)i(e)o(xported)h(from)
e(the)527 5053 y(module.)527 5203 y(The)h(list)h(must)g(name)g(only)g
(entities)h(e)o(xported)h(by)e(the)g(imported)h(module.)k(The)24
b(list)f(may)h(be)f(empty)-6 b(,)24 b(in)527 5316 y(which)g(case)g
(nothing)i(e)o(xcept)f(the)e(instances)j(is)e(imported.)p
eop
%%Page: 70 84
70 83 bop 0 100 a FI(70)2515 b FE(CHAPTER)20 b(5.)51
b(MODULES)114 356 y FI(2.)45 b(Entities)36 b(can)g(be)f(e)o(xcluded)i
(by)e(using)h(the)g(form)f FD(hiding\()m Fv(imp)-5 b(ort)2533
370 y Fu(1)2607 356 y FD(,)37 b Fq(:)15 b(:)g(:)39 b
FD(,)22 b Fv(imp)-5 b(ort)3177 370 y Fu(n)3263 356 y
FD(\))p FI(,)37 b(which)227 469 y(speci\002es)27 b(that)f(all)g
(entities)h(e)o(xported)g(by)f(the)g(named)g(module)g(should)h(be)f
(imported)h(e)o(xcept)f(for)g(those)227 582 y(named)36
b(in)f(the)g(list.)63 b(Data)35 b(constructors)k(may)34
b(be)h(named)h(directly)h(in)e(hiding)h(lists)g(without)g(being)227
695 y(pre\002x)o(ed)25 b(by)e(the)h(associated)i(type.)k(Thus,)23
b(in)478 845 y FD(import)51 b(M)j(hiding)e(\(C\))227
995 y FI(an)o(y)32 b(constructor)l(,)38 b(class,)d(or)c(type)i(named)g
FD(C)e FI(is)g(e)o(xcluded.)57 b(In)31 b(contrast,)36
b(using)d FD(C)e FI(in)h(an)g(import)h(list)227 1108
y(names)24 b(only)h(a)e(class)h(or)g(type.)227 1258 y(It)g(is)f(an)g
(error)i(to)e(hide)i(an)e(entity)i(that)f(is)f(not,)h(in)f(f)o(act,)h
(e)o(xported)i(by)d(the)h(imported)h(module.)114 1446
y(3.)45 b(Finally)-6 b(,)31 b(if)d Fv(impsp)-5 b(e)g(c)35
b FI(is)28 b(omitted)i(then)g(all)e(the)h(entities)i(e)o(xported)f(by)f
(the)g(speci\002ed)h(module)g(are)f(im-)227 1559 y(ported.)0
1891 y FG(5.3.2)99 b(Quali\002ed)25 b(import)0 2148 y
FI(F)o(or)30 b(each)i(entity)h(imported)g(under)f(the)g(rules)g(of)f
(Section)h(5.3.1,)h(the)f(top-le)n(v)o(el)h(en)l(vironment)h(is)d(e)o
(xtended.)0 2261 y(If)e(the)h(import)g(declaration)j(used)e(the)e
FD(qualified)c FI(k)o(e)o(yw)o(ord,)32 b(only)f(the)e
FJ(quali\002ed)j(name)e FI(of)g(the)f(entity)i(is)0 2374
y(brought)25 b(into)e(scope.)30 b(If)23 b(the)g FD(qualified)18
b FI(k)o(e)o(yw)o(ord)24 b(is)e(omitted,)i(then)g FJ(both)f
FI(the)g(quali\002ed)i FJ(and)e FI(unquali\002ed)0 2487
y(name)h(of)f(the)h(entity)h(is)e(brought)j(into)e(scope.)30
b(Section)24 b(5.5.1)g(describes)i(quali\002ed)f(names)f(in)f(more)h
(detail.)0 2683 y(The)18 b(quali\002er)h(on)f(the)h(imported)g(name)g
(is)f(either)h(the)g(name)f(of)g(the)g(imported)i(module,)g(or)e(the)h
(local)g(alias)g(gi)n(v)o(en)0 2796 y(in)27 b(the)g FD(as)f
FI(clause)i(\(Section)g(5.3.3\))f(on)h(the)f FD(import)c
FI(statement.)41 b(Hence,)28 b FJ(the)f(quali\002er)j(is)d(not)g
(necessarily)0 2909 y(the)d(name)f(of)h(the)g(module)g(in)g(whic)o(h)f
(the)h(entity)h(was)e(originally)j(declar)m(ed)p FI(.)0
3105 y(The)36 b(ability)h(to)f(e)o(xclude)i(the)e(unquali\002ed)i
(names)f(allo)n(ws)f(full)g(programmer)i(control)g(of)e(the)g
(unquali\002ed)0 3218 y(namespace:)31 b(a)23 b(locally)j(de\002ned)e
(entity)h(can)f(share)g(the)g(same)g(name)f(as)h(a)f(quali\002ed)i
(import:)241 3399 y Fp(module)48 b(Ring)i(where)241 3498
y(import)e(qualified)h(Prelude)198 b(--)49 b(All)g(Prelude)g(names)g
(must)g(be)g(qualified)241 3598 y(import)f(List\()h(nub)h(\))241
3731 y(l1)f(+)h(l2)f(=)h(l1)f(Prelude.++)f(l2)100 b(--)49
b(This)g(+)h(differs)e(from)h(the)g(one)h(in)f(the)g(Prelude)241
3830 y(l1)g(*)h(l2)f(=)h(nub)f(\(l1)g(+)h(l2\))249 b(--)49
b(This)g(*)h(differs)e(from)h(the)g(one)h(in)f(the)g(Prelude)241
3963 y(succ)g(=)g(\(Prelude.+)f(1\))0 4416 y FG(5.3.3)99
b(Local)25 b(aliases)0 4674 y FI(Imported)j(modules)f(may)f(be)g
(assigned)i(a)e(local)h(alias)f(in)g(the)h(importing)h(module)f(using)g
(the)f FD(as)e FI(clause.)38 b(F)o(or)0 4787 y(e)o(xample,)24
b(in)250 4983 y FD(import)52 b(qualified)e(VeryLongModuleNa)o(me)e(as)
53 b(C)0 5179 y FI(entities)26 b(must)f(be)f(referenced)j(using)f(`)p
FD(C.)o FI(')e(as)h(a)f(quali\002er)h(instead)h(of)f(`)p
FD(VeryLongModuleN)o(am)o(e.)-7 b FI('.)31 b(This)0 5291
y(also)21 b(allo)n(ws)g(a)e(dif)n(ferent)k(module)e(to)f(be)g
(substituted)k(for)c FD(VeryLongModuleNa)o(me)13 b FI(without)21
b(changing)i(the)p eop
%%Page: 71 85
71 84 bop 300 100 a FE(5.4.)51 b(IMPOR)-5 b(TING)21 b(AND)g(EXPOR)-5
b(TING)20 b(INST)-8 b(ANCE)19 b(DECLARA)-10 b(TIONS)893
b FI(71)300 356 y(quali\002ers)31 b(used)f(for)f(the)h(imported)h
(module.)46 b(It)29 b(is)g(le)o(gal)h(for)f(more)h(than)g(one)f(module)
h(in)g(scope)g(to)f(use)h(the)300 469 y(same)24 b(quali\002er)l(,)g
(pro)o(vided)i(that)e(all)g(names)g(can)g(still)g(be)f(resolv)o(ed)j
(unambiguously)-6 b(.)32 b(F)o(or)23 b(e)o(xample:)550
659 y FD(module)52 b(M)i(where)659 772 y(import)e(qualified)f(Foo)i(as)
g(A)659 885 y(import)f(qualified)f(Baz)i(as)g(A)659 998
y(x)h(=)h(A.f)300 1185 y FI(This)23 b(module)i(is)e(le)o(gal)h(pro)o
(vided)h(only)g(that)f FD(Foo)d FI(and)j FD(Baz)e FI(do)h(not)h(both)g
(e)o(xport)h FD(f)p FI(.)300 1381 y(An)e FD(as)f FI(clause)j(may)e
(also)h(be)g(used)g(on)g(an)f(un-)p FD(qualified)d(import)g
FI(statement:)550 1577 y FD(import)52 b(Foo)h(as)h(A\(f\))300
1773 y FI(This)23 b(declaration)k(brings)e(into)f(scope)h
FD(f)d FI(and)i FD(A.f)o FI(.)300 2105 y FG(5.3.4)99
b(Examples)300 2362 y FI(T)-7 b(o)29 b(clarify)j(the)e(abo)o(v)o(e)h
(import)g(rules,)i(suppose)f(the)f(module)g FD(A)e FI(e)o(xports)i
FD(x)e FI(and)i FD(y)p FI(.)48 b(Then)30 b(this)h(table)g(sho)n(ws)300
2475 y(what)23 b(names)h(are)g(brought)i(into)e(scope)h(by)e(the)h
(speci\002ed)h(import)f(statement:)p 734 2664 2733 4
v 732 2777 4 113 v 783 2743 a(Import)h(declaration)1011
b(Names)23 b(brought)i(into)g(scope)p 3465 2777 V 734
2780 2733 4 v 732 2893 4 113 v 783 2859 a FD(import)52
b(A)1245 b(x)o FI(,)23 b FD(y)o FI(,)g FD(A.x)n FI(,)g
FD(A.y)p 3465 2893 V 732 3006 V 783 2972 a(import)52
b(A\(\))1135 b FI(\(nothing\))p 3465 3006 V 732 3119
V 783 3085 a FD(import)52 b(A\(x\))1080 b(x)o FI(,)23
b FD(A.x)p 3465 3119 V 732 3232 V 783 3198 a(import)52
b(qualified)f(A)699 b(A.x)n FI(,)23 b FD(A.y)p 3465 3232
V 732 3345 V 783 3311 a(import)52 b(qualified)f(A\(\))589
b FI(\(nothing\))p 3465 3345 V 732 3458 V 783 3424 a
FD(import)52 b(qualified)f(A\(x\))534 b(A.x)p 3465 3458
V 732 3571 V 783 3537 a(import)52 b(A)i(hiding)e(\(\))699
b(x)o FI(,)23 b FD(y)o FI(,)g FD(A.x)n FI(,)g FD(A.y)p
3465 3571 V 732 3684 V 783 3650 a(import)52 b(A)i(hiding)e(\(x\))644
b(y)o FI(,)23 b FD(A.y)p 3465 3684 V 732 3796 V 783 3763
a(import)52 b(qualified)f(A)j(hiding)e(\(\))153 b(A.x)n
FI(,)23 b FD(A.y)p 3465 3796 V 732 3909 V 783 3876 a(import)52
b(qualified)f(A)j(hiding)e(\(x\))98 b(A.y)p 3465 3909
V 732 4022 V 783 3988 a(import)52 b(A)i(as)g(B)972 b(x)o
FI(,)23 b FD(y)o FI(,)g FD(B.x)n FI(,)g FD(B.y)p 3465
4022 V 732 4135 V 783 4101 a(import)52 b(A)i(as)g(B\(x\))807
b(x)o FI(,)23 b FD(B.x)p 3465 4135 V 732 4248 V 783 4214
a(import)52 b(qualified)f(A)j(as)f(B)427 b(B.x)n FI(,)23
b FD(B.y)p 3465 4248 V 734 4251 2733 4 v 300 4480 a FI(In)g(all)h
(cases,)g(all)g(instance)i(declarations)h(in)c(scope)i(in)e(module)i
FD(A)d FI(are)i(imported)h(\(Section)f(5.4\).)300 4855
y FC(5.4)119 b(Importing)30 b(and)g(Exporting)g(Instance)g
(Declarations)300 5145 y FI(Instance)h(declarations)h(cannot)f(be)e(e)o
(xplicitly)i(named)e(on)g(import)h(or)e(e)o(xport)i(lists.)46
b(All)28 b(instances)j(in)e(scope)300 5258 y(within)37
b(a)e(module)i(are)f FJ(always)h FI(e)o(xported)h(and)e(an)o(y)g
(import)h(brings)g FJ(all)f FI(instances)j(in)d(from)f(the)i(imported)p
eop
%%Page: 72 86
72 85 bop 0 100 a FI(72)2515 b FE(CHAPTER)20 b(5.)51
b(MODULES)0 356 y FI(module.)f(Thus,)31 b(an)f(instance)j(declaration)g
(is)d(in)g(scope)h(if)f(and)h(only)g(if)f(a)g(chain)h(of)f
FD(import)d FI(declarations)0 469 y(leads)e(to)e(the)h(module)g
(containing)j(the)d(instance)h(declaration.)0 665 y(F)o(or)c(e)o
(xample,)i FD(import)51 b(M\(\))20 b FI(does)j(not)f(bring)h(an)o(y)f
(ne)n(w)f(names)h(in)g(scope)h(from)f(module)g FD(M)p
FI(,)f(b)n(ut)h(does)h(bring)0 778 y(in)h(an)o(y)h(instances)i(visible)
f(in)e FD(M)p FI(.)30 b(A)23 b(module)j(whose)e(only)i(purpose)g(is)e
(to)h(pro)o(vide)g(instance)i(declarations)h(can)0 891
y(ha)n(v)o(e)c(an)g(empty)g(e)o(xport)g(list.)29 b(F)o(or)23
b(e)o(xample)250 1081 y FD(module)52 b(MyInstances\(\))d(where)359
1193 y(instance)i(Show)i(\(a)h(->)f(b\))h(where)578 1306
y(show)e(fn)i(=)g("<<function>>")359 1419 y(instance)d(Show)i(\(IO)g
(a\))h(where)578 1532 y(show)e(io)i(=)g("<<IO)e(action>>")0
2033 y FC(5.5)119 b(Name)30 b(Clashes)f(and)i(Closur)n(e)0
2326 y FG(5.5.1)99 b(Quali\002ed)25 b(names)0 2584 y
FI(A)d FJ(quali\002ed)j(name)e FI(is)f(written)i(as)f
Fv(mo)-5 b(did)11 b FD(.)p Fv(name)29 b FI(\(Section)24
b(2.4\).)29 b(A)22 b(quali\002ed)i(name)f(is)f(brought)j(into)f(scope:)
136 2854 y FB(\017)46 b FJ(By)23 b(a)g(top)g(le)o(vel)h(declar)o
(ation.)32 b FI(A)22 b(top-le)n(v)o(el)j(declaration)i(brings)e(into)f
(scope)g(both)g(the)g(unquali\002ed)i FJ(and)227 2967
y FI(the)e(quali\002ed)h(name)f(of)f(the)h(entity)h(being)f(de\002ned.)
30 b(Thus:)478 3111 y FD(module)51 b(M)j(where)587 3224
y(f)g(x)g(=)g(...)587 3337 y(g)g(x)g(=)g(M.f)f(x)h(x)227
3479 y FI(is)22 b(le)o(gal.)29 b(The)21 b FJ(de\002ning)k
FI(occurrence)g(must)d(mention)h(the)g FJ(unquali\002ed)i
FI(name;)e(therefore,)i(it)c(is)h(ille)o(gal)h(to)227
3592 y(write)478 3718 y FD(module)51 b(M)j(where)587
3831 y(M.f)f(x)h(=)g(...)926 b(--)53 b(ILLEGAL)587 3944
y(g)h(x)g(=)g(let)f(M.y)g(=)h(x+1)g(in)f(...)108 b(--)53
b(ILLEGAL)136 4211 y FB(\017)46 b FJ(By)27 b(an)g FD(import)c
FJ(declar)o(ation.)43 b FI(An)26 b FD(import)e FI(declaration,)31
b(whether)d FD(qualified)22 b FI(or)27 b(not,)h(al)o(w)o(ays)227
4324 y(brings)e(into)e(scope)i(the)e(quali\002ed)h(name)g(of)f(the)g
(imported)h(entity)h(\(Section)f(5.3\).)30 b(This)24
b(allo)n(ws)h(a)e(qual-)227 4436 y(i\002ed)h(import)h(to)f(be)h
(replaced)h(with)e(an)g(unquali\002ed)j(one)d(without)i(forcing)g
(changes)g(in)e(the)h(references)227 4549 y(to)f(the)g(imported)h
(names.)0 4882 y FG(5.5.2)99 b(Name)25 b(clashes)0 5139
y FI(If)j(a)f(module)i(contains)h(a)e(bound)h(occurrence)i(of)d(a)g
(name,)h(such)g(as)e FD(f)g FI(or)h FD(A.f)o FI(,)g(it)g(must)g(be)g
(possible)i(unam-)0 5252 y(biguously)e(to)e(resolv)o(e)h(which)f
(entity)h(is)e(thereby)i(referred)h(to;)f(that)f(is,)f(there)i(must)e
(be)h(only)g(one)g(binding)i(for)0 5365 y FD(f)22 b FI(or)i
FD(A.f)d FI(respecti)n(v)o(ely)-6 b(.)p eop
%%Page: 73 87
73 86 bop 300 100 a FE(5.5.)51 b(N)m(AME)21 b(CLASHES)f(AND)i(CLOSURE)
1971 b FI(73)300 356 y(It)23 b(is)g FJ(not)h FI(an)f(error)h(for)f
(there)h(to)f(e)o(xist)h(names)g(that)g(cannot)g(be)g(so)f(resolv)o
(ed,)i(pro)o(vided)g(that)e(the)h(program)g(does)300
469 y(not)g(mention)h(those)f(names.)29 b(F)o(or)23 b(e)o(xample:)550
658 y FD(module)52 b(A)i(where)659 771 y(import)e(B)659
883 y(import)g(C)659 996 y(tup)i(=)g(\(b,)f(c,)g(d,)h(x\))550
1156 y(module)e(B\()i(d,)f(b,)h(x,)g(y)g(\))g(where)659
1269 y(import)e(D)659 1382 y(x)i(=)h(...)659 1494 y(y)f(=)h(...)659
1607 y(b)f(=)h(...)550 1767 y(module)d(C\()i(d,)f(c,)h(x,)g(y)g(\))g
(where)659 1880 y(import)e(D)659 1993 y(x)i(=)h(...)659
2106 y(y)f(=)h(...)659 2218 y(c)f(=)h(...)550 2378 y(module)d(D\()i(d)g
(\))g(where)659 2491 y(d)g(=)h(...)300 2677 y FI(Consider)25
b(the)f(de\002nition)h(of)f FD(tup)n FI(.)436 2943 y
FB(\017)46 b FI(The)24 b(references)i(to)e FD(b)f FI(and)h
FD(c)f FI(can)h(be)g(unambiguously)k(resolv)o(ed)d(to)f
FD(b)f FI(declared)j(in)e FD(B)o FI(,)f(and)h FD(c)f
FI(declared)527 3056 y(in)h FD(C)e FI(respecti)n(v)o(ely)-6
b(.)436 3242 y FB(\017)46 b FI(The)23 b(reference)j(to)d
FD(d)g FI(is)g(unambiguously)k(resolv)o(ed)e(to)f FD(d)e
FI(declared)j(in)f FD(D)o FI(.)k(In)c(this)g(case)g(the)f(same)h
(entity)527 3355 y(is)f(brought)i(into)e(scope)h(by)f(tw)o(o)g(routes)h
(\(the)g(import)f(of)g FD(B)e FI(and)j(the)f(import)g(of)g
FD(C)p FI(\),)f(and)h(can)g(be)g(referred)527 3468 y(to)h(in)f
FD(A)f FI(by)i(the)g(names)g FD(d)o FI(,)f FD(B.d)o FI(,)f(and)i
FD(C.d)o FI(.)436 3654 y FB(\017)46 b FI(The)32 b(reference)i(to)d
FD(x)g FI(is)h(ambiguous:)48 b(it)31 b(could)i(mean)f
FD(x)f FI(declared)i(in)f FD(B)p FI(,)h(or)e FD(x)g FI(declared)j(in)d
FD(C)p FI(.)53 b(The)527 3767 y(ambiguity)26 b(could)e(be)g(\002x)o(ed)
f(by)h(replacing)i(the)e(reference)h(to)f FD(x)e FI(by)i
FD(B.x)d FI(or)j FD(C.x)n FI(.)436 3953 y FB(\017)46
b FI(There)23 b(is)g(no)g(reference)j(to)d FD(y)o FI(,)f(so)h(it)g(is)g
(not)g(erroneous)j(that)d(distinct)i(entities)g(called)f
FD(y)e FI(are)h(e)o(xported)i(by)527 4066 y(both)g FD(B)d
FI(and)i FD(C)o FI(.)k(An)23 b(error)i(is)e(only)h(reported)i(if)d
FD(y)f FI(is)i(actually)h(mentioned.)300 4332 y(The)f(name)h(occurring)
j(in)d(a)f(type)i(signature)h(or)e(\002xity)g(declarations)j(is)d(al)o
(w)o(ays)h(unquali\002ed,)h(and)e(unambigu-)300 4445
y(ously)g(refers)h(to)e(another)h(declaration)j(in)c(the)g(same)g
(declaration)j(list)e(\(e)o(xcept)g(that)g(the)f(\002xity)h
(declaration)i(for)300 4558 y(a)22 b(class)i(method)g(can)f(occur)g(at)
g(top)g(le)n(v)o(el)g(\227)f(Section)i(4.4.2\).)k(F)o(or)22
b(e)o(xample,)h(the)g(follo)n(wing)i(module)e(is)g(le)o(gal:)550
4747 y FD(module)52 b(F)i(where)659 4906 y(sin)g(::)f(Float)f(->)i
(Float)659 5019 y(sin)g(x)g(=)g(\(x::Float\))659 5179
y(f)g(x)h(=)f(Prelude.sin)49 b(\(F.sin)j(x\))300 5365
y FI(The)23 b(local)h(declaration)i(for)e FD(sin)d FI(is)i(le)o(gal,)g
(e)n(v)o(en)h(though)h(the)e(Prelude)h(function)i FD(sin)21
b FI(is)i(implicitly)i(in)e(scope.)p eop
%%Page: 74 88
74 87 bop 0 100 a FI(74)2515 b FE(CHAPTER)20 b(5.)51
b(MODULES)0 356 y FI(The)36 b(references)j(to)d FD(Prelude.sin)30
b FI(and)37 b FD(F.sin)c FI(must)j(both)i(be)e(quali\002ed)h(to)g(mak)o
(e)f(it)g(unambiguous)0 469 y(which)24 b FD(sin)e FI(is)h(meant.)30
b(Ho)n(we)n(v)o(er)l(,)24 b(the)g(unquali\002ed)i(name)e
FD(sin)d FI(in)j(the)g(type)h(signature)h(in)e(the)g(\002rst)f(line)i
(of)e FD(F)0 582 y FI(unambiguously)k(refers)e(to)e(the)h(local)h
(declaration)h(for)e FD(sin)o FI(.)0 904 y FG(5.5.3)99
b(Closur)n(e)0 1155 y FI(Ev)o(ery)29 b(module)g(in)g(a)f(Hask)o(ell)i
(program)g(must)f(be)f FJ(closed)p FI(.)46 b(That)29
b(is,)g(e)n(v)o(ery)h(name)e(e)o(xplicitly)j(mentioned)g(by)0
1268 y(the)25 b(source)h(code)f(must)f(be)h(either)g(de\002ned)g
(locally)h(or)f(imported)h(from)e(another)i(module.)32
b(Ho)n(we)n(v)o(er)l(,)24 b(entities)0 1381 y(that)30
b(the)g(compiler)h(requires)h(for)e(type)h(checking)h(or)d(other)i
(compile)g(time)e(analysis)j(need)f(not)f(be)g(imported)0
1493 y(if)c(the)o(y)h(are)f(not)h(mentioned)h(by)f(name.)37
b(The)26 b(Hask)o(ell)i(compilation)g(system)g(is)e(responsible)j(for)e
(\002nding)g(an)o(y)0 1606 y(information)32 b(needed)g(for)e
(compilation)i(without)f(the)f(help)g(of)g(the)g(programmer)-5
b(.)49 b(That)30 b(is,)g(the)h(import)f(of)g(a)0 1719
y(v)n(ariable)f FD(x)d FI(does)i(not)f(require)i(that)f(the)f
(datatypes)j(and)d(classes)i(in)e(the)g(signature)j(of)d
FD(x)f FI(be)h(brought)i(into)f(the)0 1832 y(module)c(along)h(with)e
FD(x)f FI(unless)j(these)g(entities)g(are)f(referenced)i(by)e(name)f
(in)g(the)h(user)g(program.)30 b(The)23 b(Hask)o(ell)0
1945 y(system)32 b(silently)h(imports)g(an)o(y)e(information)j(that)e
(must)f(accompan)o(y)i(an)f(entity)g(for)g(type)g(checking)i(or)d(an)o
(y)0 2058 y(other)d(purposes.)41 b(Such)27 b(entities)i(need)f(not)f(e)
n(v)o(en)g(be)g(e)o(xplicitly)i(e)o(xported:)38 b(the)27
b(follo)n(wing)i(program)f(is)e(v)n(alid)0 2171 y(e)n(v)o(en)e(though)h
FD(T)d FI(does)j(not)f(escape)h FD(M1)o FI(:)250 2354
y FD(module)52 b(M1\(x\))g(where)359 2467 y(data)h(T)h(=)g(T)359
2580 y(x)g(=)h(T)250 2740 y(module)d(M2)i(where)359 2852
y(import)e(M1\(x\))359 2965 y(y)i(=)h(x)0 3146 y FI(In)28
b(this)g(e)o(xample,)h(there)g(is)f(no)g(w)o(ay)f(to)h(supply)h(an)f(e)
o(xplicit)h(type)g(signature)h(for)e FD(y)f FI(since)h
FD(T)f FI(is)g(not)i(in)e(scope.)0 3259 y(Whether)g(or)e(not)h
FD(T)e FI(is)h(e)o(xplicitly)j(e)o(xported,)g(module)e
FD(M2)e FI(kno)n(ws)i(enough)h(about)f FD(T)f FI(to)g(correctly)j(type)
e(check)0 3372 y(the)e(program.)0 3561 y(The)f(type)h(of)g(an)f(e)o
(xported)j(entity)f(is)e(unaf)n(fected)j(by)e(non-e)o(xported)j(type)d
(synon)o(yms.)30 b(F)o(or)23 b(e)o(xample,)h(in)250 3745
y FD(module)52 b(M\(x\))h(where)359 3857 y(type)g(T)h(=)g(Int)359
3970 y(x)g(::)g(T)359 4083 y(x)g(=)h(1)0 4264 y FI(the)23
b(type)h(of)f FD(x)f FI(is)h(both)h FD(T)e FI(and)h FD(Int)o
FI(;)g(these)h(are)f(interchangeable)28 b(e)n(v)o(en)23
b(when)g FD(T)f FI(is)h(not)g(in)g(scope.)30 b(That)23
b(is,)g(the)0 4377 y(de\002nition)k(of)f FD(T)f FI(is)g(a)n(v)n
(ailable)j(to)e(an)o(y)g(module)g(that)h(encounters)i(it)c(whether)i
(or)e(not)i(the)f(name)g FD(T)e FI(is)i(in)f(scope.)0
4490 y(The)d(only)h(reason)h(to)f(e)o(xport)g FD(T)f
FI(is)g(to)g(allo)n(w)h(other)g(modules)h(to)f(refer)g(it)f(by)h(name;)
g(the)g(type)g(check)o(er)h(\002nds)f(the)0 4603 y(de\002nition)i(of)f
FD(T)e FI(if)h(needed)i(whether)g(or)e(not)h(it)g(is)f(e)o(xported.)0
4968 y FC(5.6)119 b(Standard)31 b(Pr)n(elude)0 5252 y
FI(Man)o(y)k(of)g(the)g(features)i(of)e(Hask)o(ell)h(are)f(de\002ned)g
(in)g(Hask)o(ell)h(itself)g(as)f(a)f(library)j(of)e(standard)i
(datatypes,)0 5365 y(classes,)d(and)d(functions,)k(called)d(the)g
(\223Standard)g(Prelude.)-6 b(\224)52 b(In)31 b(Hask)o(ell,)i(the)e
(Prelude)h(is)f(contained)i(in)e(the)p eop
%%Page: 75 89
75 88 bop 300 100 a FE(5.6.)51 b(ST)-8 b(AND)l(ARD)20
b(PRELUDE)2404 b FI(75)300 356 y(module)25 b FD(Prelude)m
FI(.)30 b(There)24 b(are)g(also)h(man)o(y)f(prede\002ned)i(library)g
(modules,)f(which)g(pro)o(vide)h(less)e(frequently)300
469 y(used)g(functions)h(and)f(types.)29 b(F)o(or)23
b(e)o(xample,)g(comple)o(x)h(numberss,)h(arrays,)f(and)f(most)g(of)g
(the)g(input/output)k(are)300 582 y(all)g(part)g(of)g(the)g(standard)i
(libraries.)41 b(These)27 b(are)g(de\002ned)g(in)g(P)o(art)f(II)h
(Separating)i(libraries)f(from)f(the)g(Prelude)300 695
y(has)e(the)g(adv)n(antage)i(of)e(reducing)i(the)e(size)g(and)g(comple)
o(xity)i(of)e(the)g(Prelude,)g(allo)n(wing)h(it)f(to)f(be)h(more)g
(easily)300 808 y(assimilated,)h(and)e(increasing)i(the)e(space)g(of)g
(useful)h(names)f(a)n(v)n(ailable)i(to)d(the)h(programmer)-5
b(.)300 1004 y(Prelude)34 b(and)f(library)i(modules)f(dif)n(fer)g(from)
f(other)h(modules)g(in)f(that)h(their)g(semantics)h(\(b)n(ut)e(not)h
(their)g(im-)300 1116 y(plementation\))e(are)c(a)g(\002x)o(ed)g(part)h
(of)f(the)h(Hask)o(ell)g(language)i(de\002nition.)44
b(This)28 b(means,)i(for)f(e)o(xample,)h(that)f(a)300
1229 y(compiler)g(may)f(optimize)h(calls)f(to)g(functions)i(in)e(the)g
(Prelude)g(without)h(consulting)i(the)d(source)h(code)f(of)g(the)300
1342 y(Prelude.)300 1674 y FG(5.6.1)99 b(The)26 b Fb(Prelude)d
FG(Module)300 1932 y FI(The)54 b FD(Prelude)d FI(module)k(is)f
(imported)i(automatically)i(into)d(all)g(modules)g(as)g(if)f(by)h(the)g
(statement)300 2045 y(`)p FD(import)d(Prelude)m FI(',)25
b(if)h(and)g(only)h(if)e(it)g(is)h(not)g(imported)h(with)f(an)g(e)o
(xplicit)h FD(import)22 b FI(declaration.)38 b(This)300
2158 y(pro)o(vision)31 b(for)e(e)o(xplicit)h(import)f(allo)n(ws)g
(entities)h(de\002ned)f(in)g(the)f(Prelude)i(to)e(be)h(selecti)n(v)o
(ely)i(imported,)g(just)300 2270 y(lik)o(e)24 b(those)h(from)e(an)o(y)h
(other)g(module.)300 2466 y(The)f(semantics)i(of)e(the)h(entities)h(in)
f FD(Prelude)19 b FI(is)k(speci\002ed)i(by)f(a)f(reference)i
(implementation)i(of)c FD(Prelude)300 2579 y FI(written)k(in)g(Hask)o
(ell,)h(gi)n(v)o(en)f(in)f(Chapter)i(8.)37 b(Some)26
b(datatypes)j(\(such)f(as)e FD(Int)o FI(\))g(and)h(functions)i(\(such)f
(as)e FD(Int)300 2692 y FI(addition\))32 b(cannot)f(be)f(speci\002ed)h
(directly)h(in)d(Hask)o(ell.)49 b(Since)29 b(the)h(treatment)i(of)d
(such)i(entities)g(depends)h(on)300 2805 y(the)26 b(implementation,)j
(the)o(y)d(are)g(not)h(formally)g(de\002ned)f(in)g(Chapter)h(8.)35
b(The)26 b(implementation)i(of)e FD(Prelude)300 2918
y FI(is)j(also)g(incomplete)j(in)d(its)g(treatment)h(of)f(tuples:)42
b(there)30 b(should)g(be)f(an)g(in\002nite)h(f)o(amily)g(of)f(tuples)h
(and)f(their)300 3031 y(instance)d(declarations,)g(b)n(ut)e(the)g
(implementation)j(only)d(gi)n(v)o(es)g(a)f(scheme.)300
3227 y(Chapter)62 b(8)g(de\002nes)g(the)f(module)i FD(Prelude)57
b FI(using)63 b(se)n(v)o(eral)f(other)h(modules:)106
b FD(PreludeList)-5 b FI(,)300 3340 y FD(PreludeIO)l
FI(,)28 b(and)h(so)f(on.)44 b(These)28 b(modules)i(are)e
FJ(not)h FI(part)g(of)f(Hask)o(ell)i(98,)f(and)g(the)o(y)g(cannot)g(be)
g(imported)300 3453 y(separately)-6 b(.)30 b(The)o(y)20
b(are)h(simply)g(there)g(to)g(help)g(e)o(xplain)h(the)e(structure)j(of)
d(the)h FD(Prelude)16 b FI(module;)23 b(the)o(y)e(should)300
3566 y(be)j(considered)i(part)e(of)g(its)f(implementation,)j(not)e
(part)g(of)g(the)g(language)i(de\002nition.)300 3898
y FG(5.6.2)99 b(Shado)o(wing)25 b(Pr)n(elude)i(Names)300
4155 y FI(The)19 b(rules)h(about)g(the)g(Prelude)g(ha)n(v)o(e)g(been)g
(cast)f(so)h(that)f(it)g(is)g(possible)j(to)d(use)g(Prelude)i(names)e
(for)h(nonstandard)300 4268 y(purposes;)35 b(ho)n(we)n(v)o(er)l(,)d(e)n
(v)o(ery)e(module)h(that)f(does)h(so)e(must)h(ha)n(v)o(e)g(an)g
FD(import)c FI(declaration)33 b(that)d(mak)o(es)h(this)300
4381 y(nonstandard)c(usage)e(e)o(xplicit.)30 b(F)o(or)23
b(e)o(xample:)550 4571 y FD(module)52 b(A\()i(null,)e(nonNull)f(\))j
(where)659 4684 y(import)e(Prelude)f(hiding\()h(null)h(\))659
4797 y(null,)g(nonNull)e(::)j(Int)f(->)g(Bool)659 4910
y(null)217 b(x)54 b(=)g(x)g(==)g(0)659 5023 y(nonNull)e(x)i(=)g(not)f
(\(null)f(x\))300 5210 y FI(Module)43 b FD(A)f FI(rede\002nes)h
FD(null)n FI(,)k(and)42 b(contains)j(an)d(unquali\002ed)j(reference)g
(to)d FD(null)e FI(on)i(the)h(right)g(hand)300 5323 y(side)53
b(of)g FD(nonNull)m FI(.)116 b(The)52 b(latter)i(w)o(ould)g(be)e
(ambiguous)j(without)f(the)f FD(hiding\(null\))47 b FI(on)53
b(the)p eop
%%Page: 76 90
76 89 bop 0 100 a FI(76)2515 b FE(CHAPTER)20 b(5.)51
b(MODULES)0 356 y FD(import)h(Prelude)24 b FI(statement.)46
b(Ev)o(ery)28 b(module)i(that)f(imports)h FD(A)d FI(unquali\002ed,)32
b(and)d(then)g(mak)o(es)g(an)g(un-)0 469 y(quali\002ed)k(reference)h
(to)d FD(null)e FI(must)i(also)i(resolv)o(e)f(the)g(ambiguous)i(use)e
(of)f FD(null)e FI(just)j(as)g FD(A)e FI(does.)53 b(Thus)0
582 y(there)24 b(is)g(little)g(danger)h(of)f(accidentally)j(shado)n
(wing)e(Prelude)g(names.)0 778 y(It)k(is)g(possible)j(to)d(construct)j
(and)e(use)f(a)g(dif)n(ferent)j(module)e(to)f(serv)o(e)h(in)g(place)g
(of)f(the)h(Prelude.)47 b(Other)29 b(than)0 891 y(the)23
b(f)o(act)f(that)h(it)f(is)g(implicitly)j(imported,)e(the)g(Prelude)g
(is)f(an)g(ordinary)j(Hask)o(ell)e(module;)h(it)e(is)g(special)i(only)f
(in)0 1004 y(that)29 b(some)f(objects)i(in)e(the)h(Prelude)g(are)f
(referenced)j(by)d(special)i(syntactic)h(constructs.)45
b(Rede\002ning)30 b(names)0 1116 y(used)24 b(by)g(the)g(Prelude)g(does)
h(not)f(af)n(fect)g(the)g(meaning)h(of)e(these)i(special)g(constructs.)
31 b(F)o(or)23 b(e)o(xample,)h(in)250 1306 y FD(module)52
b(B)i(where)359 1419 y(import)e(Prelude\(\))359 1532
y(import)g(MyPrelude)359 1645 y(f)i(x)h(=)f(\(x,x\))359
1758 y(g)g(x)h(=)f(\(,\))f(x)h(x)359 1871 y(h)g(x)h(=)f([x])f(++)g([])0
2058 y FI(the)25 b(e)o(xplicit)i FD(import)52 b(Prelude\(\))20
b FI(declaration)28 b(pre)n(v)o(ents)e(the)g(automatic)g(import)g(of)f
FD(Prelude)m FI(,)f(while)0 2171 y(the)35 b(declaration)i
FD(import)52 b(MyPrelude)29 b FI(brings)36 b(the)e(non-standard)39
b(prelude)d(into)f(scope.)62 b(The)34 b(special)0 2284
y(syntax)24 b(for)f(tuples)h(\(such)f(as)g FD(\(x,x\))c
FI(and)k FD(\(,\))n FI(\))f(and)h(lists)h(\(such)f(as)g
FD([x])d FI(and)j FD([])o FI(\))f(continues)j(to)d(refer)i(to)e(the)0
2397 y(tuples)j(and)f(lists)g(de\002ned)h(by)e(the)h(standard)i
FD(Prelude)m FI(;)d(there)h(is)g(no)f(w)o(ay)g(to)h(rede\002ne)g(the)g
(meaning)h(of)f FD([x])n FI(,)0 2510 y(for)g(e)o(xample,)h(in)f(terms)g
(of)g(a)f(dif)n(ferent)j(implementation)h(of)d(lists.)31
b(On)23 b(the)h(other)h(hand,)g(the)f(use)h(of)f FD(++)e
FI(is)i(not)0 2623 y(special)h(syntax,)g(so)f(it)f(refers)h(to)g
FD(++)e FI(imported)j(from)e FD(MyPrelude)l FI(.)0 2819
y(It)31 b(is)f(not)h(possible,)k(ho)n(we)n(v)o(er)l(,)e(to)e(hide)g
FD(instance)c FI(declarations)34 b(in)d(the)g FD(Prelude)m
FI(.)50 b(F)o(or)30 b(e)o(xample,)j(one)0 2932 y(cannot)25
b(de\002ne)f(a)f(ne)n(w)g(instance)j(for)d FD(Show)53
b(Char)n FI(.)0 3307 y FC(5.7)119 b(Separate)30 b(Compilation)0
3597 y FI(Depending)20 b(on)f(the)f(Hask)o(ell)i(implementation)h
(used,)f(separate)g(compilation)h(of)d(mutually)i(recursi)n(v)o(e)g
(modules)0 3710 y(may)28 b(require)i(that)e(imported)i(modules)f
(contain)h(additional)h(information)f(so)e(that)h(the)o(y)g(may)e(be)h
(referenced)0 3823 y(before)e(the)o(y)f(are)g(compiled.)34
b(Explicit)26 b(type)f(signatures)i(for)e(all)g(e)o(xported)i(v)n
(alues)f(may)e(be)h(necessary)i(to)e(deal)0 3936 y(with)e(mutual)i
(recursion.)31 b(The)23 b(precise)i(details)g(of)f(separate)h
(compilation)h(are)e(not)g(de\002ned)g(by)g(this)g(report.)0
4312 y FC(5.8)119 b(Abstract)30 b(Datatypes)0 4602 y
FI(The)20 b(ability)h(to)f(e)o(xport)i(a)d(datatype)k(without)e(its)f
(constructors)k(allo)n(ws)c(the)h(construction)j(of)c(abstract)i
(datatypes)0 4715 y(\(ADTs\).)28 b(F)o(or)22 b(e)o(xample,)i(an)g(ADT)d
(for)j(stacks)h(could)g(be)e(de\002ned)i(as:)250 4905
y FD(module)52 b(Stack\()g(StkType,)f(push,)h(pop,)h(empty)f(\))i
(where)359 5018 y(data)f(StkType)e(a)j(=)h(EmptyStk)50
b(|)55 b(Stk)e(a)h(\(StkType)d(a\))359 5130 y(push)i(x)h(s)g(=)g(Stk)f
(x)i(s)359 5243 y(pop)f(\(Stk)e(_)i(s\))g(=)g(s)359 5356
y(empty)f(=)h(EmptyStk)p eop
%%Page: 77 91
77 90 bop 300 100 a FE(5.8.)51 b(ABSTRA)l(CT)20 b(D)l(A)-10
b(T)i(A)e(TYPES)2326 b FI(77)300 356 y(Modules)34 b(importing)g
FD(Stack)c FI(cannot)k(construct)h(v)n(alues)e(of)g(type)g
FD(StkType)c FI(because)34 b(the)o(y)f(do)g(not)g(ha)n(v)o(e)300
469 y(access)27 b(to)e(the)g(constructors)k(of)c(the)h(type.)35
b(Instead,)27 b(the)o(y)f(must)f(use)g FD(push)o FI(,)f
FD(pop)o FI(,)h(and)g FD(empty)e FI(to)i(construct)300
582 y(such)f(v)n(alues.)300 778 y(It)f(is)h(also)g(possible)i(to)d(b)n
(uild)i(an)e(ADT)f(on)i(top)g(of)f(an)h(e)o(xisting)h(type)f(by)g
(using)h(a)e FD(newtype)c FI(declaration.)32 b(F)o(or)300
891 y(e)o(xample,)24 b(stacks)h(can)f(be)f(de\002ned)i(with)e(lists:)
550 1081 y FD(module)52 b(Stack\()g(StkType,)f(push,)h(pop,)h(empty)f
(\))i(where)659 1194 y(newtype)e(StkType)f(a)j(=)g(Stk)f([a])659
1306 y(push)g(x)h(\(Stk)f(s\))g(=)i(Stk)e(\(x:s\))659
1419 y(pop)h(\(Stk)e(\(_:s\)\))g(=)i(Stk)f(s)659 1532
y(empty)g(=)h(Stk)f([])p eop
%%Page: 78 92
78 91 bop 0 100 a FI(78)2515 b FE(CHAPTER)20 b(5.)51
b(MODULES)p eop
%%Page: 79 93
79 92 bop 300 1062 a Fw(Chapter)44 b(6)300 1560 y FH(Pr)l(ede\002ned)50
b(T)-15 b(ypes)52 b(and)f(Classes)300 2088 y FI(The)28
b(Hask)o(ell)h(Prelude)g(contains)h(prede\002ned)g(classes,)g(types,)g
(and)f(functions)h(that)f(are)f(implicitly)i(imported)300
2201 y(into)24 b(e)n(v)o(ery)g(Hask)o(ell)h(program.)30
b(In)23 b(this)h(chapter)l(,)i(we)c(describe)k(the)e(types)g(and)g
(classes)h(found)g(in)f(the)g(Prelude.)300 2314 y(Most)19
b(functions)i(are)d(not)h(described)i(in)e(detail)h(here)f(as)f(the)o
(y)h(can)g(easily)h(be)f(understood)i(from)e(their)g(de\002nitions)300
2427 y(as)28 b(gi)n(v)o(en)h(in)f(Chapter)h(8.)42 b(Other)28
b(prede\002ned)i(types)f(such)g(as)f(arrays,)j(comple)o(x)e(numbers,)h
(and)f(rationals)h(are)300 2539 y(de\002ned)24 b(in)g(P)o(art)f(II.)300
2915 y FC(6.1)119 b(Standard)31 b(Hask)o(ell)f(T)-9 b(ypes)300
3205 y FI(These)25 b(types)g(are)g(de\002ned)g(by)f(the)h(Hask)o(ell)g
(Prelude.)32 b(Numeric)25 b(types)g(are)g(described)i(in)d(Section)h
(6.4.)31 b(When)300 3318 y(appropriate,)36 b(the)c(Hask)o(ell)g
(de\002nition)h(of)e(the)g(type)h(is)f(gi)n(v)o(en.)53
b(Some)30 b(de\002nitions)j(may)e(not)h(be)f(completely)300
3431 y(v)n(alid)24 b(on)g(syntactic)i(grounds)f(b)n(ut)g(the)o(y)e(f)o
(aithfully)k(con)l(v)o(e)o(y)e(the)e(meaning)i(of)f(the)f(underlying)k
(type.)300 3763 y FG(6.1.1)99 b(Booleans)441 3996 y FD(data)107
b(Bool)h(=)g(False)53 b(|)h(True)e(deriving)2023 4109
y(\(Read,)g(Show,)g(Eq,)h(Ord,)g(Enum,)f(Bounded\))300
4303 y FI(The)24 b(boolean)i(type)f FD(Bool)d FI(is)i(an)h
(enumeration.)33 b(The)24 b(basic)i(boolean)g(functions)h(are)d
FD(&&)f FI(\(and\),)i FD(||)e FI(\(or\),)i(and)300 4415
y FD(not)o FI(.)j(The)23 b(name)g FD(otherwise)c FI(is)k(de\002ned)i
(as)e FD(True)e FI(to)i(mak)o(e)h(guarded)i(e)o(xpressions)g(more)e
(readable.)300 4748 y FG(6.1.2)99 b(Characters)26 b(and)f(Strings)300
5005 y FI(The)i(character)j(type)e FD(Char)e FI(is)h(an)h(enumeration)i
(whose)e(v)n(alues)h(represent)h(Unicode)f(characters)h([11)q(].)41
b(The)300 5118 y(le)o(xical)28 b(syntax)h(for)f(characters)i(is)d
(de\002ned)h(in)f(Section)h(2.6;)i(character)f(literals)g(are)e
(nullary)i(constructors)i(in)300 5231 y(the)f(datatype)i
FD(Char)n FI(.)46 b(T)-7 b(ype)29 b FD(Char)e FI(is)j(an)g(instance)h
(of)f(the)g(classes)h FD(Read)n FI(,)f FD(Show)o FI(,)g
FD(Eq)o FI(,)g FD(Ord)n FI(,)g FD(Enum)o FI(,)g(and)2055
5593 y(79)p eop
%%Page: 80 94
80 93 bop 0 100 a FI(80)1467 b FE(CHAPTER)19 b(6.)52
b(PREDEFINED)19 b(TYPES)h(AND)i(CLASSES)0 356 y FD(Bounded)m
FI(.)60 b(The)34 b FD(toEnum)d FI(and)j FD(fromEnum)c
FI(functions,)40 b(standard)c(functions)h(from)d(class)h
FD(Enum)o FI(,)g(map)0 469 y(characters)26 b(to)e(and)g(from)f(the)h
FD(Int)d FI(type.)0 659 y(Note)26 b(that)g(ASCII)f(control)j
(characters)g(each)f(ha)n(v)o(e)g(se)n(v)o(eral)g(representations)j(in)
c(character)i(literals:)36 b(numeric)0 772 y(escapes,)j(ASCII)33
b(mnemonic)i(escapes,)k(and)c(the)f FD(\\\210)o Fv(X)48
b FI(notation.)64 b(In)34 b(addition,)39 b(there)c(are)g(the)g(follo)n
(wing)0 885 y(equi)n(v)n(alences:)40 b FD(\\a)26 b FI(and)i
FD(\\BEL)n FI(,)g FD(\\b)d FI(and)j FD(\\BS)o FI(,)g
FD(\\f)d FI(and)j FD(\\FF)o FI(,)f FD(\\r)f FI(and)i
FD(\\CR)o FI(,)f FD(\\t)f FI(and)i FD(\\HT)n FI(,)g FD(\\v)e
FI(and)i FD(\\VT)n FI(,)0 998 y(and)c FD(\\n)e FI(and)i
FD(\\LF)n FI(.)0 1189 y(A)e FJ(string)j FI(is)f(a)f(list)h(of)f
(characters:)141 1379 y FD(type)107 b(String)g(=)h([Char])41
1569 y FI(Strings)42 b(may)f(be)g(abbre)n(viated)k(using)d(the)g(le)o
(xical)h(syntax)f(described)i(in)e(Section)g(2.6.)82
b(F)o(or)41 b(e)o(xample,)0 1682 y FD("A)54 b(string")19
b FI(abbre)n(viates)845 1870 y FD([)55 b('A',')d(','s','t','r',)c
('i','n','g'])0 2194 y FG(6.1.3)99 b(Lists)141 2446 y
FD(data)107 b([a])h(=)h([])53 b(|)h(a)h(:)f([a])107 b(deriving)51
b(\(Eq,)i(Ord\))0 2637 y FI(Lists)31 b(are)f(an)h(algebraic)i(datatype)
f(of)f(tw)o(o)f(constructors,)36 b(although)d(with)d(special)i(syntax,)
i(as)c(described)j(in)0 2749 y(Section)23 b(3.7.)28 b(The)21
b(\002rst)g(constructor)k(is)d(the)g(null)g(list,)h(written)f(`)p
FD([])o FI(')g(\(\223nil\224\),)h(and)f(the)g(second)i(is)d(`)p
FD(:)p FI(')g(\(\223cons\224\).)0 2862 y(The)33 b(module)i
FD(PreludeList)28 b FI(\(see)35 b(Section)g(8.1\))f(de\002nes)g(man)o
(y)g(standard)i(list)f(functions.)62 b(Arithmetic)0 2975
y(sequences)25 b(and)d(list)g(comprehensions,)k(tw)o(o)c(con)l(v)o
(enient)j(syntax)o(es)e(for)g(special)g(kinds)g(of)f(lists,)h(are)f
(described)0 3088 y(in)32 b(Sections)h(3.10)f(and)h(3.11,)h(respecti)n
(v)o(ely)-6 b(.)56 b(Lists)32 b(are)g(an)g(instance)i(of)e(classes)h
FD(Read)o FI(,)g FD(Show)n FI(,)g FD(Eq)o FI(,)g FD(Ord)n
FI(,)0 3201 y FD(Monad)n FI(,)22 b FD(Functor)m FI(,)g(and)i
FD(MonadPlus)l FI(.)0 3525 y FG(6.1.4)99 b(T)-9 b(uples)0
3777 y FI(T)l(uples)25 b(are)g(algebraic)i(datatypes)g(with)e(special)h
(syntax,)h(as)d(de\002ned)i(in)e(Section)i(3.8.)32 b(Each)24
b(tuple)i(type)g(has)f(a)0 3890 y(single)h(constructor)-5
b(.)34 b(All)24 b(tuples)i(are)f(instances)i(of)d FD(Eq)o
FI(,)g FD(Ord)n FI(,)g FD(Bounded)m FI(,)f FD(Read)n
FI(,)h(and)h FD(Show)d FI(\(pro)o(vided,)k(of)0 4003
y(course,)f(that)f(all)f(their)i(component)h(types)e(are\).)0
4193 y(There)i(is)g(no)g(upper)h(bound)h(on)e(the)g(size)h(of)f(a)f
(tuple,)j(b)n(ut)e(some)g(Hask)o(ell)h(implementations)j(may)25
b(restrict)j(the)0 4306 y(size)e(of)f(tuples,)i(and)e(limit)g(the)h
(instances)i(associated)g(with)d(lar)n(ger)h(tuples.)36
b(Ho)n(we)n(v)o(er)l(,)25 b(e)n(v)o(ery)g(Hask)o(ell)i(imple-)0
4419 y(mentation)j(must)f(support)h(tuples)g(up)f(to)g(size)g(15,)g
(together)i(with)e(the)f(instances)j(for)e FD(Eq)o FI(,)g
FD(Ord)o FI(,)f FD(Bounded)m FI(,)0 4532 y FD(Read)n
FI(,)f(and)h FD(Show)n FI(.)40 b(The)27 b(Prelude)h(and)g(libraries)h
(de\002ne)f(tuple)g(functions)i(such)e(as)g FD(zip)d
FI(for)i(tuples)i(up)e(to)h(a)0 4645 y(size)c(of)g(7.)0
4835 y(The)31 b(constructor)36 b(for)c(a)f(tuple)i(is)f(written)h(by)f
(omitting)h(the)f(e)o(xpressions)j(surrounding)h(the)c(commas;)k(thus)0
4948 y FD(\(x,y\))25 b FI(and)j FD(\(,\))53 b(x)h(y)27
b FI(produce)i(the)f(same)g(v)n(alue.)42 b(The)27 b(same)h(holds)h(for)
f(tuple)h(type)f(constructors;)34 b(thus,)0 5061 y FD(\(Int,Bool,Int\))
16 b FI(and)24 b FD(\(,,\))53 b(Int)g(Bool)g(Int)21 b
FI(denote)k(the)f(same)g(type.)0 5252 y(The)19 b(follo)n(wing)h
(functions)i(are)d(de\002ned)h(for)g(pairs)g(\(2-tuples\):)30
b FD(fst)n FI(,)19 b FD(snd)o FI(,)g FD(curry)m FI(,)g(and)h
FD(uncurry)m FI(.)26 b(Similar)0 5365 y(functions)g(are)e(not)g
(prede\002ned)h(for)f(lar)n(ger)h(tuples.)p eop
%%Page: 81 95
81 94 bop 300 100 a FE(6.2.)51 b(STRICT)21 b(EV)-12 b(ALU)l(A)i(TION)
2418 b FI(81)300 356 y FG(6.1.5)99 b(The)26 b(Unit)f(Datatype)441
613 y FD(data)107 b(\(\))54 b(=)g(\(\))g(deriving)d(\(Eq,)h(Ord,)h
(Bounded,)e(Enum,)h(Read,)h(Show\))300 809 y FI(The)23
b(unit)h(datatype)i FD(\(\))c FI(has)i(one)g(non-)p FB(?)g
FI(member)l(,)g(the)f(nullary)j(constructor)g FD(\(\))o
FI(.)i(See)23 b(also)h(Section)h(3.9.)300 1141 y FG(6.1.6)99
b(Function)26 b(T)-7 b(ypes)300 1399 y FI(Functions)36
b(are)d(an)h(abstract)i(type:)50 b(no)34 b(constructors)j(directly)f
(create)f(functional)h(v)n(alues.)60 b(The)34 b(follo)n(wing)300
1512 y(simple)24 b(functions)i(are)e(found)h(in)e(the)h(Prelude:)30
b FD(id)o FI(,)23 b FD(const)n FI(,)f FD(\(.\))o FI(,)g
FD(flip)n FI(,)h FD(\($\))n FI(,)g(and)h FD(until)n FI(.)300
1844 y FG(6.1.7)99 b(The)26 b(IO)e(and)i(IOErr)n(or)f(T)-7
b(ypes)300 2101 y FI(The)19 b FD(IO)g FI(type)h(serv)o(es)h(as)f(a)g
(tag)g(for)g(operations)j(\(actions\))f(that)e(interact)i(with)e(the)g
(outside)i(w)o(orld.)28 b(The)19 b FD(IO)f FI(type)300
2214 y(is)27 b(abstract:)38 b(no)27 b(constructors)j(are)d(visible)i
(to)e(the)g(user)-5 b(.)40 b FD(IO)25 b FI(is)i(an)g(instance)i(of)e
(the)g FD(Monad)d FI(and)j FD(Functor)300 2327 y FI(classes.)j(Chapter)
25 b(7)e(describes)j(I/O)d(operations.)300 2523 y FD(IOError)18
b FI(is)k(an)g(abstract)i(type)f(representing)i(errors)f(raised)f(by)f
(I/O)g(operations.)31 b(It)22 b(is)g(an)g(instance)i(of)e
FD(Show)300 2636 y FI(and)30 b FD(Eq)o FI(.)44 b(V)-10
b(alues)30 b(of)f(this)g(type)h(are)f(constructed)j(by)e(the)f(v)n
(arious)i(I/O)d(functions)k(and)d(are)g(not)h(presented)h(in)300
2749 y(an)o(y)26 b(further)i(detail)f(in)f(this)h(report.)37
b(The)26 b(Prelude)h(contains)h(a)e(fe)n(w)f(I/O)h(functions)i
(\(de\002ned)f(in)f(Section)h(8.3\),)300 2862 y(and)d(P)o(art)f(II)g
(contains)j(man)o(y)d(more.)300 3194 y FG(6.1.8)99 b(Other)25
b(T)-7 b(ypes)441 3436 y Fp(data)99 b(Maybe)49 b(a)249
b(=)99 b(Nothing)49 b(|)g(Just)g(a)100 b(deriving)48
b(\(Eq,)h(Ord,)g(Read,)g(Show\))441 3536 y(data)99 b(Either)49
b(a)g(b)100 b(=)f(Left)49 b(a)h(|)g(Right)e(b)100 b(deriving)48
b(\(Eq,)h(Ord,)g(Read,)g(Show\))441 3636 y(data)99 b(Ordering)198
b(=)99 b(LT)50 b(|)f(EQ)h(|)f(GT)h(deriving)2135 3735
y(\(Eq,)f(Ord,)g(Bounded,)f(Enum,)h(Read,)g(Show\))300
3919 y FI(The)25 b FD(Maybe)e FI(type)j(is)g(an)f(instance)j(of)e
(classes)h FD(Functor)m FI(,)e FD(Monad)n FI(,)g(and)h
FD(MonadPlus)l FI(.)34 b(The)26 b FD(Ordering)300 4031
y FI(type)j(is)f(used)h(by)g FD(compare)24 b FI(in)k(the)h(class)g
FD(Ord)o FI(.)42 b(The)28 b(functions)j FD(maybe)25 b
FI(and)k FD(either)c FI(are)j(found)i(in)e(the)300 4144
y(Prelude.)300 4520 y FC(6.2)119 b(Strict)30 b(Ev)o(aluation)300
4810 y FI(Function)i(application)i(in)c(Hask)o(ell)i(is)f(non-strict;)
37 b(that)31 b(is,)h(a)e(function)j(ar)n(gument)f(is)f(e)n(v)n(aluated)
i(only)e(when)300 4923 y(required.)g(Sometimes)24 b(it)f(is)g
(desirable)j(to)e(force)g(the)g(e)n(v)n(aluation)i(of)d(a)g(v)n(alue,)h
(using)h(the)f FD(seq)d FI(function:)550 5119 y FD(seq)53
b(::)h(a)g(->)g(b)g(->)f(b)p eop
%%Page: 82 96
82 95 bop 0 100 a FI(82)1467 b FE(CHAPTER)19 b(6.)52
b(PREDEFINED)19 b(TYPES)h(AND)i(CLASSES)0 356 y FI(The)h(function)j
FD(seq)21 b FI(is)j(de\002ned)g(by)g(the)f(equations:)1312
554 y FD(seq)e FB(?)i Fv(b)53 b Ft(=)48 b FB(?)1312 667
y FD(seq)21 b Fv(a)31 b(b)53 b Ft(=)48 b Fv(b)6 b Fq(;)37
b Fv(if)42 b(a)56 b FB(6)p Ft(=)47 b FB(?)0 863 y FD(seq)22
b FI(is)i(usually)i(introduced)i(to)c(impro)o(v)o(e)h(performance)i(by)
d(a)n(v)n(oiding)j(unneeded)g(laziness.)33 b(Strict)25
b(datatypes)0 976 y(\(see)33 b(Section)h(4.2.1\))g(are)f(de\002ned)g
(in)g(terms)g(of)g(the)h FD($!)d FI(operator)-5 b(.)59
b(Ho)n(we)n(v)o(er)l(,)35 b(the)e(pro)o(vision)i(of)e
FD(seq)e FI(has)0 1089 y(important)k(semantic)f(consequences,)39
b(because)c(it)d(is)h(a)n(v)n(ailable)i FJ(at)e(e)o(very)g(type)p
FI(.)58 b(As)32 b(a)g(consequence,)39 b FB(?)31 b FI(is)0
1201 y(not)d(the)f(same)h(as)f FD(\\x)53 b(->)81 b FB(?)o
FI(,)28 b(since)g FD(seq)d FI(can)j(be)f(used)h(to)f(distinguish)k
(them.)40 b(F)o(or)27 b(the)g(same)g(reason,)j(the)0
1314 y(e)o(xistence)c(of)d FD(seq)e FI(weak)o(ens)k(Hask)o(ell')-5
b(s)25 b(parametricity)i(properties.)0 1510 y(The)h(operator)i
FD($!)c FI(is)i(strict)i(\(call-by-v)n(alue\))i(application,)g(and)d
(is)f(de\002ned)h(in)f(terms)g(of)g FD(seq)o FI(.)42
b(The)27 b(Prelude)0 1623 y(also)d(de\002nes)g(the)g
FD($)f FI(operator)i(to)f(perform)g(non-strict)i(application.)250
1813 y FD(infixr)52 b(0)i($,)g($!)250 1926 y(\($\),)f(\($!\))g(::)g
(\(a)h(->)g(b\))f(->)h(a)g(->)g(b)250 2039 y(f)g($)109
b(x)163 b(=)545 b(f)54 b(x)250 2152 y(f)g($!)g(x)163
b(=)109 b(x)54 b(`seq`)e(f)i(x)0 2339 y FI(The)36 b(non-strict)j
(application)g(operator)f FD($)d FI(may)h(appear)i(redundant,)j(since)d
(ordinary)g(application)h FD(\(f)54 b(x\))0 2452 y FI(means)35
b(the)g(same)g(as)g FD(\(f)54 b($)g(x\))o FI(.)61 b(Ho)n(we)n(v)o(er)l
(,)38 b FD($)33 b FI(has)i(lo)n(w)-6 b(,)37 b(right-associati)n(v)o(e)i
(binding)e(precedence,)k(so)34 b(it)0 2565 y(sometimes)25
b(allo)n(ws)e(parentheses)k(to)d(be)f(omitted;)i(for)f(e)o(xample:)250
2761 y FD(f)54 b($)g(g)h($)f(h)g(x)108 b(=)h(f)54 b(\(g)g(\(h)f(x\)\))0
2957 y FI(It)23 b(is)h(also)g(useful)h(in)e(higher)n(-order)k
(situations,)f(such)f(as)e FD(map)53 b(\($)h(0\))g(xs)o
FI(,)22 b(or)i FD(zipWith)51 b(\($\))i(fs)h(xs)o FI(.)0
3332 y FC(6.3)119 b(Standard)31 b(Hask)o(ell)f(Classes)0
3622 y FI(Figure)c(6.1)f(sho)n(ws)g(the)g(hierarchy)j(of)d(Hask)o(ell)h
(classes)h(de\002ned)f(in)f(the)g(Prelude)h(and)g(the)f(Prelude)h
(types)h(that)0 3735 y(are)d(instances)i(of)d(these)i(classes.)0
3931 y(Def)o(ault)k(class)g(method)g(declarations)i(\(Section)e(4.3\))f
(are)g(pro)o(vided)i(for)e(man)o(y)g(of)g(the)g(methods)h(in)f
(standard)0 4044 y(classes.)36 b(A)25 b(comment)h(with)f(each)h
FD(class)d FI(declaration)28 b(in)e(Chapter)g(8)g(speci\002es)g(the)g
(smallest)h(collection)h(of)0 4157 y(method)i(de\002nitions)h(that,)f
(together)h(with)e(the)g(def)o(ault)i(declarations,)j(pro)o(vide)c(a)e
(reasonable)k(de\002nition)f(for)0 4270 y(all)e(the)h(class)g(methods.)
48 b(If)29 b(there)i(is)e(no)g(such)h(comment,)i(then)e(all)f(class)i
(methods)f(must)g(be)f(gi)n(v)o(en)h(to)f(fully)0 4383
y(specify)c(an)f(instance.)0 4715 y FG(6.3.1)99 b(The)26
b(Eq)g(Class)250 4967 y FD(class)107 b(Eq)54 b(a)108
b(where)578 5080 y(\(==\),)52 b(\(/=\))107 b(::)h(a)54
b(->)g(a)g(->)g(Bool)578 5239 y(x)g(/=)f(y)109 b(=)54
b(not)f(\(x)h(==)f(y\))578 5352 y(x)h(==)f(y)109 b(=)54
b(not)f(\(x)h(/=)f(y\))p eop
%%Page: 83 97
83 96 bop 300 100 a FE(6.3.)51 b(ST)-8 b(AND)l(ARD)20
b(HASKELL)g(CLASSES)1987 b FI(83)300 4915 y @beginspecial
95 @llx 150 @lly 503 @urx 680 @ury 4080 @rwi @setspecial
%%BeginDocument: classes.eps
%!PS-Adobe-3.0 EPSF-3.0
%%Title: Microsoft PowerPoint - classes.ppt
%%Creator: PScript5.dll Version 5.2
%%CreationDate: 4/22/2002 16:28:25
%%BoundingBox: 95 150 503 680
%%Pages: 1
%%Orientation: Portrait
%%PageOrder: Ascend
%%DocumentNeededResources: (atend)
%%DocumentSuppliedResources: (atend)
%%DocumentData: Clean7Bit
%%TargetDevice: (Xerox Document Centre 432/440ST) (3010.106) 2200
%%LanguageLevel: 3
%%EndComments

%%BeginDefaults
%%PageBoundingBox: 12 12 583 830
%%ViewingOrientation: 1 0 0 1
%%EndDefaults

%%BeginProlog
%%BeginResource: file Pscript_WinNT_ErrorHandler 5.0 0
/currentpacking where{pop/oldpack currentpacking def/setpacking where{pop false
setpacking}if}if/$brkpage 64 dict def $brkpage begin/prnt{dup type/stringtype
ne{=string cvs}if dup length 6 mul/tx exch def/ty 10 def currentpoint/toy exch
def/tox exch def 1 setgray newpath tox toy 2 sub moveto 0 ty rlineto tx 0
rlineto 0 ty neg rlineto closepath fill tox toy moveto 0 setgray show}bind def
/nl{currentpoint exch pop lmargin exch moveto 0 -10 rmoveto}def/=={/cp 0 def
typeprint nl}def/typeprint{dup type exec}readonly def/lmargin 72 def/rmargin 72
def/tprint{dup length cp add rmargin gt{nl/cp 0 def}if dup length cp add/cp
exch def prnt}readonly def/cvsprint{=string cvs tprint( )tprint}readonly def
/integertype{cvsprint}readonly def/realtype{cvsprint}readonly def/booleantype
{cvsprint}readonly def/operatortype{(--)tprint =string cvs tprint(-- )tprint}
readonly def/marktype{pop(-mark- )tprint}readonly def/dicttype{pop
(-dictionary- )tprint}readonly def/nulltype{pop(-null- )tprint}readonly def
/filetype{pop(-filestream- )tprint}readonly def/savetype{pop(-savelevel- )
tprint}readonly def/fonttype{pop(-fontid- )tprint}readonly def/nametype{dup
xcheck not{(/)tprint}if cvsprint}readonly def/stringtype{dup rcheck{(\()tprint
tprint(\))tprint}{pop(-string- )tprint}ifelse}readonly def/arraytype{dup rcheck
{dup xcheck{({)tprint{typeprint}forall(})tprint}{([)tprint{typeprint}forall(])
tprint}ifelse}{pop(-array- )tprint}ifelse}readonly def/packedarraytype{dup
rcheck{dup xcheck{({)tprint{typeprint}forall(})tprint}{([)tprint{typeprint}
forall(])tprint}ifelse}{pop(-packedarray- )tprint}ifelse}readonly def/courier
/Courier findfont 10 scalefont def end errordict/handleerror{systemdict begin
$error begin $brkpage begin newerror{/newerror false store vmstatus pop pop 0
ne{grestoreall}if errorname(VMerror)ne{showpage}if initgraphics courier setfont
lmargin 720 moveto errorname(VMerror)eq{userdict/ehsave known{clear userdict
/ehsave get restore 2 vmreclaim}if vmstatus exch pop exch pop PrtVMMsg}{
(ERROR: )prnt errorname prnt nl(OFFENDING COMMAND: )prnt/command load prnt
$error/ostack known{nl nl(STACK:)prnt nl nl $error/ostack get aload length{==}
repeat}if}ifelse systemdict/showpage get exec(%%[ Error: )print errorname
=print(; OffendingCommand: )print/command load =print( ]%%)= flush}if end end
end}dup 0 systemdict put dup 4 $brkpage put bind readonly put/currentpacking
where{pop/setpacking where{pop oldpack setpacking}if}if
%%EndResource
userdict /Pscript_WinNT_Incr 230 dict dup begin put
%%BeginResource: file Pscript_FatalError 5.0 0
userdict begin/FatalErrorIf{{initgraphics findfont 1 index 0 eq{exch pop}{dup
length dict begin{1 index/FID ne{def}{pop pop}ifelse}forall/Encoding
{ISOLatin1Encoding}stopped{StandardEncoding}if def currentdict end
/ErrFont-Latin1 exch definefont}ifelse exch scalefont setfont counttomark 3 div
cvi{moveto show}repeat showpage quit}{cleartomark}ifelse}bind def end
%%EndResource
userdict begin/PrtVMMsg{vmstatus exch sub exch pop gt{[
(This job requires more memory than is available in this printer.)100 500
(Try one or more of the following, and then print again:)100 485
(For the output format, choose Optimize For Portability.)115 470
(In the Device Settings page, make sure the Available PostScript Memory is accurate.)
115 455(Reduce the number of fonts in the document.)115 440
(Print the document in parts.)115 425 12/Times-Roman showpage
(%%[ PrinterError: Low Printer VM ]%%)= true FatalErrorIf}if}bind def end
version cvi 2016 ge{/VM?{pop}bind def}{/VM? userdict/PrtVMMsg get def}ifelse
%%BeginResource: file Pscript_Win_Basic 5.0 0
/d/def load def/,/load load d/~/exch , d/?/ifelse , d/!/pop , d/`/begin , d/^
/index , d/@/dup , d/+/translate , d/$/roll , d/U/userdict , d/M/moveto , d/-
/rlineto , d/&/currentdict , d/:/gsave , d/;/grestore , d/F/false , d/T/true ,
d/N/newpath , d/E/end , d/Ac/arc , d/An/arcn , d/A/ashow , d/D/awidthshow , d/C
/closepath , d/V/div , d/O/eofill , d/L/fill , d/I/lineto , d/-c/curveto , d/-M
/rmoveto , d/+S/scale , d/Ji/setfont , d/Lc/setlinecap , d/Lj/setlinejoin , d
/Lw/setlinewidth , d/Lm/setmiterlimit , d/sd/setdash , d/S/show , d/LH/showpage
, d/K/stroke , d/W/widthshow , d/R/rotate , d/L2? false/languagelevel where{pop
languagelevel 2 ge{pop true}if}if d L2?{/xS/xshow , d/yS/yshow , d/zS/xyshow ,
d}if/b{bind d}bind d/bd{bind d}bind d/xd{~ d}bd/ld{, d}bd/bn/bind ld/lw/Lw ld
/lc/Lc ld/lj/Lj ld/sg/setgray ld/ADO_mxRot null d/self & d/OrgMx matrix
currentmatrix d/reinitialize{: OrgMx setmatrix[/TextInit/GraphInit/UtilsInit
counttomark{@ where{self eq}{F}?{cvx exec}{!}?}repeat cleartomark ;}b
/initialize{`{/Pscript_Win_Data where{!}{U/Pscript_Win_Data & put}?/ADO_mxRot ~
d/TextInitialised? F d reinitialize E}{U/Pscript_Win_Data 230 dict @ ` put
/ADO_mxRot ~ d/TextInitialised? F d reinitialize}?}b/terminate{!{& self eq
{exit}{E}?}loop E}b/suspend/terminate , d/resume{` Pscript_Win_Data `}b U `
/lucas 21690 d/featurebegin{countdictstack lucas[}b/featurecleanup{stopped
{cleartomark @ lucas eq{! exit}if}loop countdictstack ~ sub @ 0 gt{{E}repeat}
{!}?}b E/snap{transform 0.25 sub round 0.25 add ~ 0.25 sub round 0.25 add ~
itransform}b/dsnap{dtransform round ~ round ~ idtransform}b/nonzero_round{@ 0.5
ge{round}{@ -0.5 lt{round}{0 ge{1}{-1}?}?}?}b/nonzero_dsnap{dtransform
nonzero_round ~ nonzero_round ~ idtransform}b U<04>cvn{}put/rr{1 ^ 0 - 0 ~ -
neg 0 - C}b/irp{4 -2 $ + +S fx 4 2 $ M 1 ^ 0 - 0 ~ - neg 0 -}b/rp{4 2 $ M 1 ^ 0
- 0 ~ - neg 0 -}b/solid{[]0 sd}b/g{@ not{U/DefIf_save save put}if U/DefIf_bool
2 ^ put}b/DefIf_El{if U/DefIf_bool get not @{U/DefIf_save get restore}if}b/e
{DefIf_El !}b/UDF{L2?{undefinefont}{!}?}b/UDR{L2?{undefineresource}{! !}?}b
/freeVM{/Courier findfont[40 0 0 -40 0 0]makefont Ji 2 vmreclaim}b/hfRedefFont
{findfont @ length dict `{1 ^/FID ne{d}{! !}?}forall & E @ ` ~{/CharStrings 1
dict `/.notdef 0 d & E d}if/Encoding 256 array 0 1 255{1 ^ ~/.notdef put}for d
E definefont !}bind d/hfMkCIDFont{/CIDFont findresource @ length 2 add dict `{1
^ @/FID eq ~ @/XUID eq ~/UIDBase eq or or{! !}{d}?}forall/CDevProc ~ d/Metrics2
16 dict d/CIDFontName 1 ^ d & E 1 ^ ~/CIDFont defineresource ![~]composefont !}
bind d
%%EndResource
%%BeginResource: file Pscript_Win_Utils_L2 5.0 0
/rf/rectfill , d/fx{1 1 dtransform @ 0 ge{1 sub 0.5}{1 add -0.5}? 3 -1 $ @ 0 ge
{1 sub 0.5}{1 add -0.5}? 3 1 $ 4 1 $ idtransform 4 -2 $ idtransform}b/BZ{4 -2 $
snap + +S fx rf}b/rs/rectstroke , d/rc/rectclip , d/UtilsInit{currentglobal{F
setglobal}if}b/scol{! setcolor}b/colspA/DeviceGray d/colspABC/DeviceRGB d
/colspRefresh{colspABC setcolorspace}b/SetColSpace{colspABC setcolorspace}b
/resourcestatus where{!/ColorRendering/ProcSet resourcestatus{! ! T}{F}?}{F}?
not{/ColorRendering<</GetHalftoneName{currenthalftone @/HalftoneName known{
/HalftoneName get}{!/none}?}bn/GetPageDeviceName{currentpagedevice @
/PageDeviceName known{/PageDeviceName get @ null eq{!/none}if}{!/none}?}bn
/GetSubstituteCRD{!/DefaultColorRendering/ColorRendering resourcestatus{! !
/DefaultColorRendering}{(DefaultColorRendering*){cvn exit}127 string
/ColorRendering resourceforall}?}bn>>/defineresource where{!/ProcSet
defineresource !}{! !}?}if/buildcrdname{/ColorRendering/ProcSet findresource `
mark GetHalftoneName @ type @/nametype ne ~/stringtype ne and{!/none}if(.)
GetPageDeviceName @ type @/nametype ne ~/stringtype ne and{!/none}if(.)5 ^ 0 5
-1 1{^ length add}for string 6 1 $ 5 ^ 5{~ 1 ^ cvs length 1 ^ length 1 ^ sub
getinterval}repeat ! cvn 3 1 $ ! ! E}b/definecolorrendering{~ buildcrdname ~
/ColorRendering defineresource !}b/findcolorrendering where{!}{
/findcolorrendering{buildcrdname @/ColorRendering resourcestatus{! ! T}{
/ColorRendering/ProcSet findresource ` GetSubstituteCRD E F}?}b}?
/selectcolorrendering{findcolorrendering !/ColorRendering findresource
setcolorrendering}b/G2UBegin{findresource/FontInfo get/GlyphNames2Unicode get
`}bind d/G2CCBegin{findresource/FontInfo get/GlyphNames2HostCode get `}bind d
/G2UEnd{E}bind d/AddFontInfoBegin{/FontInfo 8 dict @ `}bind d/AddFontInfo{
/GlyphNames2Unicode 16 dict d/GlyphNames2HostCode 16 dict d}bind d
/AddFontInfoEnd{E d}bind d/T0AddCFFMtx2{/CIDFont findresource/Metrics2 get ` d
E}bind d
%%EndResource
end
%%EndProlog

%%BeginSetup
[ 1 0 0 1 0 0 ] false Pscript_WinNT_Incr dup /initialize get exec
1 setlinecap 1 setlinejoin
/mysetup [ 72 600 V 0 0 -72 600 V 11.99905 830.00128 ] def 
%%EndSetup

%%Page: 1 1
%%PageBoundingBox: 12 12 583 830
%%EndPageComments
%%BeginPageSetup
/DeviceRGB dup setcolorspace /colspABC exch def
mysetup concat colspRefresh
%%EndPageSetup

Pscript_WinNT_Incr begin
%%BeginResource: file Pscript_WinNT_Compat 5.0 0
userdict/Pscript_WinNT_Compat 19 dict dup begin/bd{bind def}bind def/ld{load
def}bd/$x matrix def/ANSIVec[16#0/grave 16#1/acute 16#2/circumflex 16#3/tilde
16#4/macron 16#5/breve 16#6/dotaccent 16#7/dieresis 16#8/ring 16#9/cedilla 16#A
/hungarumlaut 16#B/ogonek 16#C/caron 16#D/dotlessi 16#27/quotesingle 16#60
/grave 16#7C/bar 16#82/quotesinglbase 16#83/florin 16#84/quotedblbase 16#85
/ellipsis 16#86/dagger 16#87/daggerdbl 16#88/circumflex 16#89/perthousand 16#8A
/Scaron 16#8B/guilsinglleft 16#8C/OE 16#91/quoteleft 16#92/quoteright 16#93
/quotedblleft 16#94/quotedblright 16#95/bullet 16#96/endash 16#97/emdash 16#98
/tilde 16#99/trademark 16#9A/scaron 16#9B/guilsinglright 16#9C/oe 16#9F
/Ydieresis 16#A0/space 16#A1/exclamdown 16#A4/currency 16#A5/yen 16#A6
/brokenbar 16#A7/section 16#A8/dieresis 16#A9/copyright 16#AA/ordfeminine 16#AB
/guillemotleft 16#AC/logicalnot 16#AD/hyphen 16#AE/registered 16#AF/macron
16#B0/degree 16#B1/plusminus 16#B2/twosuperior 16#B3/threesuperior 16#B4/acute
16#B5/mu 16#B6/paragraph 16#B7/periodcentered 16#B8/cedilla 16#B9/onesuperior
16#BA/ordmasculine 16#BB/guillemotright 16#BC/onequarter 16#BD/onehalf 16#BE
/threequarters 16#BF/questiondown 16#C0/Agrave 16#C1/Aacute 16#C2/Acircumflex
16#C3/Atilde 16#C4/Adieresis 16#C5/Aring 16#C6/AE 16#C7/Ccedilla 16#C8/Egrave
16#C9/Eacute 16#CA/Ecircumflex 16#CB/Edieresis 16#CC/Igrave 16#CD/Iacute 16#CE
/Icircumflex 16#CF/Idieresis 16#D0/Eth 16#D1/Ntilde 16#D2/Ograve 16#D3/Oacute
16#D4/Ocircumflex 16#D5/Otilde 16#D6/Odieresis 16#D7/multiply 16#D8/Oslash
16#D9/Ugrave 16#DA/Uacute 16#DB/Ucircumflex 16#DC/Udieresis 16#DD/Yacute 16#DE
/Thorn 16#DF/germandbls 16#E0/agrave 16#E1/aacute 16#E2/acircumflex 16#E3
/atilde 16#E4/adieresis 16#E5/aring 16#E6/ae 16#E7/ccedilla 16#E8/egrave 16#E9
/eacute 16#EA/ecircumflex 16#EB/edieresis 16#EC/igrave 16#ED/iacute 16#EE
/icircumflex 16#EF/idieresis 16#F0/eth 16#F1/ntilde 16#F2/ograve 16#F3/oacute
16#F4/ocircumflex 16#F5/otilde 16#F6/odieresis 16#F7/divide 16#F8/oslash 16#F9
/ugrave 16#FA/uacute 16#FB/ucircumflex 16#FC/udieresis 16#FD/yacute 16#FE/thorn
16#FF/ydieresis]def currentdict{dup type/operatortype eq{[exch]cvx def}{pop
pop}ifelse}forall/initialize{currentdict exch begin begin}bind def/terminate{
/@FL where not{pop end end}{pop}ifelse}bind def/suspend/terminate load def
/resume/initialize load def/RS{/pagesave where{pop pagesave restore}{$x matrix
invertmatrix concat}ifelse}def/SS{/pagesave save def}def/CB{pop pop pop pop}def
/B{pop pop pop pop}def/:/gsave load def/;/grestore load def/N/newpath load def
end put
%%EndResource
end reinitialize
Pscript_WinNT_Compat begin /$x mysetup def end
Pscript_WinNT_Incr dup /suspend get exec
Pscript_WinNT_Compat dup /initialize get exec
%%BeginDocument: Pscript_Win_PassThrough
userdict /GpPBeg {gsave initclip 13 dict begin /c {curveto} bind def /l {lineto} bind def /m {moveto} bind def /NP {newpath} bind def /CP {closepath} bind def /SC {setrgbcolor} bind def /S {stroke} bind def /F {fill} bind def /AF {eofill} bind def 1 eq {setdash setlinewidth setmiterlimit setlinejoin setlinecap} if} put /GSE {end grestore} def
0 GpPBeg
NP
519 1008 m 4239 1008 l 4239 5808 l 519 5808 l CP
eoclip
1 1 1 SC
NP
518 1007 m 4238 1007 l 4238 5808 l 518 5808 l CP
AF
GSE
userdict /GpPBeg {gsave initclip 13 dict begin /c {curveto} bind def /l {lineto} bind def /m {moveto} bind def /NP {newpath} bind def /CP {closepath} bind def /SC {setrgbcolor} bind def /S {stroke} bind def /F {fill} bind def /AF {eofill} bind def 1 eq {setdash setlinewidth setmiterlimit setlinejoin setlinecap} if} put /GSE {end grestore} def
1 1 10 8.3333 [] 0 1 GpPBeg
0.0039 0.0039 0.0039 SC
NP
1348 1377 m 1095 1377 890 1483 890 1614 c 890 1745 1095 1851 1348 1851 c 1600 1851 1805 1745 1805 1614 c 1805 1483 1600 1377 1348 1377 c CP
S
GSE

%%EndDocument

Pscript_WinNT_Compat dup /suspend get exec
Pscript_WinNT_Incr dup /resume get exec
/DeviceRGB dup setcolorspace /colspABC exch def
0 0 0 1 scol Pscript_WinNT_Incr begin
%%BeginResource: file Pscript_Text 5.0 0
/TextInit{TextInitialised? not{/Pscript_Windows_Font & d/TextInitialised? T d
/fM[1 0 0 1 0 0]d/mFM matrix d/iMat[1 0 0.212557 1 0 0]d}if}b/copyfont{1 ^
length add dict `{1 ^/FID ne{d}{! !}?}forall & E}b/EncodeDict 11 dict d/bullets
{{/bullet}repeat}b/rF{3 copyfont @ ` ~ EncodeDict ~ get/Encoding ~ 3 ^/0 eq{&
/CharStrings known{CharStrings/Eth known not{! EncodeDict/ANSIEncodingOld get}
if}if}if d E}b/mF{@ 7 1 $ findfont ~{@/Encoding get @ StandardEncoding eq{! T}{
{ISOLatin1Encoding}stopped{! F}{eq}?{T}{@ ` T 32 1 127{Encoding 1 ^ get
StandardEncoding 3 -1 $ get eq and}for E}?}?}{F}?{1 ^ ~ rF}{0 copyfont}? 6 -2 $
! ! ~ !/pd_charset @ where{~ get 128 eq{@ FDV 2 copy get @ length array copy
put pd_CoverFCRange}if}{!}? 2 ^ ~ definefont fM 5 4 -1 $ put fM 4 0 put fM
makefont Pscript_Windows_Font 3 1 $ put}b/sLT{: Lw -M currentpoint snap M 0 - 0
Lc K ;}b/xUP null d/yUP null d/uW null d/xSP null d/ySP null d/sW null d/sSU{N
/uW ~ d/yUP ~ d/xUP ~ d}b/sU{xUP yUP uW sLT}b/sST{N/sW ~ d/ySP ~ d/xSP ~ d}b/sT
{xSP ySP sW sLT}b/sR{: + R 0 0 M}b/sRxy{: matrix astore concat 0 0 M}b/eR/; , d
/AddOrigFP{{&/FontInfo known{&/FontInfo get length 6 add}{6}? dict `
/WinPitchAndFamily ~ d/WinCharSet ~ d/OrigFontType ~ d/OrigFontStyle ~ d
/OrigFontName ~ d & E/FontInfo ~ d}{! ! ! ! !}?}b/mFS{makefont
Pscript_Windows_Font 3 1 $ put}b/mF42D{0 copyfont `/FontName ~ d 2 copy ~ sub 1
add dict `/.notdef 0 d 2 copy 1 ~{@ 3 ^ sub Encoding ~ get ~ d}for & E
/CharStrings ~ d ! ! & @ E/FontName get ~ definefont}b/mF42{15 dict ` @ 4 1 $
FontName ~ d/FontType 0 d/FMapType 2 d/FontMatrix[1 0 0 1 0 0]d 1 ^ 254 add 255
idiv @ array/Encoding ~ d 0 1 3 -1 $ 1 sub{@ Encoding 3 1 $ put}for/FDepVector
Encoding length array d/CharStrings 2 dict `/.notdef 0 d & E d 0 1 Encoding
length 1 sub{@ @ 10 lt{! FontName length 1 add string}{100 lt{FontName length 2
add string}{FontName length 3 add string}?}? @ 0 FontName @ length string cvs
putinterval @ 3 -1 $ @ 4 1 $ 3 string cvs FontName length ~ putinterval cvn 1 ^
256 mul @ 255 add 3 -1 $ 4 ^ findfont mF42D FDepVector 3 1 $ put}for & @ E
/FontName get ~ definefont ! ! ! mF}b/mF_OTF_V{~ ! ~ ! 4 -1 $ ! findfont 2 ^ ~
definefont fM @ @ 4 6 -1 $ neg put 5 0 put 90 matrix R matrix concatmatrix
makefont Pscript_Windows_Font 3 1 $ put}b/mF_TTF_V{3{~ !}repeat 3 -1 $ !
findfont 1 ^ ~ definefont Pscript_Windows_Font 3 1 $ put}b/UmF{L2?
{Pscript_Windows_Font ~ undef}{!}?}b/UmF42{@ findfont/FDepVector get{/FontName
get undefinefont}forall undefinefont}b
%%EndResource
end reinitialize
Pscript_WinNT_Incr begin
%%BeginResource: file Pscript_Encoding256 5.0 0
/CharCol256Encoding[/.notdef/breve/caron/dotaccent/dotlessi/fi/fl/fraction
/hungarumlaut/Lslash/lslash/minus/ogonek/ring/Zcaron/zcaron/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/space/exclam/quotedbl/numbersign
/dollar/percent/ampersand/quotesingle/parenleft/parenright/asterisk/plus/comma
/hyphen/period/slash/zero/one/two/three/four/five/six/seven/eight/nine/colon
/semicolon/less/equal/greater/question/at/A/B/C/D/E/F/G/H/I/J/K/L/M/N/O/P/Q/R/S
/T/U/V/W/X/Y/Z/bracketleft/backslash/bracketright/asciicircum/underscore/grave
/a/b/c/d/e/f/g/h/i/j/k/l/m/n/o/p/q/r/s/t/u/v/w/x/y/z/braceleft/bar/braceright
/asciitilde/.notdef/Euro/.notdef/quotesinglbase/florin/quotedblbase/ellipsis
/dagger/daggerdbl/circumflex/perthousand/Scaron/guilsinglleft/OE/.notdef
/.notdef/.notdef/.notdef/quoteleft/quoteright/quotedblleft/quotedblright/bullet
/endash/emdash/tilde/trademark/scaron/guilsinglright/oe/.notdef/.notdef
/Ydieresis/.notdef/exclamdown/cent/sterling/currency/yen/brokenbar/section
/dieresis/copyright/ordfeminine/guillemotleft/logicalnot/.notdef/registered
/macron/degree/plusminus/twosuperior/threesuperior/acute/mu/paragraph
/periodcentered/cedilla/onesuperior/ordmasculine/guillemotright/onequarter
/onehalf/threequarters/questiondown/Agrave/Aacute/Acircumflex/Atilde/Adieresis
/Aring/AE/Ccedilla/Egrave/Eacute/Ecircumflex/Edieresis/Igrave/Iacute
/Icircumflex/Idieresis/Eth/Ntilde/Ograve/Oacute/Ocircumflex/Otilde/Odieresis
/multiply/Oslash/Ugrave/Uacute/Ucircumflex/Udieresis/Yacute/Thorn/germandbls
/agrave/aacute/acircumflex/atilde/adieresis/aring/ae/ccedilla/egrave/eacute
/ecircumflex/edieresis/igrave/iacute/icircumflex/idieresis/eth/ntilde/ograve
/oacute/ocircumflex/otilde/odieresis/divide/oslash/ugrave/uacute/ucircumflex
/udieresis/yacute/thorn/ydieresis]def EncodeDict/256 CharCol256Encoding put
%%EndResource
end reinitialize

%%IncludeResource: font Courier-Bold
Pscript_WinNT_Incr begin
%%BeginResource: file Pscript_Win_Euro_L2 5.0 0
/UseT3EuroFont{/currentdistillerparams where{pop currentdistillerparams
/CoreDistVersion get 4000 le}{false}ifelse}bind def/NewEuroT3Font?{dup/FontType
get 3 eq{dup/EuroFont known exch/BaseFont known and}{pop false}ifelse}bind def
/T1FontHasEuro{dup/CharStrings known not{dup NewEuroT3Font?{dup/EuroGlyphName
get exch/EuroFont get/CharStrings get exch known{true}{false}ifelse}{pop false}
ifelse}{dup/FontType get 1 eq{/CharStrings get/Euro known}{dup/InfoDict known{
/InfoDict get/Euro known}{/CharStrings get/Euro known}ifelse}ifelse}ifelse}bind
def/FontHasEuro{findfont dup/Blend known{pop true}{T1FontHasEuro}ifelse}bind
def/EuroEncodingIdx 1 def/EuroFontHdr{12 dict begin/FontInfo 10 dict dup begin
/version(001.000)readonly def/Notice(Copyright (c)1999 Adobe Systems
Incorporated. All Rights Reserved.)readonly def/FullName(Euro)readonly def
/FamilyName(Euro)readonly def/Weight(Regular)readonly def/isFixedPitch false
def/ItalicAngle 0 def/UnderlinePosition -100 def/UnderlineThickness 50 def end
readonly def/FontName/Euro def/Encoding 256 array 0 1 255{1 index exch/.notdef
put}for def/PaintType 0 def/FontType 1 def/FontMatrix[0.001 0 0 0.001 0 0]def
/FontBBox{-25 -23 1500 804}readonly def currentdict end dup/Private 20 dict dup
begin/ND{def}def/NP{put}def/lenIV -1 def/RD{string currentfile exch
readhexstring pop}def/-|{string currentfile exch readstring pop}executeonly def
/|-{def}executeonly def/|{put}executeonly def/BlueValues[-20 0 706 736 547 572]
|-/OtherBlues[-211 -203]|-/BlueScale 0.0312917 def/MinFeature{16 16}|-/StdHW
[60]|-/StdVW[71]|-/ForceBold false def/password 5839 def/Erode{8.5 dup 3 -1
roll 0.1 mul exch 0.5 sub mul cvi sub dup mul 71 0 dtransform dup mul exch dup
mul add le{pop pop 1.0 1.0}{pop pop 0.0 1.5}ifelse}def/OtherSubrs[{}{}{}
{systemdict/internaldict known not{pop 3}{1183615869 systemdict/internaldict
get exec dup/startlock known{/startlock get exec}{dup/strtlck known{/strtlck
get exec}{pop 3}ifelse}ifelse}ifelse}executeonly]|-/Subrs 5 array dup 0
<8E8B0C100C110C110C210B>put dup 1<8B8C0C100B>put dup 2<8B8D0C100B>put dup 3<0B>
put dup 4<8E8C8E0C100C110A0B>put |- 2 index/CharStrings 256 dict dup begin
/.notdef<8b8b0d0e>def end end put put dup/FontName get exch definefont pop}bind
def/AddEuroGlyph{2 index exch EuroEncodingIdx 1 eq{EuroFontHdr}if systemdict
begin/Euro findfont dup dup/Encoding get 5 1 roll/Private get begin/CharStrings
get dup 3 index known{pop pop pop pop end end}{begin 1 index exch def end end
end EuroEncodingIdx dup 1 add/EuroEncodingIdx exch def exch put}ifelse}bind def
/GetNewXUID{currentdict/XUID known{[7 XUID aload pop]true}{currentdict/UniqueID
known{[7 UniqueID]true}{false}ifelse}ifelse}bind def/BuildT3EuroFont{exch 16
dict begin dup/FontName exch def findfont dup/Encoding get/Encoding exch def
dup length 1 add dict copy dup/FID undef begin dup dup/FontName exch def
/Encoding 256 array 0 1 255{1 index exch/.notdef put}for def GetNewXUID{/XUID
exch def}if currentdict end definefont pop/BaseFont exch findfont 1000
scalefont def/EuroFont exch findfont 1000 scalefont def pop/EuroGlyphName exch
def/FontType 3 def/FontMatrix[.001 0 0 .001 0 0]def/FontBBox BaseFont/FontBBox
get def/Char 1 string def/BuildChar{exch dup begin/Encoding get 1 index get
/Euro eq{BaseFont T1FontHasEuro{false}{true}ifelse}{false}ifelse{EuroFont
setfont pop userdict/Idx 0 put EuroFont/Encoding get{EuroGlyphName eq{exit}
{userdict/Idx Idx 1 add put}ifelse}forall userdict/Idx get}{dup dup Encoding
exch get BaseFont/Encoding get 3 1 roll put BaseFont setfont}ifelse Char 0 3 -1
roll put Char stringwidth newpath 0 0 moveto Char true charpath flattenpath
pathbbox setcachedevice 0 0 moveto Char show end}bind def currentdict end dup
/FontName get exch definefont pop}bind def/AddEuroToT1Font{dup findfont dup
length 10 add dict copy dup/FID undef begin/EuroFont 3 -1 roll findfont 1000
scalefont def CharStrings dup length 1 add dict copy begin/Euro{EuroFont
setfont pop EuroGBBox aload pop setcachedevice 0 0 moveto EuroGName glyphshow}
bind def currentdict end/CharStrings exch def GetNewXUID{/XUID exch def}if 3 1
roll/EuroGBBox exch def/EuroGName exch def currentdict end definefont pop}bind
def/BuildNewFont{UseT3EuroFont{BuildT3EuroFont}{pop AddEuroToT1Font}ifelse}bind
def/UseObliqueEuro{findfont/FontMatrix get dup 2 get 0 eq exch dup 0 get exch 3
get eq and UseT3EuroFont or}bind def
%%EndResource
end reinitialize
/Courier-Bold FontHasEuro not
{
/Euro.Courier-Bold
 [600 0 6 -12 585 612 ] 
<91F8EC0DDBE803F875E7037FE701F755DC01F7D7DC01F8C47701F80FF7A615FB61068A94
8B958B95088B928B918C9208F76E06A4DC05FB76068F0ADBE803F875E7037FE701F755DC
01F7D7DC01F89CE701A1D4C1B6DF8B08BF8BC46DA067084A07E706F773072F068F0ADBE8
03F875E7037FE701F755DC01F7D7DC01F8C4770157078F0ADBE803F875E7037FE701F755
DC01F7D7DC01F89CE70165AE549C5E8B08FB138B2F386BFB11084806723A05DB0678078B
818B818C81085306723A05E806A9FB08DD32F7288B08B28BF7039FD7D00853CF056B754E
603B8B08448B51B56ED208F73606090E>
AddEuroGlyph
/Euro /Courier-Bold /Courier-Bold-Copy BuildNewFont
} if
F /F0 0 /256 T /Courier-Bold mF 
/F0S85 F0 [133 0 0 -133 0 0 ] mFS
F0S85 Ji 
1267 1594 M (Eq)[80  0]xS 

%%IncludeResource: font TimesNewRomanPSMT
/TimesNewRomanPSMT FontHasEuro not
{
/Euro.TimesNewRomanPSMT
 [500 0 -10 -12 482 676 ] 
<80F8880DBAEF03F8629E037FB401F7ADB101F7FCB101F918AB01F83DF7FC1596B105FBB5
0695EAB0F72BF70D8B08EE8BB34A932F089E06F7260757A6539B518B088F0ABCEA03F862
9E037FB401F7ADB101F7FCB101F918AB01FB328B36FB1C77FB22086206806505BB068A7D
8B7E8B7D086706806505BC0696FB1FC5FB2EF7388B08F58BC0C5BFDE087C95055B486460
328B08FB0C8B68F73288E908F7950696B105FBA1068CB405090E>
AddEuroGlyph
/Euro /TimesNewRomanPSMT /TimesNewRomanPSMT-Copy BuildNewFont
} if
F /F1 0 /256 T /TimesNewRomanPSMT mF 
/F1S64 F1 [100 0 0 -100 0 0 ] mFS
F1S64 Ji 
972 1730 M (All except IO, \()[72 28 28 25 44 51 44 44 51 28 26 32 72 25 25  0]xS 
1600 1730 M (-)S 
1634 1730 M (>\))[56  0]xS 
Pscript_WinNT_Compat begin /$x mysetup def end
Pscript_WinNT_Incr dup /suspend get exec
Pscript_WinNT_Compat dup /initialize get exec
%%BeginDocument: Pscript_Win_PassThrough
userdict /GpPBeg {gsave initclip 13 dict begin /c {curveto} bind def /l {lineto} bind def /m {moveto} bind def /NP {newpath} bind def /CP {closepath} bind def /SC {setrgbcolor} bind def /S {stroke} bind def /F {fill} bind def /AF {eofill} bind def 1 eq {setdash setlinewidth setmiterlimit setlinejoin setlinecap} if} put /GSE {end grestore} def
1 1 10 8.3333 [] 0 1 GpPBeg
0.0039 0.0039 0.0039 SC
NP
1370 2043 m 1105 2043 890 2152 890 2285 c 890 2419 1105 2527 1370 2527 c 1635 2527 1850 2419 1850 2285 c 1850 2152 1635 2043 1370 2043 c CP
S
GSE

%%EndDocument

Pscript_WinNT_Compat dup /suspend get exec
Pscript_WinNT_Incr dup /resume get exec
/DeviceRGB dup setcolorspace /colspABC exch def
0 0 0 1 scol F0S85 Ji 
1249 2206 M (Ord)[80 80  0]xS 
F1S64 Ji 
1072 2341 M (All except \()[72 28 28 25 44 51 44 44 51 28 25  0]xS 
1545 2341 M (-)S 
1579 2341 M (>\))[56  0]xS 
1121 2461 M (IO,  )[32 72 25 25  0]xS 
1302 2461 M (IOError)[31 73 61 34 33 50  0]xS 
Pscript_WinNT_Compat begin /$x mysetup def end
Pscript_WinNT_Incr dup /suspend get exec
Pscript_WinNT_Compat dup /initialize get exec
%%BeginDocument: Pscript_Win_PassThrough
userdict /GpPBeg {gsave initclip 13 dict begin /c {curveto} bind def /l {lineto} bind def /m {moveto} bind def /NP {newpath} bind def /CP {closepath} bind def /SC {setrgbcolor} bind def /S {stroke} bind def /F {fill} bind def /AF {eofill} bind def 1 eq {setdash setlinewidth setmiterlimit setlinejoin setlinecap} if} put /GSE {end grestore} def
1 1 10 8.3333 [] 0 1 GpPBeg
0.0039 0.0039 0.0039 SC
NP
2456 2045 m 2190 2045 1974 2153 1974 2286 c 1974 2418 2190 2526 2456 2526 c 2723 2526 2939 2418 2939 2286 c 2939 2153 2723 2045 2456 2045 c CP
S
GSE

%%EndDocument

Pscript_WinNT_Compat dup /suspend get exec
Pscript_WinNT_Incr dup /resume get exec
/DeviceRGB dup setcolorspace /colspABC exch def
0 0 0 1 scol F0S85 Ji 
2336 2207 M (Num)[80 80  0]xS 
F1S64 Ji 
2209 2342 M (Int)[32 50  0]xS 
2319 2342 M (, Integer, )[25 27 32 50 29 45 49 45 33 25  0]xS 
2180 2462 M (Float, Double)[55 28 50 44 28 25 25 72 50 50 50 29  0]xS 
Pscript_WinNT_Compat begin /$x mysetup def end
Pscript_WinNT_Incr dup /suspend get exec
Pscript_WinNT_Compat dup /initialize get exec
%%BeginDocument: Pscript_Win_PassThrough
userdict /GpPBeg {gsave initclip 13 dict begin /c {curveto} bind def /l {lineto} bind def /m {moveto} bind def /NP {newpath} bind def /CP {closepath} bind def /SC {setrgbcolor} bind def /S {stroke} bind def /F {fill} bind def /AF {eofill} bind def 1 eq {setdash setlinewidth setmiterlimit setlinejoin setlinecap} if} put /GSE {end grestore} def
0 GpPBeg
0.0039 0.0039 0.0039 SC
NP
1351 1850 m 1368 2002 l 1369 2003 1367 2005 1366 2005 c 1364 2005 1362 2004 1362 2002 c 1345 1851 l 1345 1849 1346 1848 1348 1848 c 1349 1847 1351 1849 1351 1850 c CP
1389 1991 m 1370 2043 l 1340 1997 l CP
F
GSE
userdict /GpPBeg {gsave initclip 13 dict begin /c {curveto} bind def /l {lineto} bind def /m {moveto} bind def /NP {newpath} bind def /CP {closepath} bind def /SC {setrgbcolor} bind def /S {stroke} bind def /F {fill} bind def /AF {eofill} bind def 1 eq {setdash setlinewidth setmiterlimit setlinejoin setlinecap} if} put /GSE {end grestore} def
0 GpPBeg
0.0039 0.0039 0.0039 SC
NP
1349 1848 m 2416 2035 l 2418 2035 2419 2037 2419 2039 c 2418 2040 2417 2042 2415 2041 c 1348 1854 l 1346 1853 1345 1852 1345 1850 c 1345 1848 1347 1847 1349 1848 c CP
2412 2012 m 2456 2045 l 2403 2061 l CP
F
GSE
1 1 10 8.3333 [] 0 1 GpPBeg
0.0039 0.0039 0.0039 SC
NP
2441 1389 m 2208 1389 2019 1490 2019 1614 c 2019 1738 2208 1839 2441 1839 c 2674 1839 2863 1738 2863 1614 c 2863 1490 2674 1389 2441 1389 c CP
S
GSE

%%EndDocument

Pscript_WinNT_Compat dup /suspend get exec
Pscript_WinNT_Incr dup /resume get exec
/DeviceRGB dup setcolorspace /colspABC exch def
0 0 0 1 scol F0S85 Ji 
2280 1535 M (Show)[80 80 80  0]xS 
F1S64 Ji 
2233 1670 M (All except)[72 28 28 25 44 51 44 44 51  0]xS 
2285 1790 M (IO, \()[32 72 25 26  0]xS 
2473 1790 M (-)S 
2506 1790 M (>\))[56  0]xS 
Pscript_WinNT_Compat begin /$x mysetup def end
Pscript_WinNT_Incr dup /suspend get exec
Pscript_WinNT_Compat dup /initialize get exec
%%BeginDocument: Pscript_Win_PassThrough
userdict /GpPBeg {gsave initclip 13 dict begin /c {curveto} bind def /l {lineto} bind def /m {moveto} bind def /NP {newpath} bind def /CP {closepath} bind def /SC {setrgbcolor} bind def /S {stroke} bind def /F {fill} bind def /AF {eofill} bind def 1 eq {setdash setlinewidth setmiterlimit setlinejoin setlinecap} if} put /GSE {end grestore} def
1 1 10 8.3333 [] 0 1 GpPBeg
0.0039 0.0039 0.0039 SC
NP
2419 2786 m 2166 2786 1961 2888 1961 3014 c 1961 3139 2166 3241 2419 3241 c 2673 3241 2878 3139 2878 3014 c 2878 2888 2673 2786 2419 2786 c CP
S
GSE

%%EndDocument

Pscript_WinNT_Compat dup /suspend get exec
Pscript_WinNT_Incr dup /resume get exec
/DeviceRGB dup setcolorspace /colspABC exch def
0 0 0 1 scol F0S85 Ji 
2259 2935 M (Real)[80 80 80  0]xS 
F1S64 Ji 
2171 3070 M (Int)[32 50  0]xS 
2281 3070 M (, Integer, )[25 27 32 50 29 45 49 45 33 25  0]xS 
2144 3190 M (Float, Double)[55 28 50 44 28 25 25 72 50 50 50 29  0]xS 
Pscript_WinNT_Compat begin /$x mysetup def end
Pscript_WinNT_Incr dup /suspend get exec
Pscript_WinNT_Compat dup /initialize get exec
%%BeginDocument: Pscript_Win_PassThrough
userdict /GpPBeg {gsave initclip 13 dict begin /c {curveto} bind def /l {lineto} bind def /m {moveto} bind def /NP {newpath} bind def /CP {closepath} bind def /SC {setrgbcolor} bind def /S {stroke} bind def /F {fill} bind def /AF {eofill} bind def 1 eq {setdash setlinewidth setmiterlimit setlinejoin setlinecap} if} put /GSE {end grestore} def
1 1 10 8.3333 [] 0 1 GpPBeg
0.0039 0.0039 0.0039 SC
NP
3425 2791 m 3156 2791 2938 2891 2938 3014 c 2938 3137 3156 3236 3425 3236 c 3694 3236 3912 3137 3912 3014 c 3912 2891 3694 2791 3425 2791 c CP
S
GSE

%%EndDocument

Pscript_WinNT_Compat dup /suspend get exec
Pscript_WinNT_Incr dup /resume get exec
/DeviceRGB dup setcolorspace /colspABC exch def
0 0 0 1 scol F0S85 Ji 
3024 2994 M (Fractional)[80 80 80 80 80 80 81 80 80  0]xS 
F1S64 Ji 
3149 3130 M (Float, Double)[55 28 50 44 28 25 25 72 50 50 50 29  0]xS 
Pscript_WinNT_Compat begin /$x mysetup def end
Pscript_WinNT_Incr dup /suspend get exec
Pscript_WinNT_Compat dup /initialize get exec
%%BeginDocument: Pscript_Win_PassThrough
userdict /GpPBeg {gsave initclip 13 dict begin /c {curveto} bind def /l {lineto} bind def /m {moveto} bind def /NP {newpath} bind def /CP {closepath} bind def /SC {setrgbcolor} bind def /S {stroke} bind def /F {fill} bind def /AF {eofill} bind def 1 eq {setdash setlinewidth setmiterlimit setlinejoin setlinecap} if} put /GSE {end grestore} def
1 1 10 8.3333 [] 0 1 GpPBeg
0.0039 0.0039 0.0039 SC
NP
1358 2708 m 1060 2708 819 2845 819 3013 c 819 3182 1060 3318 1358 3318 c 1655 3318 1896 3182 1896 3013 c 1896 2845 1655 2708 1358 2708 c CP
S
GSE

%%EndDocument

Pscript_WinNT_Compat dup /suspend get exec
Pscript_WinNT_Incr dup /resume get exec
/DeviceRGB dup setcolorspace /colspABC exch def
0 0 0 1 scol F0S85 Ji 
1197 2874 M (Enum)[80 80 80  0]xS 
F1S64 Ji 
862 3010 M (\(\), )[33 33 25  0]xS 
978 3010 M (Bool)[66 50 50  0]xS 
1172 3010 M (, Char, Ordering,)[25 25 67 51 44 33 25 25 72 33 51 45 33 28 51 49  0]xS 
994 3130 M (Int)[32 50  0]xS 
1104 3130 M (, Integer, Float,)[25 27 32 50 29 45 49 45 33 25 25 55 28 51 44 28  0]xS 
1210 3250 M (Double)[72 50 50 50 28  0]xS 
Pscript_WinNT_Compat begin /$x mysetup def end
Pscript_WinNT_Incr dup /suspend get exec
Pscript_WinNT_Compat dup /initialize get exec
%%BeginDocument: Pscript_Win_PassThrough
userdict /GpPBeg {gsave initclip 13 dict begin /c {curveto} bind def /l {lineto} bind def /m {moveto} bind def /NP {newpath} bind def /CP {closepath} bind def /SC {setrgbcolor} bind def /S {stroke} bind def /F {fill} bind def /AF {eofill} bind def 1 eq {setdash setlinewidth setmiterlimit setlinejoin setlinecap} if} put /GSE {end grestore} def
1 1 10 8.3333 [] 0 1 GpPBeg
0.0039 0.0039 0.0039 SC
NP
2379 3541 m 2158 3541 1979 3640 1979 3762 c 1979 3883 2158 3982 2379 3982 c 2600 3982 2778 3883 2778 3762 c 2778 3640 2600 3541 2379 3541 c CP
S
GSE

%%EndDocument

Pscript_WinNT_Compat dup /suspend get exec
Pscript_WinNT_Incr dup /resume get exec
/DeviceRGB dup setcolorspace /colspABC exch def
0 0 0 1 scol F0S85 Ji 
2059 3742 M (RealFrac)[80 80 80 80 80 80 81  0]xS 
F1S64 Ji 
2103 3878 M (Float, Double)[55 28 50 44 28 25 25 72 50 50 50 29  0]xS 
Pscript_WinNT_Compat begin /$x mysetup def end
Pscript_WinNT_Incr dup /suspend get exec
Pscript_WinNT_Compat dup /initialize get exec
%%BeginDocument: Pscript_Win_PassThrough
userdict /GpPBeg {gsave initclip 13 dict begin /c {curveto} bind def /l {lineto} bind def /m {moveto} bind def /NP {newpath} bind def /CP {closepath} bind def /SC {setrgbcolor} bind def /S {stroke} bind def /F {fill} bind def /AF {eofill} bind def 1 eq {setdash setlinewidth setmiterlimit setlinejoin setlinecap} if} put /GSE {end grestore} def
1 1 10 8.3333 [] 0 1 GpPBeg
0.0039 0.0039 0.0039 SC
NP
3301 3541 m 3057 3541 2859 3640 2859 3762 c 2859 3883 3057 3982 3301 3982 c 3545 3982 3743 3883 3743 3762 c 3743 3640 3545 3541 3301 3541 c CP
S
GSE

%%EndDocument

Pscript_WinNT_Compat dup /suspend get exec
Pscript_WinNT_Incr dup /resume get exec
/DeviceRGB dup setcolorspace /colspABC exch def
0 0 0 1 scol F0S85 Ji 
2980 3742 M (Floating)[80 80 80 80 80 80 81  0]xS 
F1S64 Ji 
3025 3878 M (Float, Double)[55 28 50 44 28 25 25 72 50 50 50 29  0]xS 
Pscript_WinNT_Compat begin /$x mysetup def end
Pscript_WinNT_Incr dup /suspend get exec
Pscript_WinNT_Compat dup /initialize get exec
%%BeginDocument: Pscript_Win_PassThrough
userdict /GpPBeg {gsave initclip 13 dict begin /c {curveto} bind def /l {lineto} bind def /m {moveto} bind def /NP {newpath} bind def /CP {closepath} bind def /SC {setrgbcolor} bind def /S {stroke} bind def /F {fill} bind def /AF {eofill} bind def 1 eq {setdash setlinewidth setmiterlimit setlinejoin setlinecap} if} put /GSE {end grestore} def
1 1 10 8.3333 [] 0 1 GpPBeg
0.0039 0.0039 0.0039 SC
NP
1461 3541 m 1244 3541 1068 3640 1068 3762 c 1068 3883 1244 3982 1461 3982 c 1678 3982 1854 3883 1854 3762 c 1854 3640 1678 3541 1461 3541 c CP
S
GSE

%%EndDocument

Pscript_WinNT_Compat dup /suspend get exec
Pscript_WinNT_Incr dup /resume get exec
/DeviceRGB dup setcolorspace /colspABC exch def
0 0 0 1 scol F0S85 Ji 
1141 3742 M (Integral)[80 80 80 80 80 80 81  0]xS 
F1S64 Ji 
1238 3878 M (Int)[32 50  0]xS 
1348 3878 M (, Integer)[25 27 32 50 29 45 49 45  0]xS 
Pscript_WinNT_Compat begin /$x mysetup def end
Pscript_WinNT_Incr dup /suspend get exec
Pscript_WinNT_Compat dup /initialize get exec
%%BeginDocument: Pscript_Win_PassThrough
userdict /GpPBeg {gsave initclip 13 dict begin /c {curveto} bind def /l {lineto} bind def /m {moveto} bind def /NP {newpath} bind def /CP {closepath} bind def /SC {setrgbcolor} bind def /S {stroke} bind def /F {fill} bind def /AF {eofill} bind def 1 eq {setdash setlinewidth setmiterlimit setlinejoin setlinecap} if} put /GSE {end grestore} def
1 1 10 8.3333 [] 0 1 GpPBeg
0.0039 0.0039 0.0039 SC
NP
2718 4181 m 2463 4181 2256 4270 2256 4381 c 2256 4491 2463 4581 2718 4581 c 2973 4581 3179 4491 3179 4381 c 3179 4270 2973 4181 2718 4181 c CP
S
GSE

%%EndDocument

Pscript_WinNT_Compat dup /suspend get exec
Pscript_WinNT_Incr dup /resume get exec
/DeviceRGB dup setcolorspace /colspABC exch def
0 0 0 1 scol F0S85 Ji 
2358 4362 M (RealFloat)[80 80 80 80 80 80 81 80  0]xS 
F1S64 Ji 
2442 4498 M (Float, Double)[55 28 50 44 28 25 25 72 50 50 50 29  0]xS 
Pscript_WinNT_Compat begin /$x mysetup def end
Pscript_WinNT_Incr dup /suspend get exec
Pscript_WinNT_Compat dup /initialize get exec
%%BeginDocument: Pscript_Win_PassThrough
userdict /GpPBeg {gsave initclip 13 dict begin /c {curveto} bind def /l {lineto} bind def /m {moveto} bind def /NP {newpath} bind def /CP {closepath} bind def /SC {setrgbcolor} bind def /S {stroke} bind def /F {fill} bind def /AF {eofill} bind def 1 eq {setdash setlinewidth setmiterlimit setlinejoin setlinecap} if} put /GSE {end grestore} def
0 GpPBeg
0.0039 0.0039 0.0039 SC
NP
2444 1839 m 2456 2004 l 2457 2005 2455 2007 2454 2007 c 2452 2007 2450 2006 2450 2004 c 2438 1839 l 2438 1838 2439 1836 2441 1836 c 2442 1836 2444 1837 2444 1839 c CP
2478 1994 m 2456 2045 l 2428 1998 l CP
F
GSE
userdict /GpPBeg {gsave initclip 13 dict begin /c {curveto} bind def /l {lineto} bind def /m {moveto} bind def /NP {newpath} bind def /CP {closepath} bind def /SC {setrgbcolor} bind def /S {stroke} bind def /F {fill} bind def /AF {eofill} bind def 1 eq {setdash setlinewidth setmiterlimit setlinejoin setlinecap} if} put /GSE {end grestore} def
0 GpPBeg
0.0039 0.0039 0.0039 SC
NP
1371 2524 m 2380 2773 l 2382 2773 2383 2775 2383 2777 c 2382 2779 2380 2780 2379 2779 c 1369 2530 l 1368 2529 1367 2528 1367 2526 c 1367 2524 1369 2523 1371 2524 c CP
2377 2750 m 2420 2786 l 2365 2798 l CP
F
GSE
userdict /GpPBeg {gsave initclip 13 dict begin /c {curveto} bind def /l {lineto} bind def /m {moveto} bind def /NP {newpath} bind def /CP {closepath} bind def /SC {setrgbcolor} bind def /S {stroke} bind def /F {fill} bind def /AF {eofill} bind def 1 eq {setdash setlinewidth setmiterlimit setlinejoin setlinecap} if} put /GSE {end grestore} def
0 GpPBeg
0.0039 0.0039 0.0039 SC
NP
2460 2526 m 2429 2745 l 2429 2747 2427 2748 2425 2748 c 2424 2748 2422 2746 2423 2744 c 2453 2525 l 2454 2524 2455 2522 2457 2523 c 2459 2523 2460 2524 2460 2526 c CP
2452 2740 m 2420 2786 l 2402 2733 l CP
F
GSE
userdict /GpPBeg {gsave initclip 13 dict begin /c {curveto} bind def /l {lineto} bind def /m {moveto} bind def /NP {newpath} bind def /CP {closepath} bind def /SC {setrgbcolor} bind def /S {stroke} bind def /F {fill} bind def /AF {eofill} bind def 1 eq {setdash setlinewidth setmiterlimit setlinejoin setlinecap} if} put /GSE {end grestore} def
0 GpPBeg
0.0039 0.0039 0.0039 SC
NP
2421 3244 m 1502 3532 l 1501 3532 1499 3531 1498 3530 c 1498 3528 1499 3526 1501 3526 c 2419 3238 l 2421 3238 2422 3239 2423 3240 c 2424 3242 2423 3244 2421 3244 c CP
1517 3550 m 1462 3541 l 1502 3503 l CP
F
GSE
userdict /GpPBeg {gsave initclip 13 dict begin /c {curveto} bind def /l {lineto} bind def /m {moveto} bind def /NP {newpath} bind def /CP {closepath} bind def /SC {setrgbcolor} bind def /S {stroke} bind def /F {fill} bind def /AF {eofill} bind def 1 eq {setdash setlinewidth setmiterlimit setlinejoin setlinecap} if} put /GSE {end grestore} def
0 GpPBeg
0.0039 0.0039 0.0039 SC
NP
2423 3242 m 2388 3500 l 2388 3502 2386 3503 2385 3503 c 2383 3503 2382 3501 2382 3500 c 2417 3241 l 2417 3239 2419 3238 2420 3238 c 2422 3238 2423 3240 2423 3242 c CP
2411 3495 m 2379 3541 l 2361 3488 l CP
F
GSE
userdict /GpPBeg {gsave initclip 13 dict begin /c {curveto} bind def /l {lineto} bind def /m {moveto} bind def /NP {newpath} bind def /CP {closepath} bind def /SC {setrgbcolor} bind def /S {stroke} bind def /F {fill} bind def /AF {eofill} bind def 1 eq {setdash setlinewidth setmiterlimit setlinejoin setlinecap} if} put /GSE {end grestore} def
0 GpPBeg
0.0039 0.0039 0.0039 SC
NP
3428 3237 m 3320 3504 l 3319 3505 3317 3506 3316 3506 c 3314 3505 3313 3503 3314 3502 c 3422 3235 l 3423 3233 3425 3233 3426 3233 c 3428 3234 3429 3236 3428 3237 c CP
3343 3504 m 3301 3541 l 3297 3486 l CP
F
GSE
userdict /GpPBeg {gsave initclip 13 dict begin /c {curveto} bind def /l {lineto} bind def /m {moveto} bind def /NP {newpath} bind def /CP {closepath} bind def /SC {setrgbcolor} bind def /S {stroke} bind def /F {fill} bind def /AF {eofill} bind def 1 eq {setdash setlinewidth setmiterlimit setlinejoin setlinecap} if} put /GSE {end grestore} def
0 GpPBeg
0.0039 0.0039 0.0039 SC
NP
3426 3239 m 2420 3533 l 2419 3533 2417 3532 2416 3531 c 2416 3529 2417 3527 2419 3527 c 3424 3233 l 3426 3233 3428 3234 3428 3235 c 3429 3237 3428 3239 3426 3239 c CP
2434 3551 m 2379 3541 l 2420 3503 l CP
F
GSE
userdict /GpPBeg {gsave initclip 13 dict begin /c {curveto} bind def /l {lineto} bind def /m {moveto} bind def /NP {newpath} bind def /CP {closepath} bind def /SC {setrgbcolor} bind def /S {stroke} bind def /F {fill} bind def /AF {eofill} bind def 1 eq {setdash setlinewidth setmiterlimit setlinejoin setlinecap} if} put /GSE {end grestore} def
0 GpPBeg
0.0039 0.0039 0.0039 SC
NP
3301 3985 m 2758 4170 l 2757 4171 2755 4170 2754 4168 c 2754 4167 2755 4165 2756 4164 c 3299 3979 l 3301 3978 3303 3979 3303 3981 c 3304 3983 3303 3984 3301 3985 c CP
2773 4188 m 2718 4181 l 2757 4141 l CP
F
GSE
userdict /GpPBeg {gsave initclip 13 dict begin /c {curveto} bind def /l {lineto} bind def /m {moveto} bind def /NP {newpath} bind def /CP {closepath} bind def /SC {setrgbcolor} bind def /S {stroke} bind def /F {fill} bind def /AF {eofill} bind def 1 eq {setdash setlinewidth setmiterlimit setlinejoin setlinecap} if} put /GSE {end grestore} def
0 GpPBeg
0.0039 0.0039 0.0039 SC
NP
2381 3979 m 2684 4157 l 2685 4158 2686 4160 2685 4161 c 2684 4163 2682 4163 2680 4162 c 2378 3985 l 2376 3984 2376 3982 2377 3980 c 2378 3979 2379 3978 2381 3979 c CP
2687 4134 m 2718 4181 l 2662 4177 l CP
F
GSE
userdict /GpPBeg {gsave initclip 13 dict begin /c {curveto} bind def /l {lineto} bind def /m {moveto} bind def /NP {newpath} bind def /CP {closepath} bind def /SC {setrgbcolor} bind def /S {stroke} bind def /F {fill} bind def /AF {eofill} bind def 1 eq {setdash setlinewidth setmiterlimit setlinejoin setlinecap} if} put /GSE {end grestore} def
0 GpPBeg
0.0039 0.0039 0.0039 SC
NP
1360 3317 m 1447 3502 l 1448 3504 1447 3506 1445 3506 c 1444 3507 1442 3506 1441 3505 c 1355 3320 l 1354 3318 1355 3316 1356 3316 c 1358 3315 1360 3315 1360 3317 c CP
1463 3485 m 1462 3541 l 1418 3507 l CP
F
GSE
1 1 10 8.3333 [] 0 1 GpPBeg
0.0039 0.0039 0.0039 SC
NP
3399 1376 m 3209 1376 3055 1482 3055 1613 c 3055 1744 3209 1851 3399 1851 c 3589 1851 3743 1744 3743 1613 c 3743 1482 3589 1376 3399 1376 c CP
S
GSE

%%EndDocument

Pscript_WinNT_Compat dup /suspend get exec
Pscript_WinNT_Incr dup /resume get exec
/DeviceRGB dup setcolorspace /colspABC exch def
0 0 0 1 scol F0S85 Ji 
3239 1534 M (Read)[80 80 80  0]xS 
F1S64 Ji 
3192 1669 M (All except)[72 28 28 25 44 51 44 44 51  0]xS 
3243 1789 M (IO, \()[32 72 25 26  0]xS 
3431 1789 M (-)S 
3464 1789 M (>\))[56  0]xS 
Pscript_WinNT_Compat begin /$x mysetup def end
Pscript_WinNT_Incr dup /suspend get exec
Pscript_WinNT_Compat dup /initialize get exec
%%BeginDocument: Pscript_Win_PassThrough
userdict /GpPBeg {gsave initclip 13 dict begin /c {curveto} bind def /l {lineto} bind def /m {moveto} bind def /NP {newpath} bind def /CP {closepath} bind def /SC {setrgbcolor} bind def /S {stroke} bind def /F {fill} bind def /AF {eofill} bind def 1 eq {setdash setlinewidth setmiterlimit setlinejoin setlinecap} if} put /GSE {end grestore} def
1 1 10 8.3333 [] 0 1 GpPBeg
0.0039 0.0039 0.0039 SC
NP
3506 2008 m 3265 2008 3069 2132 3069 2286 c 3069 2439 3265 2563 3506 2563 c 3748 2563 3944 2439 3944 2286 c 3944 2132 3748 2008 3506 2008 c CP
S
GSE

%%EndDocument

Pscript_WinNT_Compat dup /suspend get exec
Pscript_WinNT_Incr dup /resume get exec
/DeviceRGB dup setcolorspace /colspABC exch def
0 0 0 1 scol F0S85 Ji 
3226 2207 M (Bounded)[80 80 80 80 80 80  0]xS 
F1S64 Ji 
3148 2342 M (Int)[32 50  0]xS 
3258 2342 M (, Char, )[25 25 67 51 44 33 25  0]xS 
3554 2342 M (Bool)[66 50 50  0]xS 
3748 2342 M (, \(\))[25 25 34  0]xS 
3182 2462 M (Ordering, )[72 33 50 44 33 28 51 49 25  0]xS 
3593 2462 M (tuples)[28 50 50 28 44  0]xS 
Pscript_WinNT_Compat begin /$x mysetup def end
Pscript_WinNT_Incr dup /suspend get exec
Pscript_WinNT_Compat dup /initialize get exec
%%BeginDocument: Pscript_Win_PassThrough
userdict /GpPBeg {gsave initclip 13 dict begin /c {curveto} bind def /l {lineto} bind def /m {moveto} bind def /NP {newpath} bind def /CP {closepath} bind def /SC {setrgbcolor} bind def /S {stroke} bind def /F {fill} bind def /AF {eofill} bind def 1 eq {setdash setlinewidth setmiterlimit setlinejoin setlinecap} if} put /GSE {end grestore} def
1 1 10 8.3333 [] 0 1 GpPBeg
0.0039 0.0039 0.0039 SC
NP
1640 4967 m 1396 4967 1198 5066 1198 5187 c 1198 5309 1396 5407 1640 5407 c 1885 5407 2083 5309 2083 5187 c 2083 5066 1885 4967 1640 4967 c CP
S
GSE

%%EndDocument

Pscript_WinNT_Compat dup /suspend get exec
Pscript_WinNT_Incr dup /resume get exec
/DeviceRGB dup setcolorspace /colspABC exch def
0 0 0 1 scol F0S85 Ji 
1440 5168 M (Monad)[80 80 80 80  0]xS 
F1S64 Ji 
1366 5304 M (IO, [], Maybe)[32 72 25 25 34 34 25 25 89 45 48 51  0]xS 
Pscript_WinNT_Compat begin /$x mysetup def end
Pscript_WinNT_Incr dup /suspend get exec
Pscript_WinNT_Compat dup /initialize get exec
%%BeginDocument: Pscript_Win_PassThrough
userdict /GpPBeg {gsave initclip 13 dict begin /c {curveto} bind def /l {lineto} bind def /m {moveto} bind def /NP {newpath} bind def /CP {closepath} bind def /SC {setrgbcolor} bind def /S {stroke} bind def /F {fill} bind def /AF {eofill} bind def 1 eq {setdash setlinewidth setmiterlimit setlinejoin setlinecap} if} put /GSE {end grestore} def
1 1 10 8.3333 [] 0 1 GpPBeg
0.0039 0.0039 0.0039 SC
NP
3057 4967 m 2813 4967 2615 5066 2615 5187 c 2615 5308 2813 5406 3057 5406 c 3301 5406 3499 5308 3499 5187 c 3499 5066 3301 4967 3057 4967 c CP
S
GSE

%%EndDocument

Pscript_WinNT_Compat dup /suspend get exec
Pscript_WinNT_Incr dup /resume get exec
/DeviceRGB dup setcolorspace /colspABC exch def
0 0 0 1 scol F0S85 Ji 
2776 5167 M (Functor)[80 80 80 80 80 80  0]xS 
F1S64 Ji 
2783 5303 M (IO, [], Maybe)[32 72 25 25 34 34 25 25 89 45 48 51  0]xS 
Pscript_WinNT_Compat begin /$x mysetup def end
Pscript_WinNT_Incr dup /suspend get exec
Pscript_WinNT_Compat dup /initialize get exec
%%BeginDocument: Pscript_Win_PassThrough
userdict /GpPBeg {gsave initclip 13 dict begin /c {curveto} bind def /l {lineto} bind def /m {moveto} bind def /NP {newpath} bind def /CP {closepath} bind def /SC {setrgbcolor} bind def /S {stroke} bind def /F {fill} bind def /AF {eofill} bind def 1 eq {setdash setlinewidth setmiterlimit setlinejoin setlinecap} if} put /GSE {end grestore} def
0 GpPBeg
0.0039 0.0039 0.0039 SC
NP
2457 2523 m 3386 2777 l 3388 2778 3389 2779 3388 2781 c 3388 2783 3386 2784 3384 2783 c 2456 2529 l 2454 2528 2453 2527 2453 2525 c 2454 2523 2456 2522 2457 2523 c CP
3384 2754 m 3425 2791 l 3370 2802 l CP
F
GSE
1 1 10 8.3333 [] 0 1 GpPBeg
0.0039 0.0039 0.0039 SC
NP
1277 1258 m 969 1258 719 1508 719 1816 c 719 5050 l 719 5358 969 5608 1277 5608 c 3511 5608 l 3819 5608 4069 5358 4069 5050 c 4069 1816 l 4069 1508 3819 1258 3511 1258 c CP
S
GSE

%%EndDocument

Pscript_WinNT_Compat dup /suspend get exec
Pscript_WinNT_Incr dup /resume get exec
LH
%%PageTrailer

%%Trailer
%%DocumentNeededResources: 
%%+ font Courier-Bold
%%+ font TimesNewRomanPSMT
%%DocumentSuppliedResources: 
%%+ procset Pscript_WinNT_ErrorHandler 5.0 0
%%+ procset Pscript_FatalError 5.0 0
%%+ procset Pscript_Win_Basic 5.0 0
%%+ procset Pscript_Win_Utils_L2 5.0 0
%%+ procset Pscript_WinNT_Compat 5.0 0
%%+ procset Pscript_Text 5.0 0
%%+ procset Pscript_Encoding256 5.0 0
%%+ procset Pscript_Win_Euro_L2 5.0 0
Pscript_WinNT_Incr dup /terminate get exec
%%EOF


%%EndDocument
 @endspecial 1427 5070 a(Figure)24 b(6.1:)30 b(Standard)24
b(Hask)o(ell)h(Classes)p eop
%%Page: 84 98
84 97 bop 0 100 a FI(84)1467 b FE(CHAPTER)19 b(6.)52
b(PREDEFINED)19 b(TYPES)h(AND)i(CLASSES)0 356 y FI(The)29
b FD(Eq)e FI(class)j(pro)o(vides)i(equality)f(\()p FD(==)o
FI(\))e(and)h(inequality)i(\()p FD(/=)o FI(\))d(methods.)47
b(All)29 b(basic)h(datatypes)i(e)o(xcept)e(for)0 469
y(functions)i(and)f FD(IO)d FI(are)i(instances)i(of)e(this)g(class.)49
b(Instances)32 b(of)e FD(Eq)e FI(can)j(be)e(deri)n(v)o(ed)i(for)f(an)o
(y)g(user)n(-de\002ned)0 582 y(datatype)c(whose)e(constituents)j(are)d
(also)g(instances)i(of)d FD(Eq)o FI(.)0 778 y(This)g(declaration)j(gi)n
(v)o(es)e(def)o(ault)g(method)g(declarations)j(for)c(both)h
FD(/=)d FI(and)j FD(==)o FI(,)e(each)i(being)g(de\002ned)g(in)f(terms)0
891 y(of)30 b(the)h(other)-5 b(.)49 b(If)30 b(an)h(instance)h
(declaration)h(for)e FD(Eq)d FI(de\002nes)j(neither)h
FD(==)c FI(nor)j FD(/=)o FI(,)g(then)g(both)g(will)f(loop.)49
b(If)0 1004 y(one)25 b(is)f(de\002ned,)i(the)e(def)o(ault)j(method)e
(for)g(the)f(other)i(will)e(mak)o(e)h(use)g(of)f(the)h(one)g(that)g(is)
f(de\002ned.)32 b(If)25 b(both)g(are)0 1116 y(de\002ned,)f(neither)h
(def)o(ault)h(method)e(is)f(used.)0 1449 y FG(6.3.2)99
b(The)26 b(Ord)f(Class)250 1682 y FD(class)107 b(\(Eq)53
b(a\))h(=>)f(Ord)h(a)108 b(where)359 1795 y(compare)761
b(::)53 b(a)h(->)g(a)g(->)g(Ordering)359 1908 y(\(<\),)f(\(<=\),)f
(\(>=\),)h(\(>\))g(::)g(a)h(->)g(a)g(->)g(Bool)359 2021
y(max,)f(min)708 b(::)53 b(a)h(->)g(a)g(->)g(a)359 2180
y(compare)e(x)i(y)g(|)g(x)g(==)g(y)217 b(=)54 b(EQ)1014
2293 y(|)g(x)g(<=)g(y)217 b(=)54 b(LT)1014 2406 y(|)g(otherwise)c(=)k
(GT)359 2566 y(x)g(<=)g(y)109 b(=)54 b(compare)d(x)j(y)g(/=)g(GT)359
2678 y(x)g(<)109 b(y)g(=)54 b(compare)d(x)j(y)g(==)g(LT)359
2791 y(x)g(>=)g(y)109 b(=)54 b(compare)d(x)j(y)g(/=)g(LT)359
2904 y(x)g(>)109 b(y)g(=)54 b(compare)d(x)j(y)g(==)g(GT)359
3064 y(--)g(Note)f(that)f(\(min)h(x)h(y,)g(max)f(x)h(y\))g(=)g(\(x,y\))
e(or)i(\(y,x\))359 3177 y(max)g(x)g(y)g(|)g(x)g(<=)f(y)218
b(=)109 b(y)796 3290 y(|)54 b(otherwise)c(=)109 b(x)359
3402 y(min)54 b(x)g(y)g(|)g(x)g(<=)f(y)218 b(=)109 b(x)796
3515 y(|)54 b(otherwise)c(=)109 b(y)0 3703 y FI(The)28
b FD(Ord)e FI(class)j(is)f(used)h(for)g(totally)g(ordered)i(datatypes.)
45 b(All)28 b(basic)h(datatypes)i(e)o(xcept)e(for)f(functions,)k
FD(IO)o FI(,)0 3815 y(and)f FD(IOError)m FI(,)h(are)f(instances)i(of)d
(this)i(class.)51 b(Instances)33 b(of)e FD(Ord)e FI(can)i(be)g(deri)n
(v)o(ed)h(for)f(an)o(y)f(user)n(-de\002ned)0 3928 y(datatype)k(whose)f
(constituent)j(types)d(are)g(in)f FD(Ord)n FI(.)55 b(The)31
b(declared)k(order)e(of)f(the)h(constructors)j(in)c(the)h(data)0
4041 y(declaration)f(determines)g(the)d(ordering)i(in)f(deri)n(v)o(ed)g
FD(Ord)d FI(instances.)48 b(The)29 b FD(Ordering)c FI(datatype)31
b(allo)n(ws)f(a)0 4154 y(single)25 b(comparison)h(to)d(determine)j(the)
d(precise)j(ordering)f(of)f(tw)o(o)f(objects.)0 4350
y(The)c(def)o(ault)j(declarations)h(allo)n(w)d(a)g(user)g(to)g(create)h
(an)f FD(Ord)d FI(instance)22 b(either)f(with)f(a)g(type-speci\002c)i
FD(compare)0 4463 y FI(function)k(or)d(with)h(type-speci\002c)i
FD(==)c FI(and)i FD(<=)d FI(functions.)p eop
%%Page: 85 99
85 98 bop 300 100 a FE(6.3.)51 b(ST)-8 b(AND)l(ARD)20
b(HASKELL)g(CLASSES)1987 b FI(85)300 356 y FG(6.3.3)99
b(The)26 b(Read)f(and)h(Sho)o(w)f(Classes)441 574 y FD(type)107
b(ReadS)53 b(a)h(=)g(String)e(->)h([\(a,String\)])441
687 y(type)107 b(ShowS)162 b(=)54 b(String)e(->)h(String)441
847 y(class)107 b(Read)53 b(a)108 b(where)659 959 y(readsPrec)51
b(::)i(Int)h(->)f(ReadS)f(a)659 1072 y(readList)106 b(::)53
b(ReadS)g([a])659 1185 y(--)h(...)f(default)e(decl)i(for)g(readList)e
(given)i(in)g(Prelude)441 1345 y(class)107 b(Show)53
b(a)108 b(where)659 1458 y(showsPrec)51 b(::)i(Int)h(->)f(a)h(->)g
(ShowS)659 1571 y(show)326 b(::)53 b(a)h(->)g(String)659
1683 y(showList)106 b(::)53 b([a])h(->)f(ShowS)659 1843
y(showsPrec)e(_)j(x)g(s)163 b(=)54 b(show)f(x)h(++)g(s)659
1956 y(show)f(x)654 b(=)54 b(showsPrec)d(0)j(x)g("")659
2069 y(--)g(...)f(default)e(decl)i(for)g(showList)e(given)i(in)g
(Prelude)300 2241 y FI(The)28 b FD(Read)e FI(and)j FD(Show)d
FI(classes)k(are)f(used)g(to)g(con)l(v)o(ert)h(v)n(alues)g(to)e(or)h
(from)f(strings.)45 b(The)28 b FD(Int)f FI(ar)n(gument)j(to)300
2354 y FD(showsPrec)c FI(and)32 b FD(readsPrec)27 b FI(gi)n(v)o(es)k
(the)h(operator)i(precedence)g(of)d(the)h(enclosing)i(conte)o(xt)f
(\(see)e(Sec-)300 2466 y(tion)24 b(10.4\).)300 2647 y
FD(showsPrec)c FI(and)26 b FD(showList)21 b FI(return)27
b(a)e FD(String)m FI(-to-)p FD(String)e FI(function,)28
b(to)d(allo)n(w)g(constant-time)j(con-)300 2760 y(catenation)g(of)d
(its)g(results)i(using)f(function)h(composition.)36 b(A)24
b(specialised)29 b(v)n(ariant,)d FD(show)n FI(,)f(is)g(also)g(pro)o
(vided,)300 2873 y(which)32 b(uses)g(precedence)i(conte)o(xt)f(zero,)g
(and)f(returns)h(an)f(ordinary)h FD(String)m FI(.)52
b(The)30 b(method)j FD(showList)300 2986 y FI(is)c(pro)o(vided)i(to)e
(allo)n(w)f(the)i(programmer)g(to)f(gi)n(v)o(e)g(a)f(specialised)33
b(w)o(ay)28 b(of)h(sho)n(wing)h(lists)g(of)f(v)n(alues.)46
b(This)28 b(is)300 3099 y(particularly)34 b(useful)e(for)f(the)g
FD(Char)d FI(type,)33 b(where)e(v)n(alues)h(of)f(type)g
FD(String)d FI(should)k(be)f(sho)n(wn)g(in)g(double)300
3212 y(quotes,)25 b(rather)g(than)f(between)g(square)h(brack)o(ets.)300
3392 y(Deri)n(v)o(ed)k(instances)j(of)d FD(Read)e FI(and)i
FD(Show)e FI(replicate)k(the)e(style)h(in)f(which)h(a)f(constructor)j
(is)d(declared:)42 b(in\002x)300 3505 y(constructors)32
b(and)d(\002eld)f(names)h(are)f(used)h(on)g(input)g(and)g(output.)44
b(Strings)29 b(produced)i(by)e FD(showsPrec)23 b FI(are)300
3618 y(usually)i(readable)h(by)e FD(readsPrec)l FI(.)300
3799 y(All)32 b FD(Prelude)c FI(types,)35 b(e)o(xcept)f(function)g
(types)g(and)f FD(IO)d FI(types,)36 b(are)c(instances)j(of)d
FD(Show)e FI(and)j FD(Read)n FI(.)54 b(\(If)300 3912
y(desired,)30 b(a)d(programmer)i(can)e(easily)i(mak)o(e)e(functions)j
(and)e FD(IO)e FI(types)i(into)g(\(v)n(acuous\))i(instances)g(of)d
FD(Show)n FI(,)300 4025 y(by)d(pro)o(viding)i(an)d(instance)j
(declaration.\))300 4205 y(F)o(or)d(con)l(v)o(enience,)j(the)e(Prelude)
h(pro)o(vides)g(the)f(follo)n(wing)h(auxiliary)h(functions:)441
4380 y FD(reads)162 b(::)53 b(\(Read)f(a\))i(=>)g(ReadS)e(a)441
4493 y(reads)162 b(=)108 b(readsPrec)51 b(0)441 4652
y(shows)162 b(::)53 b(\(Show)f(a\))i(=>)g(a)g(->)f(ShowS)441
4765 y(shows)162 b(=)108 b(showsPrec)51 b(0)441 4925
y(read)217 b(::)53 b(\(Read)f(a\))i(=>)g(String)d(->)j(a)441
5038 y(read)f(s)109 b(=)f(case)53 b([x)g(|)i(\(x,t\))d(<-)h(reads)g(s,)
g(\("",""\))f(<-)h(lex)h(t])f(of)1205 5151 y([x])g(->)h(x)1205
5264 y([])108 b(->)54 b(error)e("PreludeText.r)o(ead)o(:)c(no)54
b(parse")1205 5376 y(_)163 b(->)54 b(error)e("PreludeText.r)o(ead)o(:)c
(ambiguous)j(parse")p eop
%%Page: 86 100
86 99 bop 0 100 a FI(86)1467 b FE(CHAPTER)19 b(6.)52
b(PREDEFINED)19 b(TYPES)h(AND)i(CLASSES)27 356 y FD(shows)i
FI(and)k FD(reads)d FI(use)j(a)f(def)o(ault)i(precedence)i(of)d(0.)40
b(The)27 b FD(read)e FI(function)30 b(reads)f(input)f(from)g(a)f
(string,)0 469 y(which)d(must)f(be)h(completely)i(consumed)f(by)f(the)g
(input)g(process.)0 665 y(The)f(function)i FD(lex)53
b(::)g(ReadS)g(String)m FI(,)22 b(used)i(by)f FD(read)n
FI(,)f(is)h(also)g(part)h(of)f(the)g(Prelude.)29 b(It)23
b(reads)h(a)f(sin-)0 778 y(gle)e(le)o(x)o(eme)g(from)f(the)h(input,)i
(discarding)g(initial)f(white)f(space,)h(and)g(returning)h(the)e
(characters)i(that)e(constitute)0 890 y(the)k(le)o(x)o(eme.)31
b(If)24 b(the)h(input)g(string)h(contains)h(only)e(white)g(space,)g
FD(lex)d FI(returns)k(a)e(single)i(successful)h(\223le)o(x)o(eme\224)0
1003 y(consisting)j(of)d(the)h(empty)f(string.)41 b(\(Thus)28
b FD(lex)53 b("")25 b FI(=)i FD([\("",""\)])l FI(.\))39
b(If)27 b(there)h(is)f(no)g(le)o(gal)h(le)o(x)o(eme)f(at)g(the)0
1116 y(be)o(ginning)f(of)d(the)h(input)h(string,)f FD(lex)e
FI(f)o(ails)i(\(i.e.)29 b(returns)c FD([])o FI(\).)0
1448 y FG(6.3.4)99 b(The)26 b(Enum)g(Class)141 1682 y
FD(class)107 b(Enum)53 b(a)108 b(where)359 1794 y(succ,)53
b(pred)270 b(::)54 b(a)g(->)g(a)359 1907 y(toEnum)488
b(::)54 b(Int)f(->)h(a)359 2020 y(fromEnum)378 b(::)54
b(a)g(->)g(Int)359 2133 y(enumFrom)378 b(::)54 b(a)g(->)g([a])653
b(--)54 b([n..])359 2246 y(enumFromThen)158 b(::)54 b(a)g(->)g(a)g(->)g
([a])380 b(--)54 b([n,n'..])359 2359 y(enumFromTo)268
b(::)54 b(a)g(->)g(a)g(->)g([a])380 b(--)54 b([n..m])359
2472 y(enumFromThenTo)48 b(::)54 b(a)g(->)g(a)g(->)g(a)g(->)f([a])108
b(--)54 b([n,n'..m])359 2631 y(--)g(Default)d(declarations)e(given)k
(in)g(Prelude)0 2818 y FI(Class)21 b FD(Enum)c FI(de\002nes)k
(operations)j(on)c(sequentially)k(ordered)e(types.)29
b(The)20 b(functions)j FD(succ)17 b FI(and)k FD(pred)d
FI(return)0 2931 y(the)h(successor)i(and)f(predecessor)l(,)j(respecti)n
(v)o(ely)-6 b(,)22 b(of)d(a)f(v)n(alue.)28 b(The)18 b(functions)k
FD(fromEnum)14 b FI(and)19 b FD(toEnum)c FI(map)0 3044
y(v)n(alues)22 b(from)e(a)g(type)h(in)g FD(Enum)d FI(to)i(and)h(from)f
FD(Int)o FI(.)27 b(The)20 b FD(enumFrom)l FI(...)27 b(methods)22
b(are)e(used)i(when)e(translating)0 3157 y(arithmetic)25
b(sequences)i(\(Section)d(3.10\).)0 3353 y(Instances)36
b(of)c FD(Enum)f FI(may)i(be)g(deri)n(v)o(ed)h(for)f(an)o(y)g
(enumeration)j(type)e(\(types)g(whose)g(constructors)i(ha)n(v)o(e)e(no)
0 3466 y(\002elds\);)24 b(see)g(Chapter)h(10.)0 3661
y(F)o(or)e(an)o(y)g(type)i(that)f(is)f(an)h(instance)h(of)f(class)g
FD(Bounded)c FI(as)j(well)g(as)h FD(Enum)n FI(,)e(the)i(follo)n(wing)h
(should)g(hold:)136 3931 y FB(\017)46 b FI(The)23 b(calls)i
FD(succ)52 b(maxBound)20 b FI(and)k FD(pred)52 b(minBound)19
b FI(should)26 b(result)e(in)g(a)f(runtime)h(error)-5
b(.)136 4119 y FB(\017)46 b FD(fromEnum)22 b FI(and)27
b FD(toEnum)c FI(should)28 b(gi)n(v)o(e)e(a)g(runtime)i(error)f(if)f
(the)h(result)g(v)n(alue)g(is)g(not)f(representable)227
4232 y(in)e(the)g(result)g(type.)30 b(F)o(or)22 b(e)o(xample,)i
FD(toEnum)52 b(7)i(::)g(Bool)21 b FI(is)i(an)h(error)-5
b(.)136 4419 y FB(\017)46 b FD(enumFrom)19 b FI(and)24
b FD(enumFromThen)18 b FI(should)25 b(be)e(de\002ned)i(with)e(an)h
(implicit)g(bound,)h(thus:)478 4564 y FD(enumFrom)269
b(x)163 b(=)54 b(enumFromTo)268 b(x)54 b(maxBound)478
4676 y(enumFromThen)49 b(x)54 b(y)g(=)g(enumFromThenTo)48
b(x)54 b(y)g(bound)587 4789 y(where)696 4902 y(bound)e(|)i(fromEnum)d
(y)j(>=)g(fromEnum)d(x)j(=)g(maxBound)1023 5015 y(|)g(otherwise)869
b(=)54 b(minBound)0 5365 y FI(The)23 b(follo)n(wing)i
FD(Prelude)20 b FI(types)k(are)g(instances)i(of)d FD(Enum)o
FI(:)p eop
%%Page: 87 101
87 100 bop 300 100 a FE(6.3.)51 b(ST)-8 b(AND)l(ARD)20
b(HASKELL)g(CLASSES)1987 b FI(87)436 356 y FB(\017)46
b FI(Enumeration)31 b(types:)41 b FD(\(\))o FI(,)30 b
FD(Bool)n FI(,)f(and)h FD(Ordering)l FI(.)44 b(The)29
b(semantics)h(of)f(these)h(instances)i(is)d(gi)n(v)o(en)527
469 y(by)24 b(Chapter)g(10.)29 b(F)o(or)23 b(e)o(xample,)h
FD([LT..])c FI(is)j(the)h(list)g FD([LT,EQ,GT])l FI(.)436
655 y FB(\017)46 b FD(Char)n FI(:)40 b(the)30 b(instance)h(is)e(gi)n(v)
o(en)g(in)g(Chapter)i(8,)f(based)g(on)f(the)h(primiti)n(v)o(e)g
(functions)h(that)f(con)l(v)o(ert)h(be-)527 768 y(tween)25
b(a)f FD(Char)e FI(and)j(an)g FD(Int)o FI(.)31 b(F)o(or)24
b(e)o(xample,)h FD(enumFromTo)50 b('a')j('z')23 b FI(denotes)j(the)f
(list)g(of)g(lo)n(w-)527 881 y(ercase)g(letters)g(in)e(alphabetical)k
(order)-5 b(.)436 1067 y FB(\017)46 b FI(Numeric)20 b(types:)29
b FD(Int)o FI(,)19 b FD(Integer)m FI(,)h FD(Float)m FI(,)g
FD(Double)m FI(.)27 b(The)19 b(semantics)j(of)e(these)h(instances)h(is)
e(gi)n(v)o(en)527 1180 y(ne)o(xt.)300 1445 y(F)o(or)25
b(all)h(four)h(numeric)g(types,)g FD(succ)c FI(adds)k(1,)f(and)g
FD(pred)e FI(subtracts)k(1.)35 b(The)26 b(con)l(v)o(ersions)j
FD(fromEnum)22 b FI(and)300 1558 y FD(toEnum)c FI(con)l(v)o(ert)23
b(between)f(the)f(type)h(and)g FD(Int)n FI(.)27 b(In)21
b(the)h(case)g(of)f FD(Float)d FI(and)j FD(Double)n FI(,)f(the)i
(digits)g(after)g(the)300 1671 y(decimal)27 b(point)f(may)g(be)f(lost.)
36 b(It)26 b(is)f(implementation-depend)q(ent)32 b(what)25
b FD(fromEnum)c FI(returns)28 b(when)d(applied)300 1784
y(to)e(a)h(v)n(alue)g(that)g(is)f(too)h(lar)n(ge)h(to)f(\002t)e(in)i
(an)f FD(Int)o FI(.)300 1978 y(F)o(or)g(the)g(types)i
FD(Int)c FI(and)j FD(Integer)m FI(,)f(the)h(enumeration)i(functions)g
(ha)n(v)o(e)e(the)g(follo)n(wing)h(meaning:)436 2244
y FB(\017)46 b FI(The)23 b(sequence)j FD(enumFrom)19
b Fv(e)1548 2258 y Fu(1)1620 2244 y FI(is)24 b(the)g(list)f
FD([)p Fv(e)2068 2258 y Fu(1)2117 2244 y FD(,)p Fv(e)2214
2258 y Fu(1)2283 2244 y Ft(+)d Fv(1)12 b FD(,)q Fv(e)2530
2258 y Fu(1)2599 2244 y Ft(+)20 b Fv(2)12 b FD(,)j Fq(:)g(:)g(:)i
FD(])o FI(.)436 2430 y FB(\017)46 b FI(The)28 b(sequence)j
FD(enumFromThen)17 b Fv(e)1776 2444 y Fu(1)1848 2430
y Fv(e)1890 2444 y Fu(2)1967 2430 y FI(is)29 b(the)f(list)h
FD([)p Fv(e)2430 2444 y Fu(1)2479 2430 y FD(,)o Fv(e)2575
2444 y Fu(1)2645 2430 y Ft(+)20 b Fv(i)9 b FD(,)p Fv(e)2870
2444 y Fu(1)2939 2430 y Ft(+)20 b Fv(2i)9 b FD(,)15 b
Fq(:)g(:)g(:)h FD(])p FI(,)29 b(where)f(the)h(in-)527
2543 y(crement,)g Fv(i)9 b FI(,)27 b(is)g Fv(e)1086 2557
y Fu(2)1156 2543 y FB(\000)20 b Fv(e)1289 2557 y Fu(1)1338
2543 y FI(.)39 b(The)26 b(increment)j(may)e(be)g(zero)h(or)f(ne)o(gati)
n(v)o(e.)40 b(If)27 b(the)h(increment)h(is)e(zero,)h(all)527
2656 y(the)c(list)g(elements)h(are)f(the)f(same.)436
2842 y FB(\017)46 b FI(The)40 b(sequence)i FD(enumFromTo)19
b Fv(e)1691 2856 y Fu(1)1763 2842 y Fv(e)1805 2856 y
Fu(3)1893 2842 y FI(is)40 b(the)g(list)h FD([)o Fv(e)2390
2856 y Fu(1)2440 2842 y FD(,)o Fv(e)2536 2856 y Fu(1)2606
2842 y Ft(+)20 b Fv(1)12 b FD(,)p Fv(e)2852 2856 y Fu(1)2921
2842 y Ft(+)20 b Fv(2)12 b FD(,)k Fq(:)f(:)g(:)h Fv(e)3304
2856 y Fu(3)3353 2842 y FD(])p FI(.)77 b(The)40 b(list)g(is)527
2955 y(empty)24 b(if)g Fv(e)898 2969 y Fu(1)995 2955
y Fq(>)47 b Fv(e)1155 2969 y Fu(3)1205 2955 y FI(.)436
3141 y FB(\017)f FI(The)22 b(sequence)i FD(enumFromThenTo)16
b Fv(e)1872 3155 y Fu(1)1944 3141 y Fv(e)1986 3155 y
Fu(2)2058 3141 y Fv(e)2100 3155 y Fu(3)2171 3141 y FI(is)21
b(the)h(list)h FD([)o Fv(e)2613 3155 y Fu(1)2662 3141
y FD(,)p Fv(e)2759 3155 y Fu(1)2828 3141 y Ft(+)d Fv(i)9
b FD(,)p Fv(e)3053 3155 y Fu(1)3123 3141 y Ft(+)19 b
Fv(2i)9 b FD(,)16 b Fq(:)f(:)g(:)h Fv(e)3530 3155 y Fu(3)3579
3141 y FD(])p FI(,)21 b(where)527 3254 y(the)33 b(increment,)j
Fv(i)9 b FI(,)34 b(is)e Fv(e)1318 3268 y Fu(2)1388 3254
y FB(\000)20 b Fv(e)1521 3268 y Fu(1)1570 3254 y FI(.)55
b(If)32 b(the)h(increment)h(is)f(positi)n(v)o(e)g(or)g(zero,)i(the)e
(list)g(terminates)h(when)527 3367 y(the)27 b(ne)o(xt)g(element)g(w)o
(ould)g(be)f(greater)i(than)g Fv(e)2024 3381 y Fu(3)2073
3367 y FI(;)f(the)g(list)g(is)f(empty)h(if)f Fv(e)2861
3381 y Fu(1)2958 3367 y Fq(>)48 b Fv(e)3119 3381 y Fu(3)3168
3367 y FI(.)36 b(If)27 b(the)f(increment)i(is)527 3480
y(ne)o(gati)n(v)o(e,)e(the)f(list)g(terminates)i(when)e(the)g(ne)o(xt)g
(element)g(w)o(ould)h(be)f(less)g(than)g Fv(e)3139 3494
y Fu(3)3189 3480 y FI(;)f(the)i(list)f(is)f(empty)h(if)527
3593 y Fv(e1)61 b Fq(<)48 b Fv(e)837 3607 y Fu(3)886
3593 y FI(.)300 3858 y(F)o(or)30 b FD(Float)e FI(and)j
FD(Double)n FI(,)g(the)h(semantics)g(of)f(the)h FD(enumFrom)26
b FI(f)o(amily)32 b(is)e(gi)n(v)o(en)i(by)f(the)g(rules)h(for)f
FD(Int)300 3971 y FI(abo)o(v)o(e,)25 b(e)o(xcept)h(that)f(the)g(list)g
(terminates)h(when)f(the)g(elements)h(become)f(greater)h(than)f
Fv(e)3160 3985 y Fu(3)3230 3971 y Ft(+)20 b Fv(i)9 b
Fq(=)p Fv(2)37 b FI(for)25 b(positi)n(v)o(e)300 4084
y(increment)g Fv(i)9 b FI(,)23 b(or)g(when)h(the)o(y)g(become)g(less)g
(than)h Fv(e)1951 4098 y Fu(3)2020 4084 y Ft(+)20 b Fv(i)9
b Fq(=)p Fv(2)36 b FI(for)24 b(ne)o(gati)n(v)o(e)g Fv(i)9
b FI(.)300 4278 y(F)o(or)26 b(all)i(four)g(of)f(these)h(Prelude)h
(numeric)f(types,)h(all)f(of)f(the)g FD(enumFrom)c FI(f)o(amily)28
b(of)g(functions)h(are)f(strict)g(in)300 4391 y(all)c(their)g(ar)n
(guments.)300 4721 y FG(6.3.5)99 b(The)26 b(Functor)g(Class)441
4953 y FD(class)107 b(Functor)51 b(f)109 b(where)659
5066 y(fmap)217 b(::)53 b(\(a)h(->)g(b\))f(->)h(f)g(a)g(->)g(f)g(b)300
5252 y FI(The)28 b FD(Functor)c FI(class)30 b(is)e(used)h(for)g(types)g
(that)g(can)g(be)f(mapped)h(o)o(v)o(er)-5 b(.)44 b(Lists,)29
b FD(IO)o FI(,)g(and)f FD(Maybe)e FI(are)i(in)h(this)300
5365 y(class.)p eop
%%Page: 88 102
88 101 bop 0 100 a FI(88)1467 b FE(CHAPTER)19 b(6.)52
b(PREDEFINED)19 b(TYPES)h(AND)i(CLASSES)0 356 y FI(Instances)k(of)d
FD(Functor)d FI(should)25 b(satisfy)g(the)f(follo)n(wing)h(la)o(ws:)945
554 y FD(fmap)53 b(id)355 b Ft(=)83 b FD(id)945 667 y(fmap)53
b(\(f)h(.)g(g\))82 b Ft(=)h FD(fmap)52 b(f)i(.)g(fmap)f(g)0
861 y FI(All)23 b(instances)j(of)d FD(Functor)d FI(de\002ned)k(in)g
(the)g(Prelude)g(satisfy)h(these)g(la)o(ws.)0 1193 y
FG(6.3.6)99 b(The)26 b(Monad)f(Class)141 1427 y FD(class)107
b(Monad)52 b(m)109 b(where)359 1540 y(\(>>=\))162 b(::)53
b(m)h(a)g(->)g(\(a)g(->)f(m)h(b\))g(->)g(m)g(b)359 1653
y(\(>>\))217 b(::)53 b(m)h(a)g(->)g(m)g(b)g(->)g(m)g(b)359
1765 y(return)107 b(::)53 b(a)h(->)g(m)g(a)359 1878 y(fail)217
b(::)53 b(String)f(->)i(m)g(a)359 2038 y(m)g(>>)g(k)109
b(=)f(m)54 b(>>=)g(\\_)f(->)h(k)359 2151 y(fail)f(s)109
b(=)54 b(error)e(s)0 2338 y FI(The)27 b FD(Monad)e FI(class)k
(de\002nes)f(the)g(basic)h(operations)i(o)o(v)o(er)d(a)f
FJ(monad)p FI(.)42 b(See)28 b(Chapter)g(7)g(for)g(more)g(information)0
2451 y(about)d(monads.)0 2647 y(\223)p FD(do)o FI(\224)h(e)o
(xpressions)j(pro)o(vide)f(a)e(con)l(v)o(enient)j(syntax)e(for)g
(writing)g(monadic)g(e)o(xpressions)i(\(see)e(Section)g(3.14\).)0
2759 y(The)c FD(fail)e FI(method)j(is)g(in)l(v)n(ok)o(ed)i(on)e
(pattern-match)i(f)o(ailure)f(in)f(a)f FD(do)f FI(e)o(xpression.)0
2955 y(In)g(the)g(Prelude,)h(lists,)f FD(Maybe)n FI(,)f(and)h
FD(IO)e FI(are)i(all)g(instances)i(of)e FD(Monad)n FI(.)27
b(The)21 b FD(fail)e FI(method)k(for)f(lists)h(returns)0
3068 y(the)e(empty)g(list)g FD([])p FI(,)f(for)h FD(Maybe)c
FI(returns)23 b FD(Nothing)m FI(,)d(and)h(for)g FD(IO)e
FI(raises)j(a)e(user)i(e)o(xception)h(in)e(the)g(IO)f(monad)0
3181 y(\(see)k(Section)h(7.3\).)0 3377 y(Instances)h(of)d
FD(Monad)e FI(should)k(satisfy)g(the)f(follo)n(wing)h(la)o(ws:)645
3574 y FD(return)52 b(a)i(>>=)f(k)574 b Ft(=)83 b FD(k)54
b(a)645 3687 y(m)g(>>=)g(return)680 b Ft(=)83 b FD(m)645
3800 y(m)54 b(>>=)g(\(\\x)f(->)g(k)h(x)h(>>=)e(h\))82
b Ft(=)h FD(\(m)53 b(>>=)g(k\))h(>>=)f(h)0 3995 y FI(Instances)26
b(of)d(both)i FD(Monad)20 b FI(and)k FD(Functor)c FI(should)25
b(additionally)i(satisfy)e(the)f(la)o(w:)973 4199 y FD(fmap)52
b(f)i(xs)82 b Ft(=)h FD(xs)54 b(>>=)f(return)f(.)i(f)0
4402 y FI(All)23 b(instances)j(of)d FD(Monad)e FI(de\002ned)j(in)g(the)
f(Prelude)i(satisfy)g(these)g(la)o(ws.)0 4598 y(The)e(Prelude)i(pro)o
(vides)g(the)f(follo)n(wing)h(auxiliary)h(functions:)141
4788 y FD(sequence)106 b(::)53 b(Monad)f(m)j(=>)e([m)h(a])f(->)h(m)g
([a])141 4901 y(sequence_)d(::)i(Monad)f(m)j(=>)e([m)h(a])f(->)h(m)g
(\(\))141 5014 y(mapM)326 b(::)53 b(Monad)f(m)j(=>)e(\(a)h(->)f(m)i
(b\))e(->)h([a])f(->)h(m)g([b])141 5127 y(mapM_)271 b(::)53
b(Monad)f(m)j(=>)e(\(a)h(->)f(m)i(b\))e(->)h([a])f(->)h(m)g(\(\))141
5240 y(\(=<<\))271 b(::)53 b(Monad)f(m)j(=>)e(\(a)h(->)f(m)i(b\))e(->)h
(m)g(a)g(->)g(m)g(b)p eop
%%Page: 89 103
89 102 bop 300 100 a FE(6.4.)51 b(NUMBERS)2880 b FI(89)300
356 y FG(6.3.7)99 b(The)26 b(Bounded)h(Class)300 607
y FD(class)107 b(Bounded)51 b(a)109 b(where)518 720 y(minBound,)51
b(maxBound)g(::)i(a)300 909 y FI(The)21 b FD(Bounded)c
FI(class)23 b(is)e(used)h(to)f(name)h(the)f(upper)i(and)f(lo)n(wer)f
(limits)h(of)f(a)g(type.)29 b FD(Ord)19 b FI(is)i(not)h(a)f(superclass)
j(of)300 1022 y FD(Bounded)17 b FI(since)22 b(types)h(that)e(are)h(not)
f(totally)i(ordered)g(may)e(also)h(ha)n(v)o(e)g(upper)g(and)g(lo)n(wer)
f(bounds.)29 b(The)21 b(types)300 1135 y FD(Int)o FI(,)34
b FD(Char)n FI(,)g FD(Bool)n FI(,)h FD(\(\))o FI(,)f
FD(Ordering)l FI(,)h(and)e(all)g(tuples)h(are)f(instances)j(of)d
FD(Bounded)m FI(.)56 b(The)32 b FD(Bounded)300 1248 y
FI(class)j(may)f(be)g(deri)n(v)o(ed)h(for)f(an)o(y)g(enumeration)i
(type;)41 b FD(minBound)29 b FI(is)34 b(the)g(\002rst)g(constructor)j
(listed)e(in)f(the)300 1361 y FD(data)20 b FI(declaration)25
b(and)e FD(maxBound)18 b FI(is)23 b(the)f(last.)29 b
FD(Bounded)19 b FI(may)j(also)h(be)f(deri)n(v)o(ed)i(for)f
(single-constructor)300 1474 y(datatypes)j(whose)e(constituent)j(types)
d(are)g(in)g FD(Bounded)l FI(.)300 1839 y FC(6.4)119
b(Numbers)300 2123 y FI(Hask)o(ell)30 b(pro)o(vides)g(se)n(v)o(eral)g
(kinds)g(of)e(numbers;)33 b(the)c(numeric)h(types)g(and)f(the)g
(operations)i(upon)f(them)f(ha)n(v)o(e)300 2236 y(been)35
b(hea)n(vily)h(in\003uenced)g(by)f(Common)f(Lisp)g(and)h(Scheme.)60
b(Numeric)35 b(function)h(names)f(and)g(operators)300
2349 y(are)30 b(usually)h(o)o(v)o(erloaded,)i(using)e(se)n(v)o(eral)g
(type)f(classes)h(with)f(an)f(inclusion)k(relation)e(sho)n(wn)f(in)f
(Figure)i(6.1,)300 2462 y(page)20 b(83.)27 b(The)19 b(class)h
FD(Num)d FI(of)i(numeric)i(types)f(is)f(a)g(subclass)i(of)e
FD(Eq)o FI(,)g(since)h(all)g(numbers)g(may)f(be)g(compared)i(for)300
2575 y(equality;)i(its)d(subclass)i FD(Real)17 b FI(is)i(also)h(a)f
(subclass)j(of)d FD(Ord)o FI(,)g(since)i(the)f(other)g(comparison)i
(operations)h(apply)d(to)300 2688 y(all)h(b)n(ut)h(comple)o(x)f
(numbers)i(\(de\002ned)f(in)f(the)g FD(Complex)c FI(library\).)30
b(The)20 b(class)i FD(Integral)16 b FI(contains)24 b(inte)o(gers)300
2800 y(of)29 b(both)i(limited)f(and)g(unlimited)h(range;)j(the)c(class)
h FD(Fractional)24 b FI(contains)31 b(all)f(non-inte)o(gral)j(types;)h
(and)300 2913 y(the)24 b(class)g FD(Floating)19 b FI(contains)26
b(all)e(\003oating-point)i(types,)f(both)f(real)g(and)g(comple)o(x.)300
3103 y(The)41 b(Prelude)i(de\002nes)f(only)g(the)g(most)g(basic)h
(numeric)f(types:)67 b(\002x)o(ed)41 b(sized)i(inte)o(gers)g(\()p
FD(Int)o FI(\),)i(arbitrary)300 3216 y(precision)37 b(inte)o(gers)f(\()
p FD(Integer)m FI(\),)g(single)g(precision)h(\003oating)e(\()p
FD(Float)n FI(\),)h(and)f(double)h(precision)h(\003oating)300
3329 y(\()p FD(Double)n FI(\).)29 b(Other)24 b(numeric)h(types)g(such)g
(as)e(rationals)j(and)f(comple)o(x)g(numbers)g(are)f(de\002ned)h(in)e
(libraries.)32 b(In)300 3441 y(particular)l(,)26 b(the)d(type)h
FD(Rational)19 b FI(is)k(a)g(ratio)h(of)f(tw)o(o)g FD(Integer)c
FI(v)n(alues,)24 b(as)f(de\002ned)h(in)f(the)h FD(Ratio)c
FI(library)-6 b(.)300 3631 y(The)36 b(def)o(ault)i(\003oating)f(point)g
(operations)j(de\002ned)d(by)f(the)h(Hask)o(ell)g(Prelude)g(do)f(not)h
(conform)g(to)g(current)300 3744 y(language)25 b(independent)h
(arithmetic)f(\(LIA\))d(standards.)31 b(These)23 b(standards)i(require)
f(considerably)j(more)22 b(com-)300 3857 y(ple)o(xity)j(in)e(the)h
(numeric)g(structure)i(and)e(ha)n(v)o(e)g(thus)g(been)g(rele)o(gated)h
(to)f(a)f(library)-6 b(.)30 b(Some,)22 b(b)n(ut)i(not)g(all,)f(aspects)
300 3970 y(of)g(the)h(IEEE)e(\003oating)i(point)h(standard)h(ha)n(v)o
(e)e(been)g(accounted)j(for)c(in)h(Prelude)g(class)h
FD(RealFloat)l FI(.)300 4159 y(The)g(standard)j(numeric)f(types)g(are)f
(listed)g(in)g(T)-7 b(able)26 b(6.1.)35 b(The)25 b(\002nite-precision)k
(inte)o(ger)e(type)f FD(Int)e FI(co)o(v)o(ers)i(at)300
4272 y(least)e(the)f(range)i Ft([)e FB(\000)f Fv(2)1046
4239 y Fu(29)1133 4272 y Fq(;)38 b Fv(2)1254 4239 y Fu(29)1383
4272 y FB(\000)43 b Fv(1)12 b Ft(])q FI(.)28 b(As)22
b FD(Int)f FI(is)i(an)g(instance)j(of)d(the)g FD(Bounded)c
FI(class,)24 b FD(maxBound)19 b FI(and)300 4385 y FD(minBound)j
FI(can)27 b(be)g(used)g(to)g(determine)h(the)f(e)o(xact)g
FD(Int)e FI(range)j(de\002ned)f(by)g(an)f(implementation.)41
b FD(Float)300 4498 y FI(is)21 b(implementation-de\002ned;)27
b(it)21 b(is)g(desirable)j(that)e(this)f(type)h(be)f(at)h(least)g
(equal)g(in)f(range)h(and)g(precision)i(to)d(the)300
4611 y(IEEE)27 b(single-precision)33 b(type.)45 b(Similarly)-6
b(,)30 b FD(Double)25 b FI(should)30 b(co)o(v)o(er)f(IEEE)e
(double-precision.)49 b(The)28 b(results)300 4724 y(of)d(e)o
(xceptional)j(conditions)h(\(such)d(as)f(o)o(v)o(er\003o)n(w)g(or)g
(under\003o)n(w\))h(on)f(the)h(\002x)o(ed-precision)i(numeric)f(types)f
(are)300 4836 y(unde\002ned;)34 b(an)29 b(implementation)j(may)c
(choose)j(error)f(\()p FB(?)p FI(,)f(semantically\),)k(a)c(truncated)i
(v)n(alue,)g(or)e(a)g(special)300 4949 y(v)n(alue)24
b(such)h(as)e(in\002nity)-6 b(,)24 b(inde\002nite,)h(etc.)300
5139 y(The)36 b(standard)j(numeric)f(classes)g(and)f(other)h(numeric)g
(functions)h(de\002ned)e(in)g(the)g(Prelude)g(are)g(sho)n(wn)g(in)300
5252 y(Figures)23 b(6.2\2266.3.)29 b(Figure)22 b(6.1)g(sho)n(ws)g(the)g
(class)h(dependencies)i(and)e(b)n(uilt-in)h(types)f(that)f(are)g
(instances)i(of)e(the)300 5365 y(numeric)j(classes.)p
eop
%%Page: 90 104
90 103 bop 0 100 a FI(90)1467 b FE(CHAPTER)19 b(6.)52
b(PREDEFINED)19 b(TYPES)h(AND)i(CLASSES)p 29 368 3542
4 v 27 480 4 113 v 699 447 a FI(T)-7 b(ype)p 1546 480
V 866 w(Class)p 2136 480 V 702 w(Description)p 3569 480
V 29 484 3542 4 v 27 597 4 113 v 79 563 a FD(Integer)p
1546 597 V 1133 w(Integral)p 2136 597 V 151 w FI(Arbitrary-precision)28
b(inte)o(gers)p 3569 597 V 27 710 V 79 676 a FD(Int)p
1546 710 V 1353 w(Integral)p 2136 710 V 151 w FI(Fix)o(ed-precision)f
(inte)o(gers)p 3569 710 V 27 823 V 79 789 a FD(\(Integral)51
b(a\))i(=>)h(Ratio)e(a)p 1546 823 V 263 w(RealFrac)p
2136 823 V 151 w FI(Rational)24 b(numbers)p 3569 823
V 27 935 V 79 902 a FD(Float)p 1546 935 V 1243 w(RealFloat)p
2136 935 V 96 w FI(Real)f(\003oating-point,)j(single)f(precision)p
3569 935 V 27 1048 V 79 1014 a FD(Double)p 1546 1048
V 1188 w(RealFloat)p 2136 1048 V 96 w FI(Real)e(\003oating-point,)j
(double)g(precision)p 3569 1048 V 27 1161 V 79 1127 a
FD(\(RealFloat)50 b(a\))k(=>)f(Complex)f(a)p 1546 1161
V 99 w(Floating)p 2136 1161 V 151 w FI(Comple)o(x)23
b(\003oating-point)p 3569 1161 V 29 1165 3542 4 v 1154
1419 a(T)-7 b(able)24 b(6.1:)29 b(Standard)c(Numeric)f(T)-7
b(ypes)0 1722 y FG(6.4.1)99 b(Numeric)25 b(Literals)0
1971 y FI(The)h(syntax)j(of)e(numeric)h(literals)g(is)f(gi)n(v)o(en)g
(in)g(Section)h(2.5.)39 b(An)26 b(inte)o(ger)i(literal)g(represents)i
(the)d(application)0 2084 y(of)36 b(the)h(function)h
FD(fromInteger)31 b FI(to)36 b(the)h(appropriate)i(v)n(alue)e(of)f
(type)h FD(Integer)m FI(.)66 b(Similarly)-6 b(,)40 b(a)c(\003oat-)0
2197 y(ing)e(literal)h(stands)g(for)f(an)g(application)j(of)d
FD(fromRational)27 b FI(to)34 b(a)f(v)n(alue)i(of)e(type)i
FD(Rational)29 b FI(\(that)35 b(is,)0 2310 y FD(Ratio)52
b(Integer)m FI(\).)28 b(Gi)n(v)o(en)c(the)f(typings:)141
2493 y FD(fromInteger)104 b(::)54 b(\(Num)f(a\))g(=>)h(Integer)d(->)j
(a)141 2605 y(fromRational)49 b(::)54 b(\(Fractional)49
b(a\))54 b(=>)g(Rational)d(->)i(a)0 2785 y FI(inte)o(ger)35
b(and)g(\003oating)g(literals)h(ha)n(v)o(e)f(the)f(typings)i
FD(\(Num)53 b(a\))h(=>)f(a)33 b FI(and)i FD(\(Fractional)49
b(a\))54 b(=>)g(a)o FI(,)0 2898 y(respecti)n(v)o(ely)-6
b(.)57 b(Numeric)32 b(literals)i(are)e(de\002ned)g(in)g(this)h
(indirect)g(w)o(ay)f(so)g(that)h(the)o(y)f(may)f(be)h(interpreted)j(as)
0 3011 y(v)n(alues)21 b(of)e(an)o(y)h(appropriate)i(numeric)f(type.)28
b(See)19 b(Section)h(4.3.4)g(for)f(a)g(discussion)k(of)c(o)o(v)o
(erloading)j(ambiguity)-6 b(.)0 3332 y FG(6.4.2)99 b(Arithmetic)26
b(and)f(Number)l(-Theor)n(etic)j(Operations)0 3581 y
FI(The)19 b(in\002x)g(class)i(methods)f FD(\(+\))o FI(,)f
FD(\(*\))o FI(,)g FD(\(-\))n FI(,)h(and)f(the)h(unary)h(function)g
FD(negate)16 b FI(\(which)k(can)g(also)g(be)f(written)0
3694 y(as)25 b(a)f(pre\002x)h(minus)g(sign;)i(see)e(section)h(3.4\))f
(apply)h(to)e(all)h(numbers.)34 b(The)24 b(class)i(methods)g
FD(quot)n FI(,)e FD(rem)o FI(,)g FD(div)n FI(,)0 3807
y(and)c FD(mod)e FI(apply)j(only)g(to)e(inte)o(gral)j(numbers,)f(while)
f(the)g(class)h(method)g FD(\(/\))c FI(applies)22 b(only)f(to)e
(fractional)k(ones.)0 3920 y(The)g FD(quot)n FI(,)g FD(rem)n
FI(,)g FD(div)n FI(,)g(and)h FD(mod)d FI(class)k(methods)g(satisfy)g
(these)f(la)o(ws)f(if)g FD(y)g FI(is)g(non-zero:)936
4095 y FD(\(x)54 b(\036)-19 b(quot)f(\036)54 b(y\)*y)f(+)h(\(x)g(\036)
-19 b(rem)g(\036)54 b(y\))f(==)h(x)936 4208 y(\(x)g(\036)-19
b(div)g(\036)108 b(y\)*y)53 b(+)h(\(x)g(\036)-19 b(mod)g(\036)54
b(y\))f(==)h(x)0 4381 y(`quot`)25 b FI(is)k(inte)o(ger)h(di)n(vision)g
(truncated)h(to)n(w)o(ard)f(zero,)g(while)f(the)g(result)h(of)e
FD(`div`)e FI(is)j(truncated)i(to)n(w)o(ard)0 4493 y(ne)o(gati)n(v)o(e)
k(in\002nity)-6 b(.)62 b(The)34 b FD(quotRem)d FI(class)k(method)g(tak)
o(es)h(a)e(di)n(vidend)i(and)f(a)f(di)n(visor)i(as)e(ar)n(guments)j
(and)0 4606 y(returns)25 b(a)e(\(quotient,)j(remainder\))g(pair;)e
FD(divMod)c FI(is)j(de\002ned)i(similarly:)141 4789 y
FD(quotRem)52 b(x)i(y)108 b(=)h(\(x)53 b(\036)-18 b(quot)e(\036)54
b(y,)g(x)g(\036)-19 b(rem)g(\036)54 b(y\))141 4902 y(divMod)107
b(x)54 b(y)108 b(=)h(\(x)53 b(\036)-18 b(div)e(\036)54
b(y,)g(x)g(\036)-18 b(mod)e(\036)54 b(y\))0 5081 y FI(Also)23
b(a)n(v)n(ailable)j(on)e(inte)o(gral)h(numbers)g(are)f(the)f(e)n(v)o
(en)h(and)g(odd)g(predicates:)141 5264 y FD(even)53 b(x)h(=)109
b(x)54 b(\036)-19 b(rem)g(\036)54 b(2)g(==)f(0)141 5376
y(odd)217 b(=)109 b(not)53 b(.)h(even)p eop
%%Page: 91 105
91 104 bop 300 100 a FE(6.4.)51 b(NUMBERS)2880 b FI(91)p
315 268 3548 4 v 315 3096 4 2829 v 366 391 a FD(class)107
b(\(Eq)53 b(a,)h(Show)e(a\))i(=>)g(Num)f(a)108 b(where)584
504 y(\(+\),)53 b(\(-\),)g(\(*\))107 b(::)54 b(a)g(->)g(a)g(->)f(a)584
617 y(negate)488 b(::)54 b(a)g(->)g(a)584 730 y(abs,)f(signum)215
b(::)54 b(a)g(->)g(a)584 843 y(fromInteger)213 b(::)54
b(Integer)d(->)j(a)366 1002 y(class)107 b(\(Num)52 b(a,)i(Ord)f(a\))h
(=>)g(Real)e(a)109 b(where)584 1115 y(toRational)50 b(::)108
b(a)54 b(->)g(Rational)366 1275 y(class)107 b(\(Real)52
b(a,)i(Enum)e(a\))i(=>)g(Integral)d(a)108 b(where)584
1388 y(quot,)52 b(rem,)h(div,)g(mod)g(::)h(a)g(->)f(a)h(->)g(a)584
1500 y(quotRem,)d(divMod)270 b(::)54 b(a)g(->)f(a)h(->)g(\(a,a\))584
1613 y(toInteger)596 b(::)54 b(a)g(->)f(Integer)366 1773
y(class)107 b(\(Num)52 b(a\))i(=>)g(Fractional)c(a)108
b(where)584 1886 y(\(/\))544 b(::)54 b(a)g(->)g(a)g(->)f(a)584
1999 y(recip)434 b(::)54 b(a)g(->)g(a)584 2112 y(fromRational)49
b(::)54 b(Rational)d(->)i(a)366 2271 y(class)107 b(\(Fractional)49
b(a\))54 b(=>)g(Floating)c(a)109 b(where)584 2384 y(pi)981
b(::)54 b(a)584 2497 y(exp,)f(log,)g(sqrt)325 b(::)54
b(a)g(->)f(a)584 2610 y(\(**\),)f(logBase)379 b(::)54
b(a)g(->)f(a)h(->)g(a)584 2723 y(sin,)f(cos,)g(tan)380
b(::)54 b(a)g(->)f(a)584 2835 y(asin,)f(acos,)h(atan)216
b(::)54 b(a)g(->)f(a)584 2948 y(sinh,)f(cosh,)h(tanh)216
b(::)54 b(a)g(->)f(a)584 3061 y(asinh,)f(acosh,)g(atanh)g(::)i(a)g(->)f
(a)p 3859 3096 V 315 3099 3548 4 v 839 3352 a FI(Figure)24
b(6.2:)29 b(Standard)c(Numeric)f(Classes)h(and)f(Related)g(Operations,)
h(P)o(art)e(1)338 3670 y(Finally)-6 b(,)44 b(there)39
b(are)g(the)h(greatest)g(common)g(di)n(visor)g(and)g(least)f(common)h
(multiple)g(functions.)77 b FD(gcd)37 b Fv(x)300 3783
y(y)45 b FI(is)37 b(the)g(greatest)j(\(positi)n(v)o(e\))f(inte)o(ger)f
(that)g(di)n(vides)h(both)f Fv(x)48 b FI(and)38 b Fv(y)8
b FI(;)43 b(for)38 b(e)o(xample)g FD(gcd)53 b(\(-3\))g(6)36
b FI(=)h FD(3)o FI(,)300 3896 y FD(gcd)53 b(\(-3\))g(\(-6\))21
b FI(=)i FD(3)o FI(,)g FD(gcd)53 b(0)h(4)22 b FI(=)h
FD(4)p FI(.)28 b FD(gcd)53 b(0)h(0)22 b FI(raises)j(a)e(runtime)i
(error)-5 b(.)300 4092 y FD(lcm)21 b Fv(x)34 b(y)d FI(is)23
b(the)h(smallest)h(positi)n(v)o(e)g(inte)o(ger)g(that)f(both)g
Fv(x)34 b FI(and)24 b Fv(y)31 b FI(di)n(vide.)300 4424
y FG(6.4.3)99 b(Exponentiation)26 b(and)g(Logarithms)300
4682 y FI(The)g(one-ar)n(gument)31 b(e)o(xponential)e(function)g
FD(exp)c FI(and)i(the)g(logarithm)h(function)h FD(log)c
FI(act)i(on)g(\003oating-point)300 4795 y(numbers)32
b(and)f(use)g(base)h Fv(e)6 b FI(.)50 b FD(logBase)26
b Fv(a)38 b(x)j FI(returns)32 b(the)f(logarithm)h(of)f
Fv(x)41 b FI(in)30 b(base)i Fv(a)7 b FI(.)50 b FD(sqrt)28
b FI(returns)k(the)300 4908 y(principal)c(square)g(root)f(of)f(a)f
(\003oating-point)30 b(number)-5 b(.)37 b(There)26 b(are)h(three)g(tw)o
(o-ar)n(gument)i(e)o(xponentiation)h(op-)300 5020 y(erations:)38
b FD(\(\210\))24 b FI(raises)k(an)o(y)f(number)g(to)g(a)f(nonne)o(gati)
n(v)o(e)j(inte)o(ger)f(po)n(wer)l(,)g FD(\(\210\210\))c
FI(raises)k(a)e(fractional)j(number)300 5133 y(to)d(an)o(y)g(inte)o
(ger)h(po)n(wer)l(,)g(and)f FD(\(**\))d FI(tak)o(es)k(tw)o(o)f
(\003oating-point)j(ar)n(guments.)38 b(The)25 b(v)n(alue)i(of)f
Fv(x)11 b FD(\2100)24 b FI(or)i Fv(x)11 b FD(\210\2100)23
b FI(is)300 5246 y FD(1)f FI(for)i(an)o(y)g Fv(x)11 b
FI(,)22 b(including)k(zero;)f FD(0**)n Fv(y)31 b FI(is)24
b(unde\002ned.)p eop
%%Page: 92 106
92 105 bop 0 100 a FI(92)1467 b FE(CHAPTER)19 b(6.)52
b(PREDEFINED)19 b(TYPES)h(AND)i(CLASSES)p 15 268 3548
4 v 15 2827 4 2559 v 66 394 a FD(class)107 b(\(Real)52
b(a,)i(Fractional)c(a\))j(=>)h(RealFrac)d(a)108 b(where)284
507 y(properFraction)157 b(::)54 b(\(Integral)c(b\))k(=>)g(a)g(->)f
(\(b,a\))284 620 y(truncate,)e(round)106 b(::)54 b(\(Integral)c(b\))k
(=>)g(a)g(->)f(b)284 733 y(ceiling,)e(floor)161 b(::)54
b(\(Integral)c(b\))k(=>)g(a)g(->)f(b)66 892 y(class)107
b(\(RealFrac)50 b(a,)k(Floating)d(a\))i(=>)h(RealFloat)c(a)109
b(where)284 1005 y(floatRadix)541 b(::)54 b(a)g(->)f(Integer)284
1118 y(floatDigits)486 b(::)54 b(a)g(->)f(Int)284 1231
y(floatRange)541 b(::)54 b(a)g(->)f(\(Int,Int\))284 1344
y(decodeFloat)486 b(::)54 b(a)g(->)f(\(Integer,Int\))284
1457 y(encodeFloat)486 b(::)54 b(Integer)d(->)j(Int)f(->)g(a)284
1570 y(exponent)651 b(::)54 b(a)g(->)f(Int)284 1683 y(significand)486
b(::)54 b(a)g(->)f(a)284 1795 y(scaleFloat)541 b(::)54
b(Int)f(->)g(a)i(->)e(a)284 1908 y(isNaN,)f(isInfinite,)d
(isDenormalized,)f(isNegativeZero,)g(isIEEE)1375 2021
y(::)54 b(a)g(->)f(Bool)284 2134 y(atan2)816 b(::)54
b(a)g(->)f(a)h(->)g(a)66 2294 y(gcd,)f(lcm)g(::)g(\(Integral)e(a\))j
(=>)f(a)h(->)g(a->)f(a)66 2406 y(\(\210\))326 b(::)53
b(\(Num)g(a,)h(Integral)d(b\))i(=>)h(a)g(->)g(b)g(->)f(a)66
2519 y(\(\210\210\))271 b(::)53 b(\(Fractional)d(a,)k(Integral)d(b\))i
(=>)h(a)g(->)g(b)g(->)f(a)66 2679 y(fromIntegral)c(::)54
b(\(Integral)c(a,)k(Num)f(b\))h(=>)f(a)h(->)g(b)66 2792
y(realToFrac)159 b(::)54 b(\(Real)e(a,)i(Fractional)c(b\))j(=>)h(a)g
(->)g(b)p 3559 2827 V 15 2830 3548 4 v 539 3083 a FI(Figure)24
b(6.3:)29 b(Standard)c(Numeric)f(Classes)h(and)f(Related)g(Operations,)
h(P)o(art)e(2)0 3401 y FG(6.4.4)99 b(Magnitude)26 b(and)f(Sign)0
3658 y FI(A)h(number)h(has)g(a)g FJ(ma)o(gnitude)h FI(and)g(a)e
FJ(sign)p FI(.)39 b(The)26 b(functions)k FD(abs)24 b
FI(and)j FD(signum)d FI(apply)k(to)e(an)o(y)h(number)h(and)0
3771 y(satisfy)d(the)f(la)o(w:)141 3967 y FD(abs)53 b(x)h(*)h(signum)c
(x)j(==)g(x)0 4163 y FI(F)o(or)23 b(real)h(numbers,)g(these)h
(functions)h(are)e(de\002ned)g(by:)141 4353 y FD(abs)53
b(x)218 b(|)54 b(x)g(>=)g(0)108 b(=)55 b(x)632 4466 y(|)f(x)g(<)109
b(0)f(=)55 b(-x)141 4625 y(signum)d(x)i(|)g(x)g(>)109
b(0)f(=)55 b(1)632 4738 y(|)f(x)g(==)g(0)108 b(=)55 b(0)632
4851 y(|)f(x)g(<)109 b(0)f(=)55 b(-1)p eop
%%Page: 93 107
93 106 bop 300 100 a FE(6.4.)51 b(NUMBERS)2880 b FI(93)300
356 y FG(6.4.5)99 b(T)-7 b(rigonometric)25 b(Functions)300
613 y FI(Class)e FD(Floating)c FI(pro)o(vides)24 b(the)f(circular)i
(and)f(hyperbolic)h(sine,)e(cosine,)i(and)e(tangent)i(functions)g(and)e
(their)300 726 y(in)l(v)o(erses.)64 b(Def)o(ault)36 b(implementations)i
(of)c FD(tan)o FI(,)i FD(tanh)n FI(,)h FD(logBase)m FI(,)f
FD(**)o FI(,)g(and)g FD(sqrt)c FI(are)i(pro)o(vided,)40
b(b)n(ut)300 839 y(implementors)26 b(are)d(free)h(to)g(pro)o(vide)h
(more)f(accurate)h(implementations.)300 1035 y(Class)i
FD(RealFloat)21 b FI(pro)o(vides)29 b(a)d(v)o(ersion)i(of)f(arctangent)
i(taking)f(tw)o(o)e(real)h(\003oating-point)j(ar)n(guments.)40
b(F)o(or)300 1148 y(real)26 b(\003oating)h Fv(x)36 b
FI(and)26 b Fv(y)8 b FI(,)25 b FD(atan2)e Fv(y)33 b(x)j
FI(computes)27 b(the)f(angle)h(\(from)f(the)g(positi)n(v)o(e)h
(x-axis\))g(of)f(the)g(v)o(ector)g(from)300 1261 y(the)g(origin)h(to)e
(the)h(point)h Ft(\()p Fv(x)11 b Fq(;)k Fv(y)8 b Ft(\))q
FI(.)34 b FD(atan2)22 b Fv(y)33 b(x)j FI(returns)27 b(a)e(v)n(alue)i
(in)e(the)h(range)h FD([-pi,)52 b(pi])o FI(.)33 b(It)26
b(follo)n(ws)g(the)300 1374 y(Common)f(Lisp)g(semantics)h(for)g(the)f
(origin)h(when)g(signed)g(zeroes)h(are)e(supported.)36
b FD(atan2)22 b Fv(y)32 b FD(1)p FI(,)24 b(with)h Fv(y)33
b FI(in)25 b(a)300 1487 y(type)h(that)g(is)e FD(RealFloat)l
FI(,)h(should)i(return)f(the)f(same)g(v)n(alue)h(as)f
FD(atan)e Fv(y)8 b FI(.)33 b(A)24 b(def)o(ault)i(de\002nition)h(of)e
FD(atan2)300 1600 y FI(is)e(pro)o(vided,)j(b)n(ut)e(implementors)h(can)
f(pro)o(vide)h(a)f(more)f(accurate)j(implementation.)300
1795 y(The)20 b(precise)i(de\002nition)g(of)f(the)f(abo)o(v)o(e)h
(functions)i(is)e(as)f(in)g(Common)g(Lisp,)h(which)g(in)f(turn)h(follo)
n(ws)g(Pen\002eld')-5 b(s)300 1908 y(proposal)38 b(for)e(APL)e([9)q(].)
65 b(See)35 b(these)i(references)i(for)d(discussions)j(of)d(branch)h
(cuts,)i(discontinuities,)44 b(and)300 2021 y(implementation.)300
2354 y FG(6.4.6)99 b(Coer)n(cions)25 b(and)h(Component)g(Extraction)300
2611 y FI(The)31 b FD(ceiling)m FI(,)h FD(floor)n FI(,)g
FD(truncate)m FI(,)g(and)g FD(round)c FI(functions)34
b(each)e(tak)o(e)g(a)f(real)h(fractional)i(ar)n(gument)300
2724 y(and)29 b(return)h(an)f(inte)o(gral)i(result.)46
b FD(ceiling)19 b Fv(x)39 b FI(returns)31 b(the)e(least)h(inte)o(ger)g
(not)f(less)h(than)f Fv(x)11 b FI(,)29 b(and)h FD(floor)20
b Fv(x)11 b FI(,)300 2837 y(the)25 b(greatest)h(inte)o(ger)f(not)g
(greater)h(than)f Fv(x)11 b FI(.)30 b FD(truncate)20
b Fv(x)34 b FI(yields)26 b(the)e(inte)o(ger)i(nearest)g
Fv(x)35 b FI(between)25 b Fv(0)36 b FI(and)25 b Fv(x)11
b FI(,)300 2950 y(inclusi)n(v)o(e.)30 b FD(round)21 b
Fv(x)32 b FI(returns)24 b(the)e(nearest)i(inte)o(ger)g(to)e
Fv(x)11 b FI(,)21 b(the)i(e)n(v)o(en)f(inte)o(ger)h(if)f
Fv(x)33 b FI(is)22 b(equidistant)j(between)f(tw)o(o)300
3062 y(inte)o(gers.)300 3258 y(The)29 b(function)j FD(properFraction)22
b FI(tak)o(es)31 b(a)e(real)h(fractional)i(number)e Fv(x)40
b FI(and)30 b(returns)h(a)e(pair)h Ft(\()p Fv(n)7 b Fq(;)15
b Fv(f)20 b Ft(\))29 b FI(such)300 3371 y(that)22 b Fv(x)59
b Ft(=)48 b Fv(n)27 b Ft(+)20 b Fv(f)f FI(,)i(and:)29
b Fv(n)f FI(is)21 b(an)g(inte)o(gral)i(number)g(with)e(the)h(same)g
(sign)g(as)f Fv(x)11 b FI(;)22 b(and)g Fv(f)40 b FI(is)21
b(a)g(fraction)j Fv(f)40 b FI(with)21 b(the)300 3484
y(same)j(type)g(and)g(sign)g(as)g Fv(x)11 b FI(,)22 b(and)j(with)e
(absolute)j(v)n(alue)e(less)g(than)h(1.)j(The)23 b FD(ceiling)m
FI(,)g FD(floor)m FI(,)g FD(truncate)l FI(,)300 3597
y(and)h FD(round)c FI(functions)27 b(can)c(be)h(de\002ned)g(in)g(terms)
g(of)f FD(properFraction)-6 b FI(.)300 3793 y(T)f(w)o(o)24
b(functions)j(con)l(v)o(ert)g(numbers)f(to)f(type)h FD(Rational)l
FI(:)31 b FD(toRational)20 b FI(returns)27 b(the)e(rational)i(equi)n(v)
n(alent)300 3906 y(of)e(its)g(real)g(ar)n(gument)i(with)e(full)g
(precision;)k FD(approxRational)17 b FI(tak)o(es)26 b(tw)o(o)f(real)g
(fractional)j(ar)n(guments)f Fv(x)300 4019 y FI(and)f
Fq(\017)f FI(and)h(returns)h(the)f(simplest)h(rational)h(number)e
(within)g Fq(\017)f FI(of)h Fv(x)11 b FI(,)25 b(where)h(a)f(rational)i
Fq(p=q)h FI(in)e(reduced)h(form)300 4132 y(is)d FJ(simpler)h
FI(than)f(another)i Fq(p)1201 4099 y Fs(0)1224 4132 y
Fq(=q)1313 4099 y Fs(0)1360 4132 y FI(if)d FB(j)p Fq(p)p
FB(j)k(\024)e(j)p Fq(p)1728 4099 y Fs(0)1752 4132 y FB(j)e
FI(and)h Fq(q)29 b FB(\024)d Fq(q)2165 4099 y Fs(0)2188
4132 y FI(.)j(Ev)o(ery)24 b(real)g(interv)n(al)i(contains)g(a)d(unique)
j(simplest)300 4245 y(rational;)g(in)d(particular)l(,)j(note)f(that)f
Ft(0)p Fq(=)p Ft(1)g FI(is)f(the)h(simplest)h(rational)g(of)f(all.)300
4441 y(The)47 b(class)h(methods)g(of)f(class)h FD(RealFloat)43
b FI(allo)n(w)k(ef)n(\002cient,)53 b(machine-independen)q(t)f(access)d
(to)e(the)300 4554 y(components)g(of)e(a)f(\003oating-point)k(number)-5
b(.)92 b(The)45 b(functions)i FD(floatRadix)-5 b FI(,)49
b FD(floatDigits)-5 b FI(,)49 b(and)300 4666 y FD(floatRange)30
b FI(gi)n(v)o(e)35 b(the)g(parameters)i(of)e(a)g(\003oating-point)j
(type:)53 b(the)36 b(radix)g(of)f(the)g(representation,)42
b(the)300 4779 y(number)33 b(of)f(digits)h(of)f(this)h(radix)g(in)f
(the)h(signi\002cand,)j(and)c(the)h(lo)n(west)f(and)h(highest)g(v)n
(alues)h(the)e(e)o(xponent)300 4892 y(may)g(assume,)j(respecti)n(v)o
(ely)-6 b(.)57 b(The)31 b(function)k FD(decodeFloat)26
b FI(applied)34 b(to)e(a)f(real)i(\003oating-point)i(number)300
5005 y(returns)29 b(the)e(signi\002cand)j(e)o(xpressed)f(as)e(an)h
FD(Integer)23 b FI(and)28 b(an)f(appropriately)k(scaled)e(e)o(xponent)g
(\(an)e FD(Int)o FI(\).)300 5118 y(If)c FD(decodeFloat)49
b(x)22 b FI(yields)i FD(\()o Fv(m)8 b FD(,)o Fv(n)f FD(\))p
FI(,)22 b(then)h FD(x)f FI(is)g(equal)i(in)f(v)n(alue)h(to)e
Fv(mb)2781 5085 y Fu(n)2831 5118 y FI(,)g(where)h Fv(b)k
FI(is)c(the)g(\003oating-point)300 5231 y(radix,)i(and)g(furthermore,)h
(either)g Fv(m)k FI(and)25 b Fv(n)30 b FI(are)25 b(both)g(zero)g(or)f
(else)h Fv(b)2551 5198 y Fu(d)7 b Fs(\000)p Fu(1)2723
5231 y FB(\024)25 b Fv(m)32 b Fq(<)25 b Fv(b)3069 5198
y Fu(d)3116 5231 y FI(,)e(where)i Fv(d)33 b FI(is)24
b(the)g(v)n(alue)300 5344 y(of)g FD(floatDigits)50 b(x)o
FI(.)31 b FD(encodeFloat)19 b FI(performs)26 b(the)e(in)l(v)o(erse)i
(of)f(this)g(transformation.)35 b(The)24 b(functions)p
eop
%%Page: 94 108
94 107 bop 0 100 a FI(94)1467 b FE(CHAPTER)19 b(6.)52
b(PREDEFINED)19 b(TYPES)h(AND)i(CLASSES)0 356 y FD(significand)27
b FI(and)32 b FD(exponent)c FI(together)35 b(pro)o(vide)f(the)f(same)f
(information)j(as)d FD(decodeFloat)-5 b FI(,)34 b(b)n(ut)0
469 y(rather)f(than)g(an)g FD(Integer)m FI(,)g FD(significand)50
b(x)31 b FI(yields)i(a)f(v)n(alue)h(of)f(the)h(same)f(type)h(as)f
FD(x)p FI(,)h(scaled)h(to)e(lie)0 582 y(in)i(the)g(open)g(interv)n(al)i
Ft(\()p FB(\000)p Fv(1)12 b Fq(;)j Fv(1)d Ft(\))r FI(.)59
b FD(exponent)51 b(0)32 b FI(is)i(zero.)60 b FD(scaleFloat)28
b FI(multiplies)36 b(a)d(\003oating-point)0 695 y(number)24
b(by)g(an)g(inte)o(ger)g(po)n(wer)g(of)g(the)f(radix.)0
891 y(The)31 b(functions)k FD(isNaN)m FI(,)e FD(isInfinite)l
FI(,)g FD(isDenormalized)-7 b FI(,)33 b FD(isNegativeZero)-6
b FI(,)32 b(and)h FD(isIEEE)0 1004 y FI(all)e(support)i(numbers)f
(represented)i(using)e(the)f(IEEE)d(standard.)53 b(F)o(or)30
b(non-IEEE)h(\003oating)g(point)h(numbers,)0 1116 y(these)25
b(may)e(all)g(return)i(f)o(alse.)0 1312 y(Also)e(a)n(v)n(ailable)j(are)
e(the)g(follo)n(wing)h(coercion)h(functions:)141 1502
y FD(fromIntegral)49 b(::)54 b(\(Integral)c(a,)k(Num)f(b\))217
b(=>)54 b(a)g(->)g(b)141 1615 y(realToFrac)159 b(::)54
b(\(Real)e(a,)i(Fractional)c(b\))j(=>)h(a)g(->)g(b)p
eop
%%Page: 95 109
95 108 bop 300 1052 a Fw(Chapter)44 b(7)300 1540 y FH(Basic)52
b(Input/Output)300 2059 y FI(The)22 b(I/O)g(system)h(in)g(Hask)o(ell)g
(is)f(purely)i(functional,)i(yet)c(has)h(all)g(of)f(the)h(e)o(xpressi)n
(v)o(e)h(po)n(wer)f(found)h(in)e(con)l(v)o(en-)300 2172
y(tional)28 b(programming)h(languages.)43 b(T)-7 b(o)25
b(achie)n(v)o(e)k(this,)f(Hask)o(ell)g(uses)g(a)e Fv(monad)38
b FI(to)27 b(inte)o(grate)i(I/O)d(operations)300 2285
y(into)e(a)f(purely)i(functional)i(conte)o(xt.)300 2471
y(The)f(I/O)f(monad)i(used)g(by)f(Hask)o(ell)h(mediates)h(between)f
(the)g Fv(values)33 b FI(natural)27 b(to)g(a)e(functional)k(language)g
(and)300 2584 y(the)e Fv(actions)34 b FI(that)27 b(characterize)i(I/O)d
(operations)k(and)c(imperati)n(v)o(e)i(programming)h(in)d(general.)39
b(The)26 b(order)h(of)300 2697 y(e)n(v)n(aluation)j(of)e(e)o
(xpressions)i(in)e(Hask)o(ell)h(is)e(constrained)k(only)e(by)e(data)i
(dependencies;)34 b(an)27 b(implementation)300 2809 y(has)j(a)g(great)h
(deal)f(of)g(freedom)h(in)f(choosing)i(this)f(order)-5
b(.)49 b(Actions,)32 b(ho)n(we)n(v)o(er)l(,)g(must)e(be)g(ordered)i(in)
e(a)f(well-)300 2922 y(de\002ned)j(manner)h(for)e(program)i(e)o(x)o
(ecution)g(\226)e(and)h(I/O)f(in)g(particular)j(\226)d(to)h(be)f
(meaningful.)55 b(Hask)o(ell')-5 b(s)33 b(I/O)300 3035
y(monad)22 b(pro)o(vides)i(the)e(user)g(with)f(a)g(w)o(ay)h(to)f
(specify)i(the)f(sequential)j(chaining)f(of)d(actions,)i(and)g(an)e
(implemen-)300 3148 y(tation)k(is)e(obliged)j(to)d(preserv)o(e)i(this)f
(order)-5 b(.)300 3334 y(The)29 b(term)g Fv(monad)39
b FI(comes)30 b(from)f(a)g(branch)i(of)e(mathematics)i(kno)n(wn)e(as)h
FJ(cate)l(gory)h(theory)p FI(.)48 b(From)28 b(the)h(per)n(-)300
3447 y(specti)n(v)o(e)f(of)f(a)g(Hask)o(ell)h(programmer)l(,)h(ho)n(we)
n(v)o(er)l(,)f(it)f(is)f(best)i(to)f(think)h(of)f(a)f(monad)i(as)f(an)f
FJ(abstr)o(act)j(datatype)p FI(.)300 3560 y(In)21 b(the)h(case)g(of)g
(the)f(I/O)g(monad,)h(the)g(abstract)h(v)n(alues)g(are)f(the)f
Fv(actions)30 b FI(mentioned)23 b(abo)o(v)o(e.)29 b(Some)20
b(operations)300 3673 y(are)31 b(primiti)n(v)o(e)g(actions,)i
(corresponding)i(to)30 b(con)l(v)o(entional)k(I/O)c(operations.)52
b(Special)31 b(operations)j(\(methods)300 3786 y(in)26
b(the)g(class)h FD(Monad)n FI(,)e(see)h(Section)h(6.3.6\))f
(sequentially)k(compose)d(actions,)h(corresponding)i(to)c(sequencing)
300 3899 y(operators)g(\(such)f(as)e(the)h(semicolon\))i(in)d(imperati)
n(v)o(e)i(languages.)300 4260 y FC(7.1)119 b(Standard)31
b(I/O)f(Functions)300 4541 y FI(Although)24 b(Hask)o(ell)f(pro)o(vides)
h(f)o(airly)f(sophisticated)j(I/O)21 b(f)o(acilities,)k(as)d(de\002ned)
h(in)f(the)g FD(IO)e FI(library)-6 b(,)24 b(it)e(is)g(possi-)300
4653 y(ble)i(to)h(write)f(man)o(y)g(Hask)o(ell)h(programs)h(using)f
(only)g(the)g(fe)n(w)e(simple)i(functions)i(that)d(are)h(e)o(xported)h
(from)e(the)300 4766 y(Prelude,)g(and)g(which)g(are)g(described)i(in)d
(this)h(section.)300 4953 y(All)k(I/O)g(functions)j(de\002ned)e(here)h
(are)e(character)j(oriented.)46 b(The)28 b(treatment)i(of)f(the)f(ne)n
(wline)i(character)h(will)300 5065 y(v)n(ary)25 b(on)g(dif)n(ferent)i
(systems.)33 b(F)o(or)24 b(e)o(xample,)i(tw)o(o)e(characters)j(of)e
(input,)h(return)g(and)f(linefeed,)i(may)e(read)g(as)g(a)300
5178 y(single)g(ne)n(wline)f(character)-5 b(.)31 b(These)24
b(functions)i(cannot)f(be)f(used)g(portably)i(for)e(binary)h(I/O.)300
5365 y(In)e(the)h(follo)n(wing,)h(recall)g(that)f FD(String)c
FI(is)j(a)g(synon)o(ym)i(for)f FD([Char])c FI(\(Section)k(6.1.2\).)2055
5593 y(95)p eop
%%Page: 96 110
96 109 bop 0 100 a FI(96)2015 b FE(CHAPTER)20 b(7.)51
b(B)m(ASIC)22 b(INPUT/OUTPUT)0 356 y FF(Output)e(Functions)90
b FI(These)22 b(functions)i(write)e(to)f(the)h(standard)i(output)f(de)n
(vice)f(\(this)h(is)e(normally)i(the)f(user')-5 b(s)0
469 y(terminal\).)250 655 y FD(putChar)106 b(::)54 b(Char)e(->)i(IO)g
(\(\))250 768 y(putStr)161 b(::)54 b(String)e(->)h(IO)h(\(\))250
881 y(putStrLn)d(::)j(String)e(->)h(IO)h(\(\))108 b(--)54
b(adds)e(a)i(newline)250 994 y(print)216 b(::)54 b(Show)e(a)j(=>)e(a)h
(->)g(IO)g(\(\))45 1181 y FI(The)23 b FD(print)d FI(function)25
b(outputs)g(a)e(v)n(alue)h(of)f(an)o(y)h(printable)h(type)f(to)f(the)h
(standard)h(output)g(de)n(vice.)30 b(Printable)0 1294
y(types)25 b(are)g(those)g(that)g(are)f(instances)j(of)d(class)h
FD(Show)n FI(;)f FD(print)d FI(con)l(v)o(erts)27 b(v)n(alues)e(to)f
(strings)i(for)e(output)i(using)0 1407 y(the)e FD(show)d
FI(operation)26 b(and)e(adds)g(a)f(ne)n(wline.)0 1603
y(F)o(or)g(e)o(xample,)h(a)f(program)i(to)e(print)h(the)g(\002rst)f(20)
h(inte)o(gers)h(and)f(their)h(po)n(wers)f(of)f(2)g(could)i(be)f
(written)g(as:)141 1799 y FD(main)53 b(=)h(print)e(\([\(n,)g(2\210n\))h
(|)h(n)g(<-)g([0..19]]\))0 2324 y FF(Input)25 b(Functions)91
b FI(These)27 b(functions)i(read)e(input)h(from)e(the)h(standard)i
(input)f(de)n(vice)g(\(normally)g(the)f(user')-5 b(s)0
2437 y(terminal\).)250 2623 y FD(getChar)270 b(::)53
b(IO)h(Char)250 2736 y(getLine)270 b(::)53 b(IO)h(String)250
2849 y(getContents)c(::)j(IO)h(String)250 2962 y(interact)215
b(::)53 b(\(String)f(->)h(String\))f(->)h(IO)h(\(\))250
3075 y(readIO)325 b(::)53 b(Read)g(a)h(=>)g(String)e(->)h(IO)h(a)250
3188 y(readLn)325 b(::)53 b(Read)g(a)h(=>)g(IO)f(a)0
3375 y FI(The)19 b FD(getChar)c FI(operation)22 b(raises)e(an)g(e)o
(xception)h(\(Section)g(7.3\))e(on)g(end-of-\002le;)k(a)c(predicate)j
FD(isEOFError)0 3488 y FI(that)j(identi\002es)i(this)e(e)o(xception)i
(is)e(de\002ned)h(in)e(the)h FD(IO)e FI(library)-6 b(.)35
b(The)24 b FD(getLine)d FI(operation)27 b(raises)f(an)f(e)o(xcep-)0
3601 y(tion)f(under)h(the)f(same)f(circumstances)k(as)c
FD(hGetLine)m FI(,)f(de\002ned)j(the)e FD(IO)f FI(library)-6
b(.)0 3797 y(The)26 b FD(getContents)21 b FI(operation)30
b(returns)e(all)f(user)g(input)h(as)f(a)f(single)i(string,)h(which)e
(is)g(read)g(lazily)h(as)f(it)f(is)0 3910 y(needed.)54
b(The)31 b FD(interact)c FI(function)33 b(tak)o(es)g(a)e(function)i(of)
e(type)i FD(String->String)24 b FI(as)31 b(its)h(ar)n(gument.)0
4023 y(The)c(entire)i(input)f(from)f(the)h(standard)i(input)e(de)n
(vice)h(is)e(passed)i(to)e(this)h(function)i(as)d(its)h(ar)n(gument,)i
(and)e(the)0 4135 y(resulting)d(string)f(is)e(output)i(on)f(the)g
(standard)h(output)g(de)n(vice.)0 4331 y(T)-7 b(ypically)h(,)21
b(the)e FD(read)d FI(operation)22 b(from)d(class)g FD(Read)e
FI(is)h(used)i(to)f(con)l(v)o(ert)i(the)e(string)h(to)f(a)f(v)n(alue.)
28 b(The)19 b FD(readIO)0 4444 y FI(function)25 b(is)e(similar)g(to)g
FD(read)d FI(e)o(xcept)k(that)g(it)e(signals)j(parse)e(f)o(ailure)i(to)
e(the)g(I/O)f(monad)h(instead)i(of)e(terminat-)0 4557
y(ing)h(the)g(program.)30 b(The)23 b FD(readLn)d FI(function)25
b(combines)h FD(getLine)19 b FI(and)24 b FD(readIO)m
FI(.)0 4753 y(The)19 b(follo)n(wing)j(program)f(simply)f(remo)o(v)o(es)
g(all)g(non-ASCII)g(characters)j(from)d(its)f(standard)j(input)f(and)g
(echoes)0 4866 y(the)j(result)h(on)e(its)h(standard)i(output.)k(\(The)
23 b FD(isAscii)d FI(function)25 b(is)f(de\002ned)g(in)g(a)f(library)-6
b(.\))141 5062 y FD(main)53 b(=)h(interact)d(\(filter)g(isAscii\))p
eop
%%Page: 97 111
97 110 bop 300 100 a FE(7.2.)51 b(SEQ)o(UENCING)20 b(I/O)j(OPERA)-10
b(TIONS)2016 b FI(97)300 356 y FF(Files)92 b FI(These)40
b(functions)i(operate)f(on)f(\002les)f(of)h(characters.)80
b(Files)39 b(are)h(named)g(by)g(strings)h(using)g(some)300
469 y(implementation-speci\002c)28 b(method)d(to)e(resolv)o(e)i
(strings)g(as)f(\002le)f(names.)300 665 y(The)j FD(writeFile)21
b FI(and)26 b FD(appendFile)21 b FI(functions)28 b(write)e(or)g(append)
i(the)e(string,)i(their)f(second)h(ar)n(gument,)300 778
y(to)c(the)f(\002le,)g(their)i(\002rst)e(ar)n(gument.)31
b(The)23 b FD(readFile)c FI(function)26 b(reads)e(a)f(\002le)g(and)h
(returns)i(the)e(contents)h(of)f(the)300 891 y(\002le)f(as)g(a)g
(string.)30 b(The)24 b(\002le)e(is)i(read)g(lazily)-6
b(,)25 b(on)e(demand,)h(as)g(with)f FD(getContents)-5
b FI(.)550 1081 y FD(type)53 b(FilePath)e(=)108 b(String)550
1240 y(writeFile)d(::)54 b(FilePath)d(->)i(String)f(->)i(IO)f(\(\))550
1353 y(appendFile)d(::)k(FilePath)d(->)i(String)f(->)i(IO)f(\(\))550
1466 y(readFile)160 b(::)54 b(FilePath)596 b(->)54 b(IO)f(String)300
1653 y FI(Note)29 b(that)h FD(writeFile)25 b FI(and)k
FD(appendFile)24 b FI(write)30 b(a)e(literal)j(string)g(to)e(a)g
(\002le.)45 b(T)-7 b(o)28 b(write)i(a)f(v)n(alue)h(of)f(an)o(y)300
1766 y(printable)d(type,)e(as)f(with)h FD(print)m FI(,)f(use)h(the)g
FD(show)d FI(function)k(to)f(con)l(v)o(ert)h(the)f(v)n(alue)g(to)g(a)f
(string)i(\002rst.)441 1962 y FD(main)53 b(=)h(appendFile)c("squares")g
(\(show)j([\(x,x*x\))e(|)j(x)g(<-)f([0,0.1..2]]\))300
2533 y FC(7.2)119 b(Sequencing)32 b(I/O)e(Operations)300
2824 y FI(The)f(type)i(constructor)i FD(IO)28 b FI(is)h(an)h(instance)i
(of)e(the)g FD(Monad)c FI(class.)48 b(The)30 b(tw)o(o)f(monadic)i
(binding)h(functions,)300 2936 y(methods)f(in)e(the)h
FD(Monad)c FI(class,)32 b(are)e(used)g(to)f(compose)i(a)e(series)i(of)e
(I/O)g(operations.)50 b(The)29 b FD(>>)f FI(function)j(is)300
3049 y(used)g(where)f(the)g(result)g(of)g(the)g(\002rst)f(operation)k
(is)c(uninteresting,)35 b(for)30 b(e)o(xample)h(when)f(it)f(is)h
FD(\(\))o FI(.)46 b(The)29 b FD(>>=)300 3162 y FI(operation)d(passes)f
(the)f(result)h(of)e(the)h(\002rst)f(operation)j(as)e(an)f(ar)n(gument)
j(to)d(the)h(second)h(operation.)550 3352 y FD(\(>>=\))53
b(::)g(IO)h(a)g(->)f(\(a)h(->)g(IO)f(b\))h(->)g(IO)f(b)550
3465 y(\(>>\))108 b(::)53 b(IO)h(a)g(->)f(IO)h(b)436
b(->)54 b(IO)f(b)300 3652 y FI(F)o(or)23 b(e)o(xample,)441
3842 y FD(main)53 b(=)h(readFile)d("input-file")1249
b(>>=)53 b(\\)h(s)g(->)823 3955 y(writeFile)c("output-file")f(\(filter)
i(isAscii)h(s\))108 b(>>)823 4068 y(putStr)52 b("Filtering)e
(successful\\n")300 4255 y FI(is)22 b(similar)g(to)g(the)g(pre)n(vious)
i(e)o(xample)f(using)g FD(interact)m FI(,)e(b)n(ut)h(tak)o(es)h(its)f
(input)h(from)f FD("input-file")16 b FI(and)300 4368
y(writes)34 b(its)f(output)i(to)e FD("output-file")-6
b FI(.)57 b(A)32 b(message)j(is)e(printed)i(on)e(the)h(standard)h
(output)g(before)g(the)300 4481 y(program)25 b(completes.)300
4677 y(The)18 b FD(do)g FI(notation)j(allo)n(ws)e(programming)i(in)e(a)
f(more)h(imperati)n(v)o(e)i(syntactic)g(style.)28 b(A)18
b(slightly)j(more)e(elaborate)300 4790 y(v)o(ersion)25
b(of)e(the)h(pre)n(vious)i(e)o(xample)e(w)o(ould)g(be:)p
eop
%%Page: 98 112
98 111 bop 0 100 a FI(98)2015 b FE(CHAPTER)20 b(7.)51
b(B)m(ASIC)22 b(INPUT/OUTPUT)141 344 y FD(main)53 b(=)h(do)578
457 y(putStr)d("Input)h(file:)g(")578 569 y(ifile)g(<-)h(getLine)578
682 y(putStr)e("Output)h(file:)g(")578 795 y(ofile)g(<-)h(getLine)578
908 y(s)h(<-)f(readFile)e(ifile)578 1021 y(writeFile)f(ofile)i
(\(filter)g(isAscii)f(s\))578 1134 y(putStr)g("Filtering)f
(successful\\n")0 1437 y FI(The)28 b FD(return)c FI(function)30
b(is)e(used)h(to)e(de\002ne)i(the)f(result)h(of)f(an)g(I/O)f
(operation.)45 b(F)o(or)27 b(e)o(xample,)i FD(getLine)24
b FI(is)0 1550 y(de\002ned)g(in)g(terms)g(of)f FD(getChar)m
FI(,)f(using)j FD(return)20 b FI(to)j(de\002ne)h(the)g(result:)141
1731 y FD(getLine)52 b(::)h(IO)h(String)141 1844 y(getLine)e(=)i(do)f
(c)h(<-)g(getChar)850 1957 y(if)g(c)g(==)g('\\n')e(then)h(return)f("")
1559 2070 y(else)h(do)h(s)g(<-)f(getLine)1996 2183 y(return)e(\(c:s\))0
2661 y FC(7.3)119 b(Exception)30 b(Handling)i(in)e(the)g(I/O)g(Monad)0
2942 y FI(The)36 b(I/O)f(monad)i(includes)h(a)e(simple)h(e)o(xception)h
(handling)h(system.)67 b(An)o(y)35 b(I/O)h(operation)i(may)e(raise)h
(an)0 3055 y(e)o(xception)26 b(instead)f(of)f(returning)i(a)d(result.)0
3242 y(Exceptions)k(in)d(the)h(I/O)e(monad)j(are)e(represented)k(by)c
(v)n(alues)i(of)e(type)h FD(IOError)m FI(.)31 b(This)24
b(is)g(an)h(abstract)h(type:)0 3355 y(its)d(constructors)k(are)c
(hidden)i(from)d(the)i(user)-5 b(.)29 b(The)23 b FD(IO)e
FI(library)j(de\002nes)g(functions)i(that)d(construct)j(and)d(e)o(xam-)
0 3468 y(ine)k FD(IOError)22 b FI(v)n(alues.)39 b(The)26
b(only)h(Prelude)h(function)h(that)e(creates)h(an)e FD(IOError)d
FI(v)n(alue)k(is)f FD(userError)l FI(.)0 3580 y(User)d(error)i(v)n
(alues)f(include)i(a)d(string)i(describing)h(the)e(error)-5
b(.)250 3767 y FD(userError)51 b(::)i(String)f(->)i(IOError)0
3954 y FI(Exceptions)26 b(are)d(raised)i(and)f(caught)h(using)g(the)f
(follo)n(wing)h(functions:)250 4135 y FD(ioError)52 b(::)h(IOError)f
(->)h(IO)h(a)250 4248 y(catch)162 b(::)53 b(IO)h(a)218
b(->)53 b(\(IOError)e(->)j(IO)f(a\))h(->)g(IO)f(a)0 4426
y FI(The)22 b FD(ioError)c FI(function)25 b(raises)e(an)f(e)o
(xception;)k(the)c FD(catch)d FI(function)25 b(establishes)g(a)d
(handler)i(that)f(recei)n(v)o(es)0 4539 y(an)o(y)j(e)o(xception)h
(raised)g(in)f(the)g(action)g(protected)i(by)e FD(catch)n
FI(.)34 b(An)25 b(e)o(xception)i(is)f(caught)h(by)f(the)f(most)h
(recent)0 4652 y(handler)h(established)g(by)e FD(catch)n
FI(.)31 b(These)25 b(handlers)i(are)e(not)g(selecti)n(v)o(e:)34
b(all)24 b(e)o(xceptions)k(are)d(caught.)34 b(Excep-)0
4765 y(tion)d(propagation)i(must)d(be)h(e)o(xplicitly)h(pro)o(vided)g
(in)f(a)e(handler)j(by)f(re-raising)i(an)o(y)d(unw)o(anted)i(e)o
(xceptions.)0 4878 y(F)o(or)23 b(e)o(xample,)h(in)141
5065 y FD(f)54 b(=)g(catch)f(g)h(\(\\e)f(->)g(if)h(IO.isEOFError)49
b(e)54 b(then)f(return)e([])j(else)f(ioError)e(e\))0
5252 y FI(the)32 b(function)h FD(f)d FI(returns)j FD([])d
FI(when)h(an)g(end-of-\002le)j(e)o(xception)f(occurs)g(in)e
FD(g)p FI(;)k(otherwise,)f(the)e(e)o(xception)h(is)0
5365 y(propagated)26 b(to)e(the)f(ne)o(xt)h(outer)h(handler)-5
b(.)30 b(The)24 b FD(isEOFError)18 b FI(function)25 b(is)f(part)g(of)f
FD(IO)f FI(library)-6 b(.)p eop
%%Page: 99 113
99 112 bop 300 100 a FE(7.3.)51 b(EXCEPTION)20 b(HANDLING)g(IN)j(THE)e
(I/O)i(MON)m(AD)1488 b FI(99)300 356 y(When)27 b(an)f(e)o(xception)j
(propagates)g(outside)f(the)f(main)f(program,)i(the)f(Hask)o(ell)g
(system)g(prints)h(the)e(associated)300 469 y FD(IOError)20
b FI(v)n(alue)k(and)g(e)o(xits)g(the)g(program.)300 665
y(The)31 b FD(fail)e FI(method)k(of)e(the)h FD(IO)e FI(instance)j(of)f
(the)g FD(Monad)c FI(class)33 b(\(Section)g(6.3.6\))e(raises)i(a)e
FD(userError)l FI(,)300 778 y(thus:)550 949 y FD(instance)51
b(Monad)h(IO)i(where)659 1062 y(...bindings)c(for)j(return,)e(\(>>=\),)
h(\(>>\))659 1221 y(fail)h(s)h(=)g(ioError)e(\(userError)e(s\))300
1409 y FI(The)23 b(e)o(xceptions)j(raised)f(by)f(the)g(I/O)e(functions)
27 b(in)c(the)h(Prelude)g(are)g(de\002ned)g(in)g(Chapter)g(21.)p
eop
%%Page: 100 114
100 113 bop 0 100 a FI(100)1970 b FE(CHAPTER)20 b(7.)51
b(B)m(ASIC)22 b(INPUT/OUTPUT)p eop
%%Page: 101 115
101 114 bop 300 1057 a Fw(Chapter)44 b(8)300 1550 y FH(Standard)51
b(Pr)l(elude)300 2073 y FI(In)33 b(this)h(chapter)h(the)e(entire)h
(Hask)o(ell)g(Prelude)g(is)f(gi)n(v)o(en.)58 b(It)33
b(constitutes)j(a)d FJ(speci\002cation)k FI(for)c(the)h(Prelude.)300
2186 y(Man)o(y)24 b(of)f(the)i(de\002nitions)g(are)f(written)h(with)f
(clarity)h(rather)g(than)f(ef)n(\002cienc)o(y)h(in)f(mind,)g(and)g(it)f
(is)h(not)g(required)300 2299 y(that)g(the)g(speci\002cation)i(be)e
(implemented)h(as)f(sho)n(wn)f(here.)300 2490 y(The)29
b(def)o(ault)i(method)g(de\002nitions,)i(gi)n(v)o(en)d(with)f
FD(class)d FI(declarations,)35 b(constitute)d(a)d(speci\002cation)j
FJ(only)e FI(of)300 2603 y(the)35 b(def)o(ault)i(method.)64
b(The)o(y)34 b(do)i(not)f(constitute)j(a)c(speci\002cation)k(of)d(the)g
(meaning)h(of)f(the)g(method)h(in)f(all)300 2716 y(instances.)46
b(T)-7 b(o)28 b(tak)o(e)h(one)g(particular)i(e)o(xample,)g(the)e(def)o
(ault)h(method)g(for)e FD(enumFrom)d FI(in)j(class)i
FD(Enum)c FI(will)300 2829 y(not)f(w)o(ork)f(properly)i(for)f(types)g
(whose)g(range)g(e)o(xceeds)h(that)f(of)f FD(Int)e FI(\(because)27
b FD(fromEnum)19 b FI(cannot)26 b(map)e(all)300 2942
y(v)n(alues)h(in)e(the)h(type)g(to)g(distinct)h FD(Int)d
FI(v)n(alues\).)300 3133 y(The)41 b(Prelude)i(sho)n(wn)g(here)f(is)g
(or)n(ganized)i(into)f(a)e(root)i(module,)k FD(Prelude)m
FI(,)e(and)e(three)g(sub-modules,)300 3246 y FD(PreludeList)-5
b FI(,)30 b FD(PreludeText)-5 b FI(,)29 b(and)h FD(PreludeIO)l
FI(.)45 b(This)29 b(structure)j(is)d(purely)i(presentational.)50
b(An)300 3358 y(implementation)27 b(is)d(not)h(required)h(to)f(use)f
(this)h(or)n(ganisation)j(for)d(the)f(Prelude,)h(nor)g(are)f(these)i
(three)f(modules)300 3471 y(a)n(v)n(ailable)h(for)e(import)g
(separately)-6 b(.)31 b(Only)24 b(the)g(e)o(xports)h(of)e(module)i
FD(Prelude)19 b FI(are)24 b(signi\002cant.)300 3662 y(Some)e(of)h
(these)g(modules)h(import)g(Library)f(modules,)h(such)f(as)g
FD(Char)n FI(,)f FD(Monad)n FI(,)f FD(IO)p FI(,)g(and)i
FD(Numeric)m FI(.)28 b(These)300 3775 y(modules)e(are)f(described)j
(fully)d(in)g(P)o(art)f(II.)33 b(These)25 b(imports)h(are)f(not,)g(of)g
(course,)h(part)g(of)f(the)g(speci\002cation)i(of)300
3888 y(the)g FD(Prelude)m FI(.)37 b(That)27 b(is,)g(an)f
(implementation)k(is)c(free)i(to)e(import)i(more,)f(or)f(less,)i(of)f
(the)g(Library)g(modules,)300 4001 y(as)c(it)h(pleases.)300
4192 y(Primiti)n(v)o(es)k(that)f(are)h(not)f(de\002nable)i(in)e(Hask)o
(ell,)i(indicated)h(by)d(names)h(starting)h(with)e(\223)p
FD(prim)o FI(\224,)g(are)g(de\002ned)300 4305 y(in)k(a)f(system)h
(dependent)j(manner)d(in)g(module)g FD(PreludeBuiltin)24
b FI(and)31 b(are)g(not)g(sho)n(wn)f(here.)51 b(Instance)300
4418 y(declarations)33 b(that)d(simply)h(bind)f(primiti)n(v)o(es)h(to)e
(class)i(methods)g(are)f(omitted.)48 b(Some)29 b(of)g(the)h(more)g(v)o
(erbose)300 4531 y(instances)c(with)d(ob)o(vious)j(functionality)h(ha)n
(v)o(e)d(been)h(left)e(out)h(for)g(the)g(sak)o(e)g(of)g(bre)n(vity)-6
b(.)300 4722 y(Declarations)22 b(for)e(special)h(types)f(such)g(as)f
FD(Integer)m FI(,)g(or)h FD(\(\))d FI(are)j(included)h(in)f(the)f
(Prelude)i(for)e(completeness)300 4835 y(e)n(v)o(en)26
b(though)h(the)e(declaration)k(may)c(be)g(incomplete)j(or)d
(syntactically)k(in)l(v)n(alid.)36 b(An)25 b(ellipsis)i(\223)p
FD(...)o FI(\224)e(is)g(often)300 4948 y(used)f(in)g(places)h(where)f
(the)f(remainder)j(of)d(a)g(de\002nition)i(cannot)h(be)d(gi)n(v)o(en)h
(in)g(Hask)o(ell.)300 5139 y(T)-7 b(o)35 b(reduce)j(the)f(occurrence)j
(of)c(une)o(xpected)j(ambiguity)g(errors,)h(and)d(to)g(impro)o(v)o(e)g
(ef)n(\002cienc)o(y)-6 b(,)40 b(a)c(number)300 5252 y(of)i
(commonly-used)j(functions)g(o)o(v)o(er)d(lists)h(use)g(the)f
FD(Int)e FI(type)j(rather)h(than)f(using)g(a)f(more)g(general)i(nu-)300
5365 y(meric)29 b(type,)i(such)f(as)f FD(Integral)51
b(a)27 b FI(or)i FD(Num)54 b(a)o FI(.)44 b(These)30 b(functions)h(are:)
41 b FD(take)n FI(,)29 b FD(drop)n FI(,)h FD(!!)o FI(,)f
FD(length)m FI(,)2032 5593 y(101)p eop
%%Page: 102 116
102 115 bop 0 100 a FI(102)1994 b FE(CHAPTER)20 b(8.)51
b(ST)-8 b(AND)l(ARD)20 b(PRELUDE)0 356 y FD(splitAt)m
FI(,)29 b(and)g FD(replicate)l FI(.)44 b(The)29 b(more)g(general)h(v)o
(ersions)h(are)e(gi)n(v)o(en)g(in)g(the)g FD(List)e FI(library)-6
b(,)31 b(with)e(the)0 469 y(pre\002x)24 b(\223)p FD(generic)m
FI(\224;)f(for)h(e)o(xample)g FD(genericLength)-5 b FI(.)p
eop
%%Page: 103 117
103 116 bop 3764 100 a FI(103)300 334 y Fp(module)49
b(Prelude)f(\()499 434 y(module)h(PreludeList,)f(module)g(PreludeText,)
g(module)g(PreludeIO,)499 534 y(Bool\(False,)g(True\),)499
633 y(Maybe\(Nothing,)f(Just\),)499 733 y(Either\(Left,)h(Right\),)499
832 y(Ordering\(LT,)g(EQ,)h(GT\),)499 932 y(Char,)g(String,)g(Int,)g
(Integer,)f(Float,)h(Double,)f(Rational,)g(IO,)300 1100
y(--)299 b(These)48 b(built-in)h(types)g(are)g(defined)f(in)i(the)f
(Prelude,)f(but)300 1199 y(--)299 b(are)49 b(denoted)f(by)i(built-in)e
(syntax,)h(and)g(cannot)f(legally)300 1299 y(--)299 b(appear)48
b(in)i(an)f(export)g(list.)300 1399 y(--)99 b(List)49
b(type:)g([]\(\(:\),)g([]\))300 1498 y(--)99 b(Tuple)49
b(types:)g(\(,\)\(\(,\)\),)f(\(,,\)\(\(,,\)\),)g(etc.)300
1598 y(--)99 b(Trivial)49 b(type:)g(\(\)\(\(\)\))300
1698 y(--)99 b(Functions:)48 b(\(->\))499 1830 y(Eq\(\(==\),)h
(\(/=\)\),)499 1930 y(Ord\(compare,)f(\(<\),)h(\(<=\),)g(\(>=\),)g
(\(>\),)g(max,)g(min\),)499 2030 y(Enum\(succ,)f(pred,)h(toEnum,)g
(fromEnum,)f(enumFrom,)g(enumFromThen,)748 2129 y(enumFromTo,)g
(enumFromThenTo\),)499 2229 y(Bounded\(minBound,)f(maxBound\),)499
2329 y(Num\(\(+\),)i(\(-\),)g(\(*\),)g(negate,)f(abs,)h(signum,)g
(fromInteger\),)499 2428 y(Real\(toRational\),)499 2528
y(Integral\(quot,)e(rem,)j(div,)f(mod,)g(quotRem,)f(divMod,)g
(toInteger\),)499 2627 y(Fractional\(\(/\),)f(recip,)i(fromRational\),)
499 2727 y(Floating\(pi,)f(exp,)h(log,)g(sqrt,)g(\(**\),)g(logBase,)f
(sin,)h(cos,)g(tan,)948 2827 y(asin,)f(acos,)h(atan,)g(sinh,)g(cosh,)g
(tanh,)g(asinh,)g(acosh,)f(atanh\),)499 2926 y
(RealFrac\(properFraction,)e(truncate,)i(round,)g(ceiling,)h(floor\),)
499 3026 y(RealFloat\(floatRadix,)d(floatDigits,)i(floatRange,)f
(decodeFloat,)997 3126 y(encodeFloat,)h(exponent,)g(significand,)g
(scaleFloat,)f(isNaN,)997 3225 y(isInfinite,)h(isDenormalized,)f
(isIEEE,)i(isNegativeZero,)e(atan2\),)499 3325 y(Monad\(\(>>=\),)h
(\(>>\),)h(return,)f(fail\),)499 3424 y(Functor\(fmap\),)499
3524 y(mapM,)h(mapM_,)g(sequence,)f(sequence_,)g(\(=<<\),)499
3624 y(maybe,)h(either,)499 3723 y(\(&&\),)g(\(||\),)g(not,)g
(otherwise,)499 3823 y(subtract,)f(even,)h(odd,)g(gcd,)g(lcm,)g
(\(\210\),)h(\(\210\210\),)499 3923 y(fromIntegral,)e(realToFrac,)499
4022 y(fst,)h(snd,)g(curry,)g(uncurry,)f(id,)i(const,)e(\(.\),)h(flip,)
g(\($\),)g(until,)499 4122 y(asTypeOf,)f(error,)h(undefined,)499
4221 y(seq,)g(\($!\))400 4321 y(\))g(where)300 4489 y(import)g
(PreludeBuiltin)1093 b(--)49 b(Contains)g(all)g(`prim')g(values)300
4588 y(import)g(UnicodePrims\()e(primUnicodeMaxChar)g(\))99
b(--)49 b(Unicode)g(primitives)300 4688 y(import)g(PreludeList)300
4788 y(import)g(PreludeText)300 4887 y(import)g(PreludeIO)300
4987 y(import)g(Ratio\()f(Rational)h(\))p eop
%%Page: 104 118
104 117 bop 0 100 a FI(104)1994 b FE(CHAPTER)20 b(8.)51
b(ST)-8 b(AND)l(ARD)20 b(PRELUDE)0 334 y Fp(infixr)49
b(9)99 b(.)0 434 y(infixr)49 b(8)99 b(\210,)50 b(\210\210,)f(**)0
534 y(infixl)g(7)99 b(*,)50 b(/,)f(`quot`,)g(`rem`,)f(`div`,)h(`mod`)0
633 y(infixl)g(6)99 b(+,)50 b(-)0 801 y(--)f(The)h(\(:\))f(operator)f
(is)i(built-in)e(syntax,)h(and)g(cannot)f(legally)h(be)g(given)0
901 y(--)g(a)h(fixity)f(declaration;)e(but)j(its)f(fixity)g(is)g(given)
g(by:)0 1000 y(--)149 b(infixr)49 b(5)99 b(:)0 1133 y(infix)g(4)g(==,)
49 b(/=,)h(<,)f(<=,)g(>=,)h(>)0 1233 y(infixr)f(3)99
b(&&)0 1332 y(infixr)49 b(2)99 b(||)0 1432 y(infixl)49
b(1)99 b(>>,)49 b(>>=)0 1532 y(infixr)g(1)99 b(=<<)0
1631 y(infixr)49 b(0)99 b($,)50 b($!,)f(`seq`)0 1799
y(--)g(Standard)g(types,)f(classes,)h(instances)f(and)h(related)g
(functions)0 1932 y(--)g(Equality)g(and)g(Ordered)g(classes)0
2065 y(class)99 b(Eq)49 b(a)100 b(where)199 2164 y(\(==\),)49
b(\(/=\))g(::)h(a)f(->)h(a)f(->)h(Bool)399 2297 y(--)f(Minimal)f
(complete)h(definition:)399 2397 y(--)298 b(\(==\))49
b(or)h(\(/=\))199 2496 y(x)g(/=)f(y)249 b(=)100 b(not)49
b(\(x)g(==)h(y\))199 2596 y(x)g(==)f(y)249 b(=)100 b(not)49
b(\(x)g(/=)h(y\))0 2764 y(class)99 b(\(Eq)49 b(a\))g(=>)h(Ord)f(a)100
b(where)199 2863 y(compare)696 b(::)50 b(a)f(->)h(a)f(->)h(Ordering)199
2963 y(\(<\),)f(\(<=\),)g(\(>=\),)g(\(>\))g(::)h(a)f(->)h(a)f(->)h
(Bool)199 3062 y(max,)f(min)647 b(::)50 b(a)f(->)h(a)f(->)h(a)399
3195 y(--)f(Minimal)f(complete)h(definition:)399 3295
y(--)298 b(\(<=\))49 b(or)h(compare)399 3395 y(--)f(Using)g(compare)f
(can)i(be)f(more)g(efficient)f(for)h(complex)g(types.)199
3494 y(compare)g(x)g(y)448 3594 y(|)h(x)g(==)f(y)199
b(=)100 b(EQ)448 3693 y(|)50 b(x)g(<=)f(y)199 b(=)100
b(LT)448 3793 y(|)50 b(otherwise)e(=)100 b(GT)199 3926
y(x)50 b(<=)f(y)548 b(=)100 b(compare)48 b(x)i(y)f(/=)h(GT)199
4026 y(x)g(<)99 b(y)548 b(=)100 b(compare)48 b(x)i(y)f(==)h(LT)199
4125 y(x)g(>=)f(y)548 b(=)100 b(compare)48 b(x)i(y)f(/=)h(LT)199
4225 y(x)g(>)99 b(y)548 b(=)100 b(compare)48 b(x)i(y)f(==)h(GT)0
4392 y(--)f(note)h(that)f(\(min)g(x)g(y,)h(max)f(x)h(y\))f(=)h(\(x,y\))
f(or)g(\(y,x\))199 4492 y(max)h(x)f(y)448 4592 y(|)h(x)g(<=)f(y)199
b(=)100 b(y)448 4691 y(|)50 b(otherwise)e(=)100 b(x)199
4791 y(min)50 b(x)f(y)448 4891 y(|)h(x)g(<=)f(y)199 b(=)100
b(x)448 4990 y(|)50 b(otherwise)e(=)100 b(y)p eop
%%Page: 105 119
105 118 bop 3764 100 a FI(105)300 334 y Fp(--)49 b(Enumeration)f(and)h
(Bounded)g(classes)300 467 y(class)99 b(Enum)49 b(a)99
b(where)499 567 y(succ,)49 b(pred)348 b(::)50 b(a)f(->)h(a)499
666 y(toEnum)547 b(::)50 b(Int)f(->)g(a)499 766 y(fromEnum)447
b(::)50 b(a)f(->)h(Int)499 866 y(enumFrom)447 b(::)50
b(a)f(->)h([a])647 b(--)49 b([n..])499 965 y(enumFromThen)247
b(::)50 b(a)f(->)h(a)f(->)h([a])398 b(--)49 b([n,n'..])499
1065 y(enumFromTo)347 b(::)50 b(a)f(->)h(a)f(->)h([a])398
b(--)49 b([n..m])499 1165 y(enumFromThenTo)147 b(::)50
b(a)f(->)h(a)f(->)h(a)f(->)h([a])149 b(--)49 b([n,n'..m])699
1297 y(--)g(Minimal)f(complete)h(definition:)699 1397
y(--)298 b(toEnum,)49 b(fromEnum)699 1497 y(--)699 1596
y(--)g(NOTE:)g(these)g(default)f(methods)h(only)g(make)g(sense)g(for)g
(types)699 1696 y(--)348 b(that)49 b(map)g(injectively)f(into)h(Int)g
(using)g(fromEnum)699 1796 y(--)348 b(and)49 b(toEnum.)499
1895 y(succ)647 b(=)100 b(toEnum)48 b(.)i(\(+1\))f(.)h(fromEnum)499
1995 y(pred)647 b(=)100 b(toEnum)48 b(.)i(\(subtract)e(1\))h(.)h
(fromEnum)499 2094 y(enumFrom)f(x)348 b(=)100 b(map)49
b(toEnum)f([fromEnum)h(x)g(..])499 2194 y(enumFromTo)f(x)i(y)149
b(=)100 b(map)49 b(toEnum)f([fromEnum)h(x)g(..)h(fromEnum)e(y])499
2294 y(enumFromThen)g(x)h(y)h(=)100 b(map)49 b(toEnum)f([fromEnum)h(x,)
g(fromEnum)f(y)i(..])499 2393 y(enumFromThenTo)d(x)j(y)g(z)f(=)1496
2493 y(map)g(toEnum)f([fromEnum)h(x,)g(fromEnum)f(y)i(..)f(fromEnum)g
(z])300 2661 y(class)99 b(Bounded)48 b(a)100 b(where)499
2760 y(minBound)447 b(::)50 b(a)499 2860 y(maxBound)447
b(::)50 b(a)300 3028 y(--)f(Numeric)g(classes)300 3160
y(class)99 b(\(Eq)49 b(a,)g(Show)g(a\))h(=>)f(Num)h(a)99
b(where)499 3260 y(\(+\),)49 b(\(-\),)g(\(*\))199 b(::)50
b(a)f(->)h(a)f(->)h(a)499 3360 y(negate)547 b(::)50 b(a)f(->)h(a)499
3459 y(abs,)f(signum)298 b(::)50 b(a)f(->)h(a)499 3559
y(fromInteger)297 b(::)50 b(Integer)e(->)h(a)699 3692
y(--)g(Minimal)f(complete)h(definition:)699 3791 y(--)298
b(All,)49 b(except)g(negate)f(or)i(\(-\))499 3891 y(x)g(-)g(y)597
b(=)100 b(x)49 b(+)h(negate)e(y)499 3991 y(negate)h(x)448
b(=)100 b(0)49 b(-)h(x)300 4158 y(class)99 b(\(Num)49
b(a,)g(Ord)g(a\))h(=>)f(Real)g(a)100 b(where)499 4258
y(toRational)347 b(::)99 b(a)50 b(->)f(Rational)p eop
%%Page: 106 120
106 119 bop 0 100 a FI(106)1994 b FE(CHAPTER)20 b(8.)51
b(ST)-8 b(AND)l(ARD)20 b(PRELUDE)0 334 y Fp(class)99
b(\(Real)49 b(a,)g(Enum)g(a\))h(=>)f(Integral)f(a)100
b(where)199 434 y(quot,)49 b(rem)398 b(::)50 b(a)f(->)h(a)f(->)h(a)199
534 y(div,)f(mod)448 b(::)50 b(a)f(->)h(a)f(->)h(a)199
633 y(quotRem,)f(divMod)98 b(::)50 b(a)f(->)h(a)f(->)h(\(a,a\))199
733 y(toInteger)397 b(::)50 b(a)f(->)h(Integer)399 866
y(--)f(Minimal)f(complete)h(definition:)399 965 y(--)298
b(quotRem,)48 b(toInteger)199 1065 y(n)i(`quot`)f(d)348
b(=)100 b(q)f(where)49 b(\(q,r\))g(=)g(quotRem)g(n)g(d)199
1165 y(n)h(`rem`)f(d)398 b(=)100 b(r)f(where)49 b(\(q,r\))g(=)g
(quotRem)g(n)g(d)199 1264 y(n)h(`div`)f(d)398 b(=)100
b(q)f(where)49 b(\(q,r\))g(=)g(divMod)g(n)h(d)199 1364
y(n)g(`mod`)f(d)398 b(=)100 b(r)f(where)49 b(\(q,r\))g(=)g(divMod)g(n)h
(d)199 1463 y(divMod)f(n)h(d)348 b(=)100 b(if)49 b(signum)g(r)g(==)h(-)
f(signum)g(d)h(then)f(\(q-1,)g(r+d\))g(else)g(qr)1196
1563 y(where)f(qr@\(q,r\))h(=)g(quotRem)g(n)g(d)0 1731
y(class)99 b(\(Num)49 b(a\))g(=>)h(Fractional)e(a)99
b(where)199 1830 y(\(/\))697 b(::)50 b(a)f(->)h(a)f(->)h(a)199
1930 y(recip)597 b(::)50 b(a)f(->)h(a)199 2030 y(fromRational)247
b(::)50 b(Rational)e(->)h(a)399 2163 y(--)g(Minimal)f(complete)h
(definition:)399 2262 y(--)298 b(fromRational)48 b(and)h(\(recip)g(or)g
(\(/\)\))199 2362 y(recip)g(x)498 b(=)100 b(1)49 b(/)h(x)199
2461 y(x)g(/)g(y)597 b(=)100 b(x)49 b(*)h(recip)f(y)0
2629 y(class)99 b(\(Fractional)47 b(a\))j(=>)f(Floating)g(a)99
b(where)199 2729 y(pi)897 b(::)49 b(a)199 2828 y(exp,)g(log,)g(sqrt)299
b(::)49 b(a)h(->)f(a)199 2928 y(\(**\),)g(logBase)348
b(::)49 b(a)h(->)f(a)h(->)f(a)199 3028 y(sin,)g(cos,)g(tan)349
b(::)49 b(a)h(->)f(a)199 3127 y(asin,)g(acos,)g(atan)199
b(::)49 b(a)h(->)f(a)199 3227 y(sinh,)g(cosh,)g(tanh)199
b(::)49 b(a)h(->)f(a)199 3326 y(asinh,)g(acosh,)g(atanh)g(::)g(a)h(->)f
(a)399 3459 y(--)g(Minimal)f(complete)h(definition:)399
3559 y(--)298 b(pi,)49 b(exp,)g(log,)g(sin,)g(cos,)h(sinh,)e(cosh)399
3659 y(--)298 b(asin,)49 b(acos,)g(atan)399 3758 y(--)298
b(asinh,)49 b(acosh,)f(atanh)199 3858 y(x)i(**)f(y)548
b(=)100 b(exp)49 b(\(log)g(x)g(*)h(y\))199 3957 y(logBase)f(x)g(y)299
b(=)100 b(log)49 b(y)g(/)h(log)f(x)199 4057 y(sqrt)g(x)548
b(=)100 b(x)49 b(**)h(0.5)199 4157 y(tan)99 b(x)548 b(=)100
b(sin)f(x)49 b(/)h(cos)99 b(x)199 4256 y(tanh)49 b(x)548
b(=)100 b(sinh)49 b(x)g(/)h(cosh)f(x)p eop
%%Page: 107 121
107 120 bop 3764 100 a FI(107)300 334 y Fp(class)99 b(\(Real)49
b(a,)g(Fractional)f(a\))h(=>)h(RealFrac)e(a)100 b(where)499
434 y(properFraction)147 b(::)50 b(\(Integral)e(b\))h(=>)h(a)f(->)h
(\(b,a\))499 534 y(truncate,)e(round)99 b(::)50 b(\(Integral)e(b\))h
(=>)h(a)f(->)h(b)499 633 y(ceiling,)f(floor)148 b(::)50
b(\(Integral)e(b\))h(=>)h(a)f(->)h(b)699 766 y(--)f(Minimal)f(complete)
h(definition:)699 866 y(--)298 b(properFraction)499 965
y(truncate)49 b(x)348 b(=)100 b(m)f(where)49 b(\(m,_\))g(=)g
(properFraction)f(x)499 1098 y(round)h(x)498 b(=)100
b(let)49 b(\(n,r\))g(=)g(properFraction)e(x)1695 1198
y(m)249 b(=)49 b(if)h(r)f(<)h(0)g(then)f(n)g(-)h(1)g(else)f(n)g(+)h(1)
1595 1297 y(in)g(case)f(signum)f(\(abs)h(r)h(-)g(0.5\))f(of)1894
1397 y(-1)g(->)h(n)1894 1497 y(0)99 b(->)50 b(if)f(even)g(n)h(then)f(n)
h(else)f(m)1894 1596 y(1)99 b(->)50 b(m)499 1729 y(ceiling)f(x)398
b(=)100 b(if)49 b(r)h(>)f(0)h(then)f(n)h(+)f(1)h(else)f(n)1496
1829 y(where)f(\(n,r\))h(=)h(properFraction)d(x)499 1962
y(floor)i(x)498 b(=)100 b(if)49 b(r)h(<)f(0)h(then)f(n)h(-)f(1)h(else)f
(n)1496 2061 y(where)f(\(n,r\))h(=)h(properFraction)d(x)p
eop
%%Page: 108 122
108 121 bop 0 100 a FI(108)1994 b FE(CHAPTER)20 b(8.)51
b(ST)-8 b(AND)l(ARD)20 b(PRELUDE)0 334 y Fp(class)99
b(\(RealFrac)48 b(a,)h(Floating)g(a\))g(=>)g(RealFloat)g(a)99
b(where)199 434 y(floatRadix)347 b(::)50 b(a)f(->)h(Integer)199
534 y(floatDigits)297 b(::)50 b(a)f(->)h(Int)199 633
y(floatRange)347 b(::)50 b(a)f(->)h(\(Int,Int\))199 733
y(decodeFloat)297 b(::)50 b(a)f(->)h(\(Integer,Int\))199
832 y(encodeFloat)297 b(::)50 b(Integer)e(->)h(Int)h(->)f(a)199
932 y(exponent)447 b(::)50 b(a)f(->)h(Int)199 1032 y(significand)297
b(::)50 b(a)f(->)h(a)199 1131 y(scaleFloat)347 b(::)50
b(Int)f(->)g(a)h(->)f(a)199 1231 y(isNaN,)g(isInfinite,)f
(isDenormalized,)f(isNegativeZero,)g(isIEEE)1046 1331
y(::)j(a)f(->)h(Bool)199 1430 y(atan2)597 b(::)50 b(a)f(->)h(a)f(->)h
(a)399 1563 y(--)f(Minimal)f(complete)h(definition:)399
1663 y(--)298 b(All)49 b(except)g(exponent,)f(significand,)399
1762 y(--)846 b(scaleFloat,)48 b(atan2)199 1862 y(exponent)h(x)348
b(=)100 b(if)49 b(m)h(==)f(0)h(then)f(0)g(else)g(n)h(+)g(floatDigits)d
(x)1196 1962 y(where)h(\(m,n\))h(=)h(decodeFloat)e(x)199
2094 y(significand)g(x)199 b(=)100 b(encodeFloat)47 b(m)j(\(-)f
(floatDigits)f(x\))1196 2194 y(where)g(\(m,_\))h(=)h(decodeFloat)e(x)
199 2327 y(scaleFloat)g(k)i(x)149 b(=)100 b(encodeFloat)47
b(m)j(\(n+k\))1196 2427 y(where)e(\(m,n\))h(=)h(decodeFloat)e(x)199
2559 y(atan2)h(y)h(x)299 2659 y(|)g(x>0)547 b(=)99 b(atan)49
b(\(y/x\))299 2759 y(|)h(x==0)f(&&)g(y>0)149 b(=)99 b(pi/2)299
2858 y(|)50 b(x<0)99 b(&&)49 b(y>0)149 b(=)99 b(pi)50
b(+)f(atan)g(\(y/x\))299 2958 y(|\(x<=0)g(&&)g(y<0\))99
b(||)349 3057 y(\(x<0)49 b(&&)g(isNegativeZero)e(y\))j(||)349
3157 y(\(isNegativeZero)d(x)i(&&)h(isNegativeZero)d(y\))1096
3257 y(=)j(-atan2)e(\(-y\))h(x)299 3356 y(|)h(y==0)f(&&)g(\(x<0)g(||)h
(isNegativeZero)d(x\))1096 3456 y(=)99 b(pi)199 b(--)50
b(must)f(be)g(after)g(the)g(previous)g(test)g(on)g(zero)g(y)299
3556 y(|)h(x==0)f(&&)g(y==0)99 b(=)g(y)249 b(--)50 b(must)f(be)g(after)
g(the)g(other)g(double)g(zero)g(tests)299 3655 y(|)h(otherwise)247
b(=)99 b(x)50 b(+)g(y)f(--)h(x)f(or)h(y)f(is)h(a)f(NaN,)g(return)g(a)h
(NaN)f(\(via)g(+\))0 3823 y(--)g(Numeric)g(functions)0
3956 y(subtract)447 b(::)49 b(\(Num)g(a\))h(=>)f(a)h(->)f(a)h(->)f(a)0
4055 y(subtract)447 b(=)99 b(flip)49 b(\(-\))0 4223 y(even,)g(odd)398
b(::)49 b(\(Integral)f(a\))i(=>)f(a)h(->)f(Bool)0 4323
y(even)g(n)548 b(=)99 b(n)50 b(`rem`)f(2)g(==)h(0)0 4422
y(odd)697 b(=)99 b(not)50 b(.)f(even)0 4590 y(gcd)697
b(::)49 b(\(Integral)f(a\))i(=>)f(a)h(->)f(a)h(->)f(a)0
4690 y(gcd)g(0)h(0)498 b(=)99 b(error)49 b("Prelude.gcd:)f(gcd)h(0)g(0)
h(is)f(undefined")0 4789 y(gcd)g(x)h(y)498 b(=)99 b(gcd')49
b(\(abs)g(x\))h(\(abs)f(y\))996 4889 y(where)g(gcd')g(x)h(0)99
b(=)h(x)1295 4989 y(gcd')49 b(x)h(y)99 b(=)h(gcd')49
b(y)g(\(x)h(`rem`)f(y\))p eop
%%Page: 109 123
109 122 bop 3764 100 a FI(109)300 334 y Fp(lcm)697 b(::)49
b(\(Integral)f(a\))i(=>)f(a)h(->)f(a)h(->)f(a)300 434
y(lcm)g(_)h(0)498 b(=)99 b(0)300 534 y(lcm)49 b(0)h(_)498
b(=)99 b(0)300 633 y(lcm)49 b(x)h(y)498 b(=)99 b(abs)50
b(\(\(x)f(`quot`)f(\(gcd)i(x)f(y\)\))g(*)h(y\))300 801
y(\(\210\))697 b(::)49 b(\(Num)g(a,)h(Integral)e(b\))i(=>)f(a)h(->)f(b)
h(->)f(a)300 901 y(x)h(\210)f(0)598 b(=)99 b(1)300 1000
y(x)50 b(\210)f(n)h(|)g(n)f(>)h(0)199 b(=)99 b(f)50 b(x)g(\(n-1\))e(x)
1296 1100 y(where)h(f)h(_)f(0)h(y)g(=)f(y)1595 1199 y(f)h(x)f(n)h(y)g
(=)f(g)h(x)g(n)99 b(where)2093 1299 y(g)50 b(x)g(n)f(|)h(even)f(n)99
b(=)50 b(g)g(\(x*x\))e(\(n)i(`quot`)f(2\))2392 1399 y(|)h(otherwise)e
(=)i(f)f(x)h(\(n-1\))f(\(x*y\))300 1498 y(_)h(\210)f(_)598
b(=)49 b(error)g("Prelude.\210:)f(negative)g(exponent")300
1666 y(\(\210\210\))647 b(::)49 b(\(Fractional)f(a,)h(Integral)g(b\))g
(=>)h(a)f(->)h(b)f(->)h(a)300 1766 y(x)g(\210\210)f(n)548
b(=)99 b(if)50 b(n)f(>=)h(0)f(then)g(x\210n)h(else)f(recip)g
(\(x\210\(-n\)\))300 1933 y(fromIntegral)247 b(::)49
b(\(Integral)f(a,)i(Num)f(b\))h(=>)f(a)h(->)f(b)300 2033
y(fromIntegral)247 b(=)99 b(fromInteger)48 b(.)i(toInteger)300
2201 y(realToFrac)247 b(::)50 b(\(Real)f(a,)g(Fractional)f(b\))h(=>)h
(a)f(->)h(b)300 2300 y(realToFrac)297 b(=)99 b(fromRational)48
b(.)i(toRational)300 2468 y(--)f(Monadic)g(classes)300
2601 y(class)99 b(Functor)48 b(f)100 b(where)499 2700
y(fmap)697 b(::)49 b(\(a)h(->)f(b\))h(->)f(f)h(a)f(->)h(f)f(b)300
2868 y(class)99 b(Monad)49 b(m)99 b(where)499 2968 y(\(>>=\))g(::)49
b(m)h(a)g(->)f(\(a)h(->)f(m)h(b\))f(->)g(m)h(b)499 3067
y(\(>>\))149 b(::)49 b(m)h(a)g(->)f(m)h(b)f(->)h(m)f(b)499
3167 y(return)g(::)g(a)h(->)f(m)h(a)499 3267 y(fail)149
b(::)49 b(String)g(->)h(m)f(a)699 3400 y(--)g(Minimal)f(complete)h
(definition:)699 3499 y(--)298 b(\(>>=\),)49 b(return)499
3599 y(m)h(>>)f(k)100 b(=)f(m)50 b(>>=)f(\\_)h(->)f(k)499
3698 y(fail)g(s)100 b(=)49 b(error)g(s)300 3866 y(sequence)347
b(::)50 b(Monad)f(m)g(=>)h([m)f(a])g(->)h(m)g([a])300
3966 y(sequence)347 b(=)100 b(foldr)49 b(mcons)f(\(return)h([]\))1296
4065 y(where)g(mcons)g(p)h(q)f(=)h(p)g(>>=)f(\\x)g(->)h(q)f(>>=)h(\\y)f
(->)g(return)g(\(x:y\))300 4233 y(sequence_)297 b(::)50
b(Monad)f(m)g(=>)h([m)f(a])g(->)h(m)g(\(\))300 4333 y(sequence_)297
b(=)100 b(foldr)49 b(\(>>\))g(\(return)f(\(\)\))300 4500
y(--)h(The)h(xxxM)f(functions)f(take)h(list)g(arguments,)f(but)h(lift)g
(the)h(function)e(or)300 4600 y(--)h(list)h(element)e(to)h(a)h(monad)f
(type)300 4700 y(mapM)647 b(::)49 b(Monad)g(m)h(=>)f(\(a)h(->)f(m)h
(b\))f(->)h([a])f(->)g(m)h([b])300 4799 y(mapM)f(f)h(as)398
b(=)99 b(sequence)49 b(\(map)g(f)g(as\))300 4967 y(mapM_)597
b(::)49 b(Monad)g(m)h(=>)f(\(a)h(->)f(m)h(b\))f(->)h([a])f(->)g(m)h
(\(\))300 5067 y(mapM_)f(f)h(as)348 b(=)99 b(sequence_)48
b(\(map)h(f)h(as\))300 5234 y(\(=<<\))597 b(::)49 b(Monad)g(m)h(=>)f
(\(a)h(->)f(m)h(b\))f(->)h(m)f(a)h(->)f(m)h(b)300 5334
y(f)g(=<<)f(x)498 b(=)99 b(x)50 b(>>=)f(f)p eop
%%Page: 110 124
110 123 bop 0 100 a FI(110)1994 b FE(CHAPTER)20 b(8.)51
b(ST)-8 b(AND)l(ARD)20 b(PRELUDE)0 334 y Fp(--)49 b(Trivial)g(type)0
467 y(data)99 b(\(\))g(=)h(\(\))f(deriving)48 b(\(Eq,)h(Ord,)g(Enum,)g
(Bounded\))399 567 y(--)g(Not)g(legal)g(Haskell;)f(for)i(illustration)d
(only)0 735 y(--)i(Function)g(type)0 867 y(--)g(identity)g(function)0
967 y(id)747 b(::)49 b(a)h(->)f(a)0 1067 y(id)g(x)648
b(=)99 b(x)0 1234 y(--)49 b(constant)g(function)0 1334
y(const)597 b(::)49 b(a)h(->)f(b)h(->)f(a)0 1434 y(const)g(x)h(_)398
b(=)99 b(x)0 1601 y(--)49 b(function)g(composition)0
1701 y(\(.\))697 b(::)49 b(\(b)h(->)f(c\))h(->)f(\(a)g(->)h(b\))f(->)h
(a)f(->)h(c)0 1801 y(f)g(.)f(g)598 b(=)99 b(\\)50 b(x)g(->)f(f)h(\(g)f
(x\))0 1968 y(--)g(flip)h(f)99 b(takes)49 b(its)g(\(first\))g(two)g
(arguments)f(in)h(the)h(reverse)e(order)h(of)g(f.)0 2068
y(flip)647 b(::)49 b(\(a)h(->)f(b)h(->)f(c\))h(->)f(b)h(->)f(a)h(->)f
(c)0 2167 y(flip)g(f)h(x)f(y)349 b(=)99 b(f)50 b(y)g(x)0
2335 y(seq)f(::)h(a)f(->)h(b)f(->)h(b)0 2435 y(seq)f(=)h(...)348
b(--)49 b(Primitive)0 2603 y(--)g(right-associating)e(infix)i
(application)f(operators)0 2702 y(--)h(\(useful)g(in)g
(continuation-passing)d(style\))0 2802 y(\($\),)j(\($!\))g(::)h(\(a)f
(->)g(b\))h(->)f(a)h(->)f(b)0 2901 y(f)h($)99 b(x)199
b(=)100 b(f)49 b(x)0 3001 y(f)h($!)f(x)199 b(=)100 b(x)49
b(`seq`)g(f)h(x)0 3169 y(--)f(Boolean)g(type)0 3302 y(data)99
b(Bool)g(=)g(False)49 b(|)h(True)248 b(deriving)48 b(\(Eq,)h(Ord,)g
(Enum,)g(Read,)g(Show,)g(Bounded\))0 3469 y(--)g(Boolean)g(functions)0
3602 y(\(&&\),)g(\(||\))348 b(::)49 b(Bool)g(->)h(Bool)f(->)g(Bool)0
3702 y(True)99 b(&&)49 b(x)349 b(=)99 b(x)0 3801 y(False)49
b(&&)g(_)349 b(=)99 b(False)0 3901 y(True)g(||)49 b(_)349
b(=)99 b(True)0 4001 y(False)49 b(||)g(x)349 b(=)99 b(x)0
4168 y(not)697 b(::)49 b(Bool)g(->)h(Bool)0 4268 y(not)f(True)448
b(=)99 b(False)0 4368 y(not)49 b(False)398 b(=)99 b(True)0
4535 y(otherwise)397 b(::)49 b(Bool)0 4635 y(otherwise)397
b(=)99 b(True)0 4803 y(--)49 b(Character)g(type)0 4935
y(data)g(Char)g(=)h(...)f('a')g(|)h('b')f(...)g(--)h(Unicode)e(values)0
5103 y(instance)98 b(Eq)50 b(Char)98 b(where)199 5203
y(c)50 b(==)f(c')498 b(=)100 b(fromEnum)48 b(c)h(==)h(fromEnum)e(c')p
eop
%%Page: 111 125
111 124 bop 3764 100 a FI(111)300 334 y Fp(instance)98
b(Ord)49 b(Char)99 b(where)499 434 y(c)50 b(<=)f(c')498
b(=)100 b(fromEnum)48 b(c)h(<=)h(fromEnum)e(c')300 602
y(instance)98 b(Enum)49 b(Char)99 b(where)499 701 y(toEnum)597
b(=)50 b(primIntToChar)499 801 y(fromEnum)497 b(=)50
b(primCharToInt)499 901 y(enumFrom)f(c)398 b(=)50 b(map)f(toEnum)f
([fromEnum)h(c)g(..)h(fromEnum)e(\(maxBound::Char\)])499
1000 y(enumFromThen)g(c)h(c')h(=)g(map)f(toEnum)f([fromEnum)h(c,)g
(fromEnum)f(c')i(..)f(fromEnum)g(lastChar])1396 1100
y(where)g(lastChar)f(::)i(Char)1695 1199 y(lastChar)e(|)i(c')f(<)h(c)
199 b(=)49 b(minBound)2143 1299 y(|)h(otherwise)e(=)h(maxBound)300
1467 y(instance)98 b(Bounded)49 b(Char)99 b(where)499
1566 y(minBound)f(=)i('\\0')499 1666 y(maxBound)e(=)i
(primUnicodeMaxChar)300 1834 y(type)f(String)49 b(=)g([Char])300
2001 y(--)g(Maybe)g(type)300 2134 y(data)99 b(Maybe)49
b(a)99 b(=)h(Nothing)48 b(|)i(Just)f(a)299 b(deriving)48
b(\(Eq,)h(Ord,)g(Read,)g(Show\))300 2302 y(maybe)696
b(::)50 b(b)g(->)f(\(a)g(->)h(b\))f(->)h(Maybe)f(a)g(->)h(b)300
2402 y(maybe)f(n)h(f)f(Nothing)98 b(=)i(n)300 2501 y(maybe)49
b(n)h(f)f(\(Just)g(x\))g(=)100 b(f)50 b(x)300 2669 y(instance)98
b(Functor)49 b(Maybe)98 b(where)499 2769 y(fmap)49 b(f)h(Nothing)198
b(=)99 b(Nothing)499 2868 y(fmap)49 b(f)h(\(Just)f(x\))149
b(=)99 b(Just)49 b(\(f)h(x\))300 3036 y(instance)98 b(Monad)49
b(Maybe)99 b(where)499 3136 y(\(Just)49 b(x\))h(>>=)f(k)149
b(=)100 b(k)49 b(x)499 3235 y(Nothing)99 b(>>=)49 b(k)149
b(=)100 b(Nothing)499 3335 y(return)547 b(=)100 b(Just)499
3434 y(fail)49 b(s)548 b(=)100 b(Nothing)300 3602 y(--)49
b(Either)g(type)300 3735 y(data)99 b(Either)49 b(a)g(b)100
b(=)f(Left)49 b(a)h(|)f(Right)g(b)150 b(deriving)48 b(\(Eq,)h(Ord,)g
(Read,)g(Show\))300 3903 y(either)746 b(::)50 b(\(a)f(->)g(c\))h(->)f
(\(b)h(->)f(c\))h(->)f(Either)g(a)g(b)h(->)f(c)300 4002
y(either)g(f)g(g)h(\(Left)f(x\))99 b(=)h(f)49 b(x)300
4102 y(either)g(f)g(g)h(\(Right)f(y\))g(=)100 b(g)49
b(y)300 4270 y(--)g(IO)h(type)300 4402 y(data)f(IO)h(a)f(=)h(...)448
b(--)49 b(abstract)300 4570 y(instance)98 b(Functor)49
b(IO)g(where)449 4670 y(fmap)h(f)f(x)548 b(=)99 b(x)50
b(>>=)f(\(return)g(.)g(f\))300 4837 y(instance)f(Monad)h(IO)h(where)449
4937 y(\(>>=\))99 b(=)50 b(...)449 5037 y(return)f(=)h(...)449
5136 y(fail)g(s)f(=)h(ioError)e(\(userError)g(s\))p eop
%%Page: 112 126
112 125 bop 0 100 a FI(112)1994 b FE(CHAPTER)20 b(8.)51
b(ST)-8 b(AND)l(ARD)20 b(PRELUDE)0 334 y Fp(--)49 b(Ordering)g(type)0
467 y(data)99 b(Ordering)f(=)h(LT)50 b(|)g(EQ)f(|)h(GT)498
567 y(deriving)e(\(Eq,)i(Ord,)f(Enum,)f(Read,)h(Show,)g(Bounded\))0
735 y(--)g(Standard)g(numeric)f(types.)99 b(The)49 b(data)g
(declarations)f(for)h(these)g(types)g(cannot)0 834 y(--)g(be)h
(expressed)e(directly)g(in)i(Haskell)e(since)h(the)g(constructor)f
(lists)h(would)g(be)0 934 y(--)g(far)h(too)f(large.)0
1067 y(data)99 b(Int)g(=)g(minBound)49 b(...)g(-1)g(|)h(0)g(|)f(1)h
(...)f(maxBound)0 1166 y(instance)98 b(Eq)348 b(Int)100
b(where)48 b(...)0 1266 y(instance)98 b(Ord)298 b(Int)100
b(where)48 b(...)0 1365 y(instance)98 b(Num)298 b(Int)100
b(where)48 b(...)0 1465 y(instance)98 b(Real)248 b(Int)100
b(where)48 b(...)0 1565 y(instance)98 b(Integral)48 b(Int)100
b(where)48 b(...)0 1664 y(instance)98 b(Enum)248 b(Int)100
b(where)48 b(...)0 1764 y(instance)98 b(Bounded)g(Int)i(where)48
b(...)0 1932 y(data)99 b(Integer)f(=)i(...)49 b(-1)g(|)h(0)g(|)f(1)h
(...)0 2031 y(instance)98 b(Eq)348 b(Integer)99 b(where)49
b(...)0 2131 y(instance)98 b(Ord)298 b(Integer)99 b(where)49
b(...)0 2231 y(instance)98 b(Num)298 b(Integer)99 b(where)49
b(...)0 2330 y(instance)98 b(Real)248 b(Integer)99 b(where)49
b(...)0 2430 y(instance)98 b(Integral)48 b(Integer)99
b(where)49 b(...)0 2529 y(instance)98 b(Enum)248 b(Integer)99
b(where)49 b(...)0 2697 y(data)99 b(Float)0 2797 y(instance)f(Eq)448
b(Float)99 b(where)49 b(...)0 2896 y(instance)98 b(Ord)398
b(Float)99 b(where)49 b(...)0 2996 y(instance)98 b(Num)398
b(Float)99 b(where)49 b(...)0 3096 y(instance)98 b(Real)348
b(Float)99 b(where)49 b(...)0 3195 y(instance)98 b(Fractional)48
b(Float)99 b(where)49 b(...)0 3295 y(instance)98 b(Floating)148
b(Float)99 b(where)49 b(...)0 3395 y(instance)98 b(RealFrac)148
b(Float)99 b(where)49 b(...)0 3494 y(instance)98 b(RealFloat)g(Float)h
(where)49 b(...)0 3662 y(data)99 b(Double)0 3762 y(instance)f(Eq)448
b(Double)99 b(where)48 b(...)0 3861 y(instance)98 b(Ord)398
b(Double)99 b(where)48 b(...)0 3961 y(instance)98 b(Num)398
b(Double)99 b(where)48 b(...)0 4060 y(instance)98 b(Real)348
b(Double)99 b(where)48 b(...)0 4160 y(instance)98 b(Fractional)48
b(Double)99 b(where)48 b(...)0 4260 y(instance)98 b(Floating)148
b(Double)99 b(where)48 b(...)0 4359 y(instance)98 b(RealFrac)148
b(Double)99 b(where)48 b(...)0 4459 y(instance)98 b(RealFloat)g(Double)
h(where)48 b(...)p eop
%%Page: 113 127
113 126 bop 3764 100 a FI(113)300 334 y Fp(--)49 b(The)h(Enum)f
(instances)f(for)h(Floats)g(and)g(Doubles)g(are)g(slightly)f(unusual.)
300 434 y(--)h(The)h(`toEnum')e(function)g(truncates)g(numbers)h(to)g
(Int.)99 b(The)50 b(definitions)300 534 y(--)f(of)h(enumFrom)e(and)h
(enumFromThen)f(allow)h(floats)g(to)g(be)g(used)h(in)f(arithmetic)300
633 y(--)g(series:)g([0,0.1)g(..)g(0.95].)99 b(However,)48
b(roundoff)g(errors)h(make)g(these)g(somewhat)300 733
y(--)g(dubious.)99 b(This)49 b(example)f(may)h(have)g(either)g(10)h(or)
f(11)g(elements,)g(depending)f(on)300 832 y(--)h(how)h(0.1)f(is)g
(represented.)300 965 y(instance)98 b(Enum)49 b(Float)99
b(where)499 1065 y(succ)49 b(x)548 b(=)100 b(x+1)499
1165 y(pred)49 b(x)548 b(=)100 b(x-1)499 1264 y(toEnum)547
b(=)100 b(fromIntegral)499 1364 y(fromEnum)447 b(=)100
b(fromInteger)47 b(.)j(truncate)148 b(--)49 b(may)h(overflow)499
1463 y(enumFrom)447 b(=)100 b(numericEnumFrom)499 1563
y(enumFromThen)247 b(=)100 b(numericEnumFromThen)499
1663 y(enumFromTo)347 b(=)100 b(numericEnumFromTo)499
1762 y(enumFromThenTo)147 b(=)100 b(numericEnumFromThenTo)300
1930 y(instance)e(Enum)49 b(Double)99 b(where)499 2030
y(succ)49 b(x)548 b(=)100 b(x+1)499 2129 y(pred)49 b(x)548
b(=)100 b(x-1)499 2229 y(toEnum)547 b(=)100 b(fromIntegral)499
2329 y(fromEnum)447 b(=)100 b(fromInteger)47 b(.)j(truncate)148
b(--)49 b(may)h(overflow)499 2428 y(enumFrom)447 b(=)100
b(numericEnumFrom)499 2528 y(enumFromThen)247 b(=)100
b(numericEnumFromThen)499 2627 y(enumFromTo)347 b(=)100
b(numericEnumFromTo)499 2727 y(enumFromThenTo)147 b(=)100
b(numericEnumFromThenTo)300 2895 y(numericEnumFrom)446
b(::)49 b(\(Fractional)f(a\))h(=>)h(a)f(->)h([a])300
2994 y(numericEnumFromThen)246 b(::)49 b(\(Fractional)f(a\))h(=>)h(a)f
(->)h(a)f(->)h([a])300 3094 y(numericEnumFromTo)346 b(::)49
b(\(Fractional)f(a,)h(Ord)g(a\))h(=>)f(a)h(->)f(a)h(->)f([a])300
3194 y(numericEnumFromThenTo)146 b(::)49 b(\(Fractional)f(a,)h(Ord)g
(a\))h(=>)f(a)h(->)f(a)h(->)f(a)h(->)f([a])300 3293 y(numericEnumFrom)
446 b(=)99 b(iterate)48 b(\(+1\))300 3393 y(numericEnumFromThen)e(n)k
(m)g(=)99 b(iterate)48 b(\(+\(m-n\)\))h(n)300 3493 y(numericEnumFromTo)
e(n)i(m)150 b(=)99 b(takeWhile)48 b(\(<=)h(m+1/2\))g(\(numericEnumFrom)
e(n\))300 3592 y(numericEnumFromThenTo)f(n)k(n')f(m)h(=)f(takeWhile)f
(p)i(\(numericEnumFromThen)c(n)k(n'\))1745 3692 y(where)1844
3791 y(p)g(|)f(n')h(>=)f(n)150 b(=)49 b(\(<=)g(m)h(+)g(\(n'-n\)/2\))
1944 3891 y(|)f(otherwise)g(=)g(\(>=)g(m)h(+)g(\(n'-n\)/2\))300
4059 y(--)f(Lists)300 4192 y(data)99 b([a])g(=)g([])50
b(|)f(a)h(:)g([a])99 b(deriving)48 b(\(Eq,)h(Ord\))699
4291 y(--)g(Not)g(legal)g(Haskell;)f(for)i(illustration)d(only)300
4459 y(instance)h(Functor)h([])g(where)499 4559 y(fmap)g(=)h(map)300
4726 y(instance)98 b(Monad)49 b([])99 b(where)499 4826
y(m)50 b(>>=)f(k)498 b(=)50 b(concat)e(\(map)h(k)h(m\))499
4925 y(return)f(x)448 b(=)50 b([x])499 5025 y(fail)f(s)548
b(=)50 b([])p eop
%%Page: 114 128
114 127 bop 0 100 a FI(114)1994 b FE(CHAPTER)20 b(8.)51
b(ST)-8 b(AND)l(ARD)20 b(PRELUDE)0 334 y Fp(--)49 b(Tuples)0
467 y(data)99 b(\(a,b\))148 b(=)100 b(\(a,b\))198 b(deriving)48
b(\(Eq,)i(Ord,)f(Bounded\))0 567 y(data)99 b(\(a,b,c\))48
b(=)100 b(\(a,b,c\))e(deriving)48 b(\(Eq,)i(Ord,)f(Bounded\))399
666 y(--)g(Not)g(legal)g(Haskell;)f(for)i(illustration)d(only)0
834 y(--)i(component)g(projections)e(for)j(pairs:)0 934
y(--)f(\(NB:)h(not)f(provided)f(for)h(triples,)g(quadruples,)e(etc.\))0
1033 y(fst)697 b(::)49 b(\(a,b\))g(->)h(a)0 1133 y(fst)f(\(x,y\))398
b(=)99 b(x)0 1301 y(snd)697 b(::)49 b(\(a,b\))g(->)h(b)0
1400 y(snd)f(\(x,y\))398 b(=)99 b(y)0 1568 y(--)49 b(curry)g(converts)g
(an)g(uncurried)f(function)h(to)g(a)h(curried)e(function;)0
1668 y(--)h(uncurry)g(converts)f(a)i(curried)e(function)h(to)g(a)h
(function)e(on)i(pairs.)0 1767 y(curry)597 b(::)49 b(\(\(a,)g(b\))h(->)
f(c\))h(->)f(a)h(->)f(b)h(->)f(c)0 1867 y(curry)g(f)h(x)f(y)299
b(=)99 b(f)50 b(\(x,)f(y\))0 2035 y(uncurry)497 b(::)49
b(\(a)h(->)f(b)h(->)f(c\))h(->)f(\(\(a,)g(b\))h(->)f(c\))0
2134 y(uncurry)g(f)g(p)299 b(=)99 b(f)50 b(\(fst)f(p\))g(\(snd)g(p\))0
2302 y(--)g(Misc)h(functions)0 2435 y(--)f(until)g(p)h(f)99
b(yields)49 b(the)g(result)g(of)g(applying)g(f)g(until)g(p)h(holds.)0
2534 y(until)597 b(::)49 b(\(a)h(->)f(Bool\))g(->)g(\(a)h(->)f(a\))h
(->)f(a)h(->)f(a)0 2634 y(until)g(p)h(f)f(x)249 2734
y(|)h(p)f(x)349 b(=)99 b(x)249 2833 y(|)50 b(otherwise)e(=)99
b(until)49 b(p)h(f)f(\(f)h(x\))0 3001 y(--)f(asTypeOf)g(is)g(a)h
(type-restricted)d(version)h(of)i(const.)98 b(It)50 b(is)f(usually)g
(used)0 3101 y(--)g(as)h(an)f(infix)g(operator,)f(and)i(its)f(typing)g
(forces)f(its)h(first)g(argument)0 3200 y(--)g(\(which)g(is)h(usually)e
(overloaded\))g(to)h(have)g(the)h(same)f(type)g(as)g(the)g(second.)0
3300 y(asTypeOf)447 b(::)49 b(a)h(->)f(a)h(->)f(a)0 3400
y(asTypeOf)447 b(=)99 b(const)0 3567 y(--)49 b(error)g(stops)g
(execution)f(and)i(displays)e(an)h(error)g(message)0
3700 y(error)597 b(::)49 b(String)g(->)g(a)0 3800 y(error)597
b(=)99 b(primError)0 3967 y(--)49 b(It)h(is)f(expected)g(that)g
(compilers)f(will)h(recognize)f(this)h(and)g(insert)g(error)0
4067 y(--)g(messages)g(that)g(are)g(more)g(appropriate)f(to)h(the)h
(context)e(in)i(which)e(undefined)0 4167 y(--)h(appears.)0
4299 y(undefined)397 b(::)49 b(a)0 4399 y(undefined)397
b(=)99 b(error)49 b("Prelude.undefined")p eop
%%Page: 115 129
115 128 bop 300 100 a FE(8.1.)51 b(PRELUDE)20 b FD(PRELUDELIST)2240
b FI(115)300 356 y FC(8.1)119 b(Pr)n(elude)31 b Fa(PreludeList)300
613 y Fp(--)49 b(Standard)g(list)g(functions)300 746
y(module)g(PreludeList)e(\()499 845 y(map,)i(\(++\),)g(filter,)g
(concat,)f(concatMap,)499 945 y(head,)h(last,)g(tail,)g(init,)g(null,)g
(length,)f(\(!!\),)499 1044 y(foldl,)h(foldl1,)f(scanl,)h(scanl1,)g
(foldr,)f(foldr1,)h(scanr,)g(scanr1,)499 1144 y(iterate,)g(repeat,)f
(replicate,)g(cycle,)499 1244 y(take,)h(drop,)g(splitAt,)f(takeWhile,)g
(dropWhile,)g(span,)h(break,)499 1343 y(lines,)g(words,)g(unlines,)f
(unwords,)g(reverse,)h(and,)g(or,)499 1443 y(any,)g(all,)g(elem,)g
(notElem,)g(lookup,)499 1543 y(sum,)g(product,)g(maximum,)f(minimum,)
499 1642 y(zip,)h(zip3,)g(zipWith,)g(zipWith3,)f(unzip,)g(unzip3\))400
1742 y(where)300 1909 y(import)h(qualified)f(Char\(isSpace\))300
2077 y(infixl)h(9)99 b(!!)300 2177 y(infixr)49 b(5)99
b(++)300 2277 y(infix)g(4)g(`elem`,)49 b(`notElem`)300
2444 y(--)g(Map)h(and)f(append)300 2544 y(map)g(::)h(\(a)f(->)h(b\))f
(->)g([a])h(->)f([b])300 2643 y(map)g(f)h([])249 b(=)49
b([])300 2743 y(map)g(f)h(\(x:xs\))f(=)g(f)h(x)f(:)h(map)f(f)h(xs)300
2911 y(\(++\))f(::)h([a])f(->)g([a])g(->)h([a])300 3010
y([])249 b(++)49 b(ys)h(=)f(ys)300 3110 y(\(x:xs\))g(++)g(ys)h(=)f(x)h
(:)f(\(xs)h(++)f(ys\))300 3278 y(filter)g(::)g(\(a)h(->)f(Bool\))g(->)g
([a])h(->)f([a])300 3377 y(filter)g(p)g([])847 b(=)49
b([])300 3477 y(filter)g(p)g(\(x:xs\))g(|)h(p)f(x)349
b(=)49 b(x)h(:)g(filter)e(p)i(xs)1097 3577 y(|)g(otherwise)e(=)h
(filter)g(p)h(xs)300 3744 y(concat)f(::)g([[a]])g(->)g([a])300
3844 y(concat)g(xss)g(=)h(foldr)e(\(++\))i([])f(xss)300
4012 y(concatMap)f(::)i(\(a)f(->)g([b]\))h(->)f([a])g(->)h([b])300
4111 y(concatMap)e(f)i(=)f(concat)g(.)h(map)f(f)300 4279
y(--)g(head)h(and)f(tail)g(extract)f(the)i(first)e(element)h(and)g
(remaining)f(elements,)300 4379 y(--)h(respectively,)f(of)h(a)h(list,)f
(which)g(must)g(be)g(non-empty.)98 b(last)49 b(and)g(init)300
4478 y(--)g(are)h(the)f(dual)g(functions)f(working)h(from)g(the)g(end)g
(of)h(a)f(finite)g(list,)300 4578 y(--)g(rather)g(than)g(the)g
(beginning.)300 4711 y(head)647 b(::)49 b([a])h(->)f(a)300
4810 y(head)g(\(x:_\))348 b(=)99 b(x)300 4910 y(head)49
b([])498 b(=)99 b(error)49 b("Prelude.head:)e(empty)i(list")300
5078 y(tail)647 b(::)49 b([a])h(->)f([a])300 5177 y(tail)g(\(_:xs\))298
b(=)99 b(xs)300 5277 y(tail)49 b([])498 b(=)99 b(error)49
b("Prelude.tail:)e(empty)i(list")p eop
%%Page: 116 130
116 129 bop 0 100 a FI(116)1994 b FE(CHAPTER)20 b(8.)51
b(ST)-8 b(AND)l(ARD)20 b(PRELUDE)0 334 y Fp(last)647
b(::)49 b([a])h(->)f(a)0 434 y(last)g([x])448 b(=)99
b(x)0 534 y(last)49 b(\(_:xs\))298 b(=)99 b(last)49 b(xs)0
633 y(last)g([])498 b(=)99 b(error)49 b("Prelude.last:)e(empty)i(list")
0 801 y(init)647 b(::)49 b([a])h(->)f([a])0 901 y(init)g([x])448
b(=)99 b([])0 1000 y(init)49 b(\(x:xs\))298 b(=)99 b(x)50
b(:)g(init)f(xs)0 1100 y(init)g([])498 b(=)99 b(error)49
b("Prelude.init:)e(empty)i(list")0 1268 y(null)647 b(::)49
b([a])h(->)f(Bool)0 1367 y(null)g([])498 b(=)99 b(True)0
1467 y(null)49 b(\(_:_\))348 b(=)99 b(False)0 1634 y(--)49
b(length)g(returns)g(the)g(length)g(of)g(a)h(finite)e(list)h(as)h(an)f
(Int.)0 1734 y(length)547 b(::)49 b([a])h(->)f(Int)0
1834 y(length)g([])398 b(=)99 b(0)0 1933 y(length)49
b(\(_:l\))248 b(=)99 b(1)50 b(+)g(length)e(l)0 2101 y(--)h(List)h
(index)e(\(subscript\))g(operator,)g(0-origin)0 2201
y(\(!!\))796 b(::)50 b([a])f(->)g(Int)h(->)f(a)0 2300
y(xs)249 b(!!)49 b(n)h(|)f(n)h(<)g(0)f(=)100 b(error)49
b("Prelude.!!:)e(negative)h(index")0 2400 y([])249 b(!!)49
b(_)448 b(=)100 b(error)49 b("Prelude.!!:)e(index)i(too)g(large")0
2500 y(\(x:_\))99 b(!!)49 b(0)448 b(=)100 b(x)0 2599
y(\(_:xs\))49 b(!!)g(n)448 b(=)100 b(xs)49 b(!!)h(\(n-1\))0
2767 y(--)f(foldl,)g(applied)g(to)g(a)h(binary)e(operator,)h(a)g
(starting)f(value)h(\(typically)f(the)0 2867 y(--)h(left-identity)f(of)
h(the)h(operator\),)d(and)j(a)f(list,)g(reduces)g(the)g(list)g(using)0
2966 y(--)g(the)h(binary)e(operator,)h(from)g(left)g(to)g(right:)0
3066 y(--)99 b(foldl)49 b(f)h(z)f([x1,)g(x2,)h(...,)f(xn])g(==)g
(\(...\(\(z)g(`f`)g(x1\))g(`f`)h(x2\))f(`f`...\))f(`f`)i(xn)0
3165 y(--)f(foldl1)g(is)h(a)f(variant)g(that)g(has)g(no)g(starting)g
(value)g(argument,)f(and)99 b(thus)49 b(must)0 3265 y(--)g(be)h
(applied)e(to)i(non-empty)e(lists.)98 b(scanl)49 b(is)h(similar)e(to)i
(foldl,)e(but)i(returns)0 3365 y(--)f(a)h(list)f(of)h(successive)e
(reduced)g(values)h(from)g(the)g(left:)0 3464 y(--)299
b(scanl)48 b(f)i(z)g([x1,)f(x2,)g(...])g(==)g([z,)h(z)f(`f`)h(x1,)f
(\(z)g(`f`)h(x1\))f(`f`)g(x2,)g(...])0 3564 y(--)g(Note)h(that)98
b(last)49 b(\(scanl)g(f)h(z)f(xs\))h(==)f(foldl)g(f)h(z)f(xs.)0
3664 y(--)g(scanl1)g(is)h(similar,)e(again)h(without)f(the)i(starting)e
(element:)0 3763 y(--)299 b(scanl1)48 b(f)i([x1,)f(x2,)g(...])g(==)h
([x1,)f(x1)g(`f`)g(x2,)h(...])0 3896 y(foldl)597 b(::)49
b(\(a)h(->)f(b)h(->)f(a\))h(->)f(a)h(->)f([b])g(->)h(a)0
3996 y(foldl)f(f)h(z)f([])249 b(=)99 b(z)0 4095 y(foldl)49
b(f)h(z)f(\(x:xs\))g(=)99 b(foldl)49 b(f)h(\(f)f(z)h(x\))f(xs)0
4263 y(foldl1)547 b(::)49 b(\(a)h(->)f(a)h(->)f(a\))h(->)f([a])g(->)h
(a)0 4363 y(foldl1)f(f)g(\(x:xs\))99 b(=)g(foldl)49 b(f)h(x)f(xs)0
4462 y(foldl1)g(_)g([])299 b(=)99 b(error)49 b("Prelude.foldl1:)e
(empty)i(list")0 4630 y(scanl)597 b(::)49 b(\(a)h(->)f(b)h(->)f(a\))h
(->)f(a)h(->)f([b])g(->)h([a])0 4730 y(scanl)f(f)h(q)f(xs)249
b(=)99 b(q)50 b(:)g(\(case)e(xs)i(of)1395 4829 y([])149
b(->)49 b([])1395 4929 y(x:xs)g(->)g(scanl)g(f)h(\(f)f(q)h(x\))f(xs\))0
5097 y(scanl1)547 b(::)49 b(\(a)h(->)f(a)h(->)f(a\))h(->)f([a])g(->)h
([a])0 5196 y(scanl1)f(f)g(\(x:xs\))99 b(=)g(scanl)49
b(f)h(x)f(xs)0 5296 y(scanl1)g(_)g([])299 b(=)99 b([])p
eop
%%Page: 117 131
117 130 bop 300 100 a FE(8.1.)51 b(PRELUDE)20 b FD(PRELUDELIST)2240
b FI(117)300 334 y Fp(--)49 b(foldr,)g(foldr1,)g(scanr,)f(and)i(scanr1)
e(are)i(the)f(right-to-left)e(duals)i(of)g(the)300 434
y(--)g(above)g(functions.)300 567 y(foldr)597 b(::)49
b(\(a)h(->)f(b)h(->)f(b\))h(->)f(b)h(->)f([a])g(->)h(b)300
666 y(foldr)f(f)h(z)f([])249 b(=)99 b(z)300 766 y(foldr)49
b(f)h(z)f(\(x:xs\))g(=)99 b(f)50 b(x)g(\(foldr)e(f)i(z)f(xs\))300
934 y(foldr1)547 b(::)49 b(\(a)h(->)f(a)h(->)f(a\))h(->)f([a])g(->)h(a)
300 1033 y(foldr1)f(f)g([x])249 b(=)99 b(x)300 1133 y(foldr1)49
b(f)g(\(x:xs\))99 b(=)g(f)50 b(x)g(\(foldr1)e(f)i(xs\))300
1233 y(foldr1)f(_)g([])299 b(=)99 b(error)49 b("Prelude.foldr1:)e
(empty)i(list")300 1400 y(scanr)647 b(::)49 b(\(a)h(->)f(b)h(->)f(b\))g
(->)h(b)g(->)f([a])g(->)h([b])300 1500 y(scanr)f(f)h(q0)f([])249
b(=)99 b([q0])300 1600 y(scanr)49 b(f)h(q0)f(\(x:xs\))g(=)99
b(f)50 b(x)f(q)h(:)g(qs)1346 1699 y(where)f(qs@\(q:_\))f(=)i(scanr)f(f)
g(q0)h(xs)300 1867 y(scanr1)497 b(::)49 b(\(a)h(->)f(a)h(->)f(a\))h(->)
f([a])h(->)f([a])300 1967 y(scanr1)g(f)g([])249 b(=)99
b([])300 2066 y(scanr1)49 b(f)g([x])199 b(=)99 b([x])300
2166 y(scanr1)49 b(f)g(\(x:xs\))g(=)99 b(f)50 b(x)g(q)f(:)h(qs)1246
2265 y(where)f(qs@\(q:_\))g(=)g(scanr1)g(f)h(xs)300 2433
y(--)f(iterate)g(f)h(x)f(returns)g(an)g(infinite)f(list)i(of)f
(repeated)f(applications)g(of)h(f)h(to)f(x:)300 2533
y(--)g(iterate)g(f)h(x)f(==)h([x,)f(f)h(x,)f(f)h(\(f)f(x\),)g(...])300
2632 y(iterate)497 b(::)49 b(\(a)h(->)f(a\))h(->)f(a)h(->)f([a])300
2732 y(iterate)g(f)g(x)299 b(=)99 b(x)50 b(:)g(iterate)e(f)i(\(f)f(x\))
300 2900 y(--)g(repeat)g(x)h(is)f(an)h(infinite)e(list,)h(with)g(x)h
(the)f(value)g(of)g(every)g(element.)300 2999 y(repeat)547
b(::)49 b(a)h(->)f([a])300 3099 y(repeat)g(x)448 b(=)99
b(xs)50 b(where)f(xs)g(=)h(x:xs)300 3267 y(--)f(replicate)g(n)g(x)h(is)
f(a)h(list)f(of)g(length)g(n)h(with)f(x)g(the)h(value)f(of)g(every)g
(element)300 3366 y(replicate)397 b(::)49 b(Int)h(->)f(a)h(->)f([a])300
3466 y(replicate)f(n)i(x)199 b(=)99 b(take)49 b(n)h(\(repeat)e(x\))300
3634 y(--)h(cycle)g(ties)g(a)h(finite)f(list)g(into)g(a)g(circular)g
(one,)g(or)g(equivalently,)300 3733 y(--)g(the)h(infinite)e(repetition)
g(of)h(the)h(original)e(list.)99 b(It)49 b(is)h(the)f(identity)300
3833 y(--)g(on)h(infinite)e(lists.)300 3966 y(cycle)597
b(::)49 b([a])h(->)f([a])300 4065 y(cycle)g([])448 b(=)99
b(error)49 b("Prelude.cycle:)e(empty)i(list")300 4165
y(cycle)g(xs)448 b(=)99 b(xs')50 b(where)e(xs')i(=)f(xs)h(++)f(xs')300
4333 y(--)g(take)h(n,)f(applied)f(to)i(a)g(list)f(xs,)g(returns)f(the)i
(prefix)e(of)i(xs)f(of)h(length)e(n,)300 4432 y(--)h(or)h(xs)f(itself)g
(if)g(n)h(>)g(length)e(xs.)99 b(drop)50 b(n)f(xs)h(returns)e(the)h
(suffix)g(of)g(xs)300 4532 y(--)g(after)g(the)h(first)e(n)i(elements,)e
(or)i([])f(if)h(n)f(>)h(length)e(xs.)100 b(splitAt)48
b(n)i(xs)300 4632 y(--)f(is)h(equivalent)e(to)h(\(take)g(n)h(xs,)f
(drop)g(n)h(xs\).)300 4764 y(take)946 b(::)49 b(Int)g(->)h([a])f(->)h
([a])300 4864 y(take)f(n)h(_)298 b(|)50 b(n)g(<=)f(0)h(=)99
b([])300 4964 y(take)49 b(_)h([])697 b(=)99 b([])300
5063 y(take)49 b(n)h(\(x:xs\))497 b(=)99 b(x)50 b(:)f(take)g(\(n-1\))g
(xs)p eop
%%Page: 118 132
118 131 bop 0 100 a FI(118)1994 b FE(CHAPTER)20 b(8.)51
b(ST)-8 b(AND)l(ARD)20 b(PRELUDE)0 334 y Fp(drop)946
b(::)49 b(Int)g(->)h([a])f(->)h([a])0 434 y(drop)f(n)h(xs)248
b(|)50 b(n)g(<=)f(0)h(=)99 b(xs)0 534 y(drop)49 b(_)h([])697
b(=)99 b([])0 633 y(drop)49 b(n)h(\(_:xs\))497 b(=)99
b(drop)49 b(\(n-1\))g(xs)0 801 y(splitAt)895 b(::)50
b(Int)f(->)g([a])h(->)f(\([a],[a]\))0 901 y(splitAt)g(n)g(xs)647
b(=)100 b(\(take)49 b(n)g(xs,)h(drop)f(n)g(xs\))0 1068
y(--)g(takeWhile,)f(applied)h(to)g(a)h(predicate)e(p)i(and)f(a)h(list)f
(xs,)g(returns)f(the)i(longest)0 1168 y(--)f(prefix)g(\(possibly)f
(empty\))h(of)g(xs)h(of)f(elements)g(that)g(satisfy)f(p.)99
b(dropWhile)49 b(p)g(xs)0 1268 y(--)g(returns)g(the)g(remaining)f
(suffix.)99 b(span)49 b(p)g(xs)h(is)f(equivalent)f(to)0
1367 y(--)h(\(takeWhile)f(p)i(xs,)f(dropWhile)f(p)i(xs\),)f(while)g
(break)g(p)g(uses)h(the)f(negation)f(of)i(p.)0 1500 y(takeWhile)746
b(::)49 b(\(a)g(->)h(Bool\))f(->)g([a])g(->)h([a])0 1600
y(takeWhile)e(p)i([])498 b(=)99 b([])0 1699 y(takeWhile)48
b(p)i(\(x:xs\))598 1799 y(|)f(p)h(x)349 b(=)99 b(x)50
b(:)f(takeWhile)f(p)i(xs)598 1898 y(|)f(otherwise)g(=)99
b([])0 2066 y(dropWhile)746 b(::)49 b(\(a)g(->)h(Bool\))f(->)g([a])g
(->)h([a])0 2166 y(dropWhile)e(p)i([])498 b(=)99 b([])0
2265 y(dropWhile)48 b(p)i(xs@\(x:xs'\))598 2365 y(|)f(p)h(x)349
b(=)99 b(dropWhile)48 b(p)i(xs')598 2465 y(|)f(otherwise)g(=)99
b(xs)0 2632 y(span,)49 b(break)647 b(::)49 b(\(a)g(->)h(Bool\))f(->)g
([a])g(->)h(\([a],[a]\))0 2732 y(span)f(p)h([])597 b(=)50
b(\([],[]\))0 2832 y(span)f(p)h(xs@\(x:xs'\))598 2931
y(|)f(p)h(x)349 b(=)99 b(\(x:ys,zs\))598 3031 y(|)49
b(otherwise)g(=)99 b(\([],xs\))1345 3131 y(where)49 b(\(ys,zs\))f(=)i
(span)f(p)h(xs')0 3298 y(break)f(p)847 b(=)99 b(span)49
b(\(not)g(.)h(p\))0 3466 y(--)f(lines)g(breaks)g(a)h(string)e(up)i
(into)f(a)g(list)h(of)f(strings)f(at)i(newline)e(characters.)0
3566 y(--)h(The)h(resulting)e(strings)g(do)i(not)f(contain)g(newlines.)
97 b(Similary,)49 b(words)0 3665 y(--)g(breaks)g(a)h(string)e(up)i
(into)f(a)h(list)f(of)g(words,)g(which)g(were)g(delimited)f(by)0
3765 y(--)h(white)g(space.)99 b(unlines)48 b(and)i(unwords)e(are)h(the)
h(inverse)e(operations.)0 3864 y(--)h(unlines)g(joins)g(lines)g(with)g
(terminating)f(newlines,)g(and)h(unwords)f(joins)0 3964
y(--)h(words)g(with)g(separating)f(spaces.)0 4097 y(lines)597
b(::)49 b(String)g(->)g([String])0 4197 y(lines)g("")448
b(=)99 b([])0 4296 y(lines)49 b(s)498 b(=)99 b(let)50
b(\(l,)f(s'\))g(=)h(break)f(\(==)g('\\n'\))g(s)1096 4396
y(in)99 b(l)50 b(:)f(case)g(s')h(of)1594 4495 y([])299
b(->)49 b([])1594 4595 y(\(_:s''\))g(->)g(lines)g(s'')0
4763 y(words)597 b(::)49 b(String)g(->)g([String])0 4862
y(words)g(s)498 b(=)99 b(case)49 b(dropWhile)f(Char.isSpace)g(s)i(of)
1096 4962 y("")f(->)h([])1096 5062 y(s')f(->)h(w)f(:)h(words)f(s'')1395
5161 y(where)g(\(w,)g(s''\))g(=)h(break)e(Char.isSpace)g(s')p
eop
%%Page: 119 133
119 132 bop 300 100 a FE(8.1.)51 b(PRELUDE)20 b FD(PRELUDELIST)2240
b FI(119)300 334 y Fp(unlines)497 b(::)49 b([String])g(->)g(String)300
434 y(unlines)497 b(=)99 b(concatMap)48 b(\(++)i("\\n"\))300
602 y(unwords)497 b(::)49 b([String])g(->)g(String)300
701 y(unwords)g([])348 b(=)99 b("")300 801 y(unwords)49
b(ws)348 b(=)99 b(foldr1)49 b(\(\\w)g(s)h(->)f(w)h(++)f(')h(':s\))f(ws)
300 969 y(--)g(reverse)g(xs)g(returns)g(the)g(elements)f(of)i(xs)f(in)h
(reverse)e(order.)99 b(xs)49 b(must)g(be)h(finite.)300
1068 y(reverse)497 b(::)49 b([a])h(->)f([a])300 1168
y(reverse)497 b(=)99 b(foldl)49 b(\(flip)g(\(:\)\))g([])300
1336 y(--)g(and)h(returns)e(the)h(conjunction)f(of)i(a)f(Boolean)g
(list.)98 b(For)50 b(the)f(result)g(to)g(be)300 1435
y(--)g(True,)g(the)h(list)f(must)g(be)g(finite;)g(False,)f(however,)h
(results)f(from)h(a)h(False)300 1535 y(--)f(value)g(at)h(a)f(finite)g
(index)g(of)g(a)h(finite)f(or)g(infinite)f(list.)99 b(or)50
b(is)f(the)300 1634 y(--)g(disjunctive)f(dual)h(of)h(and.)300
1734 y(and,)f(or)498 b(::)49 b([Bool])g(->)g(Bool)300
1834 y(and)697 b(=)99 b(foldr)49 b(\(&&\))g(True)300
1933 y(or)747 b(=)99 b(foldr)49 b(\(||\))g(False)300
2101 y(--)g(Applied)g(to)g(a)h(predicate)e(and)h(a)h(list,)f(any)g
(determines)f(if)i(any)f(element)300 2201 y(--)g(of)h(the)f(list)g
(satisfies)f(the)i(predicate.)97 b(Similarly,)48 b(for)i(all.)300
2300 y(any,)f(all)448 b(::)49 b(\(a)h(->)f(Bool\))g(->)g([a])h(->)f
(Bool)300 2400 y(any)g(p)598 b(=)99 b(or)50 b(.)f(map)h(p)300
2500 y(all)f(p)598 b(=)99 b(and)50 b(.)f(map)g(p)300
2667 y(--)g(elem)h(is)f(the)g(list)g(membership)f(predicate,)g(usually)
h(written)f(in)i(infix)e(form,)300 2767 y(--)h(e.g.,)g(x)h(`elem`)f
(xs.)99 b(notElem)48 b(is)i(the)f(negation.)300 2867
y(elem,)g(notElem)198 b(::)49 b(\(Eq)h(a\))f(=>)g(a)h(->)f([a])h(->)f
(Bool)300 2966 y(elem)g(x)548 b(=)99 b(any)50 b(\(==)f(x\))300
3066 y(notElem)g(x)398 b(=)99 b(all)50 b(\(/=)f(x\))300
3233 y(--)g(lookup)g(key)g(assocs)g(looks)g(up)g(a)h(key)f(in)h(an)f
(association)f(list.)300 3333 y(lookup)547 b(::)49 b(\(Eq)h(a\))f(=>)g
(a)h(->)f([\(a,b\)])g(->)g(Maybe)g(b)300 3433 y(lookup)g(key)g([])199
b(=)99 b(Nothing)300 3532 y(lookup)49 b(key)g(\(\(x,y\):xys\))499
3632 y(|)h(key)f(==)h(x)149 b(=)99 b(Just)49 b(y)499
3732 y(|)h(otherwise)98 b(=)h(lookup)49 b(key)g(xys)300
3899 y(--)g(sum)h(and)f(product)f(compute)h(the)g(sum)g(or)h(product)e
(of)i(a)f(finite)g(list)g(of)h(numbers.)300 3999 y(sum,)f(product)248
b(::)49 b(\(Num)g(a\))h(=>)f([a])g(->)h(a)300 4099 y(sum)697
b(=)99 b(foldl)49 b(\(+\))g(0)300 4198 y(product)497
b(=)99 b(foldl)49 b(\(*\))g(1)300 4366 y(--)g(maximum)g(and)g(minimum)g
(return)f(the)i(maximum)e(or)i(minimum)e(value)h(from)g(a)h(list,)300
4466 y(--)f(which)g(must)g(be)h(non-empty,)e(finite,)g(and)i(of)f(an)g
(ordered)g(type.)300 4565 y(maximum,)f(minimum)h(::)g(\(Ord)g(a\))h(=>)
f([a])g(->)h(a)300 4665 y(maximum)f([])348 b(=)99 b(error)49
b("Prelude.maximum:)e(empty)i(list")300 4764 y(maximum)g(xs)348
b(=)99 b(foldl1)49 b(max)g(xs)300 4932 y(minimum)g([])348
b(=)99 b(error)49 b("Prelude.minimum:)e(empty)i(list")300
5032 y(minimum)g(xs)348 b(=)99 b(foldl1)49 b(min)g(xs)p
eop
%%Page: 120 134
120 133 bop 0 100 a FI(120)1994 b FE(CHAPTER)20 b(8.)51
b(ST)-8 b(AND)l(ARD)20 b(PRELUDE)0 334 y Fp(--)49 b(zip)h(takes)f(two)g
(lists)g(and)g(returns)f(a)i(list)f(of)h(corresponding)d(pairs.)98
b(If)50 b(one)0 434 y(--)f(input)g(list)g(is)h(short,)f(excess)f
(elements)h(of)g(the)g(longer)g(list)g(are)g(discarded.)0
534 y(--)g(zip3)h(takes)e(three)h(lists)g(and)g(returns)g(a)h(list)f
(of)g(triples.)98 b(Zips)49 b(for)g(larger)0 633 y(--)g(tuples)g(are)g
(in)h(the)f(List)g(library)0 766 y(zip)697 b(::)49 b([a])h(->)f([b])g
(->)h([\(a,b\)])0 866 y(zip)697 b(=)99 b(zipWith)49 b(\(,\))0
1033 y(zip3)647 b(::)49 b([a])h(->)f([b])g(->)h([c])f(->)g([\(a,b,c\)])
0 1133 y(zip3)647 b(=)99 b(zipWith3)49 b(\(,,\))0 1301
y(--)g(The)h(zipWith)e(family)h(generalises)f(the)h(zip)g(family)g(by)g
(zipping)g(with)g(the)0 1400 y(--)g(function)g(given)g(as)g(the)g
(first)g(argument,)f(instead)h(of)g(a)h(tupling)e(function.)0
1500 y(--)h(For)h(example,)e(zipWith)h(\(+\))g(is)g(applied)g(to)g(two)
g(lists)g(to)h(produce)e(the)h(list)0 1600 y(--)g(of)h(corresponding)d
(sums.)0 1732 y(zipWith)497 b(::)49 b(\(a->b->c\))f(->)i([a]->[b]->[c])
0 1832 y(zipWith)f(z)g(\(a:as\))g(\(b:bs\))847 1932 y(=)99
b(z)50 b(a)g(b)f(:)h(zipWith)e(z)i(as)f(bs)0 2031 y(zipWith)g(_)g(_)h
(_)199 b(=)99 b([])0 2199 y(zipWith3)447 b(::)49 b(\(a->b->c->d\))f(->)
h([a]->[b]->[c]->[d])0 2299 y(zipWith3)f(z)i(\(a:as\))f(\(b:bs\))f
(\(c:cs\))847 2398 y(=)99 b(z)50 b(a)g(b)f(c)h(:)f(zipWith3)g(z)g(as)h
(bs)f(cs)0 2498 y(zipWith3)f(_)i(_)g(_)f(_)h(=)99 b([])0
2666 y(--)49 b(unzip)g(transforms)f(a)i(list)f(of)g(pairs)g(into)g(a)h
(pair)f(of)g(lists.)0 2798 y(unzip)597 b(::)49 b([\(a,b\)])g(->)g
(\([a],[b]\))0 2898 y(unzip)597 b(=)99 b(foldr)49 b(\(\\\(a,b\))g
(\230\(as,bs\))f(->)h(\(a:as,b:bs\)\))f(\([],[]\))0 3066
y(unzip3)547 b(::)49 b([\(a,b,c\)])f(->)i(\([a],[b],[c]\))0
3165 y(unzip3)547 b(=)99 b(foldr)49 b(\(\\\(a,b,c\))f(\230\(as,bs,cs\))
g(->)h(\(a:as,b:bs,c:cs\)\))1295 3265 y(\([],[],[]\))p
eop
%%Page: 121 135
121 134 bop 300 100 a FE(8.2.)51 b(PRELUDE)20 b FD(PRELUDETEXT)2240
b FI(121)300 356 y FC(8.2)119 b(Pr)n(elude)31 b Fa(PreludeText)300
613 y Fp(module)49 b(PreludeText)e(\()499 712 y(ReadS,)i(ShowS,)499
812 y(Read\(readsPrec,)e(readList\),)499 912 y(Show\(showsPrec,)g
(show,)i(showList\),)499 1011 y(reads,)g(shows,)g(read,)g(lex,)499
1111 y(showChar,)f(showString,)g(readParen,)g(showParen)g(\))i(where)
300 1279 y(--)f(The)h(instances)e(of)h(Read)g(and)h(Show)f(for)300
1378 y(--)299 b(Bool,)48 b(Maybe,)h(Either,)g(Ordering)300
1478 y(--)g(are)h(done)f(via)g("deriving")f(clauses)g(in)i(Prelude.hs)
300 1611 y(import)f(Char\(isSpace,)e(isAlpha,)h(isDigit,)h(isAlphaNum,)
898 1710 y(showLitChar,)e(readLitChar,)h(lexLitChar\))300
1878 y(import)h(Numeric\(showSigned,)d(showInt,)i(readSigned,)g
(readDec,)g(showFloat,)1047 1978 y(readFloat,)g(lexDigits\))300
2145 y(type)99 b(ReadS)49 b(a)99 b(=)50 b(String)f(->)g([\(a,String\)])
300 2245 y(type)99 b(ShowS)198 b(=)50 b(String)f(->)g(String)300
2413 y(class)99 b(Read)49 b(a)99 b(where)499 2512 y(readsPrec)397
b(::)50 b(Int)f(->)g(ReadS)g(a)499 2612 y(readList)447
b(::)50 b(ReadS)e([a])699 2745 y(--)h(Minimal)f(complete)h(definition:)
699 2844 y(--)298 b(readsPrec)499 2944 y(readList)447
b(=)50 b(readParen)e(False)h(\(\\r)g(->)g([pr)h(|)f(\("[",s\))99
b(<-)49 b(lex)g(r,)2890 3044 y(pr)349 b(<-)49 b(readl)g(s]\))1446
3143 y(where)g(readl)98 b(s)50 b(=)g([\([],t\))148 b(|)49
b(\("]",t\))99 b(<-)49 b(lex)g(s])h(++)2293 3243 y([\(x:xs,u\))e(|)h
(\(x,t\))199 b(<-)49 b(reads)g(s,)2890 3343 y(\(xs,u\))149
b(<-)49 b(readl')g(t])1745 3442 y(readl')f(s)i(=)g([\([],t\))148
b(|)49 b(\("]",t\))99 b(<-)49 b(lex)g(s])h(++)2293 3542
y([\(x:xs,v\))e(|)h(\(",",t\))99 b(<-)49 b(lex)g(s,)2890
3641 y(\(x,u\))199 b(<-)49 b(reads)g(t,)2890 3741 y(\(xs,v\))149
b(<-)49 b(readl')g(u])300 3909 y(class)99 b(Show)49 b(a)99
b(where)499 4008 y(showsPrec)397 b(::)50 b(Int)f(->)g(a)h(->)f(ShowS)
499 4108 y(show)647 b(::)50 b(a)f(->)h(String)499 4208
y(showList)447 b(::)50 b([a])f(->)g(ShowS)699 4340 y(--)g(Mimimal)f
(complete)h(definition:)699 4440 y(--)298 b(show)49 b(or)h(showsPrec)
499 4540 y(showsPrec)e(_)i(x)g(s)149 b(=)50 b(show)f(x)g(++)h(s)499
4673 y(show)f(x)598 b(=)50 b(showsPrec)e(0)h(x)h("")499
4805 y(showList)f([])348 b(=)50 b(showString)d("[]")499
4905 y(showList)i(\(x:xs\))148 b(=)50 b(showChar)e('[')h(.)h(shows)f(x)
g(.)h(showl)f(xs)1496 5005 y(where)f(showl)h([])249 b(=)50
b(showChar)e(']')1794 5104 y(showl)h(\(x:xs\))g(=)h(showChar)e(',')h(.)
h(shows)f(x)g(.)2542 5204 y(showl)f(xs)p eop
%%Page: 122 136
122 135 bop 0 100 a FI(122)1994 b FE(CHAPTER)20 b(8.)51
b(ST)-8 b(AND)l(ARD)20 b(PRELUDE)0 334 y Fp(reads)597
b(::)49 b(\(Read)g(a\))h(=>)f(ReadS)g(a)0 434 y(reads)597
b(=)99 b(readsPrec)48 b(0)0 602 y(shows)597 b(::)49 b(\(Show)g(a\))h
(=>)f(a)h(->)f(ShowS)0 701 y(shows)597 b(=)99 b(showsPrec)48
b(0)0 869 y(read)647 b(::)49 b(\(Read)g(a\))h(=>)f(String)g(->)g(a)0
969 y(read)g(s)548 b(=)99 b(case)49 b([x)h(|)f(\(x,t\))g(<-)h(reads)f
(s,)g(\("",""\))g(<-)g(lex)g(t])h(of)1245 1068 y([x])g(->)f(x)1245
1168 y([])100 b(->)49 b(error)g("Prelude.read:)e(no)j(parse")1245
1268 y(_)150 b(->)49 b(error)g("Prelude.read:)e(ambiguous)h(parse")0
1435 y(showChar)447 b(::)49 b(Char)g(->)h(ShowS)0 1535
y(showChar)447 b(=)99 b(\(:\))0 1703 y(showString)347
b(::)49 b(String)g(->)g(ShowS)0 1802 y(showString)347
b(=)99 b(\(++\))0 1970 y(showParen)397 b(::)49 b(Bool)g(->)h(ShowS)f
(->)g(ShowS)0 2070 y(showParen)f(b)i(p)199 b(=)99 b(if)50
b(b)f(then)g(showChar)g('\(')g(.)h(p)f(.)h(showChar)e('\)')h(else)g(p)0
2237 y(readParen)397 b(::)49 b(Bool)g(->)h(ReadS)f(a)g(->)h(ReadS)f(a)0
2337 y(readParen)f(b)i(g)199 b(=)99 b(if)50 b(b)f(then)g(mandatory)g
(else)g(optional)996 2436 y(where)g(optional)f(r)100
b(=)50 b(g)f(r)h(++)f(mandatory)f(r)1295 2536 y(mandatory)g(r)i(=)g
([\(x,u\))e(|)i(\("\(",s\))e(<-)i(lex)f(r,)2441 2636
y(\(x,t\))148 b(<-)50 b(optional)e(s,)2441 2735 y(\("\)",u\))g(<-)i
(lex)f(t)199 b(])0 2903 y(--)49 b(This)h(lexer)e(is)i(not)f(completely)
f(faithful)g(to)i(the)f(Haskell)g(lexical)f(syntax.)0
3003 y(--)h(Current)g(limitations:)0 3102 y(--)199 b(Qualified)48
b(names)h(are)g(not)g(handled)g(properly)0 3202 y(--)199
b(Octal)49 b(and)g(hexidecimal)f(numerics)g(are)h(not)h(recognized)e
(as)h(a)h(single)e(token)0 3302 y(--)199 b(Comments)48
b(are)h(not)h(treated)e(properly)0 3434 y(lex)697 b(::)49
b(ReadS)g(String)0 3534 y(lex)g("")548 b(=)99 b([\("",""\)])0
3634 y(lex)49 b(\(c:s\))149 3733 y(|)h(isSpace)f(c)149
b(=)99 b(lex)50 b(\(dropWhile)d(isSpace)i(s\))0 3833
y(lex)g(\('\\'':s\))248 b(=)99 b([\('\\'':ch++"'",)47
b(t\))j(|)f(\(ch,'\\'':t\))98 b(<-)49 b(lexLitChar)f(s,)2042
3933 y(ch)i(/=)f("'")g(])0 4032 y(lex)g(\('"':s\))298
b(=)99 b([\('"':str,)48 b(t\))299 b(|)49 b(\(str,t\))g(<-)g(lexString)f
(s])996 4132 y(where)996 4231 y(lexString)g(\('"':s\))h(=)h
([\("\\"",s\)])996 4331 y(lexString)e(s)i(=)g([\(ch++str,)e(u\))2042
4431 y(|)i(\(ch,t\))98 b(<-)50 b(lexStrItem)e(s,)2142
4530 y(\(str,u\))g(<-)i(lexString)e(t)99 b(])996 4663
y(lexStrItem)48 b(\('\\\\':'&':s\))g(=)99 b([\("\\\\&",s\)])996
4763 y(lexStrItem)48 b(\('\\\\':c:s\))g(|)i(isSpace)e(c)2142
4862 y(=)99 b([\("\\\\&",t\))48 b(|)2341 4962 y('\\\\':t)h(<-)2540
5062 y([dropWhile)f(isSpace)h(s]])996 5161 y(lexStrItem)f(s)548
b(=)99 b(lexLitChar)48 b(s)p eop
%%Page: 123 137
123 136 bop 300 100 a FE(8.2.)51 b(PRELUDE)20 b FD(PRELUDETEXT)2240
b FI(123)300 334 y Fp(lex)49 b(\(c:s\))g(|)h(isSingle)e(c)i(=)f
([\([c],s\)])798 434 y(|)h(isSym)f(c)199 b(=)49 b([\(c:sym,t\))347
b(|)50 b(\(sym,t\))e(<-)i([span)f(isSym)f(s]])798 534
y(|)i(isAlpha)e(c)100 b(=)49 b([\(c:nam,t\))347 b(|)50
b(\(nam,t\))e(<-)i([span)f(isIdChar)f(s]])798 633 y(|)i(isDigit)e(c)100
b(=)49 b([\(c:ds++fe,t\))197 b(|)50 b(\(ds,s\))98 b(<-)50
b([span)f(isDigit)f(s],)2492 733 y(\(fe,t\))98 b(<-)50
b(lexFracExp)e(s)249 b(])798 832 y(|)50 b(otherwise)98
b(=)49 b([])199 b(--)50 b(bad)f(character)948 932 y(where)997
1032 y(isSingle)g(c)g(=)100 b(c)49 b(`elem`)g(",;\(\)[]{}_`")997
1131 y(isSym)g(c)199 b(=)100 b(c)49 b(`elem`)g
("!@#$\045&*+./<=>?\\\\\210|:-\230")997 1231 y(isIdChar)g(c)g(=)100
b(isAlphaNum)48 b(c)h(||)h(c)f(`elem`)g("_'")997 1364
y(lexFracExp)f(\('.':c:cs\))g(|)i(isDigit)e(c)1695 1463
y(=)h([\('.':ds++e,u\))f(|)h(\(ds,t\))g(<-)g(lexDigits)f(\(c:cs\),)2641
1563 y(\(e,u\))99 b(<-)49 b(lexExp)g(t])997 1663 y(lexFracExp)f(s)100
b(=)49 b(lexExp)g(s)997 1796 y(lexExp)g(\(e:s\))g(|)h(e)f(`elem`)g
("eE")1446 1895 y(=)g([\(e:c:ds,u\))f(|)i(\(c:t\))98
b(<-)50 b([s],)f(c)h(`elem`)e("+-",)2741 1995 y(\(ds,u\))h(<-)g
(lexDigits)f(t])i(++)1545 2094 y([\(e:ds,t\))148 b(|)50
b(\(ds,t\))e(<-)i(lexDigits)e(s])997 2194 y(lexExp)h(s)h(=)f
([\("",s\)])300 2362 y(instance)98 b(Show)49 b(Int)99
b(where)499 2461 y(showsPrec)48 b(n)i(=)g(showsPrec)e(n)h(.)h
(toInteger)699 2561 y(--)f(Converting)f(to)h(Integer)g(avoids)699
2661 y(--)g(possible)f(difficulty)g(with)h(minInt)300
2828 y(instance)98 b(Read)49 b(Int)99 b(where)400 2928
y(readsPrec)48 b(p)h(r)h(=)g([\(fromInteger)d(i,)i(t\))h(|)g(\(i,t\))e
(<-)i(readsPrec)e(p)i(r])699 3028 y(--)f(Reading)f(at)i(the)f(Integer)g
(type)g(avoids)699 3127 y(--)g(possible)f(difficulty)g(with)h(minInt)
300 3295 y(instance)98 b(Show)49 b(Integer)99 b(where)499
3395 y(showsPrec)547 b(=)49 b(showSigned)f(showInt)300
3562 y(instance)98 b(Read)49 b(Integer)99 b(where)499
3662 y(readsPrec)48 b(p)449 b(=)49 b(readSigned)f(readDec)300
3830 y(instance)98 b(Show)49 b(Float)99 b(where)499 3929
y(showsPrec)48 b(p)449 b(=)49 b(showFloat)300 4097 y(instance)98
b(Read)49 b(Float)99 b(where)499 4197 y(readsPrec)48
b(p)449 b(=)49 b(readSigned)f(readFloat)300 4364 y(instance)98
b(Show)49 b(Double)99 b(where)499 4464 y(showsPrec)48
b(p)449 b(=)49 b(showFloat)300 4632 y(instance)98 b(Read)49
b(Double)99 b(where)499 4731 y(readsPrec)48 b(p)449 b(=)49
b(readSigned)f(readFloat)300 4899 y(instance)98 b(Show)49
b(\(\))99 b(where)499 4999 y(showsPrec)48 b(p)i(\(\))f(=)h(showString)e
("\(\)")p eop
%%Page: 124 138
124 137 bop 0 100 a FI(124)1994 b FE(CHAPTER)20 b(8.)51
b(ST)-8 b(AND)l(ARD)20 b(PRELUDE)0 334 y Fp(instance)48
b(Read)h(\(\))h(where)199 434 y(readsPrec)e(p)199 b(=)50
b(readParen)e(False)1395 534 y(\(\\r)h(->)g([\(\(\),t\))g(|)h
(\("\(",s\))e(<-)i(lex)f(r,)2242 633 y(\("\)",t\))f(<-)i(lex)f(s)g(])h
(\))0 733 y(instance)98 b(Show)49 b(Char)99 b(where)199
832 y(showsPrec)48 b(p)i('\\'')f(=)h(showString)e("'\\\\''")199
932 y(showsPrec)g(p)i(c)199 b(=)50 b(showChar)e('\\'')h(.)h
(showLitChar)d(c)j(.)g(showChar)e('\\'')199 1065 y(showList)h(cs)g(=)h
(showChar)e('"')h(.)h(showl)f(cs)847 1165 y(where)g(showl)g("")348
b(=)50 b(showChar)e('"')1146 1264 y(showl)h(\('"':cs\))f(=)i
(showString)d("\\\\\\"")i(.)h(showl)f(cs)1146 1364 y(showl)g(\(c:cs\))
148 b(=)50 b(showLitChar)d(c)j(.)g(showl)e(cs)0 1532
y(instance)98 b(Read)49 b(Char)99 b(where)199 1631 y(readsPrec)48
b(p)299 b(=)50 b(readParen)e(False)1395 1731 y(\(\\r)h(->)g([\(c,t\))g
(|)h(\('\\'':s,t\)<-)d(lex)j(r,)2192 1830 y(\(c,"\\'"\))98
b(<-)49 b(readLitChar)f(s]\))199 1963 y(readList)h(=)g(readParen)f
(False)h(\(\\r)g(->)h([\(l,t\))f(|)g(\('"':s,)g(t\))g(<-)h(lex)f(r,)
2341 2063 y(\(l,_\))298 b(<-)50 b(readl)e(s)i(]\))399
2163 y(where)e(readl)h(\('"':s\))298 b(=)49 b([\("",s\)])697
2262 y(readl)g(\('\\\\':'&':s\))f(=)h(readl)g(s)697 2362
y(readl)g(s)598 b(=)49 b([\(c:cs,u\))g(|)g(\(c)h(,t\))f(<-)g
(readLitChar)f(s,)2341 2461 y(\(cs,u\))h(<-)g(readl)g(t)349
b(])0 2629 y(instance)98 b(\(Show)49 b(a\))g(=>)h(Show)f([a])99
b(where)199 2729 y(showsPrec)48 b(p)299 b(=)50 b(showList)0
2896 y(instance)98 b(\(Read)49 b(a\))g(=>)h(Read)f([a])99
b(where)199 2996 y(readsPrec)48 b(p)299 b(=)50 b(readList)0
3164 y(--)f(Tuples)0 3297 y(instance)98 b(\(Show)49 b(a,)g(Show)h(b\))f
(=>)g(Show)g(\(a,b\))99 b(where)199 3396 y(showsPrec)48
b(p)i(\(x,y\))f(=)h(showChar)e('\(')h(.)h(shows)f(x)g(.)h(showChar)e
(',')h(.)1943 3496 y(shows)g(y)g(.)h(showChar)e('\)')0
3664 y(instance)98 b(\(Read)49 b(a,)g(Read)h(b\))f(=>)g(Read)g(\(a,b\))
99 b(where)199 3763 y(readsPrec)48 b(p)349 b(=)50 b(readParen)e(False)
1395 3863 y(\(\\r)h(->)g([\(\(x,y\),)g(w\))g(|)h(\("\(",s\))e(<-)i(lex)
f(r,)2441 3962 y(\(x,t\))148 b(<-)50 b(reads)f(s,)2441
4062 y(\(",",u\))f(<-)i(lex)f(t,)2441 4162 y(\(y,v\))148
b(<-)50 b(reads)f(u,)2441 4261 y(\("\)",w\))f(<-)i(lex)f(v)h(])f(\))0
4429 y(--)g(Other)g(tuples)g(have)g(similar)g(Read)g(and)g(Show)g
(instances)p eop
%%Page: 125 139
125 138 bop 300 100 a FE(8.3.)51 b(PRELUDE)20 b FD(PRELUDEIO)2350
b FI(125)300 356 y FC(8.3)119 b(Pr)n(elude)31 b Fa(PreludeIO)300
613 y Fp(module)49 b(PreludeIO)f(\()499 713 y(FilePath,)g(IOError,)h
(ioError,)f(userError,)g(catch,)499 813 y(putChar,)h(putStr,)f
(putStrLn,)g(print,)499 912 y(getChar,)h(getLine,)f(getContents,)f
(interact,)499 1012 y(readFile,)h(writeFile,)g(appendFile,)g(readIO,)h
(readLn)400 1112 y(\))g(where)300 1279 y(import)g(PreludeBuiltin)300
1452 y(type)99 b(FilePath)48 b(=)i(String)300 1624 y(data)f(IOError)198
b(--)49 b(The)h(internals)e(of)h(this)g(type)g(are)h(system)e
(dependent)300 1792 y(instance)98 b(Show)49 b(IOError)99
b(where)48 b(...)300 1892 y(instance)98 b(Eq)50 b(IOError)98
b(where)49 b(...)300 2060 y(ioError)198 b(::)99 b(IOError)49
b(->)g(IO)h(a)300 2159 y(ioError)198 b(=)149 b(primIOError)300
2327 y(userError)98 b(::)h(String)49 b(->)g(IOError)300
2427 y(userError)98 b(=)149 b(primUserError)300 2594
y(catch)298 b(::)99 b(IO)50 b(a)f(->)h(\(IOError)e(->)h(IO)h(a\))f(->)h
(IO)f(a)300 2694 y(catch)298 b(=)149 b(primCatch)300
2862 y(putChar)198 b(::)49 b(Char)g(->)h(IO)f(\(\))300
2961 y(putChar)198 b(=)99 b(primPutChar)300 3129 y(putStr)248
b(::)49 b(String)g(->)h(IO)f(\(\))300 3229 y(putStr)g(s)149
b(=)99 b(mapM_)49 b(putChar)g(s)300 3396 y(putStrLn)148
b(::)49 b(String)g(->)h(IO)f(\(\))300 3496 y(putStrLn)f(s)i(=)99
b(do)50 b(putStr)f(s)1147 3596 y(putStr)g("\\n")300 3763
y(print)298 b(::)49 b(Show)g(a)h(=>)g(a)f(->)h(IO)f(\(\))300
3863 y(print)g(x)199 b(=)99 b(putStrLn)49 b(\(show)g(x\))300
4031 y(getChar)198 b(::)49 b(IO)h(Char)300 4130 y(getChar)198
b(=)99 b(primGetChar)300 4298 y(getLine)198 b(::)49 b(IO)h(String)300
4398 y(getLine)198 b(=)99 b(do)50 b(c)f(<-)h(getChar)1147
4497 y(if)f(c)h(==)f('\\n')g(then)g(return)g("")h(else)1296
4597 y(do)g(s)f(<-)h(getLine)1446 4696 y(return)e(\(c:s\))300
4864 y(getContents)g(::)h(IO)h(String)300 4964 y(getContents)e(=)99
b(primGetContents)p eop
%%Page: 126 140
126 139 bop 0 100 a FI(126)1994 b FE(CHAPTER)20 b(8.)51
b(ST)-8 b(AND)l(ARD)20 b(PRELUDE)0 334 y Fp(interact)198
b(::)99 b(\(String)49 b(->)g(String\))f(->)i(IO)f(\(\))0
434 y(--)g(The)h(hSetBuffering)d(ensures)i(the)g(expected)f
(interactive)g(behaviour)0 534 y(interact)g(f)100 b(=)f(do)50
b(hSetBuffering)d(stdin)99 b(NoBuffering)897 633 y(hSetBuffering)47
b(stdout)i(NoBuffering)897 733 y(s)g(<-)h(getContents)897
832 y(putStr)e(\(f)i(s\))0 1000 y(readFile)148 b(::)49
b(FilePath)g(->)g(IO)h(String)0 1100 y(readFile)148 b(=)99
b(primReadFile)0 1268 y(writeFile)f(::)49 b(FilePath)g(->)g(String)g
(->)g(IO)h(\(\))0 1367 y(writeFile)98 b(=)h(primWriteFile)0
1535 y(appendFile)48 b(::)h(FilePath)g(->)g(String)g(->)g(IO)h(\(\))0
1634 y(appendFile)e(=)99 b(primAppendFile)100 1767 y(--)49
b(raises)g(an)g(exception)f(instead)h(of)g(an)h(error)0
1867 y(readIO)148 b(::)50 b(Read)f(a)g(=>)h(String)f(->)g(IO)g(a)0
1967 y(readIO)g(s)g(=)100 b(case)49 b([x)g(|)h(\(x,t\))f(<-)g(reads)g
(s,)h(\("",""\))e(<-)h(lex)h(t])f(of)697 2066 y([x])h(->)f(return)g(x)
697 2166 y([])100 b(->)49 b(ioError)g(\(userError)f("Prelude.readIO:)e
(no)k(parse"\))697 2265 y(_)150 b(->)49 b(ioError)g(\(userError)f
("Prelude.readIO:)e(ambiguous)i(parse"\))0 2433 y(readLn)h(::)g(Read)g
(a)h(=>)f(IO)h(a)0 2533 y(readLn)f(=)99 b(do)50 b(l)f(<-)h(getLine)648
2632 y(r)f(<-)h(readIO)e(l)648 2732 y(return)g(r)p eop
%%Page: 127 141
127 140 bop 300 1048 a Fw(Chapter)44 b(9)300 1533 y FH(Syntax)52
b(Refer)l(ence)300 2085 y FC(9.1)119 b(Notational)30
b(Con)-5 b(v)o(entions)300 2361 y FI(These)24 b(notational)i(con)l(v)o
(entions)h(are)d(used)g(for)g(presenting)j(syntax:)1180
2590 y Ft([)p Fv(p)-5 b(attern)7 b Ft(])162 b FI(optional)1160
2703 y FB(f)p Fv(p)-5 b(attern)7 b FB(g)142 b FI(zero)24
b(or)g(more)f(repetitions)1170 2816 y Ft(\()p Fv(p)-5
b(attern)7 b Ft(\))152 b FI(grouping)1145 2929 y Fv(p)-5
b(at)1262 2943 y Fu(1)1336 2929 y FB(j)23 b Fv(p)-5 b(at)1501
2943 y Fu(2)1677 2929 y FI(choice)1199 3042 y Fv(p)g(at)1316
3060 y Fs(h)p Fu(p)l(at)1441 3041 y Fr(0)1467 3060 y
Fs(i)1677 3042 y FI(dif)n(ference\227elements)28 b(generated)e(by)e
Fv(p)-5 b(at)1677 3156 y FI(e)o(xcept)25 b(those)f(generated)i(by)e
Fv(p)-5 b(at)2766 3123 y Fs(0)1103 3269 y FD(fibonacci)79
b FI(terminal)25 b(syntax)g(in)e(type)n(writer)i(font)300
3494 y(BNF-lik)o(e)e(syntax)i(is)f(used)g(throughout,)j(with)c
(productions)k(ha)n(ving)e(the)f(form:)300 3719 y Fv(nonterm)142
b FB(!)113 b Fv(alt)1077 3733 y Fu(1)1150 3719 y FB(j)23
b Fv(alt)1297 3733 y Fu(2)1370 3719 y FB(j)38 b Fq(:)15
b(:)g(:)39 b FB(j)23 b Fv(alt)1724 3733 y Fu(n)300 3943
y FI(There)31 b(are)h(some)f(f)o(amilies)h(of)f(nonterminals)j(inde)o
(x)o(ed)e(by)g(precedence)i(le)n(v)o(els)d(\(written)h(as)f(a)g
(superscript\).)300 4056 y(Similarly)-6 b(,)29 b(the)f(nonterminals)j
Fv(op)6 b FI(,)28 b Fv(var)-5 b(op)7 b FI(,)28 b(and)g
Fv(c)-5 b(onop)34 b FI(may)28 b(ha)n(v)o(e)g(a)f(double)j(inde)o(x:)38
b(a)27 b(letter)i Fv(l)9 b FI(,)28 b Fv(r)10 b FI(,)28
b(or)f Fv(n)34 b FI(for)300 4169 y(left-,)24 b(right-)g(or)f
(nonassociati)n(vity)28 b(and)23 b(a)g(precedence)j(le)n(v)o(el.)j(A)22
b(precedence-le)n(v)o(el)28 b(v)n(ariable)c Fv(i)32 b
FI(ranges)25 b(from)e(0)300 4282 y(to)g(9;)h(an)f(associati)n(vity)k(v)
n(ariable)f Fv(a)k FI(v)n(aries)24 b(o)o(v)o(er)g FB(f)p
Fv(l)9 b Fq(;)39 b Fv(r)10 b Fq(;)38 b Fv(n)7 b FB(g)q
FI(.)28 b(Thus,)23 b(for)h(e)o(xample)300 4506 y Fv(aexp)298
b FB(!)113 b FD(\()22 b Fv(exp)1191 4473 y Fu(i)6 b FA(+)p
Fu(1)1347 4506 y Fv(qop)1487 4473 y FA(\()p Fu(a)f Fo(;)p
Fu(i)h FA(\))1659 4506 y FD(\))300 4730 y FI(actually)26
b(stands)f(for)e(30)h(productions,)j(with)c(10)h(substitutions)j(for)d
Fv(i)32 b FI(and)24 b(3)f(for)h Fv(a)7 b FI(.)300 4913
y(In)29 b(both)h(the)f(le)o(xical)h(and)f(the)g(conte)o(xt-free)j
(syntax,)g(there)e(are)f(some)g(ambiguities)i(that)f(are)f(to)f(be)h
(resolv)o(ed)300 5026 y(by)g(making)h(grammatical)h(phrases)f(as)f
(long)h(as)f(possible,)j(proceeding)h(from)28 b(left)i(to)f(right)h
(\(in)f(shift-reduce)300 5139 y(parsing,)38 b(resolving)f(shift/reduce)
g(con\003icts)e(by)f(shifting\).)63 b(In)34 b(the)g(le)o(xical)h
(syntax,)j(this)c(is)g(the)g(\223maximal)300 5252 y(munch\224)28
b(rule.)40 b(In)27 b(the)g(conte)o(xt-free)j(syntax,)g(this)d(means)h
(that)g(conditionals,)j(let-e)o(xpressions,)h(and)27
b(lambda)300 5365 y(abstractions)g(e)o(xtend)e(to)e(the)h(right)g(as)g
(f)o(ar)g(as)f(possible.)2032 5593 y(127)p eop
%%Page: 128 142
128 141 bop 0 100 a FI(128)2006 b FE(CHAPTER)20 b(9.)51
b(SYNT)-8 b(AX)20 b(REFERENCE)0 356 y FC(9.2)119 b(Lexical)30
b(Syntax)0 759 y Fv(pr)-5 b(o)g(gr)g(am)159 b FB(!)113
b(f)23 b Fv(lexeme)30 b FB(j)23 b Fv(whitesp)-5 b(ac)g(e)32
b FB(g)0 872 y Fv(lexeme)209 b FB(!)113 b Fv(qvarid)33
b FB(j)23 b Fv(qc)-5 b(onid)33 b FB(j)23 b Fv(qvarsym)31
b FB(j)23 b Fv(qc)-5 b(onsym)506 985 y FB(j)147 b Fv(liter)-5
b(al)34 b FB(j)23 b Fv(sp)-5 b(e)g(cial)33 b FB(j)23
b Fv(r)-5 b(eserve)g(dop)31 b FB(j)23 b Fv(r)-5 b(eserve)g(did)0
1098 y(liter)g(al)249 b FB(!)113 b Fv(inte)-5 b(ger)33
b FB(j)23 b Fv(\015o)-5 b(at)33 b FB(j)23 b Fv(char)34
b FB(j)23 b Fv(string)0 1211 y(sp)-5 b(e)g(cial)220 b
FB(!)113 b FD(\()22 b FB(j)h FD(\))g FB(j)g FD(,)f FB(j)h
FD(;)f FB(j)h FD([)f FB(j)h FD(])g FB(j)g FD(\036)f FB(j)h
FD({)f FB(j)h FD(})0 1436 y Fv(whitesp)-5 b(ac)g(e)65
b FB(!)113 b Fv(whitestu\013)43 b FB(f)p Fv(whitestu\013)20
b FB(g)0 1549 y Fv(whitestu\013)96 b FB(!)113 b Fv(white)-5
b(char)35 b FB(j)23 b Fv(c)-5 b(omment)33 b FB(j)23 b
Fv(nc)-5 b(omment)0 1662 y(white)g(char)101 b FB(!)113
b Fv(new)5 b(line)30 b FB(j)23 b Fv(vertab)29 b FB(j)23
b Fv(sp)-5 b(ac)g(e)31 b FB(j)23 b Fv(tab)29 b FB(j)23
b Fv(uniWhite)0 1775 y(new)5 b(line)172 b FB(!)113 b
Fv(r)-5 b(eturn)31 b(linefe)-5 b(e)g(d)33 b FB(j)23 b
Fv(r)-5 b(eturn)30 b FB(j)23 b Fv(linefe)-5 b(e)g(d)33
b FB(j)23 b Fv(formfe)-5 b(e)g(d)0 1888 y(r)g(eturn)231
b FB(!)113 b FI(a)23 b(carriage)j(return)0 2001 y Fv(linefe)-5
b(e)g(d)182 b FB(!)113 b FI(a)23 b(line)h(feed)0 2114
y Fv(vertab)234 b FB(!)113 b FI(a)23 b(v)o(ertical)i(tab)0
2227 y Fv(formfe)-5 b(e)g(d)140 b FB(!)113 b FI(a)23
b(form)h(feed)0 2340 y Fv(sp)-5 b(ac)g(e)271 b FB(!)113
b FI(a)23 b(space)0 2453 y Fv(tab)356 b FB(!)113 b FI(a)23
b(horizontal)k(tab)0 2565 y Fv(uniWhite)109 b FB(!)k
FI(an)o(y)24 b(Unicode)h(character)g(de\002ned)g(as)e(whitespace)0
2791 y Fv(c)-5 b(omment)120 b FB(!)113 b Fv(dashes)32
b Ft([)23 b Fv(any)1153 2810 y Fs(h)p Fu(symb)l(ol)7
b Fs(i)1448 2791 y FB(f)p Fv(any)h FB(g)24 b Ft(])f Fv(new)5
b(line)0 2905 y(dashes)220 b FB(!)113 b FD(--)22 b FB(f)p
FD(-)p FB(g)0 3018 y Fv(op)-5 b(enc)g(om)137 b FB(!)113
b FD({-)0 3131 y Fv(close)-5 b(c)g(om)132 b FB(!)113
b FD(-})0 3244 y Fv(nc)-5 b(omment)69 b FB(!)113 b Fv(op)-5
b(enc)g(om)32 b(ANYse)-5 b(q)30 b FB(f)p Fv(nc)-5 b(omment)33
b(ANYse)-5 b(q)8 b FB(g)22 b Fv(close)-5 b(c)g(om)0 3357
y(ANYse)g(q)154 b FB(!)113 b(f)p Fv(ANY)17 b FB(g)989
3376 y Fs(hf)p Fu(ANY)d Fs(g)23 b FA(\()g Fu(op)l(enc)l(om)30
b Fs(j)23 b Fu(close)l(c)l(om)29 b FA(\))24 b Fs(f)p
Fu(ANY)13 b Fs(gi)0 3471 y Fv(ANY)270 b FB(!)113 b Fv(gr)-5
b(aphic)30 b FB(j)23 b Fv(white)-5 b(char)0 3584 y(any)333
b FB(!)113 b Fv(gr)-5 b(aphic)30 b FB(j)23 b Fv(sp)-5
b(ac)g(e)31 b FB(j)23 b Fv(tab)0 3697 y(gr)-5 b(aphic)191
b FB(!)113 b Fv(smal)5 b(l)33 b FB(j)23 b Fv(lar)-5 b(ge)31
b FB(j)23 b Fv(symb)-5 b(ol)34 b FB(j)23 b Fv(digit)31
b FB(j)23 b Fv(sp)-5 b(e)g(cial)34 b FB(j)23 b FD(:)f
FB(j)h FD(")f FB(j)h FD(')0 3923 y Fv(smal)5 b(l)266
b FB(!)113 b Fv(ascSmal)5 b(l)34 b FB(j)23 b Fv(uniSmal)5
b(l)33 b FB(j)23 b FD(_)0 4036 y Fv(ascSmal)5 b(l)127
b FB(!)113 b FD(a)22 b FB(j)h FD(b)g FB(j)38 b Fq(:)15
b(:)g(:)39 b FB(j)23 b FD(z)0 4149 y Fv(uniSmal)5 b(l)124
b FB(!)113 b FI(an)o(y)24 b(Unicode)h(lo)n(wercase)f(letter)0
4374 y Fv(lar)-5 b(ge)288 b FB(!)113 b Fv(ascL)-5 b(ar)g(ge)31
b FB(j)23 b Fv(uniL)-5 b(ar)g(ge)0 4487 y(ascL)g(ar)g(ge)134
b FB(!)113 b FD(A)22 b FB(j)h FD(B)g FB(j)38 b Fq(:)15
b(:)g(:)39 b FB(j)23 b FD(Z)0 4600 y Fv(uniL)-5 b(ar)g(ge)131
b FB(!)113 b FI(an)o(y)24 b(uppercase)i(or)d(titlecase)j(Unicode)f
(letter)0 4713 y Fv(symb)-5 b(ol)213 b FB(!)113 b Fv(ascSymb)-5
b(ol)34 b FB(j)23 b Fv(uniSymb)-5 b(ol)1563 4733 y Fs(h)p
Fu(sp)l(e)l(cial)33 b Fs(j)22 b FD(_)g Fs(j)h FD(:)f
Fs(j)g FD(")g Fs(j)h FD(')o Fs(i)0 4942 y Fv(ascSymb)-5
b(ol)74 b FB(!)113 b FD(!)22 b FB(j)h FD(#)g FB(j)g FD($)f
FB(j)h FD(\045)f FB(j)h FD(&)f FB(j)h FD(*)g FB(j)g FD(+)f
FB(j)h FD(.)f FB(j)h FD(/)f FB(j)h FD(<)g FB(j)g FD(=)f
FB(j)h FD(>)f FB(j)h FD(?)f FB(j)h Ft(@)506 5055 y FB(j)147
b FD(\\)22 b FB(j)h FD(\210)g FB(j)g FD(|)f FB(j)h FD(-)f
FB(j)h FD(\230)0 5168 y Fv(uniSymb)-5 b(ol)71 b FB(!)113
b FI(an)o(y)24 b(Unicode)h(symbol)f(or)f(punctuation)0
5281 y Fv(digit)300 b FB(!)113 b Fv(ascDigit)31 b FB(j)23
b Fv(uniDigit)p eop
%%Page: 129 143
129 142 bop 300 100 a FE(9.2.)51 b(LEXICAL)21 b(SYNT)-8
b(AX)2502 b FI(129)300 356 y Fv(ascDigit)152 b FB(!)113
b FD(0)22 b FB(j)h FD(1)g FB(j)38 b Fq(:)15 b(:)g(:)39
b FB(j)23 b FD(9)300 469 y Fv(uniDigit)149 b FB(!)113
b FI(an)o(y)24 b(Unicode)h(decimal)f(digit)300 582 y
Fv(o)-5 b(ctit)303 b FB(!)113 b FD(0)22 b FB(j)h FD(1)g
FB(j)38 b Fq(:)15 b(:)g(:)39 b FB(j)23 b FD(7)300 695
y Fv(hexit)286 b FB(!)113 b Fv(digit)32 b FB(j)23 b FD(A)f
FB(j)38 b Fq(:)15 b(:)g(:)39 b FB(j)23 b FD(F)f FB(j)h
FD(a)g FB(j)38 b Fq(:)15 b(:)g(:)39 b FB(j)23 b FD(f)300
1165 y Fv(varid)274 b FB(!)113 b Ft(\()p Fv(smal)5 b(l)34
b FB(f)p Fv(smal)5 b(l)33 b FB(j)23 b Fv(lar)-5 b(ge)31
b FB(j)23 b Fv(digit)32 b FB(j)23 b FD(')f FB(g)p Ft(\))2265
1184 y Fs(h)p Fu(r)l(eserve)l(did)7 b Fs(i)300 1279 y
Fv(c)-5 b(onid)266 b FB(!)113 b Fv(lar)-5 b(ge)31 b FB(f)p
Fv(smal)5 b(l)33 b FB(j)23 b Fv(lar)-5 b(ge)31 b FB(j)23
b Fv(digit)32 b FB(j)23 b FD(')f FB(g)300 1392 y Fv(r)-5
b(eserve)g(did)83 b FB(!)113 b FD(case)21 b FB(j)i FD(class)e
FB(j)i FD(data)d FB(j)j FD(default)d FB(j)j FD(deriving)c
FB(j)k FD(do)f FB(j)h FD(else)806 1505 y FB(j)147 b FD(if)22
b FB(j)h FD(import)d FB(j)j FD(in)f FB(j)h FD(infix)d
FB(j)j FD(infixl)d FB(j)j FD(infixr)d FB(j)j FD(instance)806
1618 y FB(j)147 b FD(let)22 b FB(j)h FD(module)d FB(j)j
FD(newtype)c FB(j)k FD(of)f FB(j)h FD(then)e FB(j)i FD(type)e
FB(j)i FD(where)d FB(j)j FD(_)300 1844 y Fv(varsym)193
b FB(!)113 b Ft(\()23 b Fv(symb)-5 b(ol)34 b FB(f)p Fv(symb)-5
b(ol)34 b FB(j)23 b FD(:)p FB(g)g Ft(\))1877 1863 y Fs(h)p
Fu(r)l(eserve)l(dop)29 b Fs(j)22 b Fu(dashes)5 b Fs(i)300
1958 y Fv(c)-5 b(onsym)185 b FB(!)113 b Ft(\()p FD(:)23
b FB(f)p Fv(symb)-5 b(ol)34 b FB(j)23 b FD(:)o FB(g)p
Ft(\))1613 1977 y Fs(h)p Fu(r)l(eserve)l(dop)t Fs(i)300
2072 y Fv(r)-5 b(eserve)g(dop)65 b FB(!)113 b FD(..)22
b FB(j)h FD(:)f FB(j)h FD(::)f FB(j)h FD(=)f FB(j)h FD(\\)g
FB(j)g FD(|)f FB(j)h FD(<-)f FB(j)h FD(->)e FB(j)46 b
Ft(@)23 b FB(j)g FD(\230)f FB(j)h FD(=>)300 2298 y Fv(varid)2293
b Ft(\()p FI(v)n(ariables)s Ft(\))300 2411 y Fv(c)-5
b(onid)2285 b Ft(\()p FI(constructors)t Ft(\))300 2524
y Fv(tyvar)274 b FB(!)113 b Fv(varid)1615 b Ft(\()p FI(type)24
b(v)n(ariables)s Ft(\))300 2637 y Fv(tyc)-5 b(on)266
b FB(!)113 b Fv(c)-5 b(onid)1607 b Ft(\()p FI(type)24
b(constructors)5 b Ft(\))300 2750 y Fv(tycls)298 b FB(!)113
b Fv(c)-5 b(onid)1607 b Ft(\()p FI(type)24 b(classes)s
Ft(\))300 2863 y Fv(mo)-5 b(did)239 b FB(!)113 b Fv(c)-5
b(onid)1607 b Ft(\()p FI(modules)r Ft(\))300 3088 y Fv(qvarid)232
b FB(!)113 b Ft([)23 b Fv(mo)-5 b(did)34 b FD(.)23 b
Ft(])g Fv(varid)300 3201 y(qc)-5 b(onid)224 b FB(!)113
b Ft([)23 b Fv(mo)-5 b(did)34 b FD(.)23 b Ft(])g Fv(c)-5
b(onid)300 3314 y(qtyc)g(on)224 b FB(!)113 b Ft([)23
b Fv(mo)-5 b(did)34 b FD(.)23 b Ft(])g Fv(tyc)-5 b(on)300
3427 y(qtycls)256 b FB(!)113 b Ft([)23 b Fv(mo)-5 b(did)34
b FD(.)23 b Ft(])g Fv(tycls)300 3540 y(qvarsym)151 b
FB(!)113 b Ft([)23 b Fv(mo)-5 b(did)34 b FD(.)23 b Ft(])g
Fv(varsym)300 3653 y(qc)-5 b(onsym)143 b FB(!)113 b Ft([)23
b Fv(mo)-5 b(did)34 b FD(.)23 b Ft(])g Fv(c)-5 b(onsym)300
3879 y(de)g(cimal)178 b FB(!)113 b Fv(digit)9 b FB(f)p
Fv(digit)g FB(g)300 3992 y Fv(o)-5 b(ctal)292 b FB(!)113
b Fv(o)-5 b(ctit)9 b FB(f)p Fv(o)-5 b(ctit)9 b FB(g)300
4105 y Fv(hexade)-5 b(cimal)o FB(!)116 b Fv(hexit)9 b
FB(f)p Fv(hexit)g FB(g)300 4331 y Fv(inte)-5 b(ger)206
b FB(!)113 b Fv(de)-5 b(cimal)806 4443 y FB(j)147 b FD(0o)22
b Fv(o)-5 b(ctal)34 b FB(j)23 b FD(0O)e Fv(o)-5 b(ctal)806
4556 y FB(j)147 b FD(0x)22 b Fv(hexade)-5 b(cimal)34
b FB(j)23 b FD(0X)f Fv(hexade)-5 b(cimal)300 4669 y(\015o)g(at)304
b FB(!)113 b Fv(de)-5 b(cimal)34 b FD(.)22 b Fv(de)-5
b(cimal)33 b Ft([)p Fv(exp)-5 b(onent)9 b Ft(])806 4782
y FB(j)147 b Fv(de)-5 b(cimal)34 b(exp)-5 b(onent)300
4895 y(exp)g(onent)129 b FB(!)113 b Ft(\()p FD(e)23 b
FB(j)g FD(E)o Ft(\))g([)p FD(+)g FB(j)g FD(-)o Ft(])g
Fv(de)-5 b(cimal)300 5121 y(char)302 b FB(!)113 b FD(')22
b Ft(\()p Fv(gr)-5 b(aphic)1373 5147 y Fs(h)p FD(')25
b Fs(j)d FD(\\)p Fs(i)1631 5121 y FB(j)h Fv(sp)-5 b(ac)g(e)31
b FB(j)23 b Fv(esc)-5 b(ap)g(e)2206 5147 y Fs(h)p FD(\\&)q
Fs(i)2376 5121 y Ft(\))23 b FD(')300 5243 y Fv(string)248
b FB(!)113 b FD(")22 b FB(f)p Fv(gr)-5 b(aphic)1383 5269
y Fs(h)p FD(")25 b Fs(j)e FD(\\)o Fs(i)1641 5243 y FB(j)g
Fv(sp)-5 b(ac)g(e)31 b FB(j)23 b Fv(esc)-5 b(ap)g(e)31
b FB(j)23 b Fv(gap)6 b FB(g)24 b FD(")300 5365 y Fv(esc)-5
b(ap)g(e)229 b FB(!)113 b FD(\\)22 b Ft(\()i Fv(char)-5
b(esc)29 b FB(j)23 b Fv(ascii)32 b FB(j)23 b Fv(de)-5
b(cimal)33 b FB(j)23 b FD(o)g Fv(o)-5 b(ctal)33 b FB(j)23
b FD(x)f Fv(hexade)-5 b(cimal)35 b Ft(\))p eop
%%Page: 130 144
130 143 bop 0 100 a FI(130)2006 b FE(CHAPTER)20 b(9.)51
b(SYNT)-8 b(AX)20 b(REFERENCE)0 356 y Fv(char)-5 b(esc)186
b FB(!)113 b FD(a)22 b FB(j)h FD(b)g FB(j)g FD(f)f FB(j)h
FD(n)f FB(j)h FD(r)f FB(j)h FD(t)g FB(j)g FD(v)f FB(j)h
FD(\\)f FB(j)h FD(")f FB(j)h FD(')g FB(j)g FD(&)0 469
y Fv(ascii)293 b FB(!)113 b FD(\210)p Fv(cntrl)33 b FB(j)23
b FD(NUL)e FB(j)i FD(SOH)e FB(j)i FD(STX)f FB(j)h FD(ETX)e
FB(j)i FD(EOT)e FB(j)i FD(ENQ)f FB(j)h FD(ACK)506 582
y FB(j)147 b FD(BEL)22 b FB(j)h FD(BS)e FB(j)i FD(HT)f
FB(j)h FD(LF)f FB(j)h FD(VT)f FB(j)h FD(FF)f FB(j)h FD(CR)e
FB(j)i FD(SO)f FB(j)h FD(SI)f FB(j)h FD(DLE)506 695 y
FB(j)147 b FD(DC1)22 b FB(j)h FD(DC2)e FB(j)i FD(DC3)e
FB(j)i FD(DC4)f FB(j)h FD(NAK)e FB(j)i FD(SYN)e FB(j)i
FD(ETB)f FB(j)h FD(CAN)506 808 y FB(j)147 b FD(EM)22
b FB(j)h FD(SUB)e FB(j)i FD(ESC)f FB(j)h FD(FS)e FB(j)i
FD(GS)f FB(j)h FD(RS)f FB(j)h FD(US)f FB(j)h FD(SP)f
FB(j)h FD(DEL)0 920 y Fv(cntrl)290 b FB(!)113 b Fv(ascL)-5
b(ar)g(ge)31 b FB(j)23 b Ft(@)g FB(j)g FD([)f FB(j)h
FD(\\)f FB(j)h FD(])g FB(j)g FD(\210)f FB(j)h FD(_)0
1033 y Fv(gap)340 b FB(!)113 b FD(\\)22 b Fv(white)-5
b(char)35 b FB(f)p Fv(white)-5 b(char)10 b FB(g)26 b
FD(\\)0 1500 y FC(9.3)119 b(Lay)m(out)0 1788 y FI(Section)24
b(2.7)g(gi)n(v)o(es)g(an)f(informal)i(discussion)i(of)c(the)h(layout)h
(rule.)k(This)24 b(section)h(de\002nes)f(it)f(more)h(precisely)-6
b(.)0 1982 y(The)27 b(meaning)h(of)f(a)g(Hask)o(ell)h(program)g(may)f
(depend)i(on)e(its)g FJ(layout)p FI(.)41 b(The)27 b(ef)n(fect)h(of)f
(layout)h(on)g(its)f(meaning)0 2095 y(can)g(be)g(completely)i
(described)h(by)d(adding)i(braces)f(and)f(semicolons)i(in)e(places)i
(determined)g(by)e(the)g(layout.)0 2207 y(The)c(meaning)i(of)e(this)h
(augmented)i(program)f(is)e(no)n(w)g(layout)i(insensiti)n(v)o(e.)0
2401 y(The)h(ef)n(fect)i(of)e(layout)i(is)f(speci\002ed)h(in)e(this)h
(section)i(by)d(describing)k(ho)n(w)c(to)g(add)h(braces)h(and)f
(semicolons)i(to)0 2514 y(a)e(laid-out)i(program.)42
b(The)27 b(speci\002cation)j(tak)o(es)f(the)f(form)f(of)g(a)h(function)
h Fv(L)e FI(that)h(performs)h(the)e(translation.)0 2627
y(The)c(input)i(to)e Fv(L)g FI(is:)136 2891 y FB(\017)46
b FI(A)18 b(stream)i(of)f(le)o(x)o(emes)g(as)g(speci\002ed)h(by)f(the)h
(le)o(xical)g(syntax)g(in)f(the)h(Hask)o(ell)g(report,)h(with)d(the)i
(follo)n(wing)227 3004 y(additional)27 b(tok)o(ens:)336
3189 y FF(\226)46 b FI(If)23 b(a)g FD(let)n FI(,)f FD(where)n
FI(,)g FD(do)o FI(,)g(or)h FD(of)e FI(k)o(e)o(yw)o(ord)j(is)f(not)h
(follo)n(wed)g(by)f(the)g(le)o(x)o(eme)g FD({)p FI(,)f(the)h(tok)o(en)h
FB(f)p Fv(n)7 b FB(g)23 b FI(is)427 3302 y(inserted)i(after)f(the)f(k)o
(e)o(yw)o(ord,)h(where)f Fv(n)30 b FI(is)23 b(the)g(indentation)j(of)d
(the)g(ne)o(xt)h(le)o(x)o(eme)f(if)f(there)i(is)f(one,)427
3415 y(or)h Fv(0)35 b FI(if)24 b(the)f(end)h(of)g(\002le)f(has)h(been)g
(reached.)336 3559 y FF(\226)46 b FI(If)24 b(the)g(\002rst)g(le)o(x)o
(eme)f(of)h(a)g(module)g(is)g(not)g FD({)f FI(or)h FD(module)m
FI(,)f(then)h(it)g(is)g(preceded)i(by)e FB(f)p Fv(n)7
b FB(g)24 b FI(where)g Fv(n)427 3672 y FI(is)g(the)f(indentation)k(of)d
(the)g(le)o(x)o(eme.)336 3816 y FF(\226)46 b FI(Where)37
b(the)f(start)g(of)g(a)f(le)o(x)o(eme)h(is)f(preceded)k(only)d(by)g
(white)g(space)h(on)f(the)g(same)g(line,)j(this)427 3929
y(le)o(x)o(eme)29 b(is)g(preceded)i(by)e Fq(<)c Fv(n)32
b Fq(>)c FI(where)h Fv(n)36 b FI(is)28 b(the)i(indentation)i(of)d(the)g
(le)o(x)o(eme,)h(pro)o(vided)h(that)427 4042 y(it)26
b(is)h(not,)g(as)f(a)g(consequence)k(of)c(the)h(\002rst)f(tw)o(o)g
(rules,)i(preceded)g(by)f FB(f)p Fv(n)7 b FB(g)q FI(.)36
b(\(NB:)25 b(a)h(string)i(literal)427 4155 y(may)c(span)g(multiple)h
(lines)f(\226)f(Section)i(2.6.)j(So)23 b(in)h(the)f(fragment)678
4278 y FD(f)54 b(=)g(\("Hello)d(\\)1114 4391 y(\\Bill",)g("Jake"\))427
4510 y FI(There)36 b(is)g(no)g Fq(<)25 b Fv(n)32 b Fq(>)j
FI(inserted)j(before)f(the)f FD(\\Bill)n FI(,)h(because)h(it)e(is)f
(not)i(the)f(be)o(ginning)i(of)e(a)427 4623 y(complete)25
b(le)o(x)o(eme;)f(nor)g(before)h(the)f FD(,)o FI(,)f(because)i(it)e(is)
h(not)g(preceded)i(only)e(by)g(white)f(space.\))136 4809
y FB(\017)46 b FI(A)23 b(stack)h(of)g(\223layout)h(conte)o(xts\224,)g
(in)f(which)g(each)g(element)h(is)e(either:)336 4995
y FF(\226)46 b FI(Zero,)25 b(indicating)j(that)e(the)f(enclosing)j
(conte)o(xt)e(is)f(e)o(xplicit)i(\(i.e.)33 b(the)25 b(programmer)i
(supplied)g(the)427 5108 y(opening)e(brace.)30 b(If)22
b(the)h(innermost)i(conte)o(xt)g(is)d(0,)h(then)g(no)g(layout)h(tok)o
(ens)h(will)e(be)f(inserted)j(until)427 5220 y(either)g(the)f
(enclosing)i(conte)o(xt)f(ends)f(or)g(a)f(ne)n(w)g(conte)o(xt)i(is)e
(pushed.)336 5365 y FF(\226)46 b FI(A)23 b(positi)n(v)o(e)i(inte)o(ger)
l(,)g(which)e(is)h(the)g(indentation)i(column)f(of)e(the)h(enclosing)i
(layout)f(conte)o(xt.)p eop
%%Page: 131 145
131 144 bop 300 100 a FE(9.3.)51 b(LA)-10 b(Y)m(OUT)2914
b FI(131)300 356 y(The)22 b(\223indentation\224)27 b(of)22
b(a)g(le)o(x)o(eme)g(is)h(the)g(column)g(number)g(of)g(the)g(\002rst)f
(character)i(of)f(that)g(le)o(x)o(eme;)g(the)g(inden-)300
469 y(tation)h(of)e(a)g(line)g(is)h(the)f(indentation)k(of)c(its)g
(leftmost)i(le)o(x)o(eme.)k(T)-7 b(o)21 b(determine)j(the)f(column)g
(number)l(,)h(assume)f(a)300 582 y(\002x)o(ed-width)i(font)f(with)f
(the)h(follo)n(wing)h(con)l(v)o(entions:)436 852 y FB(\017)46
b FI(The)23 b(characters)k Fv(new)5 b(line)h FI(,)23
b Fv(r)-5 b(eturn)8 b FI(,)22 b Fv(linefe)-5 b(e)g(d)10
b FI(,)23 b(and)h Fv(formfe)-5 b(e)g(d)11 b FI(,)22 b(all)i(start)g(a)f
(ne)n(w)g(line.)436 1040 y FB(\017)46 b FI(The)23 b(\002rst)h(column)g
(is)f(designated)k(column)d(1,)f(not)h(0.)436 1228 y
FB(\017)46 b FI(T)-7 b(ab)23 b(stops)i(are)e(8)h(characters)i(apart.)
436 1415 y FB(\017)46 b FI(A)29 b(tab)g(character)j(causes)f(the)e
(insertion)j(of)e(enough)h(spaces)g(to)e(align)h(the)g(current)h
(position)h(with)d(the)527 1528 y(ne)o(xt)24 b(tab)g(stop.)300
1799 y(F)o(or)29 b(the)h(purposes)j(of)d(the)g(layout)h(rule,)h
(Unicode)f(characters)i(in)d(a)f(source)j(program)f(are)f(considered)j
(to)d(be)300 1912 y(of)25 b(the)g(same,)g(\002x)o(ed,)f(width)h(as)g
(an)g(ASCII)e(character)-5 b(.)35 b(Ho)n(we)n(v)o(er)l(,)24
b(to)h(a)n(v)n(oid)i(visual)f(confusion,)h(programmers)300
2025 y(should)34 b(a)n(v)n(oid)f(writing)g(programs)g(in)f(which)h(the)
f(meaning)h(of)f(implicit)h(layout)h(depends)g(on)e(the)g(width)g(of)
300 2138 y(non-space)26 b(characters.)300 2334 y(The)d(application)1888
2446 y Fq(L)f(tok)s(ens)h Ft([])300 2613 y FI(deli)n(v)o(ers)j(a)e
(layout-insensiti)n(v)o(e)29 b(translation)e(of)e Fv(tokens)8
b FI(,)23 b(where)i Fv(tokens)32 b FI(is)24 b(the)g(result)i(of)e(le)o
(xically)j(analysing)300 2726 y(a)f(module)i(and)f(adding)i
(column-number)g(indicators)h(to)d(it)f(as)h(described)i(abo)o(v)o(e.)
39 b(The)26 b(de\002nition)j(of)e Fv(L)f FI(is)g(as)300
2839 y(follo)n(ws,)e(where)g(we)e(use)i(\223)p Ft(:)q
FI(\224)f(as)h(a)f(stream)h(construction)j(operator)l(,)f(and)e(\223)p
Ft([)15 b(])q FI(\224)23 b(for)g(the)h(empty)g(stream.)418
3198 y Fq(L)f Ft(\()p Fq(<)i(n)g(>)p Ft(:)g Fq(ts)p Ft(\))e(\()p
Fq(m)i Ft(:)h Fq(ms)p Ft(\))83 b(=)f FD(;)48 b Ft(:)g(\()p
Fq(L)23 b(ts)f Ft(\()p Fq(m)k Ft(:)f Fq(ms)p Ft(\)\))400
b FI(if)24 b Fq(m)h Ft(=)g Fq(n)1401 3311 y Ft(=)82 b
FD(})48 b Ft(:)g(\()p Fq(L)23 b Ft(\()p Fq(<)i(n)g(>)p
Ft(:)g Fq(ts)p Ft(\))e Fq(ms)p Ft(\))258 b FI(if)24 b
Fq(n)h(<)f(m)418 3424 y(L)f Ft(\()p Fq(<)i(n)g(>)p Ft(:)g
Fq(ts)p Ft(\))e Fq(ms)309 b Ft(=)82 b Fq(L)23 b(ts)f(ms)418
3650 y(L)h Ft(\()p FB(f)p Fq(n)p FB(g)j Ft(:)g Fq(ts)p
Ft(\))c(\()p Fq(m)j Ft(:)h Fq(ms)p Ft(\))159 b(=)82 b
FD({)48 b Ft(:)g(\()p Fq(L)23 b(ts)f Ft(\()p Fq(n)j Ft(:)h
Fq(m)f Ft(:)g Fq(ms)p Ft(\)\))270 b FI(if)24 b Fq(n)h(>)f(m)f
Ft(\()p Fq(N)10 b(ote)23 b Ft(1\))418 3763 y Fq(L)g Ft(\()p
FB(f)p Fq(n)p FB(g)j Ft(:)g Fq(ts)p Ft(\))c([])458 b(=)82
b FD({)48 b Ft(:)g(\()p Fq(L)23 b(ts)f Ft([)p Fq(n)p
Ft(]\))644 b FI(if)24 b Fq(n)h(>)f Ft(0)g(\()p Fq(N)10
b(ote)23 b Ft(1\))418 3876 y Fq(L)g Ft(\()p FB(f)p Fq(n)p
FB(g)j Ft(:)g Fq(ts)p Ft(\))c Fq(ms)385 b Ft(=)82 b FD({)48
b Ft(:)g FD(})g Ft(:)g(\()p Fq(L)23 b Ft(\()p Fq(<)i(n)g(>)p
Ft(:)g Fq(ts)p Ft(\))e Fq(ms)p Ft(\))82 b(\()p Fq(N)10
b(ote)24 b Ft(2\))418 4102 y Fq(L)f Ft(\()p FD(})i Ft(:)h
Fq(ts)p Ft(\))c(\(0)k(:)g Fq(ms)p Ft(\))284 b(=)82 b
FD(})48 b Ft(:)g(\()p Fq(L)23 b(ts)f(ms)p Ft(\))626 b(\()p
Fq(N)10 b(ote)24 b Ft(3\))418 4214 y Fq(L)f Ft(\()p FD(})i
Ft(:)h Fq(ts)p Ft(\))c Fq(ms)476 b Ft(=)82 b FI(parse-error)783
b Ft(\()p Fq(N)10 b(ote)24 b Ft(3\))418 4440 y Fq(L)f
Ft(\()p FD({)i Ft(:)h Fq(ts)p Ft(\))c Fq(ms)476 b Ft(=)82
b FD({)48 b Ft(:)g(\()p Fq(L)23 b(ts)f Ft(\(0)k(:)g Fq(ms)p
Ft(\)\))434 b(\()p Fq(N)10 b(ote)24 b Ft(4\))418 4666
y Fq(L)f Ft(\()p Fq(t)i Ft(:)h Fq(ts)p Ft(\))c(\()p Fq(m)k
Ft(:)f Fq(ms)p Ft(\))272 b(=)82 b FD(})48 b Ft(:)g(\()p
Fq(L)23 b Ft(\()p Fq(t)i Ft(:)h Fq(ts)p Ft(\))c Fq(ms)p
Ft(\))447 b FI(if)24 b Fq(m=)h Ft(=)g(0)e FI(and)h(parse-error)t
Ft(\()p Fq(t)p Ft(\))2732 4779 y(\()p Fq(N)10 b(ote)24
b Ft(5\))418 4892 y Fq(L)f Ft(\()p Fq(t)i Ft(:)h Fq(ts)p
Ft(\))c Fq(ms)498 b Ft(=)82 b Fq(t)48 b Ft(:)g(\()p Fq(L)23
b(ts)f(ms)p Ft(\))418 5118 y Fq(L)h Ft([)15 b(])23 b([])760
b(=)82 b([)15 b(])418 5231 y Fq(L)23 b Ft([)15 b(])23
b(\()p Fq(m)j Ft(:)f Fq(ms)p Ft(\))461 b(=)82 b FD(})48
b Ft(:)g Fq(L)23 b Ft([)15 b(])23 b Fq(ms)706 b FI(if)24
b Fq(m)h FB(6)p Ft(=)g(0)e(\()p Fq(N)10 b(ote)23 b Ft(6\))p
eop
%%Page: 132 146
132 145 bop 0 100 a FI(132)2006 b FE(CHAPTER)20 b(9.)51
b(SYNT)-8 b(AX)20 b(REFERENCE)0 356 y FF(Note)j(1.)46
b FI(A)28 b(nested)i(conte)o(xt)h(must)e(be)g(further)h(indented)h
(than)f(the)f(enclosing)j(conte)o(xt)e(\()p Fv(n)j Fq(>)25
b Fv(m)7 b FI(\).)45 b(If)29 b(not,)h Fv(L)227 469 y
FI(f)o(ails,)24 b(and)g(the)g(compiler)h(should)g(indicate)h(a)d
(layout)i(error)-5 b(.)29 b(An)23 b(e)o(xample)i(is:)478
613 y FD(f)54 b(x)g(=)g(let)968 726 y(h)h(y)f(=)g(let)587
839 y(p)g(z)g(=)g(z)1296 952 y(in)f(p)805 1064 y(in)g(h)227
1206 y FI(Here,)24 b(the)h(de\002nition)g(of)f FD(p)f
FI(is)h(indented)j(less)d(than)h(the)g(indentation)i(of)d(the)h
(enclosing)h(conte)o(xt,)g(which)227 1319 y(is)e(set)f(in)h(this)g
(case)g(by)g(the)g(de\002nition)h(of)e FD(h)p FI(.)0
1505 y FF(Note)g(2.)46 b FI(If)19 b(the)h(\002rst)f(tok)o(en)i(after)f
(a)f FD(where)d FI(\(say\))k(is)f(not)h(indented)i(more)d(than)h(the)g
(enclosing)i(layout)f(conte)o(xt,)227 1618 y(then)31
b(the)f(block)i(must)e(be)g(empty)-6 b(,)31 b(so)f(empty)h(braces)g
(are)f(inserted.)51 b(The)29 b FB(f)p Fq(n)p FB(g)h FI(tok)o(en)h(is)f
(replaced)i(by)227 1731 y Fq(<)25 b(n)g(>)p FI(,)d(to)i(mimic)f(the)h
(situation)h(if)f(the)g(empty)g(braces)g(had)g(been)h(e)o(xplicit.)0
1918 y FF(Note)e(3.)46 b FI(By)22 b(matching)i(against)f(0)f(for)h(the)
g(current)h(layout)f(conte)o(xt,)h(we)e(ensure)i(that)f(an)f(e)o
(xplicit)i(close)f(brace)227 2031 y(can)g(only)f(match)g(an)g(e)o
(xplicit)i(open)f(brace.)29 b(A)20 b(parse)j(error)g(results)g(if)f(an)
g(e)o(xplicit)h(close)g(brace)g(matches)227 2144 y(an)h(implicit)g
(open)h(brace.)0 2331 y FF(Note)e(4.)46 b FI(This)36
b(clause)h(means)f(that)h(all)f(brace)h(pairs)g(are)f(treated)h(as)f(e)
o(xplicit)i(layout)f(conte)o(xts,)k(including)227 2444
y(labelled)24 b(construction)h(and)d(update)h(\(Section)f(3.15\).)29
b(This)21 b(is)g(a)g(dif)n(ference)j(between)f(this)f(formulation)227
2557 y(and)i(Hask)o(ell)h(1.4.)0 2743 y FF(Note)e(5.)46
b FI(The)23 b(side)h(condition)i(parse-error)t Ft(\()p
Fv(t)9 b Ft(\))23 b FI(is)h(to)f(be)g(interpreted)k(as)c(follo)n(ws:)30
b(if)23 b(the)h(tok)o(ens)h(generated)h(so)227 2856 y(f)o(ar)31
b(by)f Fv(L)f FI(together)k(with)d(the)g(ne)o(xt)h(tok)o(en)g
Fv(t)39 b FI(represent)32 b(an)e(in)l(v)n(alid)i(pre\002x)f(of)f(the)h
(Hask)o(ell)g(grammar)l(,)227 2969 y(and)24 b(the)f(tok)o(ens)i
(generated)g(so)f(f)o(ar)f(by)g Fv(L)f FI(follo)n(wed)i(by)g(the)f(tok)
o(en)h(\223)p FD(})p FI(\224)f(represent)i(a)e(v)n(alid)h(pre\002x)f
(of)g(the)227 3082 y(Hask)o(ell)i(grammar)l(,)f(then)g(parse-error)t
Ft(\()p Fv(t)9 b Ft(\))23 b FI(is)g(true.)227 3232 y(The)g(test)g
Fq(m=)j Ft(=)f(0)e FI(checks)h(that)g(an)f(implicitly-added)k(closing)e
(brace)f(w)o(ould)g(match)f(an)g(implicit)h(open)227
3345 y(brace.)0 3532 y FF(Note)f(6.)46 b FI(At)23 b(the)i(end)f(of)g
(the)g(input,)h(an)o(y)g(pending)h(close-braces)h(are)e(inserted.)32
b(It)24 b(is)g(an)g(error)h(at)e(this)i(point)g(to)227
3645 y(be)f(within)g(a)f(non-layout)k(conte)o(xt)e(\(i.e.)51
b Fv(m)k Ft(=)48 b Fv(0)13 b FI(\).)0 3937 y(If)25 b(none)h(of)g(the)f
(rules)i(gi)n(v)o(en)f(abo)o(v)o(e)g(matches,)g(then)h(the)e(algorithm)
i(f)o(ails.)36 b(It)25 b(can)g(f)o(ail)h(for)g(instance)h(when)f(the)0
4050 y(end)20 b(of)f(the)h(input)h(is)e(reached,)j(and)e(a)f
(non-layout)j(conte)o(xt)f(is)e(acti)n(v)o(e,)i(since)g(the)e(close)i
(brace)f(is)f(missing.)29 b(Some)0 4163 y(error)24 b(conditions)j(are)d
(not)g(detected)h(by)f(the)g(algorithm,)h(although)h(the)o(y)d(could)i
(be:)k(for)24 b(e)o(xample)h FD(let)53 b(})o FI(.)0 4358
y(Note)26 b(1)h(implements)h(the)f(feature)h(that)f(layout)h
(processing)h(can)e(be)g(stopped)h(prematurely)h(by)e(a)f(parse)i
(error)-5 b(.)0 4471 y(F)o(or)23 b(e)o(xample)578 4666
y FD(let)53 b(x)h(=)g(e;)f(y)i(=)f(x)g(in)f(e')0 4861
y FI(is)23 b(v)n(alid,)h(because)i(it)d(translates)j(to)578
5057 y FD(let)53 b({)h(x)g(=)g(e;)g(y)g(=)g(x)g(})g(in)g(e')0
5252 y FI(The)25 b(close)i(brace)f(is)g(inserted)h(due)f(to)g(the)f
(parse)i(error)f(rule)h(abo)o(v)o(e.)35 b(The)25 b(parse-error)j(rule)f
(is)e(hard)h(to)g(imple-)0 5365 y(ment)e(in)f(its)h(full)g(generality)
-6 b(,)26 b(because)f(doing)g(so)f(in)l(v)n(olv)o(es)i(\002xities.)j(F)
o(or)23 b(e)o(xample,)h(the)g(e)o(xpression)p eop
%%Page: 133 147
133 146 bop 300 100 a FE(9.3.)51 b(LA)-10 b(Y)m(OUT)2914
b FI(133)550 356 y FD(do)54 b(a)g(==)g(b)g(==)f(c)300
552 y FI(has)24 b(a)f(single)i(unambiguous)i(\(albeit)e(probably)g
(type-incorrect\))j(parse,)d(namely)550 748 y FD(\(do)53
b({)i(a)f(==)f(b)h(}\))g(==)g(c)300 944 y FI(because)34
b FD(\(==\))c FI(is)i(non-associati)n(v)o(e.)60 b(Programmers)33
b(are)g(therefore)i(advised)f(to)e(a)n(v)n(oid)i(writing)f(code)h(that)
300 1057 y(requires)26 b(the)d(parser)i(to)f(insert)g(a)f(closing)j
(brace)e(in)g(such)g(situations.)p eop
%%Page: 134 148
134 147 bop 0 100 a FI(134)2006 b FE(CHAPTER)20 b(9.)51
b(SYNT)-8 b(AX)20 b(REFERENCE)0 356 y FC(9.4)119 b(Literate)29
b(comments)0 646 y FI(The)c(\223literate)j(comment\224)e(con)l(v)o
(ention,)k(\002rst)25 b(de)n(v)o(eloped)j(by)d(Richard)i(Bird)f(and)g
(Philip)g(W)-7 b(adler)26 b(for)g(Orwell,)0 759 y(and)e(inspired)i(in)e
(turn)h(by)f(Donald)h(Knuth')-5 b(s)25 b(\223literate)h
(programming\224,)g(is)e(an)g(alternati)n(v)o(e)i(style)f(for)f
(encoding)0 871 y(Hask)o(ell)g(source)g(code.)29 b(The)22
b(literate)j(style)e(encourages)j(comments)d(by)g(making)h(them)e(the)h
(def)o(ault.)31 b(A)21 b(line)i(in)0 984 y(which)h(\223)p
FD(>)p FI(\224)f(is)g(the)h(\002rst)f(character)j(is)d(treated)j(as)d
(part)h(of)g(the)f(program;)i(all)f(other)h(lines)f(are)g(comment.)0
1180 y(The)33 b(program)i(te)o(xt)f(is)f(reco)o(v)o(ered)i(by)f(taking)
h(only)f(those)h(lines)f(be)o(ginning)i(with)e(\223)p
FD(>)p FI(\224,)h(and)f(replacing)i(the)0 1293 y(leading)f(\223)p
FD(>)o FI(\224)e(with)f(a)h(space.)57 b(Layout)34 b(and)f(comments)g
(apply)h(e)o(xactly)g(as)f(described)i(in)e(Chapter)h(9)e(in)h(the)0
1406 y(resulting)26 b(te)o(xt.)0 1601 y(T)-7 b(o)34 b(capture)i(some)f
(cases)h(where)f(one)g(omits)g(an)g(\223)p FD(>)p FI(\224)f(by)h
(mistak)o(e,)j(it)d(is)f(an)h(error)h(for)f(a)f(program)i(line)f(to)0
1714 y(appear)c(adjacent)g(to)e(a)g(non-blank)j(comment)e(line,)h
(where)e(a)g(line)h(is)f(tak)o(en)h(as)g(blank)g(if)f(it)g(consists)i
(only)f(of)0 1827 y(whitespace.)0 2023 y(By)i(con)l(v)o(ention,)38
b(the)33 b(style)h(of)e(comment)i(is)e(indicated)j(by)e(the)g(\002le)f
(e)o(xtension,)37 b(with)c(\223)p FD(.hs)o FI(\224)f(indicating)k(a)0
2136 y(usual)27 b(Hask)o(ell)g(\002le)e(and)h(\223)p
FD(.lhs)o FI(\224)f(indicating)j(a)e(literate)h(Hask)o(ell)g(\002le.)35
b(Using)26 b(this)g(style,)h(a)f(simple)g(f)o(actorial)0
2249 y(program)f(w)o(ould)f(be:)305 2438 y FD(This)53
b(literate)d(program)i(prompts)f(the)i(user)g(for)g(a)h(number)305
2551 y(and)f(prints)f(the)h(factorial)d(of)k(that)f(number:)141
2711 y(>)h(main)f(::)h(IO)f(\(\))141 2870 y(>)h(main)f(=)h(do)g(putStr)
d("Enter)h(a)i(number:)e(")141 2983 y(>)600 b(l)54 b(<-)f(readLine)141
3096 y(>)600 b(putStr)51 b("n!=)i(")141 3209 y(>)600
b(print)52 b(\(fact)g(\(read)g(l\)\))250 3368 y(This)h(is)h(the)f
(factorial)d(function.)141 3528 y(>)k(fact)f(::)h(Integer)d(->)j
(Integer)141 3640 y(>)g(fact)f(0)h(=)g(1)141 3753 y(>)g(fact)f(n)h(=)g
(n)g(*)g(fact)f(\(n-1\))0 4074 y FI(An)33 b(alternati)n(v)o(e)k(style)e
(of)f(literate)h(programming)h(is)e(particularly)k(suitable)e(for)e
(use)g(with)g(the)h(LaT)-6 b(eX)32 b(te)o(xt)0 4187 y(processing)38
b(system.)63 b(In)34 b(this)h(con)l(v)o(ention,)41 b(only)35
b(those)h(parts)g(of)e(the)h(literate)h(program)g(that)f(are)g
(entirely)0 4300 y(enclosed)j(between)e FD(\\begin{code})-6
b Fq(:)15 b(:)g(:)r FD(\\end{code})29 b FI(delimiters)38
b(are)d(treated)i(as)e(program)h(te)o(xt;)42 b(all)0
4413 y(other)25 b(lines)f(are)g(comment.)29 b(More)24
b(precisely:)136 4682 y FB(\017)46 b FI(Program)24 b(code)g(be)o(gins)h
(on)f(the)g(\002rst)f(line)h(follo)n(wing)h(a)e(line)h(that)g(be)o
(gins)h FD(\\begin{code})-6 b FI(.)136 4869 y FB(\017)46
b FI(Program)28 b(code)f(ends)h(just)g(before)g(a)e(subsequent)31
b(line)c(that)h(be)o(gins)g FD(\\end{code})21 b FI(\(ignoring)30
b(string)227 4982 y(literals,)25 b(of)f(course\).)0 5252
y(It)h(is)g(not)g(necessary)i(to)e(insert)h(additional)i(blank)e(lines)
g(before)h(or)d(after)i(these)g(delimiters,)h(though)g(it)d(may)h(be)0
5365 y(stylistically)i(desirable.)k(F)o(or)23 b(e)o(xample,)p
eop
%%Page: 135 149
135 148 bop 300 100 a FE(9.4.)51 b(LITERA)-10 b(TE)20
b(COMMENTS)2312 b FI(135)441 344 y FD(\\documentstyle{)o(ar)o(ti)o(cle)
o(})441 503 y(\\begin{document)o(})441 662 y(\\section{Introd)o(uc)o
(ti)o(on})441 822 y(This)53 b(is)h(a)g(trivial)d(program)g(that)i
(prints)f(the)h(first)f(20)i(factorials.)441 981 y(\\begin{code})441
1094 y(main)f(::)h(IO)f(\(\))441 1207 y(main)g(=)109
b(print)52 b([)i(\(n,)f(product)e([1..n]\))h(|)i(n)g(<-)g([1..20]])441
1320 y(\\end{code})441 1479 y(\\end{document})300 1667
y FI(This)23 b(style)i(uses)f(the)g(same)f(\002le)g(e)o(xtension.)31
b(It)24 b(is)f(not)h(advisable)i(to)d(mix)h(these)g(tw)o(o)f(styles)i
(in)f(the)f(same)h(\002le.)p eop
%%Page: 136 150
136 149 bop 0 100 a FI(136)2006 b FE(CHAPTER)20 b(9.)51
b(SYNT)-8 b(AX)20 b(REFERENCE)0 356 y FC(9.5)119 b(Context-Fr)n(ee)30
b(Syntax)0 645 y Fv(mo)-5 b(dule)199 b FB(!)113 b FD(module)20
b Fv(mo)-5 b(did)34 b Ft([)p Fv(exp)-5 b(orts)7 b Ft(])26
b FD(where)20 b Fv(b)-5 b(o)g(dy)506 758 y FB(j)147 b
Fv(b)-5 b(o)g(dy)0 871 y(b)g(o)g(dy)306 b FB(!)113 b
FD({)22 b Fv(imp)-5 b(de)g(cls)33 b FD(;)22 b Fv(top)-5
b(de)g(cls)32 b FD(})506 984 y FB(j)147 b FD({)22 b Fv(imp)-5
b(de)g(cls)33 b FD(})506 1097 y FB(j)147 b FD({)22 b
Fv(top)-5 b(de)g(cls)33 b FD(})0 1323 y Fv(imp)-5 b(de)g(cls)146
b FB(!)113 b Fv(imp)-5 b(de)g(cl)969 1337 y Fu(1)1043
1323 y FD(;)38 b Fq(:)15 b(:)g(:)38 b FD(;)23 b Fv(imp)-5
b(de)g(cl)1648 1337 y Fu(n)2493 1323 y Ft(\()p Fv(n)32
b FB(\025)25 b Fv(1)12 b Ft(\))0 1712 y Fv(exp)-5 b(orts)198
b FB(!)113 b FD(\()22 b Fv(exp)-5 b(ort)994 1726 y Fu(1)1068
1712 y FD(,)38 b Fq(:)15 b(:)g(:)39 b FD(,)22 b Fv(exp)-5
b(ort)1621 1726 y Fu(n)1695 1712 y Ft([)23 b FD(,)g Ft(])g
FD(\))569 b Ft(\()p Fv(n)32 b FB(\025)25 b Fv(0)12 b
Ft(\))0 1938 y Fv(exp)-5 b(ort)235 b FB(!)113 b Fv(qvar)506
2051 y FB(j)147 b Fv(qtyc)-5 b(on)31 b Ft([)p FD(\(..\))21
b FB(j)i FD(\()f Fv(cname)1605 2065 y Fu(1)1678 2051
y FD(,)37 b Fq(:)15 b(:)g(:)39 b FD(,)23 b Fv(cname)2247
2065 y Fu(n)2320 2051 y FD(\))o Ft(])94 b(\()p Fv(n)32
b FB(\025)25 b Fv(0)12 b Ft(\))506 2164 y FB(j)147 b
Fv(qtycls)31 b Ft([)p FD(\(..\))21 b FB(j)i FD(\()f Fv(qvar)1486
2178 y Fu(1)1559 2164 y FD(,)37 b Fq(:)15 b(:)g(:)39
b FD(,)22 b Fv(qvar)2040 2178 y Fu(n)2113 2164 y FD(\))p
Ft(])300 b(\()p Fv(n)32 b FB(\025)25 b Fv(0)12 b Ft(\))506
2277 y FB(j)147 b FD(module)20 b Fv(mo)-5 b(did)0 2666
y(imp)g(de)g(cl)183 b FB(!)113 b FD(import)20 b Ft([)p
FD(qualified)l Ft(])j Fv(mo)-5 b(did)34 b Ft([)p FD(as)22
b Fv(mo)-5 b(did)9 b Ft(])26 b([)p Fv(impsp)-5 b(e)g(c)5
b Ft(])506 2779 y FB(j)1962 b Ft(\()p FI(empty)24 b(declaration)t
Ft(\))0 3005 y Fv(impsp)-5 b(e)g(c)169 b FB(!)113 b FD(\()22
b Fv(imp)-5 b(ort)1012 3019 y Fu(1)1087 3005 y FD(,)37
b Fq(:)15 b(:)g(:)39 b FD(,)22 b Fv(imp)-5 b(ort)1657
3019 y Fu(n)1732 3005 y Ft([)23 b FD(,)f Ft(])h FD(\))533
b Ft(\()p Fv(n)32 b FB(\025)25 b Fv(0)12 b Ft(\))506
3118 y FB(j)147 b FD(hiding)20 b(\()i Fv(imp)-5 b(ort)1362
3132 y Fu(1)1437 3118 y FD(,)37 b Fq(:)15 b(:)g(:)39
b FD(,)22 b Fv(imp)-5 b(ort)2007 3132 y Fu(n)2082 3118
y Ft([)23 b FD(,)f Ft(])h FD(\))183 b Ft(\()p Fv(n)32
b FB(\025)25 b Fv(0)12 b Ft(\))0 3344 y Fv(imp)-5 b(ort)217
b FB(!)113 b Fv(var)506 3457 y FB(j)147 b Fv(tyc)-5 b(on)31
b Ft([)23 b FD(\(..\))e FB(j)i FD(\()f Fv(cname)1586
3471 y Fu(1)1659 3457 y FD(,)37 b Fq(:)15 b(:)g(:)39
b FD(,)22 b Fv(cname)2227 3471 y Fu(n)2300 3457 y FD(\))p
Ft(])113 b(\()p Fv(n)32 b FB(\025)25 b Fv(0)12 b Ft(\))506
3569 y FB(j)147 b Fv(tycls)31 b Ft([)p FD(\(..\))21 b
FB(j)i FD(\()f Fv(var)1402 3583 y Fu(1)1475 3569 y FD(,)38
b Fq(:)15 b(:)g(:)39 b FD(,)22 b Fv(var)1915 3583 y Fu(n)1988
3569 y FD(\))o Ft(])426 b(\()p Fv(n)32 b FB(\025)25 b
Fv(0)12 b Ft(\))0 3682 y Fv(cname)219 b FB(!)113 b Fv(var)33
b FB(j)23 b Fv(c)-5 b(on)0 4072 y(top)g(de)g(cls)172
b FB(!)113 b Fv(top)-5 b(de)g(cl)943 4086 y Fu(1)1018
4072 y FD(;)37 b Fq(:)15 b(:)g(:)39 b FD(;)22 b Fv(top)-5
b(de)g(cl)1596 4086 y Fu(n)2493 4072 y Ft(\()p Fv(n)32
b FB(\025)25 b Fv(0)12 b Ft(\))0 4185 y Fv(top)-5 b(de)g(cl)209
b FB(!)113 b FD(type)21 b Fv(simpletyp)-5 b(e)32 b FD(=)22
b Fv(typ)-5 b(e)506 4298 y FB(j)147 b FD(data)21 b Ft([)p
Fv(c)-5 b(ontext)33 b FD(=>)o Ft(])23 b Fv(simpletyp)-5
b(e)31 b FD(=)23 b Fv(c)-5 b(onstrs)31 b Ft([)p Fv(deriving)8
b Ft(])506 4411 y FB(j)147 b FD(newtype)20 b Ft([)p Fv(c)-5
b(ontext)32 b FD(=>)p Ft(])23 b Fv(simpletyp)-5 b(e)31
b FD(=)22 b Fv(newc)-5 b(onstr)35 b Ft([)p Fv(deriving)8
b Ft(])506 4523 y FB(j)147 b FD(class)21 b Ft([)p Fv(sc)-5
b(ontext)33 b FD(=>)o Ft(])23 b Fv(tycls)30 b(tyvar)k
Ft([)p FD(where)21 b Fv(c)-5 b(de)g(cls)7 b Ft(])506
4636 y FB(j)147 b FD(instance)19 b Ft([)p Fv(sc)-5 b(ontext)33
b FD(=>)o Ft(])23 b Fv(qtycls)31 b(inst)h Ft([)p FD(where)20
b Fv(ide)-5 b(cls)7 b Ft(])506 4749 y FB(j)147 b FD(default)20
b(\()o Fv(typ)-5 b(e)1294 4763 y Fu(1)1367 4749 y FD(,)38
b Fq(:)15 b(:)g(:)39 b FD(,)22 b Fv(typ)-5 b(e)1838 4763
y Fu(n)1889 4749 y FD(\))549 b Ft(\()p Fv(n)32 b FB(\025)25
b Fv(0)12 b Ft(\))506 4862 y FB(j)147 b Fv(de)-5 b(cl)0
5252 y(de)g(cls)289 b FB(!)113 b FD({)22 b Fv(de)-5 b(cl)903
5266 y Fu(1)976 5252 y FD(;)38 b Fq(:)15 b(:)g(:)39 b
FD(;)22 b Fv(de)-5 b(cl)1438 5266 y Fu(n)1511 5252 y
FD(})927 b Ft(\()p Fv(n)32 b FB(\025)25 b Fv(0)12 b Ft(\))0
5365 y Fv(de)-5 b(cl)326 b FB(!)113 b Fv(gende)-5 b(cl)p
eop
%%Page: 137 151
137 150 bop 300 100 a FE(9.5.)51 b(CONTEXT)-8 b(-FREE)18
b(SYNT)-8 b(AX)2223 b FI(137)806 356 y FB(j)147 b Ft(\()p
Fv(funlhs)31 b FB(j)23 b Fv(p)-5 b(at)1452 323 y Fu(0)1503
356 y Ft(\))23 b Fv(rhs)300 582 y(c)-5 b(de)g(cls)252
b FB(!)113 b FD({)22 b Fv(c)-5 b(de)g(cl)1240 596 y Fu(1)1314
582 y FD(;)37 b Fq(:)15 b(:)g(:)39 b FD(;)22 b Fv(c)-5
b(de)g(cl)1812 596 y Fu(n)1885 582 y FD(})853 b Ft(\()p
Fv(n)32 b FB(\025)25 b Fv(0)12 b Ft(\))300 695 y Fv(c)-5
b(de)g(cl)289 b FB(!)113 b Fv(gende)-5 b(cl)806 808 y
FB(j)147 b Ft(\()p Fv(funlhs)31 b FB(j)23 b Fv(var)10
b Ft(\))24 b Fv(rhs)300 1033 y(ide)-5 b(cls)261 b FB(!)113
b FD({)22 b Fv(ide)-5 b(cl)1231 1047 y Fu(1)1304 1033
y FD(;)38 b Fq(:)15 b(:)g(:)39 b FD(;)22 b Fv(ide)-5
b(cl)1794 1047 y Fu(n)1867 1033 y FD(})871 b Ft(\()p
Fv(n)32 b FB(\025)25 b Fv(0)12 b Ft(\))300 1146 y Fv(ide)-5
b(cl)298 b FB(!)113 b Ft(\()p Fv(funlhs)31 b FB(j)23
b Fv(var)10 b Ft(\))24 b Fv(rhs)806 1259 y FB(j)1962
b Ft(\()p FI(empty)q Ft(\))300 1485 y Fv(gende)-5 b(cl)191
b FB(!)113 b Fv(vars)31 b FD(::)22 b Ft([)p Fv(c)-5 b(ontext)33
b FD(=>)o Ft(])23 b Fv(typ)-5 b(e)839 b Ft(\()p FI(type)24
b(signature)t Ft(\))806 1598 y FB(j)147 b Fv(\014xity)31
b Ft([)p Fv(inte)-5 b(ger)10 b Ft(])24 b Fv(ops)1108
b Ft(\()p FI(\002xity)24 b(declaration)t Ft(\))806 1711
y FB(j)1962 b Ft(\()p FI(empty)24 b(declaration)t Ft(\))300
1937 y Fv(ops)345 b FB(!)113 b Fv(op)1070 1951 y Fu(1)1143
1937 y FD(,)38 b Fq(:)15 b(:)g(:)39 b FD(,)22 b Fv(op)1549
1951 y Fu(n)2793 1937 y Ft(\()p Fv(n)32 b FB(\025)25
b Fv(1)12 b Ft(\))300 2050 y Fv(vars)311 b FB(!)113 b
Fv(var)1104 2064 y Fu(1)1177 2050 y FD(,)37 b Fq(:)15
b(:)g(:)i FD(,)22 b Fv(var)1594 2064 y Fu(n)2793 2050
y Ft(\()p Fv(n)32 b FB(\025)25 b Fv(1)12 b Ft(\))300
2163 y Fv(\014xity)279 b FB(!)113 b FD(infixl)20 b FB(j)j
FD(infixr)d FB(j)j FD(infix)300 2522 y Fv(typ)-5 b(e)317
b FB(!)113 b Fv(btyp)-5 b(e)31 b Ft([)p FD(->)22 b Fv(typ)-5
b(e)7 b Ft(])1239 b(\()p FI(function)26 b(type)q Ft(\))300
2747 y Fv(btyp)-5 b(e)275 b FB(!)113 b Ft([)p Fv(btyp)-5
b(e)7 b Ft(])24 b Fv(atyp)-5 b(e)1332 b Ft(\()p FI(type)24
b(application)t Ft(\))300 2973 y Fv(atyp)-5 b(e)271 b
FB(!)113 b Fv(gtyc)-5 b(on)806 3086 y FB(j)147 b Fv(tyvar)806
3199 y FB(j)g FD(\()22 b Fv(typ)-5 b(e)1212 3213 y Fu(1)1286
3199 y FD(,)37 b Fq(:)15 b(:)g(:)39 b FD(,)22 b Fv(typ)-5
b(e)1756 3214 y Fu(k)1824 3199 y FD(\))914 b Ft(\()p
FI(tuple)25 b(type)q Fq(;)38 b Fv(k)d FB(\025)25 b Fv(2)12
b Ft(\))806 3312 y FB(j)147 b FD([)22 b Fv(typ)-5 b(e)31
b FD(])1495 b Ft(\()p FI(list)24 b(type)r Ft(\))806 3425
y FB(j)147 b FD(\()22 b Fv(typ)-5 b(e)31 b FD(\))1495
b Ft(\()p FI(parenthesized)28 b(constructor)t Ft(\))300
3651 y Fv(gtyc)-5 b(on)224 b FB(!)113 b Fv(qtyc)-5 b(on)806
3764 y FB(j)147 b FD(\(\))1705 b Ft(\()p FI(unit)24 b(type)r
Ft(\))806 3876 y FB(j)147 b FD([])1705 b Ft(\()p FI(list)24
b(constructor)t Ft(\))806 3989 y FB(j)147 b FD(\(->\))1595
b Ft(\()p FI(function)26 b(constructor)t Ft(\))806 4102
y FB(j)147 b FD(\(,)o FB(f)p FD(,)p FB(g)p FD(\))1506
b Ft(\()p FI(tupling)25 b(constructors)5 b Ft(\))300
4328 y Fv(c)-5 b(ontext)196 b FB(!)113 b Fv(class)806
4441 y FB(j)147 b FD(\()22 b Fv(class)1240 4455 y Fu(1)1314
4441 y FD(,)37 b Fq(:)15 b(:)g(:)39 b FD(,)22 b Fv(class)1812
4455 y Fu(n)1885 4441 y FD(\))853 b Ft(\()p Fv(n)32 b
FB(\025)25 b Fv(0)12 b Ft(\))300 4554 y Fv(class)289
b FB(!)113 b Fv(qtycls)31 b(tyvar)806 4667 y FB(j)147
b Fv(qtycls)31 b FD(\()22 b Fv(tyvar)33 b(atyp)-5 b(e)1740
4681 y Fu(1)1829 4667 y Fq(:)15 b(:)g(:)39 b Fv(atyp)-5
b(e)2176 4681 y Fu(n)2250 4667 y FD(\))488 b Ft(\()p
Fv(n)32 b FB(\025)25 b Fv(1)12 b Ft(\))300 4780 y Fv(sc)-5
b(ontext)159 b FB(!)113 b Fv(simple)-5 b(class)806 4893
y FB(j)147 b FD(\()22 b Fv(simple)-5 b(class)1485 4907
y Fu(1)1560 4893 y FD(,)37 b Fq(:)15 b(:)g(:)39 b FD(,)22
b Fv(simple)-5 b(class)2303 4907 y Fu(n)2378 4893 y FD(\))360
b Ft(\()p Fv(n)32 b FB(\025)25 b Fv(0)12 b Ft(\))300
5006 y Fv(simple)-5 b(class)44 b FB(!)113 b Fv(qtycls)31
b(tyvar)300 5365 y(simpletyp)-5 b(e)67 b FB(!)113 b Fv(tyc)-5
b(on)31 b(tyvar)1417 5379 y Fu(1)1505 5365 y Fq(:)15
b(:)g(:)39 b Fv(tyvar)1849 5380 y Fu(k)2793 5365 y Ft(\()p
Fv(k)c FB(\025)25 b Fv(0)12 b Ft(\))p eop
%%Page: 138 152
138 151 bop 0 100 a FI(138)2006 b FE(CHAPTER)20 b(9.)51
b(SYNT)-8 b(AX)20 b(REFERENCE)0 356 y Fv(c)-5 b(onstrs)198
b FB(!)113 b Fv(c)-5 b(onstr)917 370 y Fu(1)991 356 y
FD(|)37 b Fq(:)15 b(:)g(:)39 b FD(|)22 b Fv(c)-5 b(onstr)1543
370 y Fu(n)2493 356 y Ft(\()p Fv(n)32 b FB(\025)25 b
Fv(1)12 b Ft(\))0 469 y Fv(c)-5 b(onstr)235 b FB(!)113
b Fv(c)-5 b(on)31 b Ft([)p FD(!)o Ft(])23 b Fv(atyp)-5
b(e)1173 483 y Fu(1)1262 469 y Fq(:)15 b(:)g(:)39 b Ft([)p
FD(!)p Ft(])23 b Fv(atyp)-5 b(e)1737 484 y Fu(k)2493
469 y Ft(\()p FI(arity)24 b Fv(c)-5 b(on)56 b Ft(=)48
b Fv(k)10 b Fq(;)38 b Fv(k)c FB(\025)25 b Fv(0)12 b Ft(\))506
582 y FB(j)147 b Ft(\()p Fv(btyp)-5 b(e)31 b FB(j)23
b FD(!)f Fv(atyp)-5 b(e)7 b Ft(\))24 b Fv(c)-5 b(onop)31
b Ft(\()p Fv(btyp)-5 b(e)30 b FB(j)23 b FD(!)g Fv(atyp)-5
b(e)7 b Ft(\))264 b(\()p FI(in\002x)24 b Fv(c)-5 b(onop)6
b Ft(\))506 695 y FB(j)147 b Fv(c)-5 b(on)31 b FD({)22
b Fv(\014eldde)-5 b(cl)1230 709 y Fu(1)1303 695 y FD(,)38
b Fq(:)15 b(:)g(:)39 b FD(,)22 b Fv(\014eldde)-5 b(cl)1927
709 y Fu(n)2001 695 y FD(})437 b Ft(\()p Fv(n)32 b FB(\025)25
b Fv(0)12 b Ft(\))0 808 y Fv(newc)-5 b(onstr)82 b FB(!)113
b Fv(c)-5 b(on)31 b(atyp)-5 b(e)506 920 y FB(j)147 b
Fv(c)-5 b(on)31 b FD({)22 b Fv(var)33 b FD(::)22 b Fv(typ)-5
b(e)30 b FD(})0 1033 y Fv(\014eldde)-5 b(cl)164 b FB(!)113
b Fv(vars)31 b FD(::)22 b Ft(\()p Fv(typ)-5 b(e)31 b
FB(j)23 b FD(!)f Fv(atyp)-5 b(e)7 b Ft(\))0 1146 y Fv(deriving)157
b FB(!)113 b FD(deriving)19 b Ft(\()p Fv(dclass)32 b
FB(j)23 b FD(\()p Fv(dclass)1769 1160 y Fu(1)1819 1146
y FD(,)38 b Fq(:)15 b(:)g(:)39 b FD(,)22 b Fv(dclass)2364
1160 y Fu(n)2415 1146 y FD(\))p Ft(\))-12 b(\()p Fv(n)32
b FB(\025)25 b Fv(0)12 b Ft(\))0 1259 y Fv(dclass)243
b FB(!)113 b Fv(qtycls)0 1642 y(inst)328 b FB(!)113 b
Fv(gtyc)-5 b(on)506 1755 y FB(j)147 b FD(\()22 b Fv(gtyc)-5
b(on)31 b(tyvar)1236 1769 y Fu(1)1324 1755 y Fq(:)15
b(:)g(:)39 b Fv(tyvar)1668 1770 y Fu(k)1736 1755 y FD(\))702
b Ft(\()p Fv(k)35 b FB(\025)25 b Fv(0)12 b Fq(;)39 b
Fv(tyvars)31 b FI(distinct)s Ft(\))506 1867 y FB(j)147
b FD(\()22 b Fv(tyvar)955 1881 y Fu(1)1029 1867 y FD(,)37
b Fq(:)15 b(:)g(:)39 b FD(,)22 b Fv(tyvar)1542 1882 y
Fu(k)1610 1867 y FD(\))828 b Ft(\()p Fv(k)35 b FB(\025)25
b Fv(2)12 b Fq(;)39 b Fv(tyvars)31 b FI(distinct)s Ft(\))506
1980 y FB(j)147 b FD([)22 b Fv(tyvar)34 b FD(])506 2093
y FB(j)147 b FD(\()22 b Fv(tyvar)955 2107 y Fu(1)1029
2093 y FD(->)f Fv(tyvar)1360 2107 y Fu(2)1434 2093 y
FD(\))1004 b Fv(tyvar)2693 2107 y Fu(1)2766 2093 y FI(and)24
b Fv(tyvar)3120 2107 y Fu(2)3193 2093 y FI(distinct)0
2476 y Fv(funlhs)240 b FB(!)113 b Fv(var)33 b(ap)-5 b(at)34
b FB(f)23 b Fv(ap)-5 b(at)33 b FB(g)506 2592 y(j)147
b Fv(p)-5 b(at)804 2559 y Fu(i)6 b FA(+)p Fu(1)961 2592
y Fv(var)-5 b(op)1180 2559 y FA(\()p Fu(a)5 b Fo(;)p
Fu(i)h FA(\))1353 2592 y Fv(p)-5 b(at)1479 2559 y Fu(i)6
b FA(+)p Fu(1)506 2709 y FB(j)147 b Fv(lp)-5 b(at)827
2676 y Fu(i)884 2709 y Fv(var)g(op)1103 2676 y FA(\(l)q
Fo(;)p Fu(i)6 b FA(\))1254 2709 y Fv(p)-5 b(at)1380 2676
y Fu(i)6 b FA(+)p Fu(1)506 2826 y FB(j)147 b Fv(p)-5
b(at)804 2793 y Fu(i)6 b FA(+)p Fu(1)961 2826 y Fv(var)-5
b(op)1180 2793 y FA(\(r)q Fo(;)p Fu(i)6 b FA(\))1338
2826 y Fv(rp)-5 b(at)1502 2793 y Fu(i)506 2939 y FB(j)147
b FD(\()22 b Fv(funlhs)31 b FD(\))23 b Fv(ap)-5 b(at)33
b FB(f)23 b Fv(ap)-5 b(at)33 b FB(g)0 3164 y Fv(rhs)353
b FB(!)113 b FD(=)22 b Fv(exp)29 b Ft([)p FD(where)21
b Fv(de)-5 b(cls)7 b Ft(])506 3277 y FB(j)147 b Fv(gdrhs)32
b Ft([)p FD(where)20 b Fv(de)-5 b(cls)7 b Ft(])0 3503
y Fv(gdrhs)265 b FB(!)113 b Fv(gd)33 b FD(=)22 b Fv(exp)29
b Ft([)p Fv(gdrhs)7 b Ft(])0 3729 y Fv(gd)386 b FB(!)113
b FD(|)22 b Fv(exp)891 3696 y Fu(0)0 4111 y Fv(exp)344
b FB(!)113 b Fv(exp)814 4078 y Fu(0)887 4111 y FD(::)21
b Ft([)p Fv(c)-5 b(ontext)33 b FD(=>)o Ft(])23 b Fv(typ)-5
b(e)825 b Ft(\()p FI(e)o(xpression)26 b(type)f(signature)s
Ft(\))506 4224 y FB(j)147 b Fv(exp)814 4191 y Fu(0)0
4341 y Fv(exp)136 4308 y Fu(i)474 4341 y FB(!)113 b Fv(exp)814
4308 y Fu(i)6 b FA(+)p Fu(1)970 4341 y Ft([)p Fv(qop)1135
4308 y FA(\(n)q Fo(;)p Fu(i)g FA(\))1304 4341 y Fv(exp)1440
4308 y Fu(i)g FA(+)p Fu(1)1573 4341 y Ft(])506 4454 y
FB(j)147 b Fv(lexp)837 4421 y Fu(i)506 4567 y FB(j)g
Fv(r)-5 b(exp)847 4534 y Fu(i)0 4683 y Fv(lexp)159 4650
y Fu(i)474 4683 y FB(!)113 b Ft(\()p Fv(lexp)872 4650
y Fu(i)928 4683 y FB(j)23 b Fv(exp)1112 4650 y Fu(i)6
b FA(+)p Fu(1)1245 4683 y Ft(\))23 b Fv(qop)1443 4650
y FA(\(l)p Fo(;)p Fu(i)6 b FA(\))1593 4683 y Fv(exp)1729
4650 y Fu(i)g FA(+)p Fu(1)0 4796 y Fv(lexp)159 4763 y
Fu(6)474 4796 y FB(!)113 b FD(-)22 b Fv(exp)891 4763
y Fu(7)0 4913 y Fv(r)-5 b(exp)169 4880 y Fu(i)474 4913
y FB(!)113 b Fv(exp)814 4880 y Fu(i)6 b FA(+)p Fu(1)970
4913 y Fv(qop)1110 4880 y FA(\(r)p Fo(;)p Fu(i)g FA(\))1267
4913 y Ft(\()p Fv(r)-5 b(exp)1471 4880 y Fu(i)1528 4913
y FB(j)23 b Fv(exp)1712 4880 y Fu(i)6 b FA(+)p Fu(1)1844
4913 y Ft(\))0 5026 y Fv(exp)136 4993 y Fu(10)474 5026
y FB(!)113 b FD(\\)22 b Fv(ap)-5 b(at)918 5040 y Fu(1)1008
5026 y Fq(:)15 b(:)g(:)39 b Fv(ap)-5 b(at)1315 5040 y
Fu(n)1389 5026 y FD(->)22 b Fv(exp)842 b Ft(\()p FI(lambda)24
b(abstraction)t Fq(;)38 b Fv(n)33 b FB(\025)25 b Fv(1)12
b Ft(\))506 5139 y FB(j)147 b FD(let)22 b Fv(de)-5 b(cls)31
b FD(in)21 b Fv(exp)1151 b Ft(\()p FI(let)24 b(e)o(xpression)s
Ft(\))506 5252 y FB(j)147 b FD(if)22 b Fv(exp)29 b FD(then)21
b Fv(exp)29 b FD(else)21 b Fv(exp)753 b Ft(\()p FI(conditional)t
Ft(\))506 5365 y FB(j)147 b FD(case)21 b Fv(exp)29 b
FD(of)22 b({)g Fv(alts)31 b FD(})984 b Ft(\()p FI(case)24
b(e)o(xpression)t Ft(\))p eop
%%Page: 139 153
139 152 bop 300 100 a FE(9.5.)51 b(CONTEXT)-8 b(-FREE)18
b(SYNT)-8 b(AX)2223 b FI(139)806 356 y FB(j)147 b FD(do)22
b({)g Fv(stmts)32 b FD(})1311 b Ft(\()p FI(do)24 b(e)o(xpression)s
Ft(\))806 469 y FB(j)147 b Fv(fexp)300 582 y(fexp)316
b FB(!)113 b Ft([)p Fv(fexp)6 b Ft(])23 b Fv(aexp)1402
b Ft(\()p FI(function)26 b(application)t Ft(\))300 977
y Fv(aexp)298 b FB(!)113 b Fv(qvar)1647 b Ft(\()p FI(v)n(ariable)s
Ft(\))806 1090 y FB(j)147 b Fv(gc)-5 b(on)1639 b Ft(\()p
FI(general)25 b(constructor)t Ft(\))806 1203 y FB(j)147
b Fv(liter)-5 b(al)806 1316 y FB(j)147 b FD(\()22 b Fv(exp)29
b FD(\))1524 b Ft(\()p FI(parenthesized)28 b(e)o(xpression)s
Ft(\))806 1429 y FB(j)147 b FD(\()22 b Fv(exp)1185 1443
y Fu(1)1258 1429 y FD(,)38 b Fq(:)15 b(:)g(:)38 b FD(,)23
b Fv(exp)1702 1444 y Fu(k)1769 1429 y FD(\))969 b Ft(\()p
FI(tuple)r Fq(;)38 b Fv(k)d FB(\025)25 b Fv(2)12 b Ft(\))806
1542 y FB(j)147 b FD([)22 b Fv(exp)1185 1556 y Fu(1)1258
1542 y FD(,)38 b Fq(:)15 b(:)g(:)38 b FD(,)23 b Fv(exp)1702
1557 y Fu(k)1769 1542 y FD(])969 b Ft(\()p FI(list)q
Fq(;)38 b Fv(k)d FB(\025)25 b Fv(1)12 b Ft(\))806 1654
y FB(j)147 b FD([)22 b Fv(exp)1185 1668 y Fu(1)1258 1654
y Ft([)p FD(,)h Fv(exp)1491 1668 y Fu(2)1541 1654 y Ft(])g
FD(..)e Ft([)p Fv(exp)1875 1668 y Fu(3)1926 1654 y Ft(])i
FD(])764 b Ft(\()p FI(arithmetic)25 b(sequence)t Ft(\))806
1767 y FB(j)147 b FD([)22 b Fv(exp)29 b FD(|)23 b Fv(qual)1452
1781 y Fu(1)1524 1767 y FD(,)38 b Fq(:)15 b(:)g(:)39
b FD(,)22 b Fv(qual)1998 1781 y Fu(n)2071 1767 y FD(])667
b Ft(\()p FI(list)24 b(comprehension)t Fq(;)39 b Fv(n)32
b FB(\025)25 b Fv(1)12 b Ft(\))806 1884 y FB(j)147 b
FD(\()22 b Fv(exp)1191 1851 y Fu(i)6 b FA(+)p Fu(1)1347
1884 y Fv(qop)1487 1851 y FA(\()p Fu(a)f Fo(;)p Fu(i)h
FA(\))1659 1884 y FD(\))1079 b Ft(\()p FI(left)24 b(section)s
Ft(\))806 2001 y FB(j)147 b FD(\()22 b Fv(lexp)1214 1968
y Fu(i)1270 2001 y Fv(qop)1410 1968 y FA(\()p Fu(l)7
b Fo(;)p Fu(i)f FA(\))1565 2001 y FD(\))1173 b Ft(\()p
FI(left)24 b(section)s Ft(\))806 2132 y FB(j)147 b FD(\()22
b Fv(qop)1195 2084 y FA(\()p Fu(a)5 b Fo(;)p Fu(i)h FA(\))1189
2164 y Fs(h)p FD(-)q Fs(i)1367 2132 y Fv(exp)1503 2099
y Fu(i)g FA(+)p Fu(1)1659 2132 y FD(\))1079 b Ft(\()p
FI(right)25 b(section)r Ft(\))806 2278 y FB(j)147 b FD(\()22
b Fv(qop)1195 2230 y FA(\()p Fu(r)7 b Fo(;)p Fu(i)f FA(\))1189
2310 y Fs(h)p FD(-)q Fs(i)1363 2278 y Fv(r)-5 b(exp)1532
2245 y Fu(i)1588 2278 y FD(\))1150 b Ft(\()p FI(right)25
b(section)r Ft(\))806 2406 y FB(j)147 b Fv(qc)-5 b(on)30
b FD({)23 b Fv(fbind)1457 2420 y Fu(1)1529 2406 y FD(,)37
b Fq(:)15 b(:)g(:)39 b FD(,)23 b Fv(fbind)2038 2420 y
Fu(n)2110 2406 y FD(})628 b Ft(\()p FI(labeled)25 b(construction)5
b Fq(;)38 b Fv(n)32 b FB(\025)25 b Fv(0)12 b Ft(\))806
2519 y FB(j)147 b Fv(aexp)1154 2537 y Fs(h)p Fu(qc)l(on)5
b Fs(i)1381 2519 y FD({)22 b Fv(fbind)1653 2533 y Fu(1)1725
2519 y FD(,)38 b Fq(:)15 b(:)g(:)39 b FD(,)22 b Fv(fbind)2234
2533 y Fu(n)2307 2519 y FD(})431 b Ft(\()p FI(labeled)25
b(update)s Fq(;)38 b Fv(n)55 b FB(\025)48 b Fv(1)12 b
Ft(\))300 2915 y Fv(qual)314 b FB(!)113 b Fv(p)-5 b(at)33
b FD(<-)22 b Fv(exp)1403 b Ft(\()p FI(generator)s Ft(\))806
3028 y FB(j)147 b FD(let)22 b Fv(de)-5 b(cls)1443 b Ft(\()p
FI(local)25 b(declaration)s Ft(\))806 3141 y FB(j)147
b Fv(exp)1685 b Ft(\()p FI(guard)r Ft(\))300 3367 y Fv(alts)338
b FB(!)113 b Fv(alt)1077 3381 y Fu(1)1150 3367 y FD(;)38
b Fq(:)15 b(:)g(:)39 b FD(;)22 b Fv(alt)1563 3381 y Fu(n)2793
3367 y Ft(\()p Fv(n)32 b FB(\025)25 b Fv(1)12 b Ft(\))300
3480 y Fv(alt)375 b FB(!)113 b Fv(p)-5 b(at)33 b FD(->)22
b Fv(exp)29 b Ft([)p FD(where)20 b Fv(de)-5 b(cls)7 b
Ft(])806 3593 y FB(j)147 b Fv(p)-5 b(at)33 b(gdp)-5 b(at)33
b Ft([)p FD(where)21 b Fv(de)-5 b(cls)7 b Ft(])806 3706
y FB(j)1962 b Ft(\()p Fv(empty)32 b(alternative)7 b Ft(\))300
3931 y Fv(gdp)-5 b(at)269 b FB(!)113 b Fv(gd)33 b FD(->)21
b Fv(exp)29 b Ft([)23 b Fv(gdp)-5 b(at)33 b Ft(])300
4157 y Fv(stmts)266 b FB(!)113 b Fv(stmt)1149 4171 y
Fu(1)1237 4157 y Fq(:)15 b(:)g(:)39 b Fv(stmt)1552 4171
y Fu(n)1626 4157 y Fv(exp)29 b Ft([)p FD(;)o Ft(])904
b(\()p Fv(n)32 b FB(\025)25 b Fv(0)12 b Ft(\))300 4270
y Fv(stmt)303 b FB(!)113 b Fv(exp)29 b FD(;)806 4383
y FB(j)147 b Fv(p)-5 b(at)33 b FD(<-)22 b Fv(exp)29 b
FD(;)806 4496 y FB(j)147 b FD(let)22 b Fv(de)-5 b(cls)31
b FD(;)806 4609 y FB(j)147 b FD(;)1760 b Ft(\()p Fv(empty)32
b(statement)9 b Ft(\))300 4835 y Fv(fbind)279 b FB(!)113
b Fv(qvar)33 b FD(=)22 b Fv(exp)300 5343 y(p)-5 b(at)357
b FB(!)113 b Fv(var)33 b FD(+)23 b Fv(inte)-5 b(ger)1310
b Ft(\()p FI(successor)26 b(pattern)s Ft(\))p eop
%%Page: 140 154
140 153 bop 0 100 a FI(140)2006 b FE(CHAPTER)20 b(9.)51
b(SYNT)-8 b(AX)20 b(REFERENCE)506 356 y FB(j)147 b Fv(p)-5
b(at)804 323 y Fu(0)0 473 y Fv(p)g(at)126 440 y Fu(i)474
473 y FB(!)113 b Fv(p)-5 b(at)804 440 y Fu(i)6 b FA(+)p
Fu(1)961 473 y Ft([)p Fv(qc)-5 b(onop)1260 440 y FA(\(n)r
Fo(;)p Fu(i)6 b FA(\))1430 473 y Fv(p)-5 b(at)1556 440
y Fu(i)6 b FA(+)p Fu(1)1690 473 y Ft(])506 586 y FB(j)147
b Fv(lp)-5 b(at)827 553 y Fu(i)506 698 y FB(j)147 b Fv(rp)-5
b(at)842 665 y Fu(i)0 815 y Fv(lp)g(at)149 782 y Fu(i)474
815 y FB(!)113 b Ft(\()p Fv(lp)-5 b(at)862 782 y Fu(i)919
815 y FB(j)23 b Fv(p)-5 b(at)1093 782 y Fu(i)6 b FA(+)p
Fu(1)1227 815 y Ft(\))23 b Fv(qc)-5 b(onop)1559 782 y
FA(\(l)q Fo(;)p Fu(i)6 b FA(\))1709 815 y Fv(p)-5 b(at)1835
782 y Fu(i)6 b FA(+)p Fu(1)0 928 y Fv(lp)-5 b(at)149
895 y Fu(6)474 928 y FB(!)113 b FD(-)22 b Ft(\()p Fv(inte)-5
b(ger)34 b FB(j)23 b Fv(\015o)-5 b(at)9 b Ft(\))1139
b(\()p FI(ne)o(gati)n(v)o(e)24 b(literal)r Ft(\))0 1045
y Fv(rp)-5 b(at)164 1012 y Fu(i)474 1045 y FB(!)113 b
Fv(p)-5 b(at)804 1012 y Fu(i)6 b FA(+)p Fu(1)961 1045
y Fv(qc)-5 b(onop)1235 1012 y FA(\(r)q Fo(;)p Fu(i)6
b FA(\))1393 1045 y Ft(\()p Fv(rp)-5 b(at)1592 1012 y
Fu(i)1649 1045 y FB(j)23 b Fv(p)-5 b(at)1823 1012 y Fu(i)6
b FA(+)p Fu(1)1957 1045 y Ft(\))0 1158 y Fv(p)-5 b(at)126
1125 y Fu(10)474 1158 y FB(!)113 b Fv(ap)-5 b(at)506
1271 y FB(j)147 b Fv(gc)-5 b(on)30 b(ap)-5 b(at)1047
1285 y Fu(1)1137 1271 y Fq(:)15 b(:)g(:)39 b Fv(ap)-5
b(at)1444 1286 y Fu(k)2493 1271 y Ft(\()p FI(arity)24
b Fv(gc)-5 b(on)56 b Ft(=)48 b Fv(k)10 b Fq(;)37 b Fv(k)e
FB(\025)25 b Fv(1)12 b Ft(\))0 1666 y Fv(ap)-5 b(at)311
b FB(!)113 b Fv(var)33 b Ft([)23 b(@)g Fv(ap)-5 b(at)9
b Ft(])1317 b(\()p FI(as)24 b(pattern)r Ft(\))506 1779
y FB(j)147 b Fv(gc)-5 b(on)1639 b Ft(\()p FI(arity)24
b Fv(gc)-5 b(on)56 b Ft(=)48 b Fv(0)12 b Ft(\))506 1892
y FB(j)147 b Fv(qc)-5 b(on)30 b FD({)23 b Fv(fp)-5 b(at)1107
1906 y Fu(1)1180 1892 y FD(,)38 b Fq(:)15 b(:)g(:)39
b FD(,)22 b Fv(fp)-5 b(at)1639 1907 y Fu(k)1707 1892
y FD(})731 b Ft(\()p FI(labeled)25 b(pattern)s Fq(;)38
b Fv(k)d FB(\025)25 b Fv(0)12 b Ft(\))506 2004 y FB(j)147
b Fv(liter)-5 b(al)506 2117 y FB(j)147 b FD(_)1760 b
Ft(\()p FI(wildcard)r Ft(\))506 2230 y FB(j)147 b FD(\()22
b Fv(p)-5 b(at)33 b FD(\))1533 b Ft(\()p FI(parenthesized)28
b(pattern)r Ft(\))506 2343 y FB(j)147 b FD(\()22 b Fv(p)-5
b(at)872 2357 y Fu(1)946 2343 y FD(,)38 b Fq(:)15 b(:)g(:)38
b FD(,)23 b Fv(p)-5 b(at)1377 2358 y Fu(k)1445 2343 y
FD(\))993 b Ft(\()p FI(tuple)25 b(pattern)r Fq(;)38 b
Fv(k)d FB(\025)25 b Fv(2)12 b Ft(\))506 2456 y FB(j)147
b FD([)22 b Fv(p)-5 b(at)872 2470 y Fu(1)946 2456 y FD(,)38
b Fq(:)15 b(:)g(:)38 b FD(,)23 b Fv(p)-5 b(at)1377 2471
y Fu(k)1445 2456 y FD(])993 b Ft(\()p FI(list)24 b(pattern)r
Fq(;)39 b Fv(k)34 b FB(\025)25 b Fv(1)12 b Ft(\))506
2569 y FB(j)147 b FD(\230)22 b Fv(ap)-5 b(at)1575 b Ft(\()p
FI(irrefutable)26 b(pattern)s Ft(\))0 2795 y Fv(fp)-5
b(at)329 b FB(!)113 b Fv(qvar)33 b FD(=)22 b Fv(p)-5
b(at)0 3190 y(gc)g(on)298 b FB(!)113 b FD(\(\))506 3303
y FB(j)147 b FD([])506 3416 y FB(j)g FD(\(,)o FB(f)p
FD(,)p FB(g)p FD(\))506 3529 y FB(j)g Fv(qc)-5 b(on)0
3755 y(var)348 b FB(!)113 b Fv(varid)33 b FB(j)23 b FD(\()g
Fv(varsym)30 b FD(\))1090 b Ft(\()p FI(v)n(ariable)s
Ft(\))0 3867 y Fv(qvar)306 b FB(!)113 b Fv(qvarid)33
b FB(j)23 b FD(\()f Fv(qvarsym)31 b FD(\))1006 b Ft(\()p
FI(quali\002ed)25 b(v)n(ariable)s Ft(\))0 3980 y Fv(c)-5
b(on)340 b FB(!)113 b Fv(c)-5 b(onid)33 b FB(j)23 b FD(\()g
Fv(c)-5 b(onsym)31 b FD(\))1073 b Ft(\()p FI(constructor)t
Ft(\))0 4093 y Fv(qc)-5 b(on)298 b FB(!)113 b Fv(qc)-5
b(onid)33 b FB(j)23 b FD(\()f Fv(gc)-5 b(onsym)31 b FD(\))990
b Ft(\()p FI(quali\002ed)25 b(constructor)t Ft(\))0 4206
y Fv(var)-5 b(op)261 b FB(!)113 b Fv(varsym)31 b FB(j)23
b FD(\036)t Fv(varid)14 b FD(\036)1127 b Ft(\()p FI(v)n(ariable)25
b(operator)s Ft(\))0 4319 y Fv(qvar)-5 b(op)219 b FB(!)113
b Fv(qvarsym)31 b FB(j)23 b FD(\036)t Fv(qvarid)14 b
FD(\036)1043 b Ft(\()p FI(quali\002ed)25 b(v)n(ariable)g(operator)s
Ft(\))0 4432 y Fv(c)-5 b(onop)248 b FB(!)113 b Fv(c)-5
b(onsym)31 b FB(j)23 b FD(\036)t Fv(c)-5 b(onid)14 b
FD(\036)1111 b Ft(\()p FI(constructor)27 b(operator)s
Ft(\))0 4545 y Fv(qc)-5 b(onop)206 b FB(!)113 b Fv(gc)-5
b(onsym)31 b FB(j)23 b FD(\036)t Fv(qc)-5 b(onid)14 b
FD(\036)1027 b Ft(\()p FI(quali\002ed)25 b(constructor)i(operator)s
Ft(\))0 4658 y Fv(op)382 b FB(!)113 b Fv(var)-5 b(op)31
b FB(j)23 b Fv(c)-5 b(onop)1297 b Ft(\()p FI(operator)s
Ft(\))0 4771 y Fv(qop)340 b FB(!)113 b Fv(qvar)-5 b(op)30
b FB(j)23 b Fv(qc)-5 b(onop)1214 b Ft(\()p FI(quali\002ed)25
b(operator)s Ft(\))0 4884 y Fv(gc)-5 b(onsym)143 b FB(!)113
b FD(:)22 b FB(j)h Fv(qc)-5 b(onsym)p eop
%%Page: 141 155
141 154 bop 300 1062 a Fw(Chapter)44 b(10)300 1560 y
FH(Speci\002cation)51 b(of)h(Deri)n(v)n(ed)f(Instances)300
2088 y FI(A)26 b FJ(derived)i(instance)h FI(is)e(an)f(instance)j
(declaration)h(that)d(is)g(generated)i(automatically)h(in)d
(conjunction)j(with)d(a)300 2201 y FD(data)21 b FI(or)i
FD(newtype)c FI(declaration.)32 b(The)23 b(body)h(of)g(a)e(deri)n(v)o
(ed)j(instance)g(declaration)i(is)c(deri)n(v)o(ed)h(syntactically)300
2314 y(from)g(the)g(de\002nition)i(of)e(the)h(associated)i(type.)k
(Deri)n(v)o(ed)24 b(instances)j(are)d(possible)j(only)e(for)f(classes)i
(kno)n(wn)e(to)300 2427 y(the)j(compiler:)36 b(those)27
b(de\002ned)g(in)g(either)g(the)g(Prelude)g(or)f(a)g(standard)j
(library)-6 b(.)39 b(In)26 b(this)h(chapter)l(,)i(we)c(describe)300
2539 y(the)f(deri)n(v)n(ation)i(of)d(classes)i(de\002ned)g(by)e(the)h
(Prelude.)300 2735 y(If)f Fv(T)35 b FI(is)24 b(an)f(algebraic)j
(datatype)g(declared)f(by:)720 2934 y FD(data)52 b Fv(cx)66
b FD(=>)22 b Fv(T)35 b(u)1423 2948 y Fu(1)1510 2934 y
Fq(:)15 b(:)g(:)39 b Fv(u)1703 2949 y Fu(k)1830 2934
y FD(=)82 b Fv(K)2037 2948 y Fu(1)2109 2934 y Fv(t)2139
2948 y Fu(11)2263 2934 y Fq(:)15 b(:)g(:)39 b Fv(t)2437
2949 y Fu(1k)2506 2958 y Fi(1)2574 2934 y FD(|)f FB(\001)15
b(\001)g(\001)39 b FD(|)22 b Fv(K)2958 2948 y Fu(n)3030
2934 y Fv(t)3060 2948 y Fu(n1)3188 2934 y Fq(:)15 b(:)g(:)39
b Fv(t)3362 2949 y Fu(nk)3435 2957 y Fi(n)1967 3047 y
FD(deriving)51 b(\()p Fv(C)2578 3061 y Fu(1)2627 3047
y FD(,)37 b Fq(:)15 b(:)g(:)i FD(,)22 b Fv(C)2983 3061
y Fu(m)3051 3047 y FD(\))300 3242 y FI(\(where)h Fv(m)33
b FB(\025)25 b Fv(0)34 b FI(and)23 b(the)f(parentheses)k(may)c(be)h
(omitted)g(if)f Fv(m)33 b Ft(=)25 b Fv(1)13 b FI(\))22
b(then)h(a)f(deri)n(v)o(ed)h(instance)i(declaration)g(is)300
3355 y(possible)h(for)d(a)h(class)g Fv(C)36 b FI(if)23
b(these)i(conditions)h(hold:)414 3626 y(1.)45 b Fv(C)36
b FI(is)24 b(one)g(of)f FD(Eq)o FI(,)g FD(Ord)n FI(,)g
FD(Enum)n FI(,)f FD(Bounded)m FI(,)h FD(Show)n FI(,)f(or)i
FD(Read)n FI(.)414 3813 y(2.)45 b(There)24 b(is)f(a)g(conte)o(xt)i
Fv(cx)1292 3780 y Fs(0)1338 3813 y FI(such)g(that)f Fv(cx)1782
3780 y Fs(0)1853 3813 y FB(\))48 b Fv(C)36 b(t)2123 3827
y Fu(ij)2203 3813 y FI(holds)25 b(for)f(each)g(of)f(the)h(constituent)j
(types)e Fv(t)3640 3827 y Fu(ij)3697 3813 y FI(.)414
4001 y(3.)45 b(If)26 b Fv(C)38 b FI(is)26 b FD(Bounded)l
FI(,)g(the)g(type)g(must)g(be)g(either)h(an)f(enumeration)i(\(all)e
(constructors)k(must)25 b(be)h(nullary\))527 4114 y(or)e(ha)n(v)o(e)g
(only)g(one)g(constructor)-5 b(.)414 4301 y(4.)45 b(If)24
b Fv(C)36 b FI(is)23 b FD(Enum)n FI(,)g(the)g(type)i(must)e(be)h(an)f
(enumeration.)414 4489 y(5.)45 b(There)53 b(must)f(be)g(no)g(e)o
(xplicit)i(instance)g(declaration)h(else)n(where)e(in)f(the)h(program)g
(that)g(mak)o(es)527 4602 y Fv(T)35 b(u)676 4616 y Fu(1)763
4602 y Fq(:)15 b(:)g(:)39 b Fv(u)956 4617 y Fu(k)1023
4602 y FI(an)23 b(instance)j(of)d Fv(C)14 b FI(.)300
4873 y(F)o(or)20 b(the)i(purposes)h(of)e(deri)n(v)o(ed)i(instances,)h
(a)c FD(newtype)e FI(declaration)24 b(is)d(treated)i(as)e(a)g
FD(data)d FI(declaration)24 b(with)300 4986 y(a)f(single)i(constructor)
-5 b(.)300 5182 y(If)55 b(the)h FD(deriving)c FI(form)j(is)h(present,)
65 b(an)56 b(instance)i(declaration)g(is)e(automatically)j(generated)f
(for)300 5294 y Fv(T)35 b(u)449 5308 y Fu(1)536 5294
y Fq(:)15 b(:)g(:)39 b Fv(u)729 5309 y Fu(k)804 5294
y FI(o)o(v)o(er)31 b(each)i(class)f Fv(C)1463 5308 y
Fu(i)1496 5294 y FI(.)52 b(If)32 b(the)g(deri)n(v)o(ed)h(instance)g
(declaration)i(is)d(impossible)i(for)d(an)o(y)h(of)g(the)2032
5593 y(141)p eop
%%Page: 142 156
142 155 bop 0 100 a FI(142)1127 b FE(CHAPTER)20 b(10.)52
b(SPECIFICA)-10 b(TION)19 b(OF)j(DERIVED)e(INST)-8 b(ANCES)0
356 y Fv(C)65 370 y Fu(i)128 356 y FI(then)33 b(a)e(static)i(error)g
(results.)55 b(If)32 b(no)f(deri)n(v)o(ed)i(instances)i(are)d
(required,)j(the)e FD(deriving)27 b FI(form)32 b(may)f(be)0
469 y(omitted)25 b(or)e(the)h(form)f FD(deriving)51 b(\(\))22
b FI(may)h(be)h(used.)0 665 y(Each)f(deri)n(v)o(ed)i(instance)h
(declaration)g(will)e(ha)n(v)o(e)g(the)g(form:)650 869
y FD(instance)50 b(\()p Fv(cx)11 b FD(,)54 b Fv(cx)1494
836 y Fs(0)1517 869 y FD(\))g(=>)22 b Fv(C)1823 883 y
Fu(i)1878 869 y Ft(\()p Fv(T)36 b(u)2063 883 y Fu(1)2150
869 y Fq(:)15 b(:)g(:)39 b Fv(u)2343 884 y Fu(k)2387
869 y Ft(\))23 b FD(where)d({)i Fv(d)33 b FD(})0 1073
y FI(where)28 b Fv(d)37 b FI(is)28 b(deri)n(v)o(ed)h(automatically)i
(depending)f(on)e Fv(C)1826 1087 y Fu(i)1886 1073 y FI(and)g(the)g
(data)h(type)f(declaration)j(for)d Fv(T)40 b FI(\(as)28
b(will)f(be)0 1186 y(described)f(in)e(the)f(remainder)j(of)d(this)h
(section\).)0 1382 y(The)f(conte)o(xt)h Fv(cx)547 1349
y Fs(0)593 1382 y FI(is)f(the)g(smallest)i(conte)o(xt)f(satisfying)i
(point)f(\(2\))e(abo)o(v)o(e.)29 b(F)o(or)22 b(mutually)j(recusi)n(v)o
(e)g(data)e(types,)0 1495 y(the)h(compiler)h(may)e(need)h(to)g(perform)
g(a)f(\002xpoint)i(calculation)i(to)c(compute)i(it.)0
1691 y(The)32 b(remaining)i(details)g(of)f(the)g(deri)n(v)o(ed)g
(instances)i(for)e(each)g(of)f(the)h(deri)n(v)n(able)i(Prelude)e
(classes)h(are)f(no)n(w)0 1804 y(gi)n(v)o(en.)j(Free)25
b(v)n(ariables)j(and)e(constructors)j(used)e(in)f(these)g(translations)
j(al)o(w)o(ays)e(refer)f(to)g(entities)i(de\002ned)e(by)0
1917 y(the)e FD(Prelude)m FI(.)0 2292 y FC(10.1)119 b(Deri)o(v)o(ed)30
b(instances)g(of)g Fa(Eq)f FC(and)i Fa(Ord)0 2582 y FI(The)24
b(class)g(methods)i(automatically)h(introduced)g(by)d(deri)n(v)o(ed)h
(instances)h(of)e FD(Eq)f FI(and)h FD(Ord)e FI(are)i
FD(\(==\))n FI(,)f FD(\(/=\))n FI(,)0 2695 y FD(compare)m
FI(,)28 b FD(\(<\))o FI(,)g FD(\(<=\))n FI(,)g FD(\(>\))o
FI(,)g FD(\(>=\))n FI(,)h FD(max)n FI(,)g(and)f FD(min)o
FI(.)42 b(The)27 b(latter)i(se)n(v)o(en)g(operators)i(are)d(de\002ned)h
(so)f(as)0 2808 y(to)d(compare)h(their)g(ar)n(guments)i(le)o
(xicographically)i(with)25 b(respect)i(to)e(the)g(constructor)k(set)c
(gi)n(v)o(en,)h(with)f(earlier)0 2921 y(constructors)33
b(in)d(the)f(datatype)j(declaration)h(counting)f(as)d(smaller)i(than)f
(later)g(ones.)48 b(F)o(or)29 b(e)o(xample,)i(for)f(the)0
3034 y FD(Bool)21 b FI(datatype,)k(we)e(ha)n(v)o(e)h(that)g
FD(\(True)53 b(>)h(False\))e(==)h(True)n FI(.)0 3230
y(Deri)n(v)o(ed)25 b(comparisons)j(al)o(w)o(ays)e(tra)n(v)o(erse)h
(constructors)i(from)c(left)g(to)g(right.)35 b(These)25
b(e)o(xamples)h(illustrate)i(this)0 3343 y(property:)250
3533 y FD(\(1,undefined\))49 b(==)k(\(2,undefined\))c
FB(\))218 b FD(False)250 3646 y(\(undefined,1\))49 b(==)k
(\(undefined,2\))c FB(\))218 b(?)0 3833 y FI(All)53 b(deri)n(v)o(ed)h
(operations)i(of)e(class)g FD(Eq)e FI(and)h FD(Ord)f
FI(are)h(strict)h(in)g(both)g(ar)n(guments.)120 b(F)o(or)53
b(e)o(xample,)0 3946 y FD(False)f(<=)i FB(?)22 b FI(is)i
FB(?)o FI(,)f(e)n(v)o(en)h(though)h FD(False)20 b FI(is)k(the)f
(\002rst)h(constructor)i(of)e(the)g FD(Bool)d FI(type.)0
4322 y FC(10.2)119 b(Deri)o(v)o(ed)30 b(instances)g(of)g
Fa(Enum)0 4612 y FI(Deri)n(v)o(ed)k(instance)h(declarations)i(for)c
(the)h(class)g FD(Enum)c FI(are)k(only)g(possible)h(for)f(enumerations)
i(\(data)e(types)0 4725 y(with)23 b(only)i(nullary)g(constructors\).)0
4920 y(The)d(nullary)i(constructors)i(are)d(assumed)h(to)e(be)h
(numbered)h(left-to-right)i(with)c(the)h(indices)h(0)e(through)j
Fq(n)16 b FB(\000)g Ft(1)p FI(.)0 5033 y(The)29 b FD(succ)e
FI(and)j FD(pred)d FI(operators)32 b(gi)n(v)o(e)e(the)f(successor)k
(and)d(predecessor)i(respecti)n(v)o(ely)h(of)c(a)g(v)n(alue,)j(under)0
5146 y(this)i(numbering)h(scheme.)57 b(It)33 b(is)g(an)g(error)h(to)e
(apply)j FD(succ)30 b FI(to)j(the)g(maximum)g(element,)j(or)d
FD(pred)d FI(to)j(the)0 5259 y(minimum)23 b(element.)p
eop
%%Page: 143 157
143 156 bop 300 100 a FE(10.3.)52 b(DERIVED)20 b(INST)-8
b(ANCES)20 b(OF)i FD(BOUNDED)1771 b FI(143)300 356 y(The)18
b FD(toEnum)d FI(and)20 b FD(fromEnum)14 b FI(operators)21
b(map)e(enumerated)i(v)n(alues)e(to)g(and)g(from)g(the)g
FD(Int)d FI(type;)22 b FD(toEnum)300 469 y FI(raises)j(a)e(runtime)h
(error)h(if)e(the)h FD(Int)d FI(ar)n(gument)26 b(is)d(not)h(the)g(inde)
o(x)g(of)g(one)g(of)f(the)h(constructors.)300 664 y(The)f
(de\002nitions)j(of)d(the)h(remaining)h(methods)g(are)541
843 y Fp(enumFrom)48 b(x)548 b(=)49 b(enumFromTo)f(x)i(lastCon)541
943 y(enumFromThen)d(x)j(y)249 b(=)49 b(enumFromThenTo)f(x)h(y)h(bound)
1587 1042 y(where)1686 1142 y(bound)f(|)h(fromEnum)e(y)i(>=)f(fromEnum)
g(x)g(=)h(lastCon)1985 1242 y(|)g(otherwise)795 b(=)50
b(firstCon)541 1341 y(enumFromTo)e(x)h(y)349 b(=)49 b(map)h(toEnum)e
([fromEnum)h(x)g(..)h(fromEnum)e(y])541 1441 y(enumFromThenTo)f(x)j(y)f
(z)h(=)f(map)h(toEnum)e([fromEnum)h(x,)g(fromEnum)f(y)i(..)f(fromEnum)g
(z])300 1623 y FI(where)25 b FD(firstCon)20 b FI(and)25
b FD(lastCon)20 b FI(are)25 b(respecti)n(v)o(ely)i(the)d(\002rst)h(and)
f(last)h(constructors)j(listed)e(in)e(the)h FD(data)300
1736 y FI(declaration.)32 b(F)o(or)22 b(e)o(xample,)j(gi)n(v)o(en)f
(the)f(datatype:)550 1930 y FD(data)108 b(Color)52 b(=)i(Red)f(|)h
(Orange)e(|)i(Yellow)e(|)i(Green)107 b(deriving)51 b(\(Enum\))300
2125 y FI(we)23 b(w)o(ould)h(ha)n(v)o(e:)550 2296 y FD([Orange)52
b(..])489 b(==)108 b([Orange,)51 b(Yellow,)h(Green])550
2408 y(fromEnum)f(Yellow)270 b(==)108 b(2)300 2921 y
FC(10.3)119 b(Deri)o(v)o(ed)30 b(instances)g(of)g Fa(Bounded)300
3209 y FI(The)f FD(Bounded)c FI(class)30 b(introduces)j(the)c(class)h
(methods)h FD(minBound)25 b FI(and)30 b FD(maxBound)l
FI(,)g(which)f(de\002ne)h(the)300 3322 y(minimal)22 b(and)g(maximal)g
(elements)h(of)e(the)h(type.)29 b(F)o(or)21 b(an)g(enumeration,)k(the)d
(\002rst)f(and)h(last)g(constructors)j(listed)300 3435
y(in)33 b(the)g FD(data)d FI(declaration)36 b(are)d(the)g(bounds.)59
b(F)o(or)32 b(a)g(type)i(with)e(a)h(single)h(constructor)l(,)k(the)33
b(constructor)j(is)300 3548 y(applied)25 b(to)f(the)g(bounds)h(for)f
(the)g(constituent)i(types.)k(F)o(or)23 b(e)o(xample,)h(the)g(follo)n
(wing)h(datatype:)550 3743 y FD(data)108 b(Pair)52 b(a)i(b)g(=)g(Pair)f
(a)h(b)g(deriving)d(Bounded)300 3938 y FI(w)o(ould)24
b(generate)i(the)e(follo)n(wing)h FD(Bounded)19 b FI(instance:)550
4126 y FD(instance)51 b(\(Bounded)g(a,Bounded)f(b\))k(=>)g(Bounded)d
(\(Pair)h(a)i(b\))g(where)659 4239 y(minBound)d(=)j(Pair)f(minBound)e
(minBound)659 4352 y(maxBound)g(=)j(Pair)f(maxBound)e(maxBound)300
4850 y FC(10.4)119 b(Deri)o(v)o(ed)30 b(instances)g(of)g
Fa(Read)e FC(and)j Fa(Show)300 5139 y FI(The)54 b(class)h(methods)h
(automatically)h(introduced)h(by)c(deri)n(v)o(ed)i(instances)g(of)f
FD(Read)c FI(and)k FD(Show)d FI(are)300 5252 y FD(showsPrec)l
FI(,)34 b FD(readsPrec)l FI(,)g FD(showList)l FI(,)g(and)f
FD(readList)l FI(.)55 b(The)o(y)33 b(are)g(used)g(to)g(coerce)h(v)n
(alues)g(into)300 5365 y(strings)25 b(and)f(parse)h(strings)g(into)f(v)
n(alues.)p eop
%%Page: 144 158
144 157 bop 0 100 a FI(144)1127 b FE(CHAPTER)20 b(10.)52
b(SPECIFICA)-10 b(TION)19 b(OF)j(DERIVED)e(INST)-8 b(ANCES)0
356 y FI(The)23 b(function)j FD(showsPrec)51 b(d)j(x)g(r)23
b FI(accepts)i(a)f(precedence)i(le)n(v)o(el)f FD(d)d
FI(\(a)i(number)h(from)e FD(0)g FI(to)h FD(11)o FI(\),)f(a)g(v)n(alue)0
469 y FD(x)p FI(,)29 b(and)h(a)f(string)i FD(r)p FI(.)45
b(It)30 b(returns)h(a)e(string)i(representing)i FD(x)28
b FI(concatenated)33 b(to)c FD(r)p FI(.)46 b FD(showsPrec)24
b FI(satis\002es)31 b(the)0 582 y(la)o(w:)491 695 y FD(showsPrec)50
b(d)k(x)h(r)f(++)f(s)109 b(==)f(showsPrec)51 b(d)j(x)g(\(r)f(++)h(s\))0
862 y FI(The)25 b(representation)k(will)c(be)g(enclosed)j(in)d
(parentheses)j(if)d(the)h(precedence)i(of)d(the)h(top-le)n(v)o(el)h
(constructor)h(in)0 974 y FD(x)e FI(is)i(less)g(than)h
FD(d)o FI(.)41 b(Thus,)28 b(if)g FD(d)e FI(is)i FD(0)e
FI(then)j(the)f(result)h(is)e(ne)n(v)o(er)h(surrounded)j(in)d
(parentheses;)33 b(if)28 b FD(d)e FI(is)i FD(11)e FI(it)h(is)0
1087 y(al)o(w)o(ays)d(surrounded)i(in)d(parentheses,)j(unless)e(it)f
(is)g(an)g(atomic)g(e)o(xpression)j(\(recall)e(that)g(function)h
(application)0 1200 y(has)30 b(precedence)k FD(10)o FI(\).)48
b(The)29 b(e)o(xtra)i(parameter)h FD(r)d FI(is)h(essential)i(if)e
(tree-lik)o(e)i(structures)h(are)d(to)g(be)g(printed)i(in)0
1313 y(linear)25 b(time)e(rather)i(than)f(time)f(quadratic)j(in)e(the)g
(size)g(of)f(the)h(tree.)0 1509 y(The)36 b(function)j
FD(readsPrec)51 b(d)j(s)36 b FI(accepts)i(a)f(precedence)j(le)n(v)o(el)
d FD(d)e FI(\(a)i(number)h(from)f FD(0)e FI(to)i FD(10)o
FI(\))f(and)i(a)0 1622 y(string)26 b FD(s)o FI(,)e(and)h(attempts)h(to)
f(parse)g(a)f(v)n(alue)i(from)e(the)h(front)h(of)e(the)h(string,)h
(returning)h(a)d(list)h(of)f(\(parsed)j(v)n(alue,)0 1735
y(remaining)g(string\))f(pairs.)34 b(If)25 b(there)h(is)f(no)g
(successful)j(parse,)e(the)f(returned)i(list)f(is)f(empty)-6
b(.)33 b(P)o(arsing)26 b(of)f(an)g(un-)0 1848 y(parenthesised)33
b(in\002x)c(operator)j(application)g(succeeds)f(only)f(if)f(the)h
(precedence)i(of)d(the)g(operator)j(is)d(greater)0 1961
y(than)24 b(or)g(equal)g(to)g FD(d)o FI(.)0 2157 y(It)f(should)i(be)f
(the)g(case)g(that)452 2427 y FD(\(x,""\))c FI(is)j(an)h(element)g(of)g
FD(\(readsPrec)50 b(d)k(\(showsPrec)c(d)k(x)g(""\)\))0
2698 y FI(That)35 b(is,)i FD(readsPrec)30 b FI(should)36
b(be)f(able)h(to)e(parse)i(the)f(string)i(produced)g(by)e
FD(showsPrec)l FI(,)h(and)g(should)0 2811 y(deli)n(v)o(er)25
b(the)e(v)n(alue)i(that)f FD(showsPrec)18 b FI(started)26
b(with.)0 3007 y FD(showList)15 b FI(and)21 b FD(readList)15
b FI(allo)n(w)20 b(lists)g(of)g(objects)h(to)f(be)g(represented)j
(using)e(non-standard)i(denotations.)0 3120 y(This)g(is)h(especially)i
(useful)f(for)f(strings)h(\(lists)f(of)g FD(Char)n FI(\).)0
3316 y FD(readsPrec)18 b FI(will)23 b(parse)h(an)o(y)f(v)n(alid)h
(representation)k(of)23 b(the)g(standard)j(types)e(apart)g(from)f
(strings,)h(for)g(which)0 3429 y(only)32 b(quoted)h(strings)g(are)e
(accepted,)k(and)d(other)g(lists,)h(for)f(which)f(only)h(the)g(brack)o
(eted)h(form)e FD([)p FI(.)14 b(.)g(.)g FD(])28 b FI(is)j(ac-)0
3542 y(cepted.)f(See)23 b(Chapter)i(8)e(for)h(full)g(details.)0
3737 y(The)c(result)h(of)f FD(show)d FI(is)j(a)g(syntactically)j
(correct)f(Hask)o(ell)f(e)o(xpression)h(containing)i(only)c(constants,)
j(gi)n(v)o(en)e(the)0 3850 y(\002xity)27 b(declarations)j(in)d(force)g
(at)g(the)g(point)h(where)f(the)g(type)g(is)g(declared.)40
b(It)27 b(contains)h(only)g(the)f(constructor)0 3963
y(names)e(de\002ned)g(in)f(the)h(data)g(type,)g(parentheses,)j(and)d
(spaces.)33 b(When)24 b(labelled)j(constructor)g(\002elds)e(are)g
(used,)0 4076 y(braces,)38 b(commas,)f(\002eld)d(names,)j(and)d(equal)h
(signs)h(are)e(also)h(used.)61 b(P)o(arentheses)36 b(are)f(only)f
(added)i(where)0 4189 y(needed,)27 b FJ(ignoring)g(associativity)p
FI(.)37 b(No)24 b(line)h(breaks)i(are)e(added.)34 b(The)25
b(result)h(of)f FD(show)d FI(is)j(readable)i(by)e FD(read)0
4302 y FI(if)c(all)h(component)h(types)g(are)e(readable.)30
b(\(This)22 b(is)f(true)h(for)g(all)f(instances)j(de\002ned)e(in)g(the)
f(Prelude)i(b)n(ut)f(may)f(not)0 4415 y(be)j(true)g(for)f(user)n
(-de\002ned)k(instances.\))0 4611 y(Deri)n(v)o(ed)19
b(instances)i(of)e FD(Read)d FI(mak)o(e)j(the)g(follo)n(wing)h
(assumptions,)i(which)d(deri)n(v)o(ed)h(instances)i(of)c
FD(Show)e FI(obe)o(y:)136 4881 y FB(\017)46 b FI(If)22
b(the)h(constructor)j(is)c(de\002ned)h(to)g(be)f(an)h(in\002x)f
(operator)l(,)j(then)e(the)g(deri)n(v)o(ed)h FD(Read)c
FI(instance)k(will)e(parse)227 4994 y(only)j(in\002x)e(applications)k
(of)d(the)f(constructor)k(\(not)d(the)g(pre\002x)g(form\).)136
5182 y FB(\017)46 b FI(Associati)n(vity)31 b(is)c(not)h(used)h(to)e
(reduce)i(the)f(occurrence)j(of)c(parentheses,)32 b(although)e
(precedence)g(may)227 5295 y(be.)f(F)o(or)23 b(e)o(xample,)h(gi)n(v)o
(en)p eop
%%Page: 145 159
145 158 bop 300 100 a FE(10.5.)52 b(AN)22 b(EXAMPLE)2645
b FI(145)778 344 y FD(infixr)51 b(4)j(:$)778 457 y(data)e(T)i(=)g(Int)g
(:$)f(T)109 b(|)g(NT)527 598 y FI(then:)636 786 y FF(\226)46
b FD(show)53 b(\(1)h(:$)f(2)h(:$)g(NT\))21 b FI(produces)26
b(the)e(string)h FD("1)54 b(:$)f(\(2)h(:$)f(NT\)")o FI(.)636
932 y FF(\226)46 b FD(read)53 b("1)h(:$)f(\(2)h(:$)g(NT\)")20
b FI(succeeds,)26 b(with)d(the)h(ob)o(vious)h(result.)636
1078 y FF(\226)46 b FD(read)53 b("1)h(:$)f(2)h(:$)g(NT")21
b FI(f)o(ails.)436 1266 y FB(\017)46 b FI(If)21 b(the)h(constructor)i
(is)e(de\002ned)g(using)g(record)h(syntax,)g(the)e(deri)n(v)o(ed)i
FD(Read)c FI(will)i(parse)h(only)g(the)g(record-)527
1379 y(syntax)39 b(form,)h(and)d(furthermore,)42 b(the)c(\002elds)f
(must)g(be)g(gi)n(v)o(en)g(in)g(the)g(same)g(order)h(as)f(the)g
(original)527 1491 y(declaration.)436 1679 y FB(\017)46
b FI(The)26 b(deri)n(v)o(ed)h FD(Read)d FI(instance)k(allo)n(ws)f
(arbitrary)h(Hask)o(ell)f(whitespace)h(between)g(tok)o(ens)g(of)e(the)g
(input)527 1792 y(string.)k(Extra)24 b(parentheses)j(are)c(also)i(allo)
n(wed.)300 2063 y(The)e(deri)n(v)o(ed)i FD(Read)c FI(and)j
FD(Show)d FI(instances)26 b(may)d(be)g(unsuitable)k(for)d(some)f(uses.)
30 b(Some)23 b(problems)i(include:)436 2333 y FB(\017)46
b FI(Circular)25 b(structures)h(cannot)f(be)f(printed)h(or)e(read)i(by)
e(these)i(instances.)436 2521 y FB(\017)46 b FI(The)30
b(printer)i(loses)g(shared)g(substructure;)37 b(the)31
b(printed)h(representation)j(of)30 b(an)h(object)g(may)g(be)f(much)527
2634 y(lar)n(ger)25 b(than)g(necessary)-6 b(.)436 2821
y FB(\017)46 b FI(The)25 b(parsing)j(techniques)h(used)d(by)g(the)g
(reader)h(are)e(v)o(ery)h(inef)n(\002cient;)j(reading)e(a)f(lar)n(ge)h
(structure)g(may)527 2934 y(be)d(quite)g(slo)n(w)-6 b(.)436
3122 y FB(\017)46 b FI(There)25 b(is)g(no)f(user)i(control)g(o)o(v)o
(er)e(the)h(printing)i(of)e(types)g(de\002ned)h(in)e(the)h(Prelude.)33
b(F)o(or)24 b(e)o(xample,)h(there)527 3235 y(is)f(no)f(w)o(ay)h(to)f
(change)i(the)f(formatting)i(of)d(\003oating)i(point)f(numbers.)300
3611 y FC(10.5)119 b(An)30 b(Example)300 3901 y FI(As)23
b(a)g(complete)i(e)o(xample,)f(consider)i(a)d(tree)h(datatype:)550
4091 y FD(data)53 b(Tree)g(a)h(=)g(Leaf)f(a)h(|)g(Tree)e(a)j(:\210:)e
(Tree)f(a)823 4204 y(deriving)f(\(Eq,)i(Ord,)f(Read,)h(Show\))300
4391 y FI(Automatic)29 b(deri)n(v)n(ation)i(of)d(instance)j
(declarations)h(for)c FD(Bounded)d FI(and)k FD(Enum)d
FI(are)i(not)h(possible,)i(as)e FD(Tree)300 4504 y FI(is)24
b(not)g(an)g(enumeration)j(or)d(single-constructor)29
b(datatype.)j(The)24 b(complete)h(instance)h(declarations)i(for)c
FD(Tree)300 4617 y FI(are)k(sho)n(wn)h(in)f(Figure)h(10.1,)g(Note)f
(the)h(implicit)g(use)g(of)f(def)o(ault)i(class)f(method)g
(de\002nitions\227for)j(e)o(xample,)300 4729 y(only)27
b FD(<=)e FI(is)h(de\002ned)i(for)f FD(Ord)n FI(,)f(with)h(the)f(other)
i(class)f(methods)h(\()p FD(<)p FI(,)e FD(>)p FI(,)g
FD(>=)o FI(,)g FD(max)o FI(,)g(and)h FD(min)o FI(\))f(being)h
(de\002ned)300 4842 y(by)d(the)f(def)o(aults)j(gi)n(v)o(en)e(in)g(the)f
(class)i(declaration)i(sho)n(wn)c(in)h(Figure)g(6.1)f(\(page)i(83\).)p
eop
%%Page: 146 160
146 159 bop 0 100 a FI(146)1127 b FE(CHAPTER)20 b(10.)52
b(SPECIFICA)-10 b(TION)19 b(OF)j(DERIVED)e(INST)-8 b(ANCES)p
15 785 3548 4 v 15 4530 4 3746 v 66 906 a Fp(infixr)49
b(5)g(:\210:)66 1006 y(data)g(Tree)g(a)h(=)99 b(Leaf)49
b(a)100 b(|)f(Tree)49 b(a)h(:\210:)f(Tree)g(a)66 1139
y(instance)f(\(Eq)i(a\))f(=>)g(Eq)h(\(Tree)f(a\))g(where)464
1238 y(Leaf)h(m)f(==)h(Leaf)f(n)99 b(=)h(m==n)464 1338
y(u:\210:v)f(==)50 b(x:\210:y)148 b(=)100 b(u==x)49 b(&&)g(v==y)714
1438 y(_)g(==)h(_)348 b(=)100 b(False)66 1570 y(instance)48
b(\(Ord)h(a\))h(=>)f(Ord)g(\(Tree)g(a\))h(where)464 1670
y(Leaf)g(m)f(<=)h(Leaf)f(n)99 b(=)h(m<=n)464 1770 y(Leaf)50
b(m)f(<=)h(x:\210:y)148 b(=)100 b(True)464 1869 y(u:\210:v)f(<=)50
b(Leaf)f(n)99 b(=)h(False)464 1969 y(u:\210:v)f(<=)50
b(x:\210:y)148 b(=)100 b(u<x)49 b(||)g(u==x)g(&&)h(v<=y)66
2102 y(instance)e(\(Show)h(a\))h(=>)f(Show)g(\(Tree)g(a\))g(where)464
2235 y(showsPrec)g(d)g(\(Leaf)g(m\))h(=)f(showParen)f(\(d)i(>)f
(app_prec\))f(showStr)564 2334 y(where)714 2434 y(showStr)g(=)i
(showString)e("Leaf)g(")i(.)g(showsPrec)e(\(app_prec+1\))f(m)464
2567 y(showsPrec)i(d)g(\(u)h(:\210:)f(v\))g(=)h(showParen)e(\(d)i(>)f
(up_prec\))f(showStr)564 2666 y(where)714 2766 y(showStr)g(=)i
(showsPrec)e(\(up_prec+1\))g(u)h(.)1212 2865 y(showString)f(")h(:\210:)
g(")299 b(.)1212 2965 y(showsPrec)48 b(\(up_prec+1\))g(v)863
3065 y(--)h(Note:)g(right-associativity)e(of)i(:\210:)g(ignored)66
3198 y(instance)f(\(Read)h(a\))h(=>)f(Read)g(\(Tree)g(a\))g(where)464
3330 y(readsPrec)g(d)g(r)h(=)99 b(readParen)48 b(\(d)i(>)f(up_prec\))
1311 3430 y(\(\\r)h(->)f([\(u:\210:v,w\))f(|)1710 3530
y(\(u,s\))h(<-)g(readsPrec)f(\(up_prec+1\))g(r,)1710
3629 y(\(":\210:",t\))g(<-)h(lex)h(s,)1710 3729 y(\(v,w\))f(<-)g
(readsPrec)f(\(up_prec+1\))g(t]\))h(r)1162 3862 y(++)g(readParen)f(\(d)
i(>)f(app_prec\))1311 3961 y(\(\\r)h(->)f([\(Leaf)g(m,t\))g(|)1710
4061 y(\("Leaf",s\))f(<-)h(lex)g(r,)1710 4161 y(\(m,t\))g(<-)g
(readsPrec)f(\(app_prec+1\))g(s]\))h(r)66 4293 y(up_prec)98
b(=)50 b(5)199 b(--)49 b(Precedence)f(of)i(:\210:)66
4393 y(app_prec)e(=)i(10)149 b(--)49 b(Application)f(has)h(precedence)f
(one)i(more)f(than)863 4493 y(--)g(the)h(most)f(tightly-binding)e
(operator)p 3559 4530 V 15 4533 3548 4 v 1016 4787 a
FI(Figure)25 b(10.1:)k(Example)24 b(of)f(Deri)n(v)o(ed)h(Instances)p
eop
%%Page: 147 161
147 160 bop 300 1062 a Fw(Chapter)44 b(11)300 1560 y
FH(Compiler)52 b(Pragmas)300 2088 y FI(Some)28 b(compiler)j
(implementations)h(support)f(compiler)g FJ(pr)o(a)o(gmas)p
FI(,)g(which)f(are)f(used)h(to)f(gi)n(v)o(e)g(additional)j(in-)300
2201 y(structions)23 b(or)e(hints)g(to)g(the)g(compiler)l(,)i(b)n(ut)e
(which)g(do)f(not)h(form)g(part)g(of)g(the)f(Hask)o(ell)i(language)h
(proper)f(and)f(do)300 2314 y(not)i(change)h(a)e(program')-5
b(s)25 b(semantics.)30 b(This)22 b(chapter)j(summarizes)f(this)f(e)o
(xisting)h(practice.)31 b(An)21 b(implementa-)300 2427
y(tion)h(is)f(not)h(required)h(to)e(respect)i(an)o(y)f(pragma,)g(b)n
(ut)g(the)f(pragma)h(should)h(be)f(ignored)h(if)e(an)g(implementation)j
(is)300 2539 y(not)g(prepared)i(to)e(handle)h(it.)30
b(Le)o(xically)-6 b(,)25 b(pragmas)g(appear)g(as)f(comments,)h(e)o
(xcept)g(that)f(the)g(enclosing)j(syntax)300 2652 y(is)c
FD({-#)f(#-})n FI(.)300 3028 y FC(11.1)119 b(Inlining)300
3318 y Fv(de)-5 b(cl)326 b FB(!)113 b FD({-#)22 b(INLINE)e
Fv(qvars)30 b FD(#-})300 3431 y Fv(de)-5 b(cl)326 b FB(!)113
b FD({-#)22 b(NOINLINE)d Fv(qvars)30 b FD(#-})300 3726
y FI(The)22 b FD(INLINE)d FI(pragma)24 b(instructs)h(the)e(compiler)h
(to)e(inline)i(the)f(speci\002ed)h(v)n(ariables)h(at)d(their)i(use)f
(sites.)29 b(Com-)300 3839 y(pilers)23 b(will)f(often)h(automatically)i
(inline)e(simple)g(e)o(xpressions.)31 b(This)22 b(may)g(be)g(pre)n(v)o
(ented)i(by)e(the)h FD(NOINLINE)300 3952 y FI(pragma.)300
4328 y FC(11.2)119 b(Specialization)300 4618 y Fv(de)-5
b(cl)326 b FB(!)113 b FD({-#)22 b(SPECIALIZE)c Fv(sp)-5
b(e)g(c)1890 4632 y Fu(1)1963 4618 y FD(,)37 b Fq(:)15
b(:)g(:)39 b FD(,)23 b Fv(sp)-5 b(e)g(c)2434 4633 y Fu(k)2501
4618 y FD(#-})127 b Ft(\()p Fv(k)35 b FB(\025)25 b Fv(1)12
b Ft(\))300 4731 y Fv(sp)-5 b(e)g(c)317 b FB(!)113 b
Fv(vars)56 b Ft(::)49 b Fv(typ)-5 b(e)300 5026 y FI(Specialization)39
b(is)d(used)h(to)f(a)n(v)n(oid)h(inef)n(\002ciencies)i(in)l(v)n(olv)o
(ed)g(in)d(dispatching)j(o)o(v)o(erloaded)f(functions.)69
b(F)o(or)300 5139 y(e)o(xample,)24 b(in)2032 5593 y(147)p
eop
%%Page: 148 162
148 161 bop 0 100 a FI(148)1945 b FE(CHAPTER)20 b(11.)52
b(COMPILER)20 b(PRA)l(GMAS)141 344 y FD(factorial)51
b(::)i(Num)g(a)h(=>)g(a)g(->)g(a)141 457 y(factorial)d(0)j(=)g(0)141
569 y(factorial)d(n)j(=)g(n)g(*)g(factorial)c(\(n-1\))141
682 y({-#)j(SPECIALIZE)d(factorial)h(::)i(Int)h(->)f(Int,)959
795 y(factorial)e(::)i(Integer)f(->)h(Integer)f(#-})0
982 y FI(calls)20 b(to)g FD(factorial)15 b FI(in)k(which)h(the)g
(compiler)h(can)f(detect)h(that)g(the)e(parameter)j(is)d(either)i
FD(Int)d FI(or)h FD(Integer)0 1095 y FI(will)k(use)h(specialized)i(v)o
(ersions)f(of)e FD(factorial)c FI(which)k(do)h(not)f(in)l(v)n(olv)o(e)j
(o)o(v)o(erloaded)f(numeric)g(operations.)p eop
%%Page: 149 163
149 162 bop 1850 2052 a Fw(P)n(art)44 b(II)1002 2550
y FH(The)51 b(Hask)n(ell)h(98)h(Libraries)2032 5593 y
FI(149)p eop
%%Page: 150 164
150 163 bop eop
%%Page: 151 165
151 164 bop 300 1046 a Fw(Chapter)44 b(12)300 1529 y
FH(Rational)53 b(Numbers)p 315 1944 3548 4 v 315 3865
4 1921 v 366 2080 a Fp(module)98 b(Ratio)49 b(\()565
2179 y(Ratio,)g(Rational,)f(\(\045\),)h(numerator,)f(denominator,)g
(approxRational)f(\))i(where)366 2347 y(infixl)g(7)99
b(\045)366 2447 y(data)g(\(Integral)48 b(a\))298 b(=>)50
b(Ratio)f(a)g(=)h(...)366 2546 y(type)99 b(Rational)496
b(=)100 b(Ratio)49 b(Integer)366 2646 y(\(\045\))1045
b(::)50 b(\(Integral)e(a\))h(=>)h(a)g(->)f(a)h(->)f(Ratio)g(a)366
2746 y(numerator,)f(denominator)97 b(::)50 b(\(Integral)e(a\))h(=>)h
(Ratio)f(a)g(->)h(a)366 2845 y(approxRational)495 b(::)50
b(\(RealFrac)e(a\))h(=>)h(a)g(->)f(a)h(->)f(Rational)366
2945 y(instance)98 b(\(Integral)48 b(a\))99 b(=>)50 b(Eq)448
b(\(Ratio)49 b(a\))99 b(where)49 b(...)366 3044 y(instance)98
b(\(Integral)48 b(a\))99 b(=>)50 b(Ord)398 b(\(Ratio)49
b(a\))99 b(where)49 b(...)366 3144 y(instance)98 b(\(Integral)48
b(a\))99 b(=>)50 b(Num)398 b(\(Ratio)49 b(a\))99 b(where)49
b(...)366 3244 y(instance)98 b(\(Integral)48 b(a\))99
b(=>)50 b(Real)348 b(\(Ratio)49 b(a\))99 b(where)49 b(...)366
3343 y(instance)98 b(\(Integral)48 b(a\))99 b(=>)50 b(Fractional)e
(\(Ratio)h(a\))99 b(where)49 b(...)366 3443 y(instance)98
b(\(Integral)48 b(a\))99 b(=>)50 b(RealFrac)148 b(\(Ratio)49
b(a\))99 b(where)49 b(...)366 3543 y(instance)98 b(\(Integral)48
b(a\))99 b(=>)50 b(Enum)348 b(\(Ratio)49 b(a\))99 b(where)49
b(...)366 3642 y(instance)98 b(\(Read)49 b(a,Integral)f(a\))h(=>)h
(Read)f(\(Ratio)g(a\))99 b(where)49 b(...)366 3742 y(instance)98
b(\(Integral)48 b(a\))99 b(=>)50 b(Show)348 b(\(Ratio)49
b(a\))99 b(where)49 b(...)p 3859 3865 V 315 3868 3548
4 v 300 4100 a FI(F)o(or)27 b(each)i FD(Integral)24 b
FI(type)29 b Fq(t)p FI(,)g(there)g(is)f(a)g(type)h FD(Ratio)c
Fq(t)i FI(of)i(rational)h(pairs)f(with)f(components)j(of)d(type)h
Fq(t)p FI(.)300 4213 y(The)23 b(type)h(name)g FD(Rational)19
b FI(is)k(a)h(synon)o(ym)g(for)g FD(Ratio)52 b(Integer)m
FI(.)300 4394 y FD(Ratio)21 b FI(is)i(an)h(instance)i(of)e(classes)i
FD(Eq)o FI(,)c FD(Ord)o FI(,)h FD(Num)o FI(,)f FD(Real)o
FI(,)h FD(Fractional)-5 b FI(,)23 b FD(RealFrac)l FI(,)g
FD(Enum)n FI(,)g FD(Read)n FI(,)300 4507 y(and)h FD(Show)n
FI(.)k(In)c(each)g(case,)g(the)g(instance)i(for)e FD(Ratio)c
Fq(t)j FI(simply)h(\223lifts\224)h(the)f(corresponding)k(operations)e
(o)o(v)o(er)300 4620 y Fq(t)p FI(.)j(If)24 b Fq(t)f FI(is)h(a)g
(bounded)i(type,)f(the)f(results)i(may)e(be)g(unpredictable;)k(for)d(e)
o(xample)g FD(Ratio)52 b(Int)22 b FI(may)i(gi)n(v)o(e)g(rise)300
4732 y(to)f(inte)o(ger)i(o)o(v)o(er\003o)n(w)e(e)n(v)o(en)h(for)g
(rational)h(numbers)g(of)e(small)h(absolute)i(size.)300
4913 y(The)36 b(operator)i FD(\(\045\))c FI(forms)i(the)h(ratio)g(of)f
(tw)o(o)f(inte)o(gral)j(numbers,)i(reducing)f(the)d(fraction)i(to)e
(terms)g(with)300 5026 y(no)h(common)h(f)o(actor)g(and)g(such)g(that)g
(the)f(denominator)j(is)d(positi)n(v)o(e.)71 b(The)37
b(functions)i FD(numerator)33 b FI(and)300 5139 y FD(denominator)25
b FI(e)o(xtract)33 b(the)e(components)j(of)d(a)g(ratio;)36
b(these)c(are)g(in)f(reduced)i(form)e(with)g(a)g(positi)n(v)o(e)i(de-)
300 5252 y(nominator)-5 b(.)40 b FD(Ratio)24 b FI(is)j(an)f(abstract)j
(type.)39 b(F)o(or)26 b(e)o(xample,)i FD(12)54 b(\045)g(8)26
b FI(is)g(reduced)j(to)e(3/2)g(and)g FD(12)54 b(\045)g(\(-8\))300
5365 y FI(is)23 b(reduced)j(to)d(\(-3\)/2.)2032 5593
y(151)p eop
%%Page: 152 166
152 165 bop 0 100 a FI(152)1950 b FE(CHAPTER)20 b(12.)52
b(RA)-10 b(TION)m(AL)20 b(NUMBERS)0 356 y FI(The)i FD(approxRational)14
b FI(function,)25 b(applied)e(to)f(tw)o(o)g(real)g(fractional)j
(numbers)e FD(x)e FI(and)i FD(epsilon)l FI(,)f(returns)0
469 y(the)i(simplest)i(rational)g(number)f(within)g(the)f(open)h
(interv)n(al)h Ft(\()p FD(x)20 b FB(\000)g FD(epsilon)m
Fq(;)38 b FD(x)20 b Ft(+)f FD(epsilon)m Ft(\))q FI(.)29
b(A)23 b(rational)0 582 y(number)29 b Fv(n)7 b Fq(=)p
Fv(d)38 b FI(in)28 b(reduced)i(form)e(is)g(said)h(to)f(be)g(simpler)h
(than)g(another)h Fv(n)2424 549 y Fs(0)2448 582 y Fq(=)p
Fv(d)2548 549 y Fs(0)2600 582 y FI(if)d FB(j)p Fv(n)7
b FB(j)49 b(\024)f(j)p Fv(n)3041 549 y Fs(0)3064 582
y FB(j)28 b FI(and)h Fv(d)57 b FB(\024)48 b Fv(d)3553
549 y Fs(0)3577 582 y FI(.)0 695 y(Note)23 b(that)i(it)e(can)h(be)f
(pro)o(v)o(ed)i(that)f(an)o(y)f(real)h(interv)n(al)i(contains)f(a)e
(unique)j(simplest)e(rational.)p eop
%%Page: 153 167
153 166 bop 300 100 a FE(12.1.)52 b(LIBRAR)-6 b(Y)21
b FD(RATIO)2540 b FI(153)300 356 y FC(12.1)119 b(Library)30
b Fa(Ratio)300 635 y Fp(--)49 b(Standard)g(functions)f(on)h(rational)g
(numbers)300 768 y(module)99 b(Ratio)48 b(\()499 868
y(Ratio,)h(Rational,)f(\(\045\),)h(numerator,)f(denominator,)g
(approxRational)f(\))i(where)300 1035 y(infixl)g(7)99
b(\045)300 1208 y(ratPrec)49 b(=)g(7)h(::)f(Int)300 1376
y(data)99 b(\(Integral)48 b(a\))299 b(=>)49 b(Ratio)g(a)g(=)h(!a)g
(:\045)f(!a)99 b(deriving)49 b(\(Eq\))300 1476 y(type)99
b(Rational)497 b(=)99 b(Ratio)49 b(Integer)300 1643 y(\(\045\))1046
b(::)49 b(\(Integral)f(a\))i(=>)f(a)h(->)f(a)h(->)f(Ratio)g(a)300
1743 y(numerator,)f(denominator)98 b(::)49 b(\(Integral)f(a\))i(=>)f
(Ratio)g(a)g(->)h(a)300 1843 y(approxRational)496 b(::)49
b(\(RealFrac)f(a\))i(=>)f(a)h(->)f(a)h(->)f(Rational)300
2010 y(--)g("reduce")g(is)g(a)h(subsidiary)e(function)g(used)h(only)g
(in)h(this)f(module.)300 2110 y(--)g(It)h(normalises)e(a)h(ratio)g(by)h
(dividing)e(both)h(numerator)300 2210 y(--)g(and)h(denominator)d(by)j
(their)f(greatest)f(common)h(divisor.)300 2309 y(--)300
2409 y(--)g(E.g.,)g(12)h(`reduce`)e(8)199 b(==)99 b(3)50
b(:\045)149 b(2)300 2508 y(--)348 b(12)50 b(`reduce`)e(\(-8\))h(==)99
b(3)50 b(:\045)f(\(-2\))300 2641 y(reduce)g(_)g(0)698
b(=)99 b(error)49 b("Ratio.\045)f(:)i(zero)f(denominator")300
2741 y(reduce)g(x)g(y)698 b(=)99 b(\(x)49 b(`quot`)g(d\))h(:\045)f(\(y)
g(`quot`)g(d\))1645 2840 y(where)g(d)g(=)h(gcd)f(x)h(y)300
3008 y(x)g(\045)f(y)947 b(=)99 b(reduce)49 b(\(x)g(*)h(signum)e(y\))i
(\(abs)f(y\))300 3181 y(numerator)f(\(x)i(:\045)f(_\))299
b(=)99 b(x)300 3353 y(denominator)48 b(\(_)h(:\045)h(y\))199
b(=)99 b(y)300 3521 y(instance)f(\(Integral)48 b(a\))100
b(=>)49 b(Ord)g(\(Ratio)g(a\))99 b(where)499 3621 y(\(x:\045y\))49
b(<=)g(\(x':\045y'\))99 b(=)g(x)50 b(*)f(y')h(<=)f(x')h(*)f(y)499
3721 y(\(x:\045y\))g(<)99 b(\(x':\045y'\))g(=)g(x)50
b(*)f(y')h(<)99 b(x')50 b(*)f(y)300 3888 y(instance)98
b(\(Integral)48 b(a\))100 b(=>)49 b(Num)g(\(Ratio)g(a\))99
b(where)499 3988 y(\(x:\045y\))49 b(+)h(\(x':\045y'\))148
b(=)99 b(reduce)49 b(\(x*y')g(+)g(x'*y\))g(\(y*y'\))499
4087 y(\(x:\045y\))g(*)h(\(x':\045y'\))148 b(=)99 b(reduce)49
b(\(x)g(*)h(x'\))f(\(y)g(*)h(y'\))499 4187 y(negate)f(\(x:\045y\))348
b(=)99 b(\(-x\))49 b(:\045)g(y)499 4287 y(abs)h(\(x:\045y\))497
b(=)99 b(abs)49 b(x)h(:\045)f(y)499 4386 y(signum)g(\(x:\045y\))348
b(=)99 b(signum)49 b(x)g(:\045)h(1)499 4486 y(fromInteger)e(x)349
b(=)99 b(fromInteger)48 b(x)h(:\045)h(1)300 4654 y(instance)98
b(\(Integral)48 b(a\))100 b(=>)49 b(Real)g(\(Ratio)g(a\))99
b(where)499 4753 y(toRational)48 b(\(x:\045y\))149 b(=)99
b(toInteger)48 b(x)i(:\045)f(toInteger)f(y)300 4921 y(instance)98
b(\(Integral)48 b(a\))100 b(=>)49 b(Fractional)f(\(Ratio)h(a\))99
b(where)499 5021 y(\(x:\045y\))49 b(/)h(\(x':\045y'\))148
b(=)99 b(\(x*y'\))49 b(\045)g(\(y*x'\))499 5120 y(recip)g(\(x:\045y\))
398 b(=)99 b(y)50 b(\045)f(x)499 5220 y(fromRational)f(\(x:\045y\))h(=)
99 b(fromInteger)48 b(x)h(:\045)h(fromInteger)e(y)p eop
%%Page: 154 168
154 167 bop 0 100 a FI(154)1950 b FE(CHAPTER)20 b(12.)52
b(RA)-10 b(TION)m(AL)20 b(NUMBERS)0 334 y Fp(instance)98
b(\(Integral)48 b(a\))100 b(=>)49 b(RealFrac)f(\(Ratio)h(a\))99
b(where)199 434 y(properFraction)47 b(\(x:\045y\))i(=)h(\(fromIntegral)
d(q,)j(r:\045y\))1395 534 y(where)f(\(q,r\))g(=)g(quotRem)g(x)g(y)0
701 y(instance)98 b(\(Integral)48 b(a\))100 b(=>)49 b(Enum)g(\(Ratio)g
(a\))99 b(where)199 801 y(succ)49 b(x)548 b(=)100 b(x+1)199
901 y(pred)49 b(x)548 b(=)100 b(x-1)199 1000 y(toEnum)547
b(=)100 b(fromIntegral)199 1100 y(fromEnum)447 b(=)100
b(fromInteger)47 b(.)j(truncate)98 b(--)49 b(May)h(overflow)199
1199 y(enumFrom)447 b(=)100 b(numericEnumFrom)445 b(--)49
b(These)g(numericEnumXXX)f(functions)199 1299 y(enumFromThen)247
b(=)100 b(numericEnumFromThen)245 b(--)49 b(are)h(as)f(defined)g(in)g
(Prelude.hs)199 1399 y(enumFromTo)347 b(=)100 b(numericEnumFromTo)345
b(--)49 b(but)h(not)f(exported)f(from)h(it!)199 1498
y(enumFromThenTo)147 b(=)100 b(numericEnumFromThenTo)0
1666 y(instance)e(\(Read)49 b(a,)g(Integral)g(a\))99
b(=>)49 b(Read)h(\(Ratio)e(a\))99 b(where)199 1766 y(readsPrec)48
b(p)100 b(=)f(readParen)48 b(\(p)i(>)f(ratPrec\))1494
1865 y(\(\\r)h(->)f([\(x\045y,u\))f(|)i(\(x,s\))149 b(<-)49
b(readsPrec)f(\(ratPrec+1\))g(r,)2391 1965 y(\("\045",t\))h(<-)g(lex)g
(s,)2391 2065 y(\(y,u\))149 b(<-)49 b(readsPrec)f(\(ratPrec+1\))g(t)h
(]\))0 2232 y(instance)98 b(\(Integral)48 b(a\))100 b(=>)49
b(Show)g(\(Ratio)g(a\))99 b(where)199 2332 y(showsPrec)48
b(p)i(\(x:\045y\))99 b(=)g(showParen)48 b(\(p)i(>)f(ratPrec\))1544
2431 y(\(showsPrec)f(\(ratPrec+1\))g(x)i(.)1594 2531
y(showString)e(")i(\045)f(")h(.)1594 2631 y(showsPrec)e(\(ratPrec+1\))g
(y\))0 2798 y(approxRational)f(x)j(eps)199 b(=)99 b(simplest)48
b(\(x-eps\))h(\(x+eps\))399 2898 y(where)f(simplest)h(x)g(y)h(|)g(y)f
(<)h(x)299 b(=)99 b(simplest)48 b(y)i(x)1345 2998 y(|)g(x)f(==)h(y)249
b(=)99 b(xr)1345 3097 y(|)50 b(x)f(>)h(0)299 b(=)99 b(simplest')48
b(n)i(d)f(n')h(d')1345 3197 y(|)g(y)f(<)h(0)299 b(=)99
b(-)50 b(simplest')e(\(-n'\))h(d')g(\(-n\))g(d)1345 3297
y(|)h(otherwise)98 b(=)h(0)50 b(:\045)f(1)1993 3396 y(where)f
(xr@\(n:\045d\))h(=)g(toRational)f(x)2291 3496 y(\(n':\045d'\))99
b(=)49 b(toRational)f(y)697 3629 y(simplest')h(n)g(d)h(n')f(d')349
b(--)49 b(assumes)f(0)i(<)g(n\045d)f(<)h(n'\045d')1196
3728 y(|)f(r)h(==)f(0)249 b(=)100 b(q)49 b(:\045)h(1)1196
3828 y(|)f(q)h(/=)f(q')199 b(=)100 b(\(q+1\))48 b(:\045)i(1)1196
3928 y(|)f(otherwise)98 b(=)i(\(q*n''+d''\))47 b(:\045)j(n'')1843
4027 y(where)f(\(q,r\))298 b(=)99 b(quotRem)49 b(n)g(d)2142
4127 y(\(q',r'\))198 b(=)99 b(quotRem)49 b(n')g(d')2142
4226 y(\(n'':\045d''\))f(=)99 b(simplest')48 b(d')i(r')f(d)h(r)p
eop
%%Page: 155 169
155 168 bop 300 1052 a Fw(Chapter)44 b(13)300 1540 y
FH(Complex)52 b(Numbers)p 315 2000 3548 4 v 315 4129
4 2130 v 366 2135 a Fp(module)98 b(Complex)49 b(\()565
2235 y(Complex\(\(:+\)\),)e(realPart,)i(imagPart,)f(conjugate,)565
2334 y(mkPolar,)h(cis,)g(polar,)f(magnitude,)g(phase)h(\))h(where)366
2502 y(infix)99 b(6)g(:+)366 2675 y(data)g(\(RealFloat)48
b(a\))248 b(=>)50 b(Complex)e(a)i(=)g(!a)f(:+)h(!a)366
2843 y(realPart,)e(imagPart)297 b(::)50 b(\(RealFloat)e(a\))h(=>)h
(Complex)e(a)i(->)f(a)366 2942 y(conjugate)745 b(::)50
b(\(RealFloat)e(a\))h(=>)h(Complex)e(a)i(->)f(Complex)g(a)366
3042 y(mkPolar)845 b(::)50 b(\(RealFloat)e(a\))h(=>)h(a)f(->)h(a)f(->)h
(Complex)e(a)366 3141 y(cis)1045 b(::)50 b(\(RealFloat)e(a\))h(=>)h(a)f
(->)h(Complex)e(a)366 3241 y(polar)945 b(::)50 b(\(RealFloat)e(a\))h
(=>)h(Complex)e(a)i(->)f(\(a,a\))366 3341 y(magnitude,)f(phase)397
b(::)50 b(\(RealFloat)e(a\))h(=>)h(Complex)e(a)i(->)f(a)366
3508 y(instance)98 b(\(RealFloat)48 b(a\))h(=>)h(Eq)448
b(\(Complex)48 b(a\))99 b(where)49 b(...)366 3608 y(instance)98
b(\(RealFloat)48 b(a\))h(=>)h(Read)348 b(\(Complex)48
b(a\))99 b(where)49 b(...)366 3708 y(instance)98 b(\(RealFloat)48
b(a\))h(=>)h(Show)348 b(\(Complex)48 b(a\))99 b(where)49
b(...)366 3807 y(instance)98 b(\(RealFloat)48 b(a\))h(=>)h(Num)398
b(\(Complex)48 b(a\))99 b(where)49 b(...)366 3907 y(instance)98
b(\(RealFloat)48 b(a\))h(=>)h(Fractional)e(\(Complex)g(a\))99
b(where)49 b(...)366 4006 y(instance)98 b(\(RealFloat)48
b(a\))h(=>)h(Floating)148 b(\(Complex)48 b(a\))99 b(where)49
b(...)p 3859 4129 V 315 4132 3548 4 v 300 4388 a FI(Comple)o(x)34
b(numbers)i(are)e(an)g(algebraic)i(type.)61 b(The)34
b(constructor)j FD(\(:+\))31 b FI(forms)k(a)e(comple)o(x)i(number)g
(from)300 4501 y(its)29 b(real)g(and)g(imaginary)h(rectangular)i
(components.)46 b(This)28 b(constructor)k(is)c(strict:)40
b(if)29 b(either)g(the)g(real)g(part)g(or)300 4614 y(the)i(imaginary)i
(part)f(of)f(the)g(number)h(is)f FB(?)p FI(,)g(the)h(entire)g(number)g
(is)f FB(?)p FI(.)50 b(A)30 b(comple)o(x)i(number)g(may)e(also)i(be)300
4727 y(formed)e(from)f(polar)h(components)h(of)e(magnitude)i(and)f
(phase)g(by)f(the)g(function)i FD(mkPolar)m FI(.)44 b(The)29
b(function)300 4840 y FD(cis)22 b FI(produces)k(a)e(comple)o(x)h
(number)g(from)f(an)g(angle)h Fv(t)9 b FI(.)29 b(Put)24
b(another)h(w)o(ay)-6 b(,)24 b FD(cis)e Fv(t)32 b FI(is)24
b(a)g(comple)o(x)h(v)n(alue)f(with)300 4953 y(magnitude)i
Fv(1)35 b FI(and)24 b(phase)h Fv(t)31 b FI(\(modulo)25
b Fv(2)12 b Fq(\031)t FI(\).)300 5139 y(The)29 b(function)k
FD(polar)26 b FI(tak)o(es)31 b(a)f(comple)o(x)h(number)f(and)h(returns)
g(a)f(\(magnitude,)j(phase\))e(pair)g(in)f(canonical)300
5252 y(form:)i(The)25 b(magnitude)i(is)e(nonne)o(gati)n(v)o(e,)i(and)f
(the)f(phase,)i(in)e(the)g(range)h Ft(\()p FB(\000)p
Fq(\031)s(;)15 b(\031)s Ft(])p FI(;)27 b(if)d(the)i(magnitude)h(is)e
(zero,)300 5365 y(then)f(so)g(is)f(the)h(phase.)2032
5593 y(155)p eop
%%Page: 156 170
156 169 bop 0 100 a FI(156)1967 b FE(CHAPTER)20 b(13.)51
b(COMPLEX)21 b(NUMBERS)0 356 y FI(The)k(functions)i FD(realPart)21
b FI(and)k FD(imagPart)c FI(e)o(xtract)26 b(the)g(rectangular)i
(components)f(of)e(a)g(comple)o(x)h(num-)0 469 y(ber)d(and)f(the)h
(functions)i FD(magnitude)17 b FI(and)23 b FD(phase)d
FI(e)o(xtract)j(the)g(polar)g(components)i(of)d(a)g(comple)o(x)i
(number)-5 b(.)0 582 y(The)23 b(function)j FD(conjugate)18
b FI(computes)26 b(the)d(conjugate)j(of)e(a)f(comple)o(x)h(number)h(in)
e(the)h(usual)h(w)o(ay)-6 b(.)0 778 y(The)23 b(magnitude)j(and)e(sign)g
(of)f(a)g(comple)o(x)i(number)f(are)g(de\002ned)g(as)g(follo)n(ws:)141
968 y FD(abs)53 b(z)709 b(=)109 b(magnitude)50 b(z)k(:+)g(0)141
1081 y(signum)e(0)545 b(=)109 b(0)141 1194 y(signum)52
b(z@\(x:+y\))160 b(=)109 b(x/r)53 b(:+)g(y/r)108 b(where)52
b(r)i(=)h(magnitude)50 b(z)0 1381 y FI(That)34 b(is,)i
FD(abs)31 b Fq(z)38 b FI(is)33 b(a)h(number)g(with)g(the)g(magnitude)i
(of)e Fq(z)t FI(,)h(b)n(ut)g(oriented)h(in)d(the)i(positi)n(v)o(e)g
(real)f(direction,)0 1494 y(whereas)25 b FD(signum)20
b Fq(z)27 b FI(has)c(the)h(phase)h(of)e Fq(z)t FI(,)g(b)n(ut)h(unit)g
(magnitude.)0 1869 y FC(13.1)119 b(Library)30 b Fa(Complex)0
2326 y Fp(module)49 b(Complex\(Complex\(\(:+\)\),)c(realPart,)k
(imagPart,)f(conjugate,)g(mkPolar,)747 2426 y(cis,)h(polar,)g
(magnitude,)f(phase\))98 b(where)0 2593 y(infix)h(6)g(:+)0
2766 y(data)g(\(RealFloat)48 b(a\))249 b(=>)49 b(Complex)f(a)i(=)g(!a)f
(:+)h(!a)99 b(deriving)48 b(\(Eq,Read,Show\))0 2934 y(realPart,)g
(imagPart)g(::)i(\(RealFloat)e(a\))h(=>)h(Complex)e(a)i(->)f(a)0
3034 y(realPart)f(\(x:+y\))99 b(=)g(x)0 3133 y(imagPart)48
b(\(x:+y\))99 b(=)g(y)0 3301 y(conjugate)397 b(::)49
b(\(RealFloat)f(a\))i(=>)f(Complex)g(a)g(->)h(Complex)e(a)0
3401 y(conjugate)g(\(x:+y\))h(=)99 b(x)50 b(:+)f(\(-y\))0
3568 y(mkPolar)497 b(::)49 b(\(RealFloat)f(a\))i(=>)f(a)h(->)f(a)h(->)f
(Complex)g(a)0 3668 y(mkPolar)g(r)g(theta)99 b(=)g(r)50
b(*)g(cos)f(theta)g(:+)g(r)h(*)f(sin)h(theta)0 3836 y(cis)697
b(::)49 b(\(RealFloat)f(a\))i(=>)f(a)h(->)f(Complex)g(a)0
3935 y(cis)g(theta)398 b(=)99 b(cos)50 b(theta)e(:+)i(sin)f(theta)0
4103 y(polar)597 b(::)49 b(\(RealFloat)f(a\))i(=>)f(Complex)g(a)g(->)h
(\(a,a\))0 4203 y(polar)f(z)498 b(=)99 b(\(magnitude)48
b(z,)i(phase)f(z\))0 4370 y(magnitude)f(::)i(\(RealFloat)e(a\))h(=>)g
(Complex)g(a)h(->)f(a)0 4470 y(magnitude)f(\(x:+y\))h(=)99
b(scaleFloat)48 b(k)1046 4569 y(\(sqrt)h(\(\(scaleFloat)f(mk)h
(x\)\2102)g(+)h(\(scaleFloat)d(mk)j(y\)\2102\)\))996
4669 y(where)f(k)100 b(=)49 b(max)g(\(exponent)g(x\))g(\(exponent)f
(y\))1295 4769 y(mk)i(=)f(-)h(k)0 4936 y(phase)f(::)g(\(RealFloat)f
(a\))i(=>)f(Complex)g(a)g(->)h(a)0 5036 y(phase)f(\(0)g(:+)h(0\))f(=)h
(0)0 5136 y(phase)f(\(x)g(:+)h(y\))f(=)h(atan2)f(y)g(x)p
eop
%%Page: 157 171
157 170 bop 300 100 a FE(13.1.)52 b(LIBRAR)-6 b(Y)21
b FD(COMPLEX)2430 b FI(157)300 334 y Fp(instance)98 b(\(RealFloat)48
b(a\))i(=>)f(Num)g(\(Complex)g(a\))99 b(where)499 434
y(\(x:+y\))49 b(+)h(\(x':+y'\))148 b(=)99 b(\(x+x'\))49
b(:+)g(\(y+y'\))499 534 y(\(x:+y\))g(-)h(\(x':+y'\))148
b(=)99 b(\(x-x'\))49 b(:+)g(\(y-y'\))499 633 y(\(x:+y\))g(*)h
(\(x':+y'\))148 b(=)99 b(\(x*x'-y*y'\))48 b(:+)h(\(x*y'+y*x'\))499
733 y(negate)g(\(x:+y\))348 b(=)99 b(negate)49 b(x)g(:+)h(negate)e(y)
499 832 y(abs)i(z)747 b(=)99 b(magnitude)48 b(z)i(:+)f(0)499
932 y(signum)g(0)598 b(=)99 b(0)499 1032 y(signum)49
b(z@\(x:+y\))248 b(=)99 b(x/r)49 b(:+)h(y/r)99 b(where)49
b(r)g(=)h(magnitude)e(z)499 1131 y(fromInteger)g(n)349
b(=)99 b(fromInteger)48 b(n)h(:+)h(0)300 1299 y(instance)98
b(\(RealFloat)48 b(a\))i(=>)f(Fractional)f(\(Complex)g(a\))99
b(where)499 1399 y(\(x:+y\))49 b(/)h(\(x':+y'\))148 b(=)99
b(\(x*x''+y*y''\))47 b(/)j(d)g(:+)f(\(y*x''-x*y''\))e(/)j(d)1645
1498 y(where)f(x'')g(=)h(scaleFloat)e(k)h(x')1944 1598
y(y'')g(=)h(scaleFloat)e(k)h(y')1944 1698 y(k)149 b(=)50
b(-)f(max)h(\(exponent)e(x'\))h(\(exponent)f(y'\))1944
1797 y(d)149 b(=)50 b(x'*x'')e(+)i(y'*y'')499 1930 y(fromRational)e(a)
299 b(=)99 b(fromRational)48 b(a)h(:+)h(0)p eop
%%Page: 158 172
158 171 bop 0 100 a FI(158)1967 b FE(CHAPTER)20 b(13.)51
b(COMPLEX)21 b(NUMBERS)0 334 y Fp(instance)98 b(\(RealFloat)48
b(a\))i(=>)f(Floating)f(\(Complex)h(a\))g(where)199 434
y(pi)647 b(=)100 b(pi)49 b(:+)h(0)199 534 y(exp)g(\(x:+y\))247
b(=)100 b(expx)49 b(*)h(cos)f(y)g(:+)h(expx)f(*)h(sin)f(y)1096
633 y(where)g(expx)g(=)g(exp)h(x)199 733 y(log)g(z)497
b(=)100 b(log)49 b(\(magnitude)f(z\))i(:+)f(phase)g(z)199
866 y(sqrt)g(0)448 b(=)100 b(0)199 965 y(sqrt)49 b(z@\(x:+y\))98
b(=)i(u)50 b(:+)f(\(if)g(y)h(<)f(0)h(then)f(-v)h(else)f(v\))1096
1065 y(where)g(\(u,v\))g(=)g(if)h(x)f(<)h(0)g(then)f(\(v',u'\))f(else)h
(\(u',v'\))1395 1165 y(v')199 b(=)49 b(abs)h(y)f(/)h(\(u'*2\))1395
1264 y(u')199 b(=)49 b(sqrt)g(\(\(magnitude)f(z)i(+)f(abs)h(x\))f(/)h
(2\))199 1397 y(sin)g(\(x:+y\))247 b(=)100 b(sin)49 b(x)h(*)f(cosh)g(y)
h(:+)g(cos)f(x)g(*)h(sinh)f(y)199 1497 y(cos)h(\(x:+y\))247
b(=)100 b(cos)49 b(x)h(*)f(cosh)g(y)h(:+)g(\(-)f(sin)g(x)h(*)f(sinh)h
(y\))199 1596 y(tan)g(\(x:+y\))247 b(=)100 b
(\(sinx*coshy:+cosx*sinhy\)/\(cosx*cosh)o(y:+\(-)o(sinx*)o(sinhy\))o
(\))1096 1696 y(where)49 b(sinx)99 b(=)49 b(sin)h(x)1395
1796 y(cosx)99 b(=)49 b(cos)h(x)1395 1895 y(sinhy)f(=)g(sinh)g(y)1395
1995 y(coshy)g(=)g(cosh)g(y)199 2128 y(sinh)g(\(x:+y\))198
b(=)100 b(cos)49 b(y)h(*)f(sinh)g(x)h(:+)g(sin)99 b(y)49
b(*)h(cosh)f(x)199 2227 y(cosh)g(\(x:+y\))198 b(=)100
b(cos)49 b(y)h(*)f(cosh)g(x)h(:+)g(sin)f(y)g(*)h(sinh)f(x)199
2327 y(tanh)g(\(x:+y\))198 b(=)100 b
(\(cosy*sinhx:+siny*coshx\)/\(cosy*cosh)o(x:+si)o(ny*si)o(nhx\))1096
2427 y(where)49 b(siny)99 b(=)49 b(sin)h(y)1395 2526
y(cosy)99 b(=)49 b(cos)h(y)1395 2626 y(sinhx)f(=)g(sinh)g(x)1395
2725 y(coshx)g(=)g(cosh)g(x)199 2858 y(asin)g(z@\(x:+y\))98
b(=)i(y':+\(-x'\))1096 2958 y(where)f(\(x':+y'\))48 b(=)i(log)f
(\(\(\(-y\):+x\))f(+)h(sqrt)g(\(1)h(-)f(z*z\)\))199 3057
y(acos)g(z@\(x:+y\))98 b(=)i(y'':+\(-x''\))1096 3157
y(where)49 b(\(x'':+y''\))f(=)h(log)h(\(z)f(+)h(\(\(-y'\):+x'\)\))1395
3257 y(\(x':+y'\))148 b(=)49 b(sqrt)g(\(1)h(-)f(z*z\))199
3356 y(atan)g(z@\(x:+y\))98 b(=)i(y':+\(-x'\))1096 3456
y(where)49 b(\(x':+y'\))f(=)i(log)f(\(\(\(1-y\):+x\))f(/)h(sqrt)g
(\(1+z*z\)\))199 3589 y(asinh)g(z)398 b(=)100 b(log)49
b(\(z)h(+)f(sqrt)g(\(1+z*z\)\))199 3688 y(acosh)g(z)398
b(=)100 b(log)49 b(\(z)h(+)f(\(z+1\))g(*)h(sqrt)f
(\(\(z-1\)/\(z+1\)\)\))199 3788 y(atanh)g(z)398 b(=)100
b(log)49 b(\(\(1+z\))g(/)g(sqrt)h(\(1-z*z\)\))p eop
%%Page: 159 173
159 172 bop 300 1062 a Fw(Chapter)44 b(14)300 1560 y
FH(Numeric)p 315 1990 3548 4 v 315 5273 4 3283 v 366
2126 a Fp(module)49 b(Numeric\(fromRat,)1113 2225 y(showSigned,)f
(showIntAtBase,)1113 2325 y(showInt,)g(showOct,)h(showHex,)1113
2425 y(readSigned,)f(readInt,)1113 2524 y(readDec,)g(readOct,)h
(readHex,)1113 2624 y(floatToDigits,)1113 2724 y(showEFloat,)f
(showFFloat,)g(showGFloat,)f(showFloat,)1113 2823 y(readFloat,)h
(lexDigits\))g(where)366 2991 y(fromRat)397 b(::)50 b(\(RealFloat)e
(a\))h(=>)g(Rational)g(->)g(a)366 3159 y(showSigned)247
b(::)50 b(\(Real)e(a\))i(=>)f(\(a)h(->)f(ShowS\))g(->)g(Int)h(->)f(a)h
(->)f(ShowS)366 3258 y(showIntAtBase)97 b(::)50 b(Integral)e(a)i(=>)f
(a)h(->)f(\(Int)g(->)h(Char\))e(->)i(a)f(->)h(ShowS)366
3358 y(showInt)397 b(::)50 b(Integral)e(a)i(=>)f(a)h(->)f(ShowS)366
3458 y(showOct)397 b(::)50 b(Integral)e(a)i(=>)f(a)h(->)f(ShowS)366
3557 y(showHex)397 b(::)50 b(Integral)e(a)i(=>)f(a)h(->)f(ShowS)366
3725 y(readSigned)247 b(::)50 b(\(Real)e(a\))i(=>)f(ReadS)g(a)h(->)f
(ReadS)g(a)366 3825 y(readInt)397 b(::)50 b(\(Integral)e(a\))h(=>)1362
3924 y(a)h(->)f(\(Char)g(->)h(Bool\))e(->)i(\(Char)f(->)g(Int\))g(->)h
(ReadS)f(a)366 4024 y(readDec)397 b(::)50 b(\(Integral)e(a\))h(=>)h
(ReadS)e(a)366 4123 y(readOct)397 b(::)50 b(\(Integral)e(a\))h(=>)h
(ReadS)e(a)366 4223 y(readHex)397 b(::)50 b(\(Integral)e(a\))h(=>)h
(ReadS)e(a)366 4391 y(showEFloat)247 b(::)50 b(\(RealFloat)e(a\))h(=>)g
(Maybe)g(Int)h(->)f(a)h(->)f(ShowS)366 4490 y(showFFloat)247
b(::)50 b(\(RealFloat)e(a\))h(=>)g(Maybe)g(Int)h(->)f(a)h(->)f(ShowS)
366 4590 y(showGFloat)247 b(::)50 b(\(RealFloat)e(a\))h(=>)g(Maybe)g
(Int)h(->)f(a)h(->)f(ShowS)366 4690 y(showFloat)297 b(::)50
b(\(RealFloat)e(a\))h(=>)g(a)h(->)f(ShowS)366 4857 y(floatToDigits)97
b(::)50 b(\(RealFloat)e(a\))h(=>)g(Integer)g(->)g(a)h(->)f(\([Int],)g
(Int\))366 5025 y(readFloat)297 b(::)50 b(\(RealFrac)e(a\))h(=>)h
(ReadS)e(a)366 5125 y(lexDigits)297 b(::)50 b(ReadS)e(String)p
3859 5273 V 315 5276 3548 4 v 2032 5593 a FI(159)p eop
%%Page: 160 174
160 173 bop 0 100 a FI(160)2444 b FE(CHAPTER)20 b(14.)52
b(NUMERIC)0 356 y FI(This)23 b(library)i(contains)h(assorted)g(numeric)
e(functions,)i(man)o(y)e(of)f(which)h(are)g(used)g(in)g(the)f(standard)
j(Prelude.)0 544 y(In)d(what)h(follo)n(ws,)g(recall)g(the)g(follo)n
(wing)h(type)g(de\002nitions)g(from)f(the)f FD(Prelude)m
FI(:)250 726 y FD(type)53 b(ShowS)f(=)i(String)e(->)i(String)250
839 y(type)f(ReadS)f(=)i(String)e(->)i([\(a,String\)])0
1334 y FC(14.1)119 b(Sho)o(wing)31 b(functions)136 1575
y FB(\017)46 b FD(showSigned)k(::)k(\(Real)e(a\))i(=>)f(\(a)h(->)g
(ShowS\))e(->)h(Int)g(->)h(a)g(->)g(ShowS)227 1687 y
FI(con)l(v)o(erts)75 b(a)d(possibly-ne)o(gati)n(v)o(e)77
b FD(Real)69 b FI(v)n(alue)74 b(of)e(type)h FD(a)e FI(to)i(a)f(string.)
177 b(In)72 b(the)h(call)227 1800 y Ft(\()p FD(showSigned)42
b Fv(show)56 b(pr)-5 b(e)g(c)52 b(val)9 b Ft(\))q FI(,)37
b Fv(val)44 b FI(is)35 b(the)g(v)n(alue)h(to)f(sho)n(w)-6
b(,)37 b Fv(pr)-5 b(e)g(c)41 b FI(is)35 b(the)g(precedence)j(of)d(the)
227 1913 y(enclosing)26 b(conte)o(xt,)f(and)f Fv(show)34
b FI(is)24 b(a)f(function)i(that)f(can)g(sho)n(w)g(unsigned)i(v)n
(alues.)136 2093 y FB(\017)46 b FD(showIntAtBase)j(::)54
b(Integral)c(a)55 b(=>)e(a)h(->)g(\(Int)f(->)g(Char\))g(->)g(a)h(->)g
(ShowS)227 2206 y FI(sho)n(ws)24 b(a)e FJ(non-ne)l(gative)28
b FD(Integral)18 b FI(number)24 b(using)h(the)e(base)h(speci\002ed)g
(by)g(the)f(\002rst)g(ar)n(gument,)i(and)227 2319 y(the)f(character)i
(representation)i(speci\002ed)d(by)e(the)h(second.)136
2498 y FB(\017)46 b FD(showInt,)51 b(showOct,)g(showHex)g(::)j
(Integral)d(a)j(=>)g(a)g(->)f(ShowS)227 2611 y FI(sho)n(w)24
b FJ(non-ne)l(gative)j FD(Integral)19 b FI(numbers)25
b(in)f(base)g(10,)f(8,)g(and)h(16)g(respecti)n(v)o(ely)-6
b(.)136 2791 y FB(\017)46 b FD(showFFloat,)k(showEFloat,)f(showGFloat)
445 2904 y(::)54 b(\(RealFloat)c(a\))k(=>)f(Maybe)g(Int)g(->)g(a)i(->)e
(ShowS)227 3017 y FI(These)24 b(three)h(functions)h(all)d(sho)n(w)h
(signed)h FD(RealFloat)18 b FI(v)n(alues:)336 3196 y
FF(\226)46 b FD(showFFloat)18 b FI(uses)25 b(standard)g(decimal)g
(notation)h(\(e.g.)i FD(245000)n FI(,)22 b FD(0.0015)m
FI(\).)336 3335 y FF(\226)46 b FD(showEFloat)18 b FI(uses)25
b(scienti\002c)g(\(e)o(xponential\))i(notation)f(\(e.g.)i
FD(2.45e2)n FI(,)22 b FD(1.5e-3)m FI(\).)336 3473 y FF(\226)46
b FD(showGFloat)19 b FI(uses)26 b(standard)h(decimal)e(notation)i(for)e
(ar)n(guments)i(whose)e(absolute)h(v)n(alue)g(lies)427
3586 y(between)f FD(0.1)c FI(and)j FD(9,999,999)l FI(,)f(and)h
(scienti\002c)h(notation)g(otherwise.)227 3765 y(In)h(the)g(call)g
Ft(\()p FD(showEFloat)42 b Fv(digs)53 b(val)9 b Ft(\))q
FI(,)25 b(if)h Fv(digs)33 b FI(is)25 b FD(Nothing)m FI(,)h(the)g(v)n
(alue)g(is)g(sho)n(wn)g(to)g(full)g(preci-)227 3878 y(sion;)g(if)e
Fv(digs)32 b FI(is)24 b FD(Just)44 b Fv(d)10 b FI(,)23
b(then)i(at)g(most)f Fv(d)34 b FI(digits)25 b(after)g(the)g(decimal)h
(point)f(are)g(sho)n(wn.)32 b(Exactly)25 b(the)227 3991
y(same)f(applies)h(to)f(the)f Fv(digs)31 b FI(ar)n(gument)25
b(of)f(the)g(other)g(tw)o(o)f(functions.)136 4171 y FB(\017)46
b FD(floatToDigits)103 b(::)54 b(\(RealFloat)c(a\))k(=>)f(Integer)f(->)
h(a)h(->)g(\([Int],)d(Int\))227 4284 y FI(con)l(v)o(erts)37
b(a)c(base)i(and)g(a)e(v)n(alue)i(to)f(the)h(representation)j(of)c(the)
h(v)n(alue)g(in)f(digits,)j(plus)e(an)f(e)o(xponent.)227
4396 y(More)24 b(speci\002cally)-6 b(,)26 b(if)1038 4577
y FD(floatToDigits)16 b Fq(b)23 b(r)28 b Ft(=)d FD(\([)o
Fq(d)2152 4591 y FA(1)2192 4577 y Fq(;)15 b(d)2279 4591
y FA(2)2319 4577 y Fq(;)g(:::d)2481 4591 y Fo(n)2529
4577 y FD(],)54 b Fq(e)p FD(\))227 4757 y FI(then)25
b(the)e(follo)n(wing)i(properties)i(hold:)336 4937 y
FF(\226)46 b Fq(r)28 b Ft(=)d(0)p Fq(:d)709 4951 y FA(1)749
4937 y Fq(d)796 4951 y FA(2)836 4937 y Fq(:::;)15 b(d)998
4951 y Fo(n)1090 4937 y FB(\003)43 b Fq(b)1217 4904 y
Fo(e)336 5075 y FF(\226)j Fq(n)25 b FB(\025)g Ft(0)336
5213 y FF(\226)46 b Fq(d)474 5227 y FA(1)539 5213 y FB(6)p
Ft(=)25 b(0)e FI(\(when)h Fq(n)h(>)g Ft(0)p FI(\))336
5351 y FF(\226)46 b Ft(0)26 b FB(\024)f Fq(d)641 5365
y Fo(i)695 5351 y FB(\024)g Fq(b)20 b FB(\000)g Ft(1)p
eop
%%Page: 161 175
161 174 bop 300 100 a FE(14.2.)52 b(READING)20 b(FUNCTIONS)2287
b FI(161)300 356 y FC(14.2)119 b(Reading)31 b(functions)436
600 y FB(\017)46 b FD(readSigned)k(::)k(\(Real)e(a\))i(=>)f(ReadS)g(a)h
(->)f(ReadS)g(a)527 713 y FI(reads)25 b(a)e FJ(signed)i
FD(Real)c FI(v)n(alue,)j(gi)n(v)o(en)g(a)f(reader)i(for)f(an)f
(unsigned)j(v)n(alue.)436 901 y FB(\017)46 b FD(readInt)52
b(::)h(\(Integral)e(a\))i(=>)h(a)g(->)g(\(Char->Bool\))49
b(->)k(\(Char->Int\))d(->)k(ReadS)e(a)527 1014 y FI(reads)95
b(an)e FJ(unsigned)j FD(Integral)89 b FI(v)n(alue)94
b(in)g(an)f(arbitrary)j(base.)239 b(In)93 b(the)h(call)527
1127 y Ft(\()p FD(readInt)43 b Fv(b)-5 b(ase)53 b(isdig)h(d2i)9
b Ft(\))q FI(,)21 b Fv(b)-5 b(ase)28 b FI(is)21 b(the)g(base,)i
Fv(isdig)28 b FI(is)22 b(a)e(predicate)k(distinguishing)i(v)n(alid)c
(digits)527 1240 y(in)i(this)g(base,)g(and)g Fv(d2i)33
b FI(con)l(v)o(erts)25 b(a)e(v)n(alid)i(digit)f(character)i(to)d(an)h
FD(Int)o FI(.)436 1427 y FB(\017)46 b FD(readFloat)51
b(::)i(\(RealFrac)e(a\))i(=>)h(ReadS)e(a)527 1540 y FI(reads)25
b(an)e FJ(unsigned)j FD(RealFrac)19 b FI(v)n(alue,)25
b(e)o(xpressed)g(in)f(decimal)g(scienti\002c)h(notation.)436
1728 y FB(\017)46 b FD(readDec,)51 b(readOct,)g(readHex)g(::)j
(\(Integral)d(a\))i(=>)h(ReadS)e(a)527 1841 y FI(each)29
b(read)f(an)g(unsigned)j(number)l(,)f(in)e(decimal,)h(octal,)h(and)e
(he)o(xadecimal)i(notation)h(respecti)n(v)o(ely)-6 b(.)44
b(In)527 1954 y(the)24 b(he)o(xadecimal)i(case,)e(both)g(upper)h(or)e
(lo)n(wer)h(case)g(letters)h(are)f(allo)n(wed.)436 2141
y FB(\017)46 b FD(lexDigits)51 b(::)i(ReadS)g(String)20
b FI(reads)k(a)f(non-empty)j(string)f(of)e(decimal)i(digits.)300
2437 y(\(NB:)19 b FD(readInt)d FI(is)k(the)g(\223dual\224)h(of)f
FD(showIntAtBase)-6 b FI(,)20 b(and)g FD(readDec)c FI(is)k(the)g
(\223dual\224)h(of)f FD(showInt)m FI(.)27 b(The)300 2550
y(inconsistent)g(naming)e(is)e(a)g(historical)j(accident.\))300
2925 y FC(14.3)119 b(Miscellaneous)436 3170 y FB(\017)46
b FD(fromRat)52 b(::)h(\(RealFloat)d(a\))k(=>)g(Rational)c(->)k(a)40
b FI(con)l(v)o(erts)k(a)d FD(Rational)36 b FI(v)n(alue)527
3283 y(into)24 b(an)o(y)g(type)g(in)g(class)g FD(RealFloat)l
FI(.)300 3658 y FC(14.4)119 b(Library)30 b Fa(Numeric)300
3938 y Fp(module)49 b(Numeric\(fromRat,)1047 4037 y(showSigned,)f
(showIntAtBase,)1047 4137 y(showInt,)h(showOct,)f(showHex,)1047
4237 y(readSigned,)g(readInt,)1047 4336 y(readDec,)h(readOct,)f
(readHex,)1047 4436 y(floatToDigits,)1047 4535 y(showEFloat,)g
(showFFloat,)g(showGFloat,)f(showFloat,)1047 4635 y(readFloat,)h
(lexDigits\))g(where)300 4803 y(import)h(Char)148 b(\()50
b(isDigit,)e(isOctDigit,)g(isHexDigit)997 4902 y(,)i(digitToInt,)e
(intToDigit)g(\))300 5002 y(import)h(Ratio)98 b(\()50
b(\(\045\),)f(numerator,)f(denominator)g(\))300 5102
y(import)h(Array)98 b(\()50 b(\(!\),)f(Array,)g(array)g(\))p
eop
%%Page: 162 176
162 175 bop 0 100 a FI(162)2444 b FE(CHAPTER)20 b(14.)52
b(NUMERIC)0 334 y Fp(--)d(This)h(converts)e(a)h(rational)g(to)g(a)h
(floating.)98 b(This)49 b(should)g(be)g(used)g(in)g(the)0
434 y(--)g(Fractional)f(instances)h(of)g(Float)g(and)g(Double.)0
567 y(fromRat)g(::)g(\(RealFloat)f(a\))h(=>)h(Rational)e(->)i(a)0
666 y(fromRat)f(x)g(=)199 766 y(if)h(x)f(==)h(0)f(then)g(encodeFloat)f
(0)i(0)697 b(--)49 b(Handle)g(exceptional)f(cases)199
866 y(else)h(if)h(x)f(<)h(0)g(then)f(-)g(fromRat')g(\(-x\))497
b(--)49 b(first.)199 965 y(else)g(fromRat')g(x)0 1133
y(--)g(Conversion)f(process:)0 1233 y(--)h(Scale)g(the)h(rational)e
(number)h(by)g(the)g(RealFloat)f(base)h(until)0 1332
y(--)g(it)h(lies)f(in)g(the)h(range)f(of)g(the)g(mantissa)g(\(as)g
(used)g(by)g(decodeFloat/encodeFloat\).)0 1432 y(--)g(Then)h(round)e
(the)i(rational)e(to)h(an)h(Integer)e(and)i(encode)e(it)i(with)f(the)g
(exponent)0 1532 y(--)g(that)h(we)f(got)g(from)g(the)h(scaling.)0
1631 y(--)f(To)h(speed)f(up)g(the)g(scaling)g(process)f(we)i(compute)e
(the)i(log2)f(of)g(the)g(number)g(to)h(get)0 1731 y(--)f(a)h(first)f
(guess)g(of)g(the)h(exponent.)0 1830 y(fromRat')e(::)i(\(RealFloat)e
(a\))h(=>)h(Rational)e(->)h(a)0 1930 y(fromRat')f(x)i(=)g(r)100
2030 y(where)f(b)g(=)h(floatRadix)e(r)399 2129 y(p)h(=)h(floatDigits)e
(r)399 2229 y(\(minExp0,)g(_\))h(=)h(floatRange)e(r)399
2329 y(minExp)g(=)i(minExp0)e(-)i(p)598 b(--)49 b(the)g(real)g(minimum)
g(exponent)399 2428 y(xMin)g(=)g(toRational)f(\(expt)h(b)h(\(p-1\)\))
399 2528 y(xMax)f(=)g(toRational)f(\(expt)h(b)h(p\))399
2627 y(p0)f(=)h(\(integerLogBase)d(b)i(\(numerator)f(x\))i(-)697
2727 y(integerLogBase)e(b)h(\(denominator)f(x\))h(-)h(p\))f(`max`)g
(minExp)399 2827 y(f)g(=)h(if)f(p0)h(<)f(0)h(then)f(1)h(\045)f(expt)g
(b)h(\(-p0\))f(else)g(expt)g(b)h(p0)f(\045)h(1)399 2926
y(\(x',)f(p'\))g(=)g(scaleRat)g(\(toRational)f(b\))h(minExp)g(xMin)g
(xMax)g(p0)g(\(x)h(/)f(f\))399 3026 y(r)g(=)h(encodeFloat)e(\(round)g
(x'\))h(p')0 3194 y(--)g(Scale)g(x)h(until)f(xMin)g(<=)g(x)h(<)g(xMax,)
e(or)i(p)g(\(the)f(exponent\))f(<=)h(minExp.)0 3293 y(scaleRat)f(::)i
(Rational)e(->)i(Int)f(->)g(Rational)g(->)g(Rational)f(->)648
3393 y(Int)h(->)g(Rational)g(->)g(\(Rational,)f(Int\))0
3493 y(scaleRat)g(b)i(minExp)f(xMin)g(xMax)g(p)g(x)h(=)199
3592 y(if)g(p)f(<=)h(minExp)e(then)399 3692 y(\(x,)h(p\))199
3791 y(else)g(if)h(x)f(>=)h(xMax)f(then)399 3891 y(scaleRat)f(b)h
(minExp)g(xMin)g(xMax)g(\(p+1\))g(\(x/b\))199 3991 y(else)g(if)h(x)f(<)
h(xMin)99 b(then)399 4090 y(scaleRat)48 b(b)h(minExp)g(xMin)g(xMax)g
(\(p-1\))g(\(x*b\))199 4190 y(else)399 4290 y(\(x,)g(p\))0
4457 y(--)g(Exponentiation)f(with)h(a)g(cache)g(for)g(the)h(most)f
(common)f(numbers.)0 4557 y(minExpt)h(=)g(0::Int)0 4656
y(maxExpt)g(=)g(1100::Int)0 4756 y(expt)g(::)h(Integer)e(->)h(Int)h(->)
f(Integer)0 4856 y(expt)g(base)g(n)h(=)199 4955 y(if)g(base)f(==)g(2)h
(&&)f(n)h(>=)f(minExpt)g(&&)g(n)h(<=)f(maxExpt)g(then)399
5055 y(expts!n)199 5155 y(else)399 5254 y(base\210n)p
eop
%%Page: 163 177
163 176 bop 300 100 a FE(14.4.)52 b(LIBRAR)-6 b(Y)21
b FD(NUMERIC)2430 b FI(163)300 334 y Fp(expts)49 b(::)g(Array)g(Int)g
(Integer)300 434 y(expts)g(=)h(array)e(\(minExpt,maxExpt\))f
([\(n,2\210n\))h(|)i(n)g(<-)f([minExpt)f(..)i(maxExpt]])300
602 y(--)f(Compute)g(the)g(\(floor)g(of)g(the\))g(log)h(of)f(i)h(in)f
(base)g(b.)300 701 y(--)g(Simplest)g(way)g(would)g(be)g(just)g(divide)g
(i)h(by)f(b)h(until)f(it's)g(smaller)f(then)h(b,)300
801 y(--)g(but)h(that)f(would)g(be)g(very)g(slow!)99
b(We)49 b(are)h(just)f(slightly)f(more)h(clever.)300
901 y(integerLogBase)e(::)j(Integer)e(->)i(Integer)e(->)i(Int)300
1000 y(integerLogBase)d(b)j(i)f(=)549 1100 y(if)h(i)f(<)h(b)f(then)699
1199 y(0)549 1299 y(else)699 1399 y(--)g(Try)g(squaring)g(the)g(base)g
(first)g(to)g(cut)g(down)g(the)h(number)e(of)i(divisions.)699
1498 y(let)f(l)g(=)h(2)g(*)f(integerLogBase)e(\(b*b\))i(i)898
1598 y(doDiv)g(::)g(Integer)g(->)g(Int)g(->)h(Int)898
1698 y(doDiv)f(i)g(l)h(=)g(if)f(i)h(<)f(b)h(then)f(l)h(else)f(doDiv)f
(\(i)i(`div`)f(b\))g(\(l+1\))699 1797 y(in)99 b(doDiv)49
b(\(i)g(`div`)g(\(b\210l\)\))g(l)300 1965 y(--)g(Misc)h(utilities)e(to)
h(show)g(integers)f(and)i(floats)300 2098 y(showSigned)e(::)h(Real)g(a)
h(=>)g(\(a)f(->)g(ShowS\))g(->)h(Int)f(->)g(a)h(->)f(ShowS)300
2197 y(showSigned)f(showPos)g(p)i(x)400 2297 y(|)f(x)h(<)g(0)248
b(=)50 b(showParen)e(\(p)i(>)f(6\))h(\(showChar)e('-')h(.)h(showPos)e
(\(-x\)\))400 2397 y(|)h(otherwise)f(=)i(showPos)f(x)300
2564 y(--)g(showInt,)g(showOct,)f(showHex)h(are)g(used)g(for)g
(positive)f(numbers)h(only)300 2664 y(showInt,)f(showOct,)h(showHex)f
(::)i(Integral)e(a)i(=>)f(a)h(->)f(ShowS)300 2764 y(showOct)g(=)g
(showIntAtBase)97 b(8)50 b(intToDigit)300 2863 y(showInt)f(=)g
(showIntAtBase)f(10)h(intToDigit)300 2963 y(showHex)g(=)g
(showIntAtBase)f(16)h(intToDigit)300 3131 y(showIntAtBase)e(::)j
(Integral)e(a)997 3230 y(=>)i(a)697 b(--)49 b(base)997
3330 y(->)h(\(Int)f(->)g(Char\))99 b(--)49 b(digit)g(to)h(char)997
3429 y(->)g(a)697 b(--)49 b(number)g(to)h(show)997 3529
y(->)g(ShowS)300 3629 y(showIntAtBase)d(base)i(intToDig)g(n)g(rest)400
3728 y(|)g(n)h(<)g(0)248 b(=)50 b(error)f("Numeric.showIntAtBase:)c
(can't)k(show)g(negative)g(numbers")400 3828 y(|)g(n')h(==)f(0)149
b(=)50 b(rest')400 3928 y(|)f(otherwise)f(=)i(showIntAtBase)d(base)i
(intToDig)g(n')g(rest')400 4027 y(where)499 4127 y(\(n',d\))g(=)h
(quotRem)e(n)i(base)499 4226 y(rest')99 b(=)50 b(intToDig)e
(\(fromIntegral)f(d\))j(:)f(rest)300 4394 y(readSigned)f(::)h(\(Real)g
(a\))h(=>)f(ReadS)g(a)h(->)f(ReadS)g(a)300 4494 y(readSigned)f(readPos)
g(=)i(readParen)e(False)h(read')1346 4593 y(where)g(read')g(r)99
b(=)50 b(read'')f(r)g(++)2193 4693 y([\(-x,t\))f(|)i(\("-",s\))f(<-)g
(lex)g(r,)2691 4793 y(\(x,t\))149 b(<-)49 b(read'')g(s])1645
4892 y(read'')g(r)g(=)h([\(n,s\))98 b(|)50 b(\(str,s\))f(<-)g(lex)g(r,)
2691 4992 y(\(n,""\))99 b(<-)49 b(readPos)f(str])p eop
%%Page: 164 178
164 177 bop 0 100 a FI(164)2444 b FE(CHAPTER)20 b(14.)52
b(NUMERIC)0 334 y Fp(--)d(readInt)g(reads)g(a)g(string)g(of)h(digits)e
(using)h(an)h(arbitrary)e(base.)0 434 y(--)h(Leading)g(minus)g(signs)g
(must)g(be)g(handled)g(elsewhere.)0 567 y(readInt)g(::)g(\(Integral)f
(a\))i(=>)f(a)h(->)f(\(Char)g(->)g(Bool\))g(->)h(\(Char)f(->)g(Int\))g
(->)g(ReadS)g(a)0 666 y(readInt)g(radix)f(isDig)h(digToInt)g(s)g(=)149
766 y([\(foldl1)g(\(\\n)g(d)h(->)f(n)h(*)f(radix)g(+)h(d\))f(\(map)g
(\(fromIntegral)f(.)h(digToInt\))f(ds\),)i(r\))498 866
y(|)g(\(ds,r\))e(<-)i(nonnull)e(isDig)h(s)h(])0 1033
y(--)f(Unsigned)g(readers)f(for)i(various)e(bases)0 1133
y(readDec,)g(readOct,)h(readHex)f(::)i(\(Integral)e(a\))h(=>)h(ReadS)e
(a)0 1233 y(readDec)h(=)g(readInt)g(10)g(isDigit)198
b(digitToInt)0 1332 y(readOct)49 b(=)g(readInt)98 b(8)50
b(isOctDigit)e(digitToInt)0 1432 y(readHex)h(=)g(readInt)g(16)g
(isHexDigit)f(digitToInt)0 1600 y(showEFloat)247 b(::)50
b(\(RealFloat)e(a\))h(=>)g(Maybe)g(Int)h(->)f(a)h(->)f(ShowS)0
1699 y(showFFloat)247 b(::)50 b(\(RealFloat)e(a\))h(=>)g(Maybe)g(Int)h
(->)f(a)h(->)f(ShowS)0 1799 y(showGFloat)247 b(::)50
b(\(RealFloat)e(a\))h(=>)g(Maybe)g(Int)h(->)f(a)h(->)f(ShowS)0
1898 y(showFloat)297 b(::)50 b(\(RealFloat)e(a\))h(=>)g(a)h(->)g(ShowS)
0 2066 y(showEFloat)e(d)i(x)f(=)100 b(showString)48 b
(\(formatRealFloat)e(FFExponent)i(d)i(x\))0 2166 y(showFFloat)e(d)i(x)f
(=)100 b(showString)48 b(\(formatRealFloat)e(FFFixed)j(d)h(x\))0
2265 y(showGFloat)e(d)i(x)f(=)100 b(showString)48 b(\(formatRealFloat)e
(FFGeneric)j(d)g(x\))0 2365 y(showFloat)297 b(=)100 b(showGFloat)48
b(Nothing)0 2533 y(--)h(These)g(are)h(the)f(format)g(types.)98
b(This)49 b(type)g(is)h(not)f(exported.)0 2666 y(data)g(FFFormat)f(=)i
(FFExponent)e(|)i(FFFixed)e(|)i(FFGeneric)p eop
%%Page: 165 179
165 178 bop 300 100 a FE(14.4.)52 b(LIBRAR)-6 b(Y)21
b FD(NUMERIC)2430 b FI(165)300 334 y Fp(formatRealFloat)47
b(::)i(\(RealFloat)f(a\))i(=>)f(FFFormat)g(->)g(Maybe)g(Int)g(->)h(a)f
(->)h(String)300 434 y(formatRealFloat)d(fmt)i(decs)g(x)400
534 y(=)g(s)400 633 y(where)499 733 y(base)g(=)h(10)499
832 y(s)g(=)g(if)f(isNaN)g(x)g(then)898 932 y("NaN")699
1032 y(else)g(if)g(isInfinite)f(x)i(then)898 1131 y(if)f(x)h(<)f(0)h
(then)f("-Infinity")f(else)h("Infinity")699 1231 y(else)g(if)g(x)h(<)f
(0)h(||)f(isNegativeZero)f(x)h(then)898 1331 y('-')g(:)h(doFmt)f(fmt)g
(\(floatToDigits)e(\(toInteger)h(base\))h(\(-x\)\))699
1430 y(else)898 1530 y(doFmt)g(fmt)g(\(floatToDigits)e(\(toInteger)h
(base\))h(x\))499 1663 y(doFmt)g(fmt)g(\(is,)g(e\))599
1762 y(=)h(let)848 1862 y(ds)f(=)h(map)f(intToDigit)f(is)699
1962 y(in)699 2061 y(case)h(fmt)g(of)798 2161 y(FFGeneric)f(->)997
2260 y(doFmt)h(\(if)h(e)f(<)h(0)f(||)h(e)f(>)h(7)g(then)f(FFExponent)f
(else)h(FFFixed\))1296 2360 y(\(is,)g(e\))798 2460 y(FFExponent)f(->)
898 2559 y(case)h(decs)g(of)997 2659 y(Nothing)g(->)1097
2759 y(case)g(ds)h(of)1246 2858 y([])199 b(->)50 b("0.0e0")1246
2958 y([d])149 b(->)50 b(d)f(:)h(".0e")f(++)g(show)g(\(e-1\))1246
3057 y(d:ds)99 b(->)50 b(d)f(:)h('.')f(:)h(ds)f(++)h('e':show)e
(\(e-1\))997 3190 y(Just)h(dec)h(->)1097 3290 y(let)f(dec')g(=)h(max)f
(dec)g(1)h(in)1097 3390 y(case)f(is)h(of)1197 3489 y([])f(->)h
('0':'.':take)d(dec')i(\(repeat)g('0'\))g(++)g("e0")1197
3589 y(_)g(->)1296 3688 y(let)h(\(ei,)f(is'\))g(=)g(roundTo)g(base)g
(\(dec'+1\))f(is)1496 3788 y(d:ds)h(=)g(map)g(intToDigit)2043
3888 y(\(if)h(ei)f(>)h(0)f(then)g(init)h(is')f(else)g(is'\))1296
3987 y(in)h(d:'.':ds)98 b(++)49 b("e")h(++)f(show)g(\(e-1+ei\))798
4120 y(FFFixed)g(->)898 4220 y(case)g(decs)g(of)1047
4319 y(Nothing)99 b(--)49 b(Always)g(prints)f(a)i(decimal)e(point)1147
4419 y(|)h(e)h(>)g(0)249 b(->)49 b(take)g(e)h(\(ds)f(++)g(repeat)g
('0'\))p eop
%%Page: 166 180
166 179 bop 0 100 a FI(166)2444 b FE(CHAPTER)20 b(14.)52
b(NUMERIC)1594 334 y Fp(++)d('.')h(:)f(mk0)h(\(drop)e(e)i(ds\))847
434 y(|)f(otherwise)g(->)g("0.")g(++)h(mk0)f(\(replicate)f(\(-e\))h
('0')g(++)g(ds\))747 567 y(Just)g(dec)h(->)99 b(--)49
b(Print)g(decimal)g(point)f(iff)i(dec)f(>)h(0)847 666
y(let)f(dec')g(=)h(max)f(dec)g(0)h(in)847 766 y(if)f(e)h(>=)f(0)h(then)
946 866 y(let)g(\(ei,)f(is'\))g(=)g(roundTo)g(base)g(\(dec')g(+)h(e\))f
(is)1146 965 y(\(ls,)g(rs\))99 b(=)49 b(splitAt)g(\(e+ei\))2291
1065 y(\(map)g(intToDigit)f(is'\))946 1165 y(in)100 b(mk0)49
b(ls)g(++)h(mkdot0)f(rs)847 1264 y(else)946 1364 y(let)h(\(ei,)f(is'\))
g(=)g(roundTo)g(base)g(dec')2142 1463 y(\(replicate)f(\(-e\))h(0)h(++)f
(is\))1146 1563 y(d)g(:)h(ds)f(=)h(map)f(intToDigit)1793
1663 y(\(if)h(ei)f(>)h(0)f(then)g(is')h(else)f(0:is'\))946
1762 y(in)100 b(d)49 b(:)h(mkdot0)f(ds)598 1862 y(where)697
1962 y(mk0)h("")f(=)h("0")398 b(--)49 b(Print)g(0.34,)g(not)g(.34)697
2061 y(mk0)h(s)99 b(=)50 b(s)697 2194 y(mkdot0)f("")h(=)f("")348
b(--)50 b(Print)f(34,)g(not)g(34.)697 2294 y(mkdot0)g(s)100
b(=)49 b('.')g(:)h(s)99 b(--)50 b(when)f(the)g(format)g(specifies)f(no)
1743 2393 y(--)i(digits)f(after)f(the)i(decimal)e(point)0
2561 y(roundTo)h(::)g(Int)g(->)h(Int)f(->)g([Int])g(->)h(\(Int,)f
([Int]\))0 2661 y(roundTo)g(base)g(d)g(is)h(=)f(case)g(f)h(d)g(is)f(of)
797 2760 y(\(0,)g(is\))h(->)f(\(0,)g(is\))797 2860 y(\(1,)g(is\))h(->)f
(\(1,)g(1)h(:)f(is\))100 2960 y(where)g(b2)g(=)h(base)f(`div`)g(2)399
3059 y(f)g(n)h([])f(=)h(\(0,)f(replicate)f(n)i(0\))399
3159 y(f)f(0)h(\(i:_\))f(=)g(\(if)h(i)f(>=)h(b2)f(then)g(1)h(else)f(0,)
g([]\))399 3258 y(f)g(d)h(\(i:is\))e(=)598 3358 y(let)h(\(c,)g(ds\))h
(=)f(f)h(\(d-1\))f(is)797 3458 y(i')g(=)h(c)g(+)f(i)598
3557 y(in)99 b(if)49 b(i')h(==)f(base)g(then)g(\(1,)h(0:ds\))f(else)g
(\(0,)g(i':ds\))0 3725 y(--)0 3825 y(--)g(Based)g(on)h("Printing)e
(Floating-Point)f(Numbers)i(Quickly)f(and)h(Accurately")0
3924 y(--)g(by)h(R.G.)f(Burger)g(and)g(R.)g(K.)h(Dybvig,)e(in)i(PLDI)f
(96.)0 4024 y(--)g(The)h(version)e(here)h(uses)g(a)h(much)f(slower)g
(logarithm)f(estimator.)0 4123 y(--)h(It)h(should)f(be)g(improved.)0
4256 y(--)g(This)h(function)e(returns)g(a)i(non-empty)e(list)h(of)h
(digits)e(\(Ints)h(in)h([0..base-1]\))0 4356 y(--)f(and)h(an)f
(exponent.)98 b(In)50 b(general,)e(if)0 4456 y(--)299
b(floatToDigits)47 b(r)j(=)f(\([a,)g(b,)h(...)f(z],)g(e\))0
4555 y(--)g(then)0 4655 y(--)299 b(r)49 b(=)h(0.ab..z)e(*)i(base\210e)0
4754 y(--)0 4887 y(floatToDigits)d(::)j(\(RealFloat)e(a\))h(=>)h
(Integer)e(->)i(a)f(->)h(\([Int],)e(Int\))p eop
%%Page: 167 181
167 180 bop 300 100 a FE(14.4.)52 b(LIBRAR)-6 b(Y)21
b FD(NUMERIC)2430 b FI(167)300 334 y Fp(floatToDigits)47
b(_)j(0)g(=)f(\([],)g(0\))300 434 y(floatToDigits)e(base)i(x)h(=)499
534 y(let)g(\(f0,)f(e0\))g(=)g(decodeFloat)f(x)699 633
y(\(minExp0,)g(_\))h(=)h(floatRange)e(x)699 733 y(p)h(=)h(floatDigits)e
(x)699 832 y(b)h(=)h(floatRadix)e(x)699 932 y(minExp)g(=)i(minExp0)e(-)
i(p)598 b(--)49 b(the)g(real)g(minimum)g(exponent)699
1065 y(--)g(Haskell)f(requires)h(that)g(f)g(be)h(adjusted)e(so)i
(denormalized)d(numbers)699 1165 y(--)i(will)g(have)g(an)h(impossibly)d
(low)j(exponent.)98 b(Adjust)48 b(for)i(this.)699 1264
y(f)f(::)h(Integer)699 1364 y(e)f(::)h(Int)699 1463 y(\(f,)f(e\))g(=)h
(let)f(n)h(=)f(minExp)g(-)h(e0)1147 1563 y(in)99 b(if)50
b(n)f(>)h(0)f(then)g(\(f0)h(`div`)f(\(b\210n\),)f(e0+n\))h(else)g
(\(f0,)g(e0\))699 1696 y(\(r,)g(s,)g(mUp,)g(mDn\))g(=)848
1796 y(if)g(e)h(>=)f(0)h(then)1047 1895 y(let)f(be)h(=)g(b\210e)f(in)
1047 1995 y(if)h(f)f(==)h(b\210\(p-1\))e(then)1246 2094
y(\(f*be*b*2,)g(2*b,)h(be*b,)g(b\))1047 2194 y(else)1246
2294 y(\(f*be*2,)g(2,)g(be,)g(be\))848 2393 y(else)1047
2493 y(if)h(e)f(>)h(minExp)f(&&)g(f)h(==)f(b\210\(p-1\))g(then)1246
2593 y(\(f*b*2,)g(b\210\(-e+1\)*2,)f(b,)h(1\))1047 2692
y(else)1246 2792 y(\(f*2,)g(b\210\(-e\)*2,)f(1,)i(1\))699
2891 y(k)f(=)898 2991 y(let)g(k0)g(=)1296 3091 y(if)h(b==2)f(&&)g
(base==10)g(then)1496 3190 y(--)g(logBase)f(10)i(2)g(is)f(slightly)f
(bigger)h(than)g(3/10)g(so)1496 3290 y(--)g(the)g(following)f(will)h
(err)h(on)f(the)g(low)h(side.)98 b(Ignoring)1496 3390
y(--)49 b(the)g(fraction)g(will)g(make)g(it)g(err)g(even)g(more.)1496
3489 y(--)g(Haskell)f(promises)h(that)g(p-1)g(<=)h(logBase)e(b)i(f)f(<)
h(p.)1496 3589 y(\(p)f(-)h(1)f(+)h(e0\))f(*)h(3)f(`div`)g(10)1296
3688 y(else)1496 3788 y(ceiling)f(\(\(log)h(\(fromInteger)e(\(f+1\)\))i
(+)1944 3888 y(fromIntegral)e(e)j(*)g(log)f(\(fromInteger)e(b\)\))j(/)
1994 3987 y(log)f(\(fromInteger)e(base\)\))1097 4087
y(fixup)i(n)h(=)1296 4187 y(if)g(n)f(>=)h(0)f(then)1496
4286 y(if)g(r)h(+)f(mUp)g(<=)h(expt)f(base)g(n)h(*)f(s)h(then)f(n)h
(else)f(fixup)g(\(n+1\))1296 4386 y(else)1496 4485 y(if)g(expt)g(base)g
(\(-n\))g(*)h(\(r)f(+)h(mUp\))f(<=)g(s)h(then)f(n)p eop
%%Page: 168 182
168 181 bop 0 100 a FI(168)2444 b FE(CHAPTER)20 b(14.)52
b(NUMERIC)2939 334 y Fp(else)d(fixup)g(\(n+1\))598 434
y(in)99 b(fixup)49 b(k0)399 567 y(gen)g(ds)g(rn)h(sN)f(mUpN)g(mDnN)g(=)
598 666 y(let)g(\(dn,)g(rn'\))g(=)h(\(rn)f(*)h(base\))f(`divMod`)f(sN)
797 766 y(mUpN')h(=)h(mUpN)f(*)g(base)797 866 y(mDnN')g(=)h(mDnN)f(*)g
(base)598 965 y(in)99 b(case)49 b(\(rn')g(<)h(mDnN',)e(rn')i(+)f(mUpN')
g(>)h(sN\))f(of)797 1065 y(\(True,)99 b(False\))48 b(->)i(dn)f(:)h(ds)
797 1165 y(\(False,)f(True\))98 b(->)50 b(dn+1)f(:)g(ds)797
1264 y(\(True,)99 b(True\))f(->)50 b(if)f(rn')g(*)h(2)g(<)f(sN)h(then)f
(dn)g(:)h(ds)f(else)g(dn+1)g(:)h(ds)797 1364 y(\(False,)f(False\))f(->)
i(gen)f(\(dn:ds\))f(rn')i(sN)f(mUpN')g(mDnN')399 1463
y(rds)g(=)598 1563 y(if)g(k)h(>=)f(0)h(then)797 1663
y(gen)f([])h(r)f(\(s)h(*)f(expt)g(base)h(k\))f(mUp)g(mDn)598
1762 y(else)797 1862 y(let)g(bk)h(=)f(expt)g(base)g(\(-k\))797
1962 y(in)99 b(gen)50 b([])f(\(r)g(*)h(bk\))f(s)h(\(mUp)f(*)h(bk\))f
(\(mDn)g(*)h(bk\))199 2061 y(in)100 b(\(map)49 b(fromIntegral)e
(\(reverse)h(rds\),)h(k\))0 2229 y(--)g(This)h(floating)e(point)h
(reader)f(uses)h(a)h(less)f(restrictive)f(syntax)h(for)g(floating)0
2329 y(--)g(point)g(than)g(the)h(Haskell)e(lexer.)99
b(The)49 b(`.')g(is)h(optional.)0 2461 y(readFloat)247
b(::)50 b(\(RealFrac)e(a\))h(=>)h(ReadS)f(a)0 2561 y(readFloat)f(r)199
b(=)50 b([\(fromRational)d(\(\(n\0451\)*10\210\210\(k-d\)\),t\))f(|)k
(\(n,d,s\))e(<-)i(readFix)e(r,)2740 2661 y(\(k,t\))148
b(<-)50 b(readExp)e(s])i(++)847 2760 y([)f(\(0/0,)g(t\))h(|)f
(\("NaN",t\))298 b(<-)49 b(lex)g(r])h(++)847 2860 y([)f(\(1/0,)g(t\))h
(|)f(\("Infinity",t\))f(<-)h(lex)g(r])747 2960 y(where)847
3059 y(readFix)f(r)i(=)g([\(read)e(\(ds++ds'\),)g(length)h(ds',)g(t\))
1445 3159 y(|)g(\(ds,d\))g(<-)g(lexDigits)f(r,)1544 3258
y(\(ds',t\))h(<-)g(lexFrac)g(d)g(])847 3391 y(lexFrac)f(\('.':ds\))h(=)
g(lexDigits)f(ds)847 3491 y(lexFrac)g(s)399 b(=)49 b([\("",s\)])847
3624 y(readExp)f(\(e:s\))h(|)h(e)f(`elem`)g("eE")g(=)h(readExp')e(s)847
3723 y(readExp)g(s)1046 b(=)50 b([\(0,s\)])847 3856 y(readExp')e
(\('-':s\))h(=)g([\(-k,t\))g(|)g(\(k,t\))g(<-)h(readDec)e(s])847
3956 y(readExp')g(\('+':s\))h(=)g(readDec)g(s)847 4055
y(readExp')f(s)349 b(=)49 b(readDec)g(s)0 4223 y(lexDigits)397
b(::)49 b(ReadS)g(String)0 4323 y(lexDigits)397 b(=)99
b(nonnull)49 b(isDigit)0 4490 y(nonnull)497 b(::)49 b(\(Char)g(->)h
(Bool\))e(->)i(ReadS)f(String)0 4590 y(nonnull)g(p)g(s)299
b(=)99 b([\(cs,t\))49 b(|)g(\(cs@\(_:_\),t\))f(<-)h([span)g(p)h(s]])p
eop
%%Page: 169 183
169 182 bop 300 1062 a Fw(Chapter)44 b(15)300 1560 y
FH(Indexing)52 b(Operations)p 315 2029 3548 4 v 315 3619
4 1591 v 366 2164 a Fp(module)d(Ix)g(\()h(Ix\(range,)e(index,)h
(inRange,)f(rangeSize\))g(\))h(where)366 2332 y(class)99
b(Ord)49 b(a)h(=>)f(Ix)g(a)100 b(where)565 2431 y(range)348
b(::)49 b(\(a,a\))g(->)h([a])565 2531 y(index)348 b(::)49
b(\(a,a\))g(->)h(a)f(->)h(Int)565 2631 y(inRange)248
b(::)49 b(\(a,a\))g(->)h(a)f(->)h(Bool)565 2730 y(rangeSize)148
b(::)49 b(\(a,a\))g(->)h(Int)366 2898 y(instance)945
b(Ix)49 b(Char)298 b(where)49 b(...)366 2998 y(instance)945
b(Ix)49 b(Int)348 b(where)49 b(...)366 3097 y(instance)945
b(Ix)49 b(Integer)148 b(where)49 b(...)366 3197 y(instance)98
b(\(Ix)49 b(a,)h(Ix)f(b\))99 b(=>)50 b(Ix)f(\(a,b\))248
b(where)49 b(...)366 3297 y(--)g(et)h(cetera)366 3396
y(instance)945 b(Ix)49 b(Bool)298 b(where)49 b(...)366
3496 y(instance)945 b(Ix)49 b(Ordering)98 b(where)49
b(...)p 3859 3619 V 315 3622 3548 4 v 300 3916 a FI(The)32
b FD(Ix)f FI(class)i(is)f(used)h(to)g(map)f(a)g(contiguous)k(subrange)e
(of)f(v)n(alues)g(in)g(a)f(type)h(onto)g(inte)o(gers.)57
b(It)32 b(is)g(used)300 4029 y(primarily)26 b(for)e(array)h(inde)o
(xing)h(\(see)f(Chapter)g(16\).)31 b(The)24 b FD(Ix)e
FI(class)j(contains)i(the)d(methods)i FD(range)m FI(,)e
FD(index)m FI(,)300 4142 y(and)31 b FD(inRange)m FI(.)49
b(The)30 b FD(index)d FI(operation)33 b(maps)e(a)f(bounding)j(pair)l(,)
g(which)e(de\002nes)g(the)g(lo)n(wer)f(and)h(upper)300
4255 y(bounds)24 b(of)e(the)g(range,)i(and)e(a)g(subscript,)i(to)f(an)f
(inte)o(ger)-5 b(.)29 b(The)22 b FD(range)d FI(operation)25
b(enumerates)f(all)e(subscripts;)300 4367 y(the)i FD(inRange)d
FI(operation)26 b(tells)f(whether)g(a)f(particular)j(subscript)f(lies)f
(in)f(the)g(range)i(de\002ned)f(by)f(a)g(bounding)300
4480 y(pair)-5 b(.)300 4676 y(An)23 b(implementation)j(is)e(entitled)h
(to)f(assume)g(the)g(follo)n(wing)h(la)o(ws)e(about)h(these)h
(operations:)605 4866 y FD(range)52 b(\(l,u\))g(!!)i(index)e(\(l,u\))g
(i)j(==)e(i)163 b(--)54 b(when)f(i)h(is)f(in)h(range)605
4979 y(inRange)d(\(l,u\))h(i)764 b(==)53 b(i)h(`elem`)e(range)g
(\(l,u\))605 5092 y(map)h(index)f(\(range)g(\(l,u\)\))325
b(==)53 b([0..rangeSize)c(\(l,u\)])2032 5593 y FI(169)p
eop
%%Page: 170 184
170 183 bop 0 100 a FI(170)1841 b FE(CHAPTER)20 b(15.)51
b(INDEXING)21 b(OPERA)-10 b(TIONS)0 356 y FC(15.1)119
b(Deri)o(ving)30 b(Instances)g(of)f Fa(Ix)0 646 y FI(It)35
b(is)h(possible)i(to)d(deri)n(v)o(e)i(an)e(instance)j(of)e
FD(Ix)e FI(automatically)-6 b(,)41 b(using)c(a)f FD(deriving)31
b FI(clause)37 b(on)f(a)f FD(data)0 759 y FI(declaration)e(\(Section)e
(4.3.3\).)48 b(Such)30 b(deri)n(v)o(ed)h(instance)h(declarations)i(for)
c(the)g(class)h FD(Ix)d FI(are)i(only)h(possible)0 872
y(for)24 b(enumerations)i(\(i.e.)d(datatypes)j(ha)n(ving)f(only)g
(nullary)g(constructors\))i(and)d(single-constructor)29
b(datatypes,)0 985 y(whose)c(constituent)j(types)d(are)g(instances)i
(of)e FD(Ix)o FI(.)31 b(A)23 b(Hask)o(ell)j(implementation)h(must)e
(pro)o(vide)h FD(Ix)d FI(instances)0 1098 y(for)h(tuples)h(up)e(to)h
(at)f(least)h(size)h(15.)136 1393 y FB(\017)46 b FI(F)o(or)28
b(an)h FJ(enumer)o(ation)p FI(,)j(the)e(nullary)g(constructors)j(are)c
(assumed)h(to)f(be)g(numbered)h(left-to-right)i(with)227
1506 y(the)22 b(indices)i(being)e Ft(0)g FI(to)f Fq(n)13
b FB(\000)g Ft(1)21 b FI(inclusi)n(v)o(e.)30 b(This)22
b(is)f(the)h(same)g(numbering)h(de\002ned)g(by)f(the)g
FD(Enum)d FI(class.)227 1619 y(F)o(or)k(e)o(xample,)h(gi)n(v)o(en)g
(the)g(datatype:)368 1769 y FD(data)53 b(Colour)f(=)i(Red)f(|)h(Orange)
e(|)i(Yellow)e(|)i(Green)e(|)i(Blue)f(|)h(Indigo)e(|)i(Violet)227
1920 y FI(we)23 b(w)o(ould)h(ha)n(v)o(e:)368 2045 y FD(range)162
b(\(Yellow,Blue\))430 b(==)108 b([Yellow,Green,Bl)o(ue)o(])368
2158 y(index)162 b(\(Yellow,Blue\))48 b(Green)107 b(==)h(1)368
2271 y(inRange)52 b(\(Yellow,Blue\))c(Red)217 b(==)108
b(False)136 2538 y FB(\017)46 b FI(F)o(or)23 b FJ(single-constructo)q
(r)29 b(datatypes)p FI(,)d(the)e(deri)n(v)o(ed)i(instance)g
(declarations)h(are)d(as)g(sho)n(wn)g(for)g(tuples)h(in)227
2651 y(Figure)f(15.1.)p eop
%%Page: 171 185
171 184 bop 300 100 a FE(15.1.)52 b(DERIVING)21 b(INST)-8
b(ANCES)19 b(OF)j FD(IX)2006 b FI(171)p 315 1366 3548
4 v 315 3949 4 2583 v 366 1487 a Fp(instance)98 b(\(Ix)49
b(a,)h(Ix)f(b\))99 b(=>)50 b(Ix)f(\(a,b\))g(where)764
1587 y(range)g(\(\(l,l'\),\(u,u'\)\))1163 1687 y(=)h([\(i,i'\))e(|)i(i)
f(<-)h(range)f(\(l,u\),)f(i')i(<-)f(range)g(\(l',u'\)])764
1786 y(index)g(\(\(l,l'\),\(u,u'\)\))e(\(i,i'\))1163
1886 y(=)99 b(index)49 b(\(l,u\))g(i)h(*)f(rangeSize)g(\(l',u'\))f(+)i
(index)f(\(l',u'\))f(i')764 1985 y(inRange)h(\(\(l,l'\),\(u,u'\)\))e
(\(i,i'\))1163 2085 y(=)j(inRange)e(\(l,u\))h(i)h(&&)f(inRange)g
(\(l',u'\))f(i')366 2218 y(--)h(Instances)g(for)g(other)g(tuples)f(are)
i(obtained)e(from)h(this)g(scheme:)366 2318 y(--)366
2417 y(--)99 b(instance)f(\(Ix)50 b(a1,)f(Ix)g(a2,)h(...)f(,)g(Ix)h
(ak\))f(=>)h(Ix)f(\(a1,a2,...,ak\))97 b(where)366 2517
y(--)298 b(range)49 b(\(\(l1,l2,...,lk\),\(u1,u2,...,uk\)\))44
b(=)366 2616 y(--)498 b([\(i1,i2,...,ik\))47 b(|)i(i1)h(<-)f(range)g
(\(l1,u1\),)366 2716 y(--)1394 b(i2)50 b(<-)f(range)g(\(l2,u2\),)366
2816 y(--)1394 b(...)366 2915 y(--)g(ik)50 b(<-)f(range)g(\(lk,uk\)])
366 3015 y(--)366 3115 y(--)298 b(index)49 b
(\(\(l1,l2,...,lk\),\(u1,u2,...,uk\)\))44 b(\(i1,i2,...,ik\))k(=)366
3214 y(--)398 b(index)49 b(\(lk,uk\))f(ik)i(+)g(rangeSize)e(\(lk,uk\))g
(*)i(\()366 3314 y(--)448 b(index)49 b(\(lk-1,uk-1\))f(ik-1)h(+)g
(rangeSize)f(\(lk-1,uk-1\))g(*)i(\()366 3413 y(--)498
b(...)366 3513 y(--)548 b(index)48 b(\(l1,u1\)\)\))366
3613 y(--)366 3712 y(--)298 b(inRange)49 b
(\(\(l1,l2,...lk\),\(u1,u2,...,uk\)\))44 b(\(i1,i2,...,ik\))j(=)366
3812 y(--)498 b(inRange)48 b(\(l1,u1\))h(i1)g(&&)h(inRange)e(\(l2,u2\))
h(i2)g(&&)366 3912 y(--)697 b(...)49 b(&&)h(inRange)e(\(lk,uk\))h(ik)p
3859 3949 V 315 3952 3548 4 v 1395 4206 a FI(Figure)24
b(15.1:)30 b(Deri)n(v)n(ation)25 b(of)e(Ix)h(instances)p
eop
%%Page: 172 186
172 185 bop 0 100 a FI(172)1841 b FE(CHAPTER)20 b(15.)51
b(INDEXING)21 b(OPERA)-10 b(TIONS)0 356 y FC(15.2)119
b(Library)30 b Fa(Ix)0 645 y Fp(module)49 b(Ix)g(\()h(Ix\(range,)e
(index,)h(inRange,)f(rangeSize\))g(\))h(where)0 813 y(class)99
b(Ord)49 b(a)h(=>)f(Ix)g(a)100 b(where)199 912 y(range)248
b(::)50 b(\(a,a\))f(->)g([a])199 1012 y(index)248 b(::)50
b(\(a,a\))f(->)g(a)h(->)f(Int)199 1112 y(inRange)148
b(::)50 b(\(a,a\))f(->)g(a)h(->)f(Bool)199 1211 y(rangeSize)f(::)i
(\(a,a\))f(->)g(Int)199 1344 y(rangeSize)f(b@\(l,h\))h(|)h(null)f
(\(range)f(b\))i(=)f(0)1096 1444 y(|)h(otherwise)297
b(=)49 b(index)g(b)h(h)f(+)h(1)399 1543 y(--)f(NB:)g(replacing)f("null)
h(\(range)g(b\)")g(by)99 b("not)49 b(\(l)h(<=)f(h\)")399
1643 y(--)g(fails)g(if)g(the)h(bounds)e(are)h(tuples.)99
b(For)49 b(example,)399 1743 y(--)298 b(\(1,2\))49 b(<=)g(\(2,1\))399
1842 y(--)g(but)g(the)g(range)g(is)h(nevertheless)d(empty)399
1942 y(--)298 b(range)49 b(\(\(1,2\),\(2,1\)\))e(=)j([])0
2110 y(instance)98 b(Ix)50 b(Char)98 b(where)199 2209
y(range)49 b(\(m,n\))448 b(=)49 b([m..n])199 2309 y(index)g(b@\(c,c'\))
f(ci)399 2409 y(|)h(inRange)g(b)g(ci)100 b(=)f(fromEnum)48
b(ci)i(-)f(fromEnum)g(c)399 2508 y(|)g(otherwise)248
b(=)99 b(error)49 b("Ix.index:)f(Index)h(out)g(of)g(range.")199
2608 y(inRange)g(\(c,c'\))f(i)200 b(=)99 b(c)50 b(<=)f(i)h(&&)f(i)h(<=)
f(c')0 2775 y(instance)98 b(Ix)50 b(Int)99 b(where)199
2875 y(range)49 b(\(m,n\))448 b(=)49 b([m..n])199 2975
y(index)g(b@\(m,n\))g(i)399 3074 y(|)g(inRange)g(b)g(i)150
b(=)99 b(i)50 b(-)f(m)399 3174 y(|)g(otherwise)248 b(=)99
b(error)49 b("Ix.index:)f(Index)h(out)g(of)g(range.")199
3274 y(inRange)g(\(m,n\))g(i)249 b(=)99 b(m)50 b(<=)f(i)h(&&)f(i)h(<=)f
(n)0 3441 y(instance)98 b(Ix)50 b(Integer)98 b(where)199
3541 y(range)49 b(\(m,n\))448 b(=)49 b([m..n])199 3641
y(index)g(b@\(m,n\))g(i)399 3740 y(|)g(inRange)g(b)g(i)150
b(=)99 b(fromInteger)48 b(\(i)h(-)h(m\))399 3840 y(|)f(otherwise)248
b(=)99 b(error)49 b("Ix.index:)f(Index)h(out)g(of)g(range.")199
3939 y(inRange)g(\(m,n\))g(i)249 b(=)99 b(m)50 b(<=)f(i)h(&&)f(i)h(<=)f
(n)0 4107 y(instance)f(\(Ix)i(a,Ix)f(b\))g(=>)h(Ix)f(\(a,)g(b\))h(--)f
(as)h(derived,)e(for)h(all)g(tuples)0 4207 y(instance)f(Ix)i(Bool)896
b(--)49 b(as)h(derived)0 4306 y(instance)e(Ix)i(Ordering)696
b(--)49 b(as)h(derived)0 4406 y(instance)e(Ix)i(\(\))996
b(--)49 b(as)h(derived)p eop
%%Page: 173 187
173 186 bop 300 1062 a Fw(Chapter)44 b(16)300 1560 y
FH(Arrays)p 315 2029 3548 4 v 315 5128 4 3100 v 366 2164
a Fp(module)98 b(Array)49 b(\()764 2264 y(module)g(Ix,)99
b(--)50 b(export)e(all)i(of)f(Ix)g(for)h(convenience)764
2363 y(Array,)f(array,)g(listArray,)f(\(!\),)h(bounds,)f(indices,)h
(elems,)f(assocs,)764 2463 y(accumArray,)g(\(//\),)h(accum,)g(ixmap)g
(\))g(where)366 2631 y(import)g(Ix)366 2803 y(infixl)g(9)99
b(!,)50 b(//)366 2976 y(data)99 b(\(Ix)49 b(a\))199 b(=>)49
b(Array)g(a)h(b)g(=)f(...)298 b(--)50 b(Abstract)366
3144 y(array)547 b(::)49 b(\(Ix)h(a\))f(=>)h(\(a,a\))e(->)i([\(a,b\)])e
(->)i(Array)f(a)g(b)366 3243 y(listArray)347 b(::)49
b(\(Ix)h(a\))f(=>)h(\(a,a\))e(->)i([b])f(->)h(Array)e(a)i(b)366
3343 y(\(!\))647 b(::)49 b(\(Ix)h(a\))f(=>)h(Array)e(a)i(b)g(->)f(a)h
(->)f(b)366 3443 y(bounds)497 b(::)49 b(\(Ix)h(a\))f(=>)h(Array)e(a)i
(b)g(->)f(\(a,a\))366 3542 y(indices)447 b(::)49 b(\(Ix)h(a\))f(=>)h
(Array)e(a)i(b)g(->)f([a])366 3642 y(elems)547 b(::)49
b(\(Ix)h(a\))f(=>)h(Array)e(a)i(b)g(->)f([b])366 3742
y(assocs)497 b(::)49 b(\(Ix)h(a\))f(=>)h(Array)e(a)i(b)g(->)f
([\(a,b\)])366 3841 y(accumArray)297 b(::)49 b(\(Ix)h(a\))f(=>)h(\(b)f
(->)g(c)h(->)f(b\))h(->)f(b)h(->)f(\(a,a\))g(->)h([\(a,c\)])1811
3941 y(->)f(Array)g(a)g(b)366 4040 y(\(//\))597 b(::)49
b(\(Ix)h(a\))f(=>)h(Array)e(a)i(b)g(->)f([\(a,b\)])g(->)g(Array)g(a)h
(b)366 4140 y(accum)547 b(::)49 b(\(Ix)h(a\))f(=>)h(\(b)f(->)g(c)h(->)f
(b\))h(->)f(Array)g(a)h(b)f(->)h([\(a,c\)])1811 4240
y(->)f(Array)g(a)g(b)366 4339 y(ixmap)547 b(::)49 b(\(Ix)h(a,)f(Ix)h
(b\))f(=>)g(\(a,a\))g(->)h(\(a)f(->)h(b\))f(->)g(Array)g(b)h(c)1811
4439 y(->)f(Array)g(a)g(c)366 4607 y(instance)1393 b(Functor)49
b(\(Array)f(a\))i(where)f(...)366 4706 y(instance)98
b(\(Ix)49 b(a,)h(Eq)f(b\))548 b(=>)49 b(Eq)149 b(\(Array)49
b(a)h(b\))99 b(where)49 b(...)366 4806 y(instance)98
b(\(Ix)49 b(a,)h(Ord)f(b\))498 b(=>)49 b(Ord)99 b(\(Array)49
b(a)h(b\))99 b(where)49 b(...)366 4905 y(instance)98
b(\(Ix)49 b(a,)h(Show)f(a,)g(Show)g(b\))h(=>)f(Show)g(\(Array)g(a)h
(b\))99 b(where)49 b(...)366 5005 y(instance)98 b(\(Ix)49
b(a,)h(Read)f(a,)g(Read)g(b\))h(=>)f(Read)g(\(Array)g(a)h(b\))99
b(where)49 b(...)p 3859 5128 V 315 5131 3548 4 v 2032
5593 a FI(173)p eop
%%Page: 174 188
174 187 bop 0 100 a FI(174)2504 b FE(CHAPTER)20 b(16.)52
b(ARRA)-10 b(YS)0 356 y FI(Hask)o(ell)29 b(pro)o(vides)h(inde)o(xable)g
FJ(arr)o(ays)p FI(,)g(which)e(may)g(be)g(thought)i(of)e(as)f(functions)
k(whose)d(domains)i(are)e(iso-)0 469 y(morphic)d(to)f(contiguous)k
(subsets)d(of)f(the)h(inte)o(gers.)32 b(Functions)26
b(restricted)g(in)e(this)h(w)o(ay)f(can)g(be)g(implemented)0
582 y(ef)n(\002ciently;)29 b(in)d(particular)l(,)j(a)c(programmer)j
(may)d(reasonably)k(e)o(xpect)e(rapid)g(access)g(to)f(the)g
(components.)38 b(T)-7 b(o)0 695 y(ensure)22 b(the)f(possibility)j(of)d
(such)g(an)g(implementation,)j(arrays)e(are)f(treated)h(as)f(data,)h
(not)f(as)f(general)j(functions.)0 889 y(Since)h(most)g(array)h
(functions)i(in)l(v)n(olv)o(e)f(the)e(class)h FD(Ix)o
FI(,)e(this)h(module)h(is)f(e)o(xported)i(from)e FD(Array)d
FI(so)j(that)g(mod-)0 1002 y(ules)g(need)h(not)e(import)i(both)f
FD(Array)c FI(and)k FD(Ix)p FI(.)0 1375 y FC(16.1)119
b(Array)30 b(Construction)0 1663 y FI(If)k FD(a)f FI(is)h(an)g(inde)o
(x)h(type)g(and)f FD(b)f FI(is)h(an)o(y)g(type,)k(the)c(type)h(of)f
(arrays)h(with)f(indices)i(in)e FD(a)f FI(and)i(elements)g(in)f
FD(b)0 1776 y FI(is)29 b(written)i FD(Array)52 b(a)i(b)o
FI(.)46 b(An)29 b(array)h(may)g(be)f(created)i(by)f(the)g(function)h
FD(array)n FI(.)46 b(The)29 b(\002rst)g(ar)n(gument)i(of)0
1889 y FD(array)26 b FI(is)j(a)f(pair)i(of)f FJ(bounds)p
FI(,)j(each)e(of)f(the)g(inde)o(x)h(type)g(of)f(the)g(array)-6
b(.)47 b(These)29 b(bounds)i(are)e(the)g(lo)n(west)h(and)0
2002 y(highest)25 b(indices)f(in)f(the)h(array)-6 b(,)23
b(in)g(that)h(order)-5 b(.)29 b(F)o(or)22 b(e)o(xample,)i(a)f
(one-origin)i(v)o(ector)f(of)f(length)i FD(10)c FI(has)i(bounds)0
2115 y FD(\(1,10\))m FI(,)g(and)h(a)f(one-origin)j FD(10)c
FI(by)i FD(10)e FI(matrix)i(has)g(bounds)h FD(\(\(1,1\),\(10,10\)\))-7
b FI(.)0 2309 y(The)23 b(second)j(ar)n(gument)f(of)f
FD(array)d FI(is)i(a)h(list)g(of)g FJ(associations)j
FI(of)d(the)g(form)g(\()p Fq(index)p FI(,)f Fq(v)s(al)r(ue)p
FI(\).)30 b(T)-7 b(ypically)h(,)25 b(this)0 2422 y(list)f(will)f(be)g
(e)o(xpressed)i(as)f(a)f(comprehension.)32 b(An)22 b(association)27
b FD(\(i,)53 b(x\))22 b FI(de\002nes)i(the)f(v)n(alue)h(of)g(the)f
(array)h(at)0 2535 y(inde)o(x)i FD(i)e FI(to)h(be)g FD(x)p
FI(.)33 b(The)24 b(array)j(is)e(unde\002ned)i(\(i.e.)d
FB(?)p FI(\))h(if)g(an)o(y)g(inde)o(x)h(in)f(the)h(list)f(is)g(out)h
(of)f(bounds.)35 b(If)25 b(an)o(y)h(tw)o(o)0 2648 y(associations)32
b(in)c(the)g(list)h(ha)n(v)o(e)g(the)f(same)h(inde)o(x,)h(the)e(v)n
(alue)h(at)f(that)h(inde)o(x)g(is)f(unde\002ned)i(\(i.e.)e
FB(?)p FI(\).)42 b(Because)0 2761 y(the)32 b(indices)i(must)e(be)f
(check)o(ed)j(for)e(these)h(errors,)i FD(array)29 b FI(is)j(strict)g
(in)g(the)g(bounds)i(ar)n(gument)g(and)e(in)g(the)0 2874
y(indices)e(of)d(the)i(association)i(list,)e(b)n(ut)f(nonstrict)i(in)e
(the)g(v)n(alues.)43 b(Thus,)29 b(recurrences)i(such)e(as)f(the)g
(follo)n(wing)0 2986 y(are)c(possible:)141 3181 y FD(a)54
b(=)g(array)f(\(1,100\))e(\(\(1,1\))h(:)i([\(i,)f(i)h(*)g(a!\(i-1\)\))d
(|)j(i)g(<-)f([2..100]]\))0 3375 y FI(Not)29 b(e)n(v)o(ery)i(inde)o(x)g
(within)f(the)g(bounds)i(of)e(the)g(array)h(need)f(appear)i(in)e(the)g
(association)j(list,)e(b)n(ut)g(the)f(v)n(alues)0 3488
y(associated)39 b(with)d(indices)h(that)g(do)f(not)g(appear)h(will)f
(be)g(unde\002ned)i(\(i.e.)d FB(?)p FI(\).)65 b(Figure)37
b(16.1)f(sho)n(ws)g(some)0 3601 y(e)o(xamples)25 b(that)f(use)g(the)g
FD(array)c FI(constructor)-5 b(.)0 3795 y(The)31 b FD(\(!\))f
FI(operator)k(denotes)g(array)f(subscripting.)57 b(The)31
b FD(bounds)d FI(function)35 b(applied)e(to)f(an)g(array)h(returns)0
3908 y(its)27 b(bounds.)40 b(The)27 b(functions)i FD(indices)m
FI(,)d FD(elems)n FI(,)h(and)g FD(assocs)m FI(,)g(when)g(applied)h(to)f
(an)g(array)-6 b(,)28 b(return)g(lists)0 4021 y(of)d(the)h(indices,)i
(elements,)f(or)e(associations,)k(respecti)n(v)o(ely)-6
b(,)29 b(in)c(inde)o(x)i(order)-5 b(.)35 b(An)25 b(array)h(may)f(be)h
(constructed)0 4134 y(from)d(a)h(pair)g(of)f(bounds)i(and)f(a)g(list)f
(of)h(v)n(alues)h(in)e(inde)o(x)h(order)h(using)g(the)f(function)h
FD(listArray)l FI(.)0 4328 y(If,)k(in)g(an)o(y)g(dimension,)j(the)c(lo)
n(wer)h(bound)h(is)f(greater)h(than)f(the)g(upper)h(bound,)h(then)f
(the)f(array)g(is)g(le)o(gal,)h(b)n(ut)0 4441 y(empty)-6
b(.)49 b(Inde)o(xing)31 b(an)f(empty)h(array)g(al)o(w)o(ays)f(gi)n(v)o
(es)h(an)f(array-bounds)k(error)l(,)e(b)n(ut)f FD(bounds)26
b FI(still)31 b(yields)g(the)0 4554 y(bounds)25 b(with)f(which)g(the)f
(array)i(w)o(as)e(constructed.)0 4883 y FG(16.1.1)99
b(Accumulated)26 b(Arrays)0 5139 y FI(Another)i(array)g(creation)i
(function,)g FD(accumArray)-5 b FI(,)27 b(relax)o(es)h(the)g
(restriction)i(that)e(a)e(gi)n(v)o(en)i(inde)o(x)g(may)f(ap-)0
5252 y(pear)c(at)f(most)g(once)h(in)g(the)f(association)k(list,)c
(using)i(an)e FJ(accumulating)j(function)g FI(which)e(combines)g(the)g
(v)n(alues)0 5365 y(of)36 b(associations)k(with)d(the)f(same)h(inde)o
(x.)68 b(The)36 b(\002rst)g(ar)n(gument)j(of)d FD(accumArray)31
b FI(is)36 b(the)h(accumulating)p eop
%%Page: 175 189
175 188 bop 300 100 a FE(16.2.)52 b(INCREMENT)-8 b(AL)18
b(ARRA)-10 b(Y)22 b(UPD)l(A)-10 b(TES)1836 b FI(175)p
315 268 3548 4 v 315 1776 4 1509 v 366 389 a Fp(--)49
b(Scaling)g(an)g(array)g(of)h(numbers)e(by)i(a)f(given)g(number:)366
488 y(scale)g(::)g(\(Num)g(a,)h(Ix)f(b\))h(=>)f(a)h(->)f(Array)g(b)h(a)
f(->)h(Array)f(b)g(a)366 588 y(scale)g(x)g(a)h(=)g(array)f(b)g([\(i,)g
(a!i)h(*)f(x\))h(|)f(i)h(<-)f(range)g(b])964 688 y(where)g(b)g(=)h
(bounds)f(a)366 821 y(--)g(Inverting)g(an)g(array)g(that)g(holds)g(a)g
(permutation)f(of)i(its)f(indices)366 920 y(invPerm)f(::)i(\(Ix)f(a\))h
(=>)f(Array)g(a)h(a)f(->)h(Array)e(a)i(a)366 1020 y(invPerm)e(a)i(=)g
(array)f(b)g([\(a!i,)g(i\))g(|)h(i)g(<-)f(range)g(b])964
1119 y(where)g(b)g(=)h(bounds)f(a)366 1252 y(--)g(The)h(inner)f
(product)f(of)h(two)h(vectors)366 1352 y(inner)f(::)g(\(Ix)h(a,)f(Num)g
(b\))h(=>)f(Array)g(a)h(b)f(->)h(Array)f(a)g(b)h(->)f(b)366
1451 y(inner)g(v)g(w)h(=)g(if)f(b)h(==)f(bounds)g(w)1163
1551 y(then)g(sum)g([v!i)g(*)h(w!i)f(|)h(i)f(<-)h(range)f(b])1163
1651 y(else)g(error)g("inconformable)e(arrays)i(for)g(inner)g(product")
964 1750 y(where)g(b)g(=)h(bounds)f(v)p 3859 1776 V 315
1779 3548 4 v 1575 2033 a FI(Figure)24 b(16.1:)30 b(Array)24
b(e)o(xamples)300 2351 y(function;)32 b(the)c(second)h(is)f(an)f
(initial)i(v)n(alue;)i(the)d(remaining)h(tw)o(o)e(ar)n(guments)j(are)e
(a)f(bounds)i(pair)f(and)g(an)g(as-)300 2463 y(sociation)j(list,)f(as)e
(for)h(the)g FD(array)c FI(function.)46 b(F)o(or)28 b(e)o(xample,)i(gi)
n(v)o(en)f(a)f(list)h(of)g(v)n(alues)g(of)g(some)f(inde)o(x)i(type,)300
2576 y FD(hist)21 b FI(produces)26 b(a)d(histogram)i(of)f(the)g(number)
g(of)f(occurrences)k(of)d(each)g(inde)o(x)g(within)g(a)g(speci\002ed)g
(range:)441 2766 y FD(hist)53 b(::)h(\(Ix)f(a,)g(Num)g(b\))h(=>)g
(\(a,a\))e(->)i([a])f(->)g(Array)g(a)h(b)441 2879 y(hist)f(bnds)g(is)g
(=)h(accumArray)c(\(+\))j(0)i(bnds)d([\(i,)h(1\))h(|)g(i<-is,)e
(inRange)f(bnds)i(i])300 3067 y FI(If)36 b(the)g(accumulating)k
(function)e(is)e(strict,)k(then)d FD(accumArray)31 b
FI(is)36 b(strict)h(in)f(the)h(v)n(alues,)j(as)c(well)g(as)g(the)300
3179 y(indices,)41 b(in)c(the)f(association)k(list.)68
b(Thus,)40 b(unlik)o(e)e(ordinary)g(arrays,)j(accumulated)e(arrays)f
(should)g(not)f(in)300 3292 y(general)25 b(be)f(recursi)n(v)o(e.)300
3668 y FC(16.2)119 b(Incr)n(emental)30 b(Array)g(Updates)300
3958 y FI(The)18 b(operator)i FD(\(//\))c FI(tak)o(es)j(an)f(array)h
(and)g(a)e(list)i(of)f(pairs)h(and)g(returns)h(an)e(array)h(identical)h
(to)e(the)h(left)f(ar)n(gument)300 4071 y(e)o(xcept)35
b(that)g(it)f(has)g(been)h(updated)i(by)d(the)g(associations)k(in)c
(the)h(right)g(ar)n(gument.)62 b(\(As)34 b(with)g(the)g
FD(array)300 4184 y FI(function,)28 b(the)d(indices)i(in)f(the)f
(association)k(list)d(must)f(be)g(unique)i(for)f(the)g(updated)h
(elements)g(to)e(be)g(de\002ned.\))300 4297 y(F)o(or)i(e)o(xample,)j
(if)e FD(m)f FI(is)h(a)g(1-origin,)j FD(n)c FI(by)i FD(n)d
FI(matrix,)k(then)f FD(m//[\(\(i,i\),)50 b(0\))j(|)h(i)g(<-)g([1..n]])
24 b FI(is)300 4410 y(the)g(same)f(matrix,)h(e)o(xcept)h(with)e(the)h
(diagonal)i(zeroed.)300 4606 y FD(accum)h Fv(f)48 b FI(tak)o(es)31
b(an)f(array)h(and)f(an)g(association)j(list)d(and)g(accumulates)j
(pairs)e(from)e(the)h(list)h(into)f(the)g(array)300 4718
y(with)23 b(the)h(accumulating)j(function)e Fv(f)20 b
FI(.)27 b(Thus)d FD(accumArray)18 b FI(can)24 b(be)g(de\002ned)g(using)
h FD(accum)m FI(:)441 4914 y FD(accumArray)50 b(f)k(z)g(b)g(=)g(accum)f
(f)h(\(array)e(b)i([\(i,)e(z\))i(|)g(i)g(<-)g(range)e(b]\))p
eop
%%Page: 176 190
176 189 bop 0 100 a FI(176)2504 b FE(CHAPTER)20 b(16.)52
b(ARRA)-10 b(YS)p 15 268 3548 4 v 15 1819 4 1551 v 66
386 a Fp(--)49 b(A)h(rectangular)e(subarray)66 486 y(subArray)g(::)i
(\(Ix)f(a\))g(=>)h(\(a,a\))f(->)g(Array)g(a)h(b)f(->)h(Array)f(a)g(b)66
586 y(subArray)f(bnds)h(=)h(ixmap)f(bnds)g(\(\\i->i\))66
718 y(--)g(A)h(row)f(of)h(a)f(matrix)66 818 y(row)g(::)h(\(Ix)f(a,)g
(Ix)h(b\))f(=>)h(a)f(->)h(Array)f(\(a,b\))f(c)i(->)g(Array)e(b)i(c)66
918 y(row)f(i)h(x)f(=)h(ixmap)f(\(l',u'\))f(\(\\j->\(i,j\)\))g(x)i
(where)f(\(\(_,l'\),\(_,u'\)\))e(=)i(bounds)g(x)66 1050
y(--)g(Diagonal)g(of)g(a)h(matrix)e(\(assumed)h(to)g(be)h(square\))66
1150 y(diag)f(::)g(\(Ix)h(a\))f(=>)h(Array)e(\(a,a\))h(b)h(->)f(Array)g
(a)h(b)66 1250 y(diag)f(x)h(=)f(ixmap)g(\(l,u\))g(\(\\i->\(i,i\)\))f(x)
415 1349 y(where)514 1449 y(\(\(l,_\),\(u,_\)\))g(=)h(bounds)g(x)66
1582 y(--)g(Projection)f(of)i(first)f(components)f(of)h(an)g(array)g
(of)h(pairs)66 1681 y(firstArray)e(::)h(\(Ix)h(a\))f(=>)g(Array)g(a)h
(\(b,c\))f(->)g(Array)g(a)h(b)66 1781 y(firstArray)e(=)i(fmap)f
(\(\\\(x,y\)->x\))p 3559 1819 V 15 1822 3548 4 v 1132
2075 a FI(Figure)24 b(16.2:)30 b(Deri)n(v)o(ed)24 b(array)g(e)o
(xamples)0 2393 y FC(16.3)119 b(Deri)o(v)o(ed)30 b(Arrays)0
2683 y FI(The)f(tw)o(o)h(functions)i FD(fmap)27 b FI(and)j
FD(ixmap)d FI(deri)n(v)o(e)k(ne)n(w)e(arrays)i(from)e(e)o(xisting)j
(ones;)i(the)o(y)c(may)f(be)h(thought)0 2796 y(of)e(as)f(pro)o(viding)j
(function)g(composition)g(on)e(the)g(left)g(and)g(right,)h(respecti)n
(v)o(ely)-6 b(,)31 b(with)d(the)g(mapping)h(that)f(the)0
2909 y(original)i(array)e(embodies.)43 b(The)28 b FD(fmap)d
FI(function)30 b(transforms)g(the)e(array)g(v)n(alues)h(while)f
FD(ixmap)d FI(allo)n(ws)j(for)0 3022 y(transformations)f(on)d(array)g
(indices.)31 b(Figure)24 b(16.2)g(sho)n(ws)g(some)f(e)o(xamples.)0
3397 y FC(16.4)119 b(Library)30 b Fa(Array)0 3677 y Fp(module)99
b(Array)48 b(\()199 3777 y(module)h(Ix,)99 b(--)49 b(export)g(all)g(of)
h(Ix)199 3876 y(Array,)f(array,)g(listArray,)f(\(!\),)h(bounds,)f
(indices,)g(elems,)h(assocs,)199 3976 y(accumArray,)f(\(//\),)h(accum,)
g(ixmap)f(\))i(where)0 4143 y(import)f(Ix)0 4243 y(import)g(List\()g
(\(\\\\\))g(\))0 4411 y(infixl)g(9)99 b(!,)50 b(//)0
4583 y(data)f(\(Ix)g(a\))h(=>)f(Array)g(a)h(b)f(=)h(MkArray)e(\(a,a\))h
(\(a)h(->)f(b\))h(deriving)e(\(\))p eop
%%Page: 177 191
177 190 bop 300 100 a FE(16.4.)52 b(LIBRAR)-6 b(Y)21
b FD(ARRAY)2540 b FI(177)300 334 y Fp(array)348 b(::)49
b(\(Ix)g(a\))h(=>)f(\(a,a\))g(->)h([\(a,b\)])e(->)i(Array)e(a)i(b)300
434 y(array)f(b)h(ivs)f(=)499 534 y(if)h(and)f([inRange)f(b)i(i)g(|)f
(\(i,_\))g(<-)g(ivs])699 633 y(then)g(MkArray)f(b)1346
733 y(\(\\j)h(->)h(case)f([v)g(|)h(\(i,v\))f(<-)g(ivs,)g(i)h(==)f(j])h
(of)1695 832 y([v])149 b(->)49 b(v)1695 932 y([])199
b(->)49 b(error)g("Array.!:)f(\\)2442 1032 y(\\undefined)g(array)h
(element")1695 1131 y(_)249 b(->)49 b(error)g("Array.!:)f(\\)2442
1231 y(\\multiply)g(defined)h(array)f(element"\))699
1331 y(else)h(error)f("Array.array:)g(out-of-range)f(array)i
(association")300 1498 y(listArray)646 b(::)49 b(\(Ix)h(a\))f(=>)g
(\(a,a\))g(->)h([b])f(->)g(Array)g(a)h(b)300 1598 y(listArray)e(b)i(vs)
398 b(=)99 b(array)49 b(b)h(\(zipWith)e(\(\\)i(a)f(b)h(->)f(\(a,b\)\))g
(\(range)g(b\))g(vs\))300 1766 y(\(!\))946 b(::)49 b(\(Ix)h(a\))f(=>)g
(Array)g(a)h(b)g(->)f(a)h(->)f(b)300 1865 y(\(!\))g(\(MkArray)g(_)g
(f\))249 b(=)99 b(f)300 2033 y(bounds)796 b(::)49 b(\(Ix)h(a\))f(=>)g
(Array)g(a)h(b)g(->)f(\(a,a\))300 2133 y(bounds)g(\(MkArray)f(b)i(_\))
99 b(=)g(b)300 2300 y(indices)746 b(::)49 b(\(Ix)h(a\))f(=>)g(Array)g
(a)h(b)g(->)f([a])300 2400 y(indices)746 b(=)99 b(range)49
b(.)h(bounds)300 2568 y(elems)846 b(::)49 b(\(Ix)h(a\))f(=>)g(Array)g
(a)h(b)g(->)f([b])300 2667 y(elems)g(a)747 b(=)99 b([a!i)49
b(|)h(i)g(<-)f(indices)g(a])300 2835 y(assocs)796 b(::)49
b(\(Ix)h(a\))f(=>)g(Array)g(a)h(b)g(->)f([\(a,b\)])300
2935 y(assocs)g(a)697 b(=)99 b([\(i,)49 b(a!i\))g(|)h(i)g(<-)f(indices)
g(a])300 3102 y(\(//\))896 b(::)49 b(\(Ix)h(a\))f(=>)g(Array)g(a)h(b)g
(->)f([\(a,b\)])g(->)g(Array)g(a)g(b)300 3202 y(a)h(//)f(new_ivs)497
b(=)50 b(array)e(\(bounds)h(a\))g(\(old_ivs)g(++)g(new_ivs\))1396
3302 y(where)1496 3401 y(old_ivs)f(=)i([\(i,a!i\))e(|)i(i)f(<-)h
(indices)e(a,)2542 3501 y(i)h(`notElem`)f(new_is])1496
3600 y(new_is)98 b(=)50 b([i)f(|)h(\(i,_\))f(<-)g(new_ivs])300
3768 y(accum)846 b(::)49 b(\(Ix)h(a\))f(=>)g(\(b)h(->)f(c)h(->)f(b\))h
(->)f(Array)g(a)h(b)f(->)h([\(a,c\)])2043 3868 y(->)g(Array)f(a)g(b)300
3967 y(accum)g(f)747 b(=)99 b(foldl)49 b(\(\\a)g(\(i,v\))g(->)h(a)f(//)
h([\(i,f)f(\(a!i\))g(v\)]\))300 4135 y(accumArray)596
b(::)49 b(\(Ix)h(a\))f(=>)g(\(b)h(->)f(c)h(->)f(b\))h(->)f(b)h(->)f
(\(a,a\))g(->)h([\(a,c\)])2043 4235 y(->)g(Array)f(a)g(b)300
4334 y(accumArray)f(f)i(z)f(b)299 b(=)99 b(accum)49 b(f)h(\(array)f(b)g
([\(i,z\))g(|)g(i)h(<-)g(range)e(b]\))300 4502 y(ixmap)846
b(::)49 b(\(Ix)h(a,)f(Ix)g(b\))h(=>)f(\(a,a\))g(->)h(\(a)f(->)h(b\))f
(->)g(Array)g(b)h(c)2342 4602 y(->)g(Array)f(a)g(c)300
4701 y(ixmap)g(b)h(f)f(a)548 b(=)50 b(array)e(b)i([\(i,)f(a)h(!)f(f)h
(i\))f(|)h(i)g(<-)f(range)g(b])300 4869 y(instance)98
b(\(Ix)49 b(a\))498 b(=>)50 b(Functor)e(\(Array)h(a\))g(where)499
4969 y(fmap)g(fn)h(\(MkArray)e(b)i(f\))f(=)100 b(MkArray)48
b(b)i(\(fn)f(.)h(f\))300 5136 y(instance)98 b(\(Ix)49
b(a,)h(Eq)f(b\))100 b(=>)49 b(Eq)g(\(Array)g(a)h(b\))99
b(where)499 5236 y(a)50 b(==)f(a')h(=)99 b(assocs)49
b(a)h(==)f(assocs)g(a')p eop
%%Page: 178 192
178 191 bop 0 100 a FI(178)2504 b FE(CHAPTER)20 b(16.)52
b(ARRA)-10 b(YS)0 334 y Fp(instance)98 b(\(Ix)49 b(a,)h(Ord)f(b\))h(=>)
f(Ord)g(\(Array)g(a)h(b\))99 b(where)199 434 y(a)50 b(<=)f(a')h(=)99
b(assocs)49 b(a)h(<=)f(assocs)g(a')0 602 y(instance)98
b(\(Ix)49 b(a,)h(Show)f(a,)g(Show)g(b\))h(=>)f(Show)g(\(Array)g(a)h
(b\))99 b(where)199 701 y(showsPrec)48 b(p)i(a)g(=)f(showParen)f(\(p)i
(>)f(arrPrec\))g(\()996 801 y(showString)f("array)h(")h(.)996
901 y(showsPrec)e(\(arrPrec+1\))g(\(bounds)h(a\))g(.)h(showChar)e(')i
(')f(.)996 1000 y(showsPrec)f(\(arrPrec+1\))g(\(assocs)h(a\))896
b(\))0 1168 y(instance)98 b(\(Ix)49 b(a,)h(Read)f(a,)g(Read)g(b\))h(=>)
f(Read)g(\(Array)g(a)h(b\))99 b(where)199 1268 y(readsPrec)48
b(p)i(=)g(readParen)e(\(p)h(>)h(arrPrec\))548 1367 y(\(\\r)f(->)h([)f
(\(array)g(b)h(as,)f(u\))897 1467 y(|)g(\("array",s\))f(<-)h(lex)h(r,)
996 1566 y(\(b,t\))348 b(<-)49 b(readsPrec)g(\(arrPrec+1\))e(s,)996
1666 y(\(as,u\))298 b(<-)49 b(readsPrec)g(\(arrPrec+1\))e(t)j(]\))0
1834 y(--)f(Precedence)f(of)i(the)f('array')g(function)f(is)h(that)g
(of)h(application)e(itself)0 1933 y(arrPrec)h(=)g(10)p
eop
%%Page: 179 193
179 192 bop 2032 5593 a FI(179)p eop
%%Page: 180 194
180 193 bop 0 100 a FI(180)2220 b FE(CHAPTER)20 b(17.)51
b(LIST)22 b(UTILITIES)0 1045 y Fw(Chapter)44 b(17)0 1527
y FH(List)52 b(Utilities)p 15 1941 3548 4 v 15 6254 4
4314 v 66 2076 a Fp(module)d(List)g(\()265 2176 y(elemIndex,)f
(elemIndices,)265 2275 y(find,)h(findIndex,)f(findIndices,)265
2375 y(nub,)h(nubBy,)g(delete,)f(deleteBy,)h(\(\\\\\),)f
(deleteFirstsBy,)265 2475 y(union,)h(unionBy,)f(intersect,)g
(intersectBy,)265 2574 y(intersperse,)g(transpose,)g(partition,)g
(group,)g(groupBy,)265 2674 y(inits,)h(tails,)g(isPrefixOf,)e
(isSuffixOf,)265 2773 y(mapAccumL,)h(mapAccumR,)265 2873
y(sort,)h(sortBy,)g(insert,)f(insertBy,)g(maximumBy,)g(minimumBy,)265
2973 y(genericLength,)f(genericTake,)h(genericDrop,)265
3072 y(genericSplitAt,)f(genericIndex,)h(genericReplicate,)265
3172 y(zip4,)h(zip5,)g(zip6,)g(zip7,)265 3272 y(zipWith4,)f(zipWith5,)g
(zipWith6,)h(zipWith7,)265 3371 y(unzip4,)g(unzip5,)f(unzip6,)h
(unzip7,)f(unfoldr,)265 3504 y(--)i(...and)e(what)h(the)h(Prelude)e
(exports)265 3604 y(--)i([]\(\(:\),)e([]\),)248 b(--)50
b(This)f(is)g(built-in)g(syntax)265 3703 y(map,)g(\(++\),)g(concat,)g
(filter,)265 3803 y(head,)g(last,)g(tail,)g(init,)g(null,)g(length,)f
(\(!!\),)265 3903 y(foldl,)h(foldl1,)f(scanl,)h(scanl1,)g(foldr,)f
(foldr1,)h(scanr,)f(scanr1,)265 4002 y(iterate,)h(repeat,)f(replicate,)
g(cycle,)265 4102 y(take,)h(drop,)g(splitAt,)f(takeWhile,)g(dropWhile,)
g(span,)h(break,)265 4201 y(lines,)g(words,)g(unlines,)f(unwords,)g
(reverse,)h(and,)g(or,)265 4301 y(any,)g(all,)g(elem,)g(notElem,)g
(lookup,)265 4401 y(sum,)g(product,)g(maximum,)f(minimum,)g(concatMap,)
265 4500 y(zip,)h(zip3,)g(zipWith,)f(zipWith3,)h(unzip,)f(unzip3)265
4600 y(\))i(where)66 4767 y(infix)f(5)g(\\\\)66 4935
y(elemIndex)546 b(::)50 b(Eq)f(a)h(=>)f(a)h(->)f([a])g(->)h(Maybe)f
(Int)66 5035 y(elemIndices)446 b(::)50 b(Eq)f(a)h(=>)f(a)h(->)f([a])g
(->)h([Int])66 5135 y(find)796 b(::)50 b(\(a)f(->)h(Bool\))e(->)i([a])f
(->)h(Maybe)e(a)66 5234 y(findIndex)546 b(::)50 b(\(a)f(->)h(Bool\))e
(->)i([a])f(->)h(Maybe)e(Int)66 5334 y(findIndices)446
b(::)50 b(\(a)f(->)h(Bool\))e(->)i([a])f(->)h([Int])66
5433 y(nub)846 b(::)50 b(Eq)f(a)h(=>)f([a])g(->)h([a])66
5533 y(nubBy)746 b(::)50 b(\(a)f(->)h(a)f(->)h(Bool\))e(->)i([a])f(->)h
([a])66 5633 y(delete)696 b(::)50 b(Eq)f(a)h(=>)f(a)h(->)f([a])g(->)h
([a])66 5732 y(deleteBy)596 b(::)50 b(\(a)f(->)h(a)f(->)h(Bool\))e(->)i
(a)g(->)f([a])g(->)h([a])66 5832 y(\(\\\\\))796 b(::)50
b(Eq)f(a)h(=>)f([a])g(->)h([a])f(->)h([a])66 5932 y(deleteFirstsBy)296
b(::)50 b(\(a)f(->)h(a)f(->)h(Bool\))e(->)i([a])f(->)h([a])f(->)g([a])
66 6031 y(union)746 b(::)50 b(Eq)f(a)h(=>)f([a])g(->)h([a])f(->)h([a])
66 6131 y(unionBy)646 b(::)50 b(\(a)f(->)h(a)f(->)h(Bool\))e(->)i([a])f
(->)h([a])f(->)g([a])p 3559 6254 V 15 6257 3548 4 v eop
%%Page: 181 195
181 194 bop 3764 100 a FI(181)p 315 268 3548 4 v 315
4779 4 4511 v 366 403 a Fp(intersect)397 b(::)49 b(Eq)h(a)f(=>)h([a])f
(->)g([a])h(->)f([a])366 503 y(intersectBy)297 b(::)49
b(\(a)h(->)f(a)h(->)f(Bool\))g(->)g([a])h(->)f([a])g(->)h([a])366
603 y(intersperse)297 b(::)49 b(a)h(->)f([a])h(->)f([a])366
702 y(transpose)397 b(::)49 b([[a]])g(->)h([[a]])366
802 y(partition)397 b(::)49 b(\(a)h(->)f(Bool\))g(->)g([a])h(->)f
(\([a],[a]\))366 902 y(group)597 b(::)49 b(Eq)h(a)f(=>)h([a])f(->)g
([[a]])366 1001 y(groupBy)497 b(::)49 b(\(a)h(->)f(a)h(->)f(Bool\))g
(->)g([a])h(->)f([[a]])366 1101 y(inits)597 b(::)49 b([a])g(->)h([[a]])
366 1201 y(tails)597 b(::)49 b([a])g(->)h([[a]])366 1300
y(isPrefixOf)347 b(::)49 b(Eq)h(a)f(=>)h([a])f(->)g([a])h(->)f(Bool)366
1400 y(isSuffixOf)347 b(::)49 b(Eq)h(a)f(=>)h([a])f(->)g([a])h(->)f
(Bool)366 1499 y(mapAccumL)397 b(::)49 b(\(a)h(->)f(b)h(->)f(\(a,)g
(c\)\))h(->)f(a)h(->)f([b])g(->)h(\(a,)f([c]\))366 1599
y(mapAccumR)397 b(::)49 b(\(a)h(->)f(b)h(->)f(\(a,)g(c\)\))h(->)f(a)h
(->)f([b])g(->)h(\(a,)f([c]\))366 1699 y(unfoldr)497
b(::)49 b(\(b)h(->)f(Maybe)g(\(a,b\)\))g(->)g(b)h(->)f([a])366
1798 y(sort)647 b(::)49 b(Ord)g(a)h(=>)g([a])f(->)g([a])366
1898 y(sortBy)547 b(::)49 b(\(a)h(->)f(a)h(->)f(Ordering\))f(->)i([a])f
(->)g([a])366 1998 y(insert)547 b(::)49 b(Ord)g(a)h(=>)g(a)f(->)h([a])f
(->)g([a])366 2097 y(insertBy)447 b(::)49 b(\(a)h(->)f(a)h(->)f
(Ordering\))f(->)i(a)f(->)h([a])f(->)g([a])366 2197 y(maximumBy)397
b(::)49 b(\(a)h(->)f(a)h(->)f(Ordering\))f(->)i([a])f(->)g(a)366
2296 y(minimumBy)397 b(::)49 b(\(a)h(->)f(a)h(->)f(Ordering\))f(->)i
([a])f(->)g(a)366 2396 y(genericLength)197 b(::)49 b(Integral)g(a)g(=>)
h([b])f(->)g(a)366 2496 y(genericTake)297 b(::)49 b(Integral)g(a)g(=>)h
(a)f(->)h([b])f(->)g([b])366 2595 y(genericDrop)297 b(::)49
b(Integral)g(a)g(=>)h(a)f(->)h([b])f(->)g([b])366 2695
y(genericSplitAt)147 b(::)49 b(Integral)g(a)g(=>)h(a)f(->)h([b])f(->)g
(\([b],[b]\))366 2795 y(genericIndex)247 b(::)49 b(Integral)g(a)g(=>)h
([b])f(->)g(a)h(->)f(b)366 2894 y(genericReplicate)e(::)i(Integral)g(a)
g(=>)h(a)f(->)h(b)f(->)h([b])366 3062 y(zip4)647 b(::)49
b([a])g(->)h([b])f(->)h([c])f(->)g([d])h(->)f([\(a,b,c,d\)])366
3161 y(zip5)647 b(::)49 b([a])g(->)h([b])f(->)h([c])f(->)g([d])h(->)f
([e])g(->)h([\(a,b,c,d,e\)])366 3261 y(zip6)647 b(::)49
b([a])g(->)h([b])f(->)h([c])f(->)g([d])h(->)f([e])g(->)h([f])1512
3361 y(->)f([\(a,b,c,d,e,f\)])366 3460 y(zip7)647 b(::)49
b([a])g(->)h([b])f(->)h([c])f(->)g([d])h(->)f([e])g(->)h([f])f(->)g
([g])1512 3560 y(->)g([\(a,b,c,d,e,f,g\)])366 3660 y(zipWith4)447
b(::)49 b(\(a->b->c->d->e\))e(->)j([a]->[b]->[c]->[d]->[e])366
3759 y(zipWith5)447 b(::)49 b(\(a->b->c->d->e->f\))e(->)1362
3859 y([a]->[b]->[c]->[d]->[e]->[f])366 3958 y(zipWith6)447
b(::)49 b(\(a->b->c->d->e->f->g\))d(->)1362 4058 y
([a]->[b]->[c]->[d]->[e]->[f]->[g])366 4158 y(zipWith7)447
b(::)49 b(\(a->b->c->d->e->f->g->h\))d(->)1362 4257 y
([a]->[b]->[c]->[d]->[e]->[f]->[g]->[)o(h])366 4357 y(unzip4)547
b(::)49 b([\(a,b,c,d\)])f(->)h(\([a],[b],[c],[d]\))366
4457 y(unzip5)547 b(::)49 b([\(a,b,c,d,e\)])f(->)h
(\([a],[b],[c],[d],[e]\))366 4556 y(unzip6)547 b(::)49
b([\(a,b,c,d,e,f\)])e(->)j(\([a],[b],[c],[d],[e],[f]\))366
4656 y(unzip7)547 b(::)49 b([\(a,b,c,d,e,f,g\)])e(->)i
(\([a],[b],[c],[d],[e],[f],[g]\))p 3859 4779 V 315 4782
3548 4 v 300 5076 a FI(This)23 b(library)i(de\002nes)g(some)e(lesser)n
(-used)k(operations)g(o)o(v)o(er)c(lists.)p eop
%%Page: 182 196
182 195 bop 0 100 a FI(182)2220 b FE(CHAPTER)20 b(17.)51
b(LIST)22 b(UTILITIES)0 356 y FC(17.1)119 b(Indexing)30
b(lists)136 600 y FB(\017)46 b FD(elemIndex)51 b(val)i(list)25
b FI(returns)k(the)e(inde)o(x)h(of)g(the)f(\002rst)g(occurrence,)k(if)c
(an)o(y)-6 b(,)28 b(of)f FD(val)f FI(in)h FD(list)227
713 y FI(as)d FD(Just)52 b(index)n FI(.)28 b FD(Nothing)20
b FI(is)j(returned)j(if)d FD(not)53 b(\(val)g(`elem`)f(list\))m
FI(.)136 901 y FB(\017)46 b FD(elemIndices)k(val)j(list)31
b FI(returns)36 b(an)d(in-order)j(list)e(of)g(indices,)k(gi)n(ving)d
(the)f(occurrences)j(of)227 1014 y FD(val)22 b FI(in)h
FD(list)n FI(.)136 1201 y FB(\017)46 b FD(find)19 b FI(returns)j(the)f
(\002rst)g(element)h(of)e(a)h(list)g(that)g(satis\002es)h(a)f
(predicate,)i(or)e(Nothing,)h(if)f(there)h(is)e(no)h(such)227
1314 y(element.)37 b FD(findIndex)20 b FI(returns)28
b(the)e(corresponding)k(inde)o(x.)36 b FD(findIndices)20
b FI(returns)27 b(a)e(list)h(of)g(all)227 1427 y(such)f(indices.)0
1803 y FC(17.2)119 b(\223Set\224)30 b(operations)0 2093
y FI(There)k(are)h(a)e(number)i(of)f(\223set\224)h(operations)i
(de\002ned)e(o)o(v)o(er)f(the)g FD(List)e FI(type.)61
b FD(nub)32 b FI(\(meaning)j(\223essence\224\))0 2206
y(remo)o(v)o(es)26 b(duplicates)i(elements)f(from)e(a)g(list.)34
b FD(delete)n FI(,)24 b FD(\(\\\\\))n FI(,)h FD(union)d
FI(and)k FD(intersect)21 b FI(\(and)26 b(their)g FD(By)0
2319 y FI(v)n(ariants\))h(preserv)o(e)f(the)f(in)l(v)n(ariant)j(that)d
(their)h(result)g(does)f(not)g(contain)i(duplicates,)h(pro)o(vided)f
(that)e(their)h(\002rst)0 2432 y(ar)n(gument)f(contains)h(no)e
(duplicates.)136 2727 y FB(\017)46 b FD(nub)22 b FI(remo)o(v)o(es)i
(duplicate)i(elements)f(from)e(a)g(list.)29 b(F)o(or)23
b(e)o(xample:)478 2877 y FD(nub)53 b([1,3,1,4,3,3])48
b(=)54 b([1,3,4])136 3215 y FB(\017)46 b FD(delete)52
b(x)22 b FI(remo)o(v)o(es)i(the)g(\002rst)f(occurrence)k(of)c
FD(x)g FI(from)g(its)h(list)g(ar)n(gument,)h(e.g.,)478
3366 y FD(delete)51 b('a')j("banana")c(==)k("bnana")136
3704 y FB(\017)46 b FD(\(\\\\\))j FI(is)j(list)g(dif)n(ference)i
(\(non-associati)n(v)o(e\).)118 b(In)51 b(the)h(result)h(of)f
FD(xs)h(\\\\)h(ys)o FI(,)k(the)52 b(\002rst)f(oc-)227
3816 y(currence)f(of)e(each)h(element)g(of)e FD(ys)g
FI(in)g(turn)i(\(if)f(an)o(y\))g(has)g(been)h(remo)o(v)o(ed)g(from)e
FD(xs)o FI(.)101 b(Thus,)227 3929 y FD(\(xs)53 b(++)h(ys\))f(\\\\)h(xs)
g(==)f(ys)o FI(.)136 4117 y FB(\017)46 b FD(union)21
b FI(is)i(list)h(union,)h(e.g.,)478 4267 y FD("dog")52
b(`union`)f("cow")h(==)i("dogcw")136 4605 y FB(\017)46
b FD(intersect)19 b FI(is)k(list)h(intersection,)j(e.g.,)478
4755 y FD([1,2,3,4])50 b(`intersect`)g([2,4,6,8])g(==)k([2,4])p
eop
%%Page: 183 197
183 196 bop 300 100 a FE(17.3.)52 b(LIST)21 b(TRANSFORMA)-10
b(TIONS)2133 b FI(183)300 356 y FC(17.3)119 b(List)29
b(transf)m(ormations)436 600 y FB(\017)46 b FD(intersperse)k(sep)21
b FI(inserts)k FD(sep)d FI(between)i(the)g(elements)h(of)e(its)h(list)g
(ar)n(gument,)h(e.g.,)778 751 y FD(intersperse)49 b(',')k("abcde")f(==)
h("a,b,c,d,e")436 1088 y FB(\017)46 b FD(transpose)19
b FI(transposes)26 b(the)e(ro)n(ws)f(and)h(columns)h(of)f(its)f(ar)n
(gument,)i(e.g.,)778 1239 y FD(transpose)50 b([[1,2,3],[4,5,6)o(]])e
(==)53 b([[1,4],[2,5],[3,)o(6])o(])436 1577 y FB(\017)46
b FD(partition)28 b FI(tak)o(es)34 b(a)e(predicate)j(and)e(a)g(list)g
(and)g(returns)h(a)e(pair)i(of)e(lists:)48 b(those)34
b(elements)g(of)f(the)527 1690 y(ar)n(gument)26 b(list)e(that)g(do)f
(and)h(do)g(not)g(satisfy)h(the)f(predicate,)h(respecti)n(v)o(ely;)i
(i.e.,)778 1840 y FD(partition)50 b(p)k(xs)g(==)f(\(filter)f(p)i(xs,)f
(filter)f(\(not)g(.)j(p\))e(xs\))436 2178 y FB(\017)46
b FD(sort)23 b FI(implement)j(a)f(stable)h(sorting)h(algorithm,)g(here)
f(speci\002ed)h(in)e(terms)g(of)g(the)g FD(insertBy)c
FI(func-)527 2291 y(tion,)j(which)g(inserts)h(objects)g(into)g(a)e
(list)h(according)i(to)d(the)h(speci\002ed)h(ordering)h(relation.)436
2478 y FB(\017)46 b FD(insert)20 b FI(inserts)25 b(a)e(ne)n(w)g
(element)i(into)f(an)g FJ(or)m(der)m(ed)g FI(list)g(\(arranged)i(in)e
(increasing)i(order\).)436 2666 y FB(\017)46 b FD(group)21
b FI(splits)j(its)g(list)g(ar)n(gument)h(into)g(a)e(list)h(of)f(lists)h
(of)g(equal,)g(adjacent)i(elements.)k(F)o(or)23 b(e)o(xample)778
2816 y FD(group)52 b("Mississippi")c(==)54 b(["M","i","ss",")o(i")o(,")
o(ss)o(",")o(i")o(,")o(pp)o(",)o("i")o(])436 3154 y FB(\017)46
b FD(inits)21 b FI(returns)k(the)f(list)g(of)f(initial)i(se)o(gments)g
(of)e(its)h(ar)n(gument)h(list,)f(shortest)h(\002rst.)778
3304 y FD(inits)52 b("abc")g(==)i(["","a","ab",")o(ab)o(c")o(])436
3642 y FB(\017)46 b FD(tails)21 b FI(returns)k(the)f(list)g(of)f(all)h
(\002nal)f(se)o(gments)i(of)e(its)h(ar)n(gument)h(list,)f(longest)h
(\002rst.)778 3793 y FD(tails)52 b("abc")g(==)i(["abc",)d("bc",)h
("c",""])436 4130 y FB(\017)46 b FD(mapAccumL)51 b(f)j(s)g(l)22
b FI(applies)k FD(f)c FI(to)i(an)f(accumulating)k(\223state\224)e
(parameter)h FD(s)c FI(and)i(to)g(each)g(element)527
4243 y(of)g FD(l)e FI(in)h(turn.)436 4431 y FB(\017)46
b FD(mapAccumR)29 b FI(is)k(similar)h(to)g FD(mapAccumL)29
b FI(e)o(xcept)34 b(that)g(the)g(list)g(is)f(processed)j(from)e
(right-to-left)527 4544 y(rather)25 b(than)f(left-to-right.)300
4919 y FC(17.4)119 b Fa(unfoldr)300 5210 y FI(The)31
b FD(unfoldr)c FI(function)33 b(is)e(a)f(\223dual\224)j(to)e
FD(foldr)m FI(:)44 b(while)31 b FD(foldr)d FI(reduces)33
b(a)d(list)i(to)f(a)f(summary)i(v)n(alue,)300 5322 y
FD(unfoldr)20 b FI(b)n(uilds)25 b(a)e(list)h(from)f(a)g(seed)i(v)n
(alue.)k(F)o(or)23 b(e)o(xample:)p eop
%%Page: 184 198
184 197 bop 0 100 a FI(184)2220 b FE(CHAPTER)20 b(17.)51
b(LIST)22 b(UTILITIES)250 356 y FD(iterate)52 b(f)i(==)f(unfoldr)f
(\(\\x)h(->)g(Just)g(\(x,)g(f)h(x\)\))0 552 y FI(In)23
b(some)h(cases,)g FD(unfoldr)c FI(can)k(undo)g(a)f FD(foldr)e
FI(operation:)250 748 y FD(unfoldr)52 b(f')h(\(foldr)f(f)i(z)g(xs\))f
(==)h(xs)0 944 y FI(if)23 b(the)h(follo)n(wing)h(holds:)250
1134 y FD(f')54 b(\(f)g(x)g(y\))f(=)h(Just)f(\(x,y\))250
1247 y(f')h(z)381 b(=)54 b(Nothing)0 1762 y FC(17.5)119
b(Pr)n(edicates)0 2052 y FD(isPrefixOf)19 b FI(and)25
b FD(isSuffixOf)19 b FI(check)26 b(whether)g(the)e(\002rst)g(ar)n
(gument)j(is)d(a)g(pre\002x)h(\(resp.)33 b(suf)n(\002x\))24
b(of)h(the)0 2165 y(second)g(ar)n(gument.)0 2541 y FC(17.6)119
b(The)30 b(\223)p Fa(By)o FC(\224)g(operations)0 2831
y FI(By)j(con)l(v)o(ention,)39 b(o)o(v)o(erloaded)d(functions)g(ha)n(v)
o(e)e(a)f(non-o)o(v)o(erloaded)38 b(counterpart)f(whose)d(name)f(is)h
(suf)n(\002x)o(ed)0 2943 y(with)23 b(\223)p FD(By)p FI(\224.)28
b(F)o(or)23 b(e)o(xample,)h(the)g(function)h FD(nub)d
FI(could)i(be)g(de\002ned)g(as)g(follo)n(ws:)250 3134
y FD(nub)762 b(::)54 b(\(Eq)f(a\))h(=>)g([a])f(->)g([a])250
3246 y(nub)g([])599 b(=)109 b([])250 3359 y(nub)53 b(\(x:xs\))379
b(=)109 b(x)54 b(:)g(nub)f(\(filter)f(\(\\y)h(->)h(not)f(\(x)g(==)h
(y\)\))f(xs\))0 3547 y FI(Ho)n(we)n(v)o(er)l(,)23 b(the)h(equality)i
(method)e(may)f(not)h(be)g(appropriate)i(in)e(all)g(situations.)31
b(The)23 b(function:)250 3737 y FD(nubBy)652 b(::)54
b(\(a)g(->)f(a)h(->)g(Bool\))e(->)i([a])f(->)h([a])250
3849 y(nubBy)f(eq)g([])326 b(=)109 b([])250 3962 y(nubBy)53
b(eq)g(\(x:xs\))106 b(=)j(x)54 b(:)g(nubBy)f(eq)g(\(filter)f(\(\\y)h
(->)g(not)h(\(eq)f(x)h(y\)\))f(xs\))0 4150 y FI(allo)n(ws)28
b(the)g(programmer)h(to)e(supply)i(their)g(o)n(wn)e(equality)j(test.)41
b(When)28 b(the)f(\223)p FD(By)p FI(\224)g(function)j(replaces)f(an)f
FD(Eq)0 4262 y FI(conte)o(xt)33 b(by)e(a)g(binary)i(predicate,)j(the)31
b(predicate)j(is)d(assumed)i(to)e(de\002ne)h(an)g(equi)n(v)n(alence;)38
b(when)31 b(the)h(\223)p FD(By)p FI(\224)0 4375 y(function)f(replaces)g
(an)e FD(Ord)e FI(conte)o(xt)j(by)f(a)g(binary)h(predicate,)i(the)e
(predicate)h(is)e(assumed)h(to)f(de\002ne)g(a)f(total)0
4488 y(ordering.)0 4684 y(The)33 b(\223)p FD(By)o FI(\224)g(v)n
(ariants)h(are)g(as)f(follo)n(ws:)48 b FD(nubBy)n FI(,)34
b FD(deleteBy)m FI(,)g FD(deleteFirstsBy)26 b FI(\(the)34
b FD(By)d FI(v)n(ariant)j(of)0 4797 y FD(\\\\)o FI(\),)24
b FD(unionBy)m FI(,)g FD(intersectBy)-5 b FI(,)24 b FD(groupBy)m
FI(,)g FD(sortBy)m FI(,)g FD(insertBy)m FI(,)f FD(maximumBy)l
FI(,)h FD(minimumBy)l FI(.)0 5106 y(The)68 b(library)h(does)g(not)f
(pro)o(vide)i FD(elemBy)m FI(,)78 b(because)70 b FD(any)53
b(\(eq)g(x\))67 b FI(does)i(the)f(same)g(job)g(as)0 5219
y FD(elemBy)52 b(eq)h(x)46 b FI(w)o(ould.)99 b(A)46 b(handful)i(of)f(o)
o(v)o(erloaded)i(functions)h(\()p FD(elemIndex)l FI(,)h
FD(elemIndices)-5 b FI(,)0 5332 y FD(isPrefixOf)g FI(,)23
b FD(isSuffixOf)-5 b FI(\))23 b(were)h(not)g(considered)i(important)f
(enough)h(to)d(ha)n(v)o(e)h(\223)p FD(By)p FI(\224)f(v)n(ariants.)p
eop
%%Page: 185 199
185 198 bop 300 100 a FE(17.7.)52 b(THE)21 b(\223)p FD(GENERIC)m
FE(\224)i(OPERA)-10 b(TIONS)1988 b FI(185)300 356 y FC(17.7)119
b(The)30 b(\223)p Fa(generic)n FC(\224)g(operations)300
646 y FI(The)19 b(pre\002x)g(\223)p FD(generic)m FI(\224)g(indicates)i
(an)e(o)o(v)o(erloaded)j(function)f(that)e(is)g(a)g(generalised)j(v)o
(ersion)f(of)e(a)f FD(Prelude)300 759 y FI(function.)31
b(F)o(or)23 b(e)o(xample,)550 955 y FD(genericLength)376
b(::)54 b(Integral)d(a)j(=>)f([b])h(->)f(a)300 1151 y
FI(is)23 b(a)g(generalised)k(v)o(ersion)e(of)f FD(length)m
FI(.)300 1347 y(The)19 b(\223)p FD(generic)m FI(\224)g(operations)j
(are)e(as)f(follo)n(ws:)28 b FD(genericLength)-6 b FI(,)19
b FD(genericTake)-5 b FI(,)19 b FD(genericDrop)-5 b FI(,)300
1460 y FD(genericSplitAt)f FI(,)22 b FD(genericIndex)17
b FI(\(the)24 b(generic)i(v)o(ersion)f(of)e FD(!!)o FI(\),)g
FD(genericReplicat)o(e)-6 b FI(.)300 1835 y FC(17.8)119
b(Further)31 b(\223)p Fa(zip)o FC(\224)e(operations)300
2125 y FI(The)23 b(Prelude)h(pro)o(vides)h FD(zip)o FI(,)d
FD(zip3)o FI(,)g FD(unzip)n FI(,)g FD(unzip3)m FI(,)h
FD(zipWith)l FI(,)g(and)h FD(zipWith3)l FI(.)k(The)23
b(List)g(library)300 2238 y(pro)o(vides)i(these)g(same)f(three)g
(operations)i(for)e(4,)f(5,)g(6,)g(and)h(7)f(ar)n(guments.)p
eop
%%Page: 186 200
186 199 bop 0 100 a FI(186)2220 b FE(CHAPTER)20 b(17.)51
b(LIST)22 b(UTILITIES)0 356 y FC(17.9)119 b(Library)30
b Fa(List)0 635 y Fp(module)49 b(List)g(\()199 735 y(elemIndex,)f
(elemIndices,)199 835 y(find,)h(findIndex,)f(findIndices,)199
934 y(nub,)h(nubBy,)g(delete,)g(deleteBy,)f(\(\\\\\),)h
(deleteFirstsBy,)199 1034 y(union,)g(unionBy,)f(intersect,)g
(intersectBy,)199 1134 y(intersperse,)g(transpose,)g(partition,)g
(group,)g(groupBy,)199 1233 y(inits,)h(tails,)g(isPrefixOf,)e
(isSuffixOf,)199 1333 y(mapAccumL,)h(mapAccumR,)199 1432
y(sort,)h(sortBy,)g(insert,)f(insertBy,)g(maximumBy,)g(minimumBy,)199
1532 y(genericLength,)f(genericTake,)h(genericDrop,)199
1632 y(genericSplitAt,)f(genericIndex,)h(genericReplicate,)199
1731 y(zip4,)h(zip5,)g(zip6,)g(zip7,)199 1831 y(zipWith4,)f(zipWith5,)h
(zipWith6,)f(zipWith7,)199 1931 y(unzip4,)h(unzip5,)f(unzip6,)h
(unzip7,)f(unfoldr,)199 2063 y(--)i(...and)e(what)h(the)h(Prelude)e
(exports)199 2163 y(--)i([]\(\(:\),)e([]\),)249 b(--)49
b(This)g(is)g(built-in)g(syntax)199 2263 y(map,)g(\(++\),)g(concat,)g
(filter,)199 2362 y(head,)g(last,)g(tail,)g(init,)g(null,)g(length,)f
(\(!!\),)199 2462 y(foldl,)h(foldl1,)f(scanl,)h(scanl1,)g(foldr,)f
(foldr1,)h(scanr,)g(scanr1,)199 2562 y(iterate,)g(repeat,)f(replicate,)
g(cycle,)199 2661 y(take,)h(drop,)g(splitAt,)f(takeWhile,)g(dropWhile,)
g(span,)h(break,)199 2761 y(lines,)g(words,)g(unlines,)f(unwords,)g
(reverse,)h(and,)g(or,)199 2860 y(any,)g(all,)g(elem,)g(notElem,)g
(lookup,)199 2960 y(sum,)g(product,)g(maximum,)f(minimum,)g(concatMap,)
199 3060 y(zip,)h(zip3,)g(zipWith,)g(zipWith3,)f(unzip,)g(unzip3)199
3159 y(\))i(where)0 3327 y(import)f(Maybe\()f(listToMaybe)g(\))0
3500 y(infix)h(5)h(\\\\)0 3667 y(elemIndex)746 b(::)49
b(Eq)g(a)h(=>)f(a)h(->)g([a])f(->)g(Maybe)g(Int)0 3767
y(elemIndex)f(x)648 b(=)99 b(findIndex)48 b(\(x)i(==\))0
3935 y(elemIndices)646 b(::)49 b(Eq)g(a)h(=>)f(a)h(->)g([a])f(->)g
([Int])0 4034 y(elemIndices)f(x)548 b(=)99 b(findIndices)48
b(\(x)h(==\))0 4202 y(find)996 b(::)49 b(\(a)g(->)h(Bool\))f(->)g([a])g
(->)h(Maybe)f(a)0 4302 y(find)g(p)897 b(=)99 b(listToMaybe)48
b(.)h(filter)g(p)0 4469 y(findIndex)746 b(::)49 b(\(a)g(->)h(Bool\))f
(->)g([a])g(->)h(Maybe)f(Int)0 4569 y(findIndex)f(p)648
b(=)99 b(listToMaybe)48 b(.)h(findIndices)f(p)0 4737
y(findIndices)646 b(::)49 b(\(a)g(->)h(Bool\))f(->)g([a])g(->)h([Int])0
4836 y(findIndices)e(p)h(xs)399 b(=)99 b([)50 b(i)f(|)h(\(x,i\))f(<-)g
(zip)g(xs)h([0..],)f(p)g(x)h(])0 5004 y(nub)1046 b(::)49
b(Eq)g(a)h(=>)f([a])h(->)f([a])0 5104 y(nub)1046 b(=)99
b(nubBy)49 b(\(==\))p eop
%%Page: 187 201
187 200 bop 300 100 a FE(17.9.)52 b(LIBRAR)-6 b(Y)21
b FD(LIST)2595 b FI(187)300 334 y Fp(nubBy)946 b(::)49
b(\(a)g(->)h(a)f(->)h(Bool\))f(->)g([a])g(->)h([a])300
434 y(nubBy)f(eq)g([])648 b(=)99 b([])300 534 y(nubBy)49
b(eq)g(\(x:xs\))448 b(=)99 b(x)50 b(:)f(nubBy)g(eq)h(\(filter)e(\(\\y)h
(->)h(not)f(\(eq)g(x)h(y\)\))f(xs\))300 701 y(delete)896
b(::)49 b(Eq)g(a)h(=>)f(a)h(->)g([a])f(->)g([a])300 801
y(delete)896 b(=)99 b(deleteBy)48 b(\(==\))300 969 y(deleteBy)796
b(::)49 b(\(a)g(->)h(a)f(->)h(Bool\))f(->)g(a)h(->)f([a])h(->)f([a])300
1068 y(deleteBy)f(eq)i(x)f([])399 b(=)49 b([])300 1168
y(deleteBy)f(eq)i(x)f(\(y:ys\))199 b(=)49 b(if)h(x)f(`eq`)g(y)h(then)f
(ys)g(else)g(y)h(:)g(deleteBy)e(eq)h(x)h(ys)300 1336
y(\(\\\\\))996 b(::)49 b(Eq)g(a)h(=>)f([a])h(->)f([a])g(->)h([a])300
1435 y(\(\\\\\))996 b(=)99 b(foldl)49 b(\(flip)g(delete\))300
1603 y(deleteFirstsBy)496 b(::)49 b(\(a)g(->)h(a)f(->)h(Bool\))f(->)g
([a])g(->)h([a])f(->)h([a])300 1703 y(deleteFirstsBy)d(eq)349
b(=)99 b(foldl)49 b(\(flip)g(\(deleteBy)f(eq\)\))300
1870 y(union)946 b(::)49 b(Eq)g(a)h(=>)f([a])h(->)f([a])g(->)h([a])300
1970 y(union)946 b(=)99 b(unionBy)48 b(\(==\))300 2138
y(unionBy)846 b(::)49 b(\(a)g(->)h(a)f(->)h(Bool\))f(->)g([a])g(->)h
([a])f(->)h([a])300 2237 y(unionBy)f(eq)g(xs)g(ys)399
b(=)99 b(xs)49 b(++)h(deleteFirstsBy)d(eq)i(\(nubBy)g(eq)h(ys\))f(xs)
300 2405 y(intersect)746 b(::)49 b(Eq)g(a)h(=>)f([a])h(->)f([a])g(->)h
([a])300 2505 y(intersect)746 b(=)99 b(intersectBy)48
b(\(==\))300 2672 y(intersectBy)646 b(::)49 b(\(a)g(->)h(a)f(->)h
(Bool\))f(->)g([a])g(->)h([a])f(->)h([a])300 2772 y(intersectBy)e(eq)h
(xs)h(ys)199 b(=)99 b([x)49 b(|)h(x)g(<-)f(xs,)g(any)h(\(eq)f(x\))g
(ys])300 2940 y(intersperse)646 b(::)49 b(a)h(->)f([a])g(->)h([a])300
3039 y(intersperse)e(sep)h([])299 b(=)99 b([])300 3139
y(intersperse)48 b(sep)h([x])249 b(=)99 b([x])300 3238
y(intersperse)48 b(sep)h(\(x:xs\))99 b(=)g(x)50 b(:)f(sep)g(:)h
(intersperse)e(sep)h(xs)300 3406 y(--)g(transpose)g(is)g(lazy)g(in)h
(both)f(rows)g(and)g(columns,)300 3506 y(--)348 b(and)50
b(works)e(for)i(non-rectangular)d('matrices')300 3605
y(--)i(For)h(example,)e(transpose)g([[1,2],[3,4,5],[]])96
b(=)k([[1,3],[2,4],[5]])300 3705 y(--)49 b(Note)h(that)f([h)g(|)h
(\(h:t\))f(<-)g(xss])g(is)g(not)h(the)f(same)g(as)g(\(map)h(head)f
(xss\))300 3805 y(--)299 b(because)48 b(the)h(former)g(discards)f
(empty)h(sublists)f(inside)h(xss)300 3904 y(transpose)795
b(::)50 b([[a]])f(->)g([[a]])300 4004 y(transpose)f([])647
b(=)50 b([])300 4104 y(transpose)e(\([])249 b(:)49 b(xss\))g(=)h
(transpose)e(xss)300 4203 y(transpose)g(\(\(x:xs\))h(:)g(xss\))g(=)h
(\(x)f(:)h([h)f(|)h(\(h:t\))f(<-)g(xss]\))g(:)1645 4303
y(transpose)f(\(xs)h(:)h([t)f(|)h(\(h:t\))f(<-)g(xss]\))300
4471 y(partition)746 b(::)49 b(\(a)g(->)h(Bool\))f(->)g([a])g(->)h
(\([a],[a]\))300 4570 y(partition)e(p)i(xs)498 b(=)99
b(\(filter)48 b(p)i(xs,)f(filter)g(\(not)g(.)h(p\))f(xs\))300
4738 y(--)g(group)g(splits)g(its)g(list)g(argument)g(into)g(a)g(list)g
(of)h(lists)f(of)g(equal,)g(adjacent)300 4837 y(--)g(elements.)98
b(e.g.,)300 4937 y(--)49 b(group)g("Mississippi")f(==)h
(["M","i","ss","i","ss","i","pp","i"])300 5037 y(group)946
b(::)49 b(Eq)g(a)h(=>)f([a])h(->)f([[a]])300 5136 y(group)946
b(=)99 b(groupBy)48 b(\(==\))p eop
%%Page: 188 202
188 201 bop 0 100 a FI(188)2220 b FE(CHAPTER)20 b(17.)51
b(LIST)22 b(UTILITIES)0 334 y Fp(groupBy)846 b(::)49
b(\(a)g(->)h(a)f(->)h(Bool\))f(->)g([a])g(->)h([[a]])0
434 y(groupBy)f(eq)g([])548 b(=)99 b([])0 534 y(groupBy)49
b(eq)g(\(x:xs\))348 b(=)99 b(\(x:ys\))49 b(:)g(groupBy)g(eq)g(zs)1345
633 y(where)g(\(ys,zs\))f(=)i(span)f(\(eq)g(x\))h(xs)0
801 y(--)f(inits)g(xs)h(returns)e(the)i(list)f(of)g(initial)g(segments)
f(of)h(xs,)h(shortest)e(first.)0 901 y(--)h(e.g.,)g(inits)g("abc")g(==)
h(["","a","ab","abc"])0 1000 y(inits)946 b(::)49 b([a])g(->)h([[a]])0
1100 y(inits)f([])797 b(=)99 b([[]])0 1199 y(inits)49
b(\(x:xs\))597 b(=)99 b([[]])49 b(++)g(map)h(\(x:\))f(\(inits)f(xs\))0
1367 y(--)h(tails)g(xs)h(returns)e(the)i(list)f(of)g(all)g(final)g
(segments)f(of)i(xs,)f(longest)g(first.)0 1467 y(--)g(e.g.,)g(tails)g
("abc")g(==)h(["abc",)e("bc",)h("c",""])0 1566 y(tails)946
b(::)49 b([a])g(->)h([[a]])0 1666 y(tails)f([])797 b(=)99
b([[]])0 1766 y(tails)49 b(xxs@\(_:xs\))397 b(=)99 b(xxs)49
b(:)h(tails)f(xs)0 1933 y(isPrefixOf)745 b(::)50 b(Eq)f(a)h(=>)f([a])h
(->)f([a])g(->)h(Bool)0 2033 y(isPrefixOf)e([])249 b(_)298
b(=)100 b(True)0 2133 y(isPrefixOf)48 b(_)299 b([])248
b(=)100 b(False)0 2232 y(isPrefixOf)48 b(\(x:xs\))h(\(y:ys\))f(=)100
b(x)49 b(==)h(y)f(&&)h(isPrefixOf)e(xs)h(ys)0 2400 y(isSuffixOf)696
b(::)49 b(Eq)g(a)h(=>)f([a])h(->)f([a])g(->)h(Bool)0
2500 y(isSuffixOf)e(x)i(y)498 b(=)99 b(reverse)48 b(x)i(`isPrefixOf`)e
(reverse)g(y)0 2667 y(mapAccumL)746 b(::)49 b(\(a)g(->)h(b)f(->)h(\(a,)
f(c\)\))g(->)h(a)f(->)h([b])f(->)h(\(a,)f([c]\))0 2767
y(mapAccumL)f(f)i(s)f([])399 b(=)99 b(\(s,)49 b([]\))0
2867 y(mapAccumL)f(f)i(s)f(\(x:xs\))199 b(=)99 b(\(s'',y:ys\))1345
2966 y(where)49 b(\(s',)g(y)h(\))f(=)h(f)f(s)h(x)1644
3066 y(\(s'',ys\))e(=)i(mapAccumL)e(f)i(s')f(xs)0 3233
y(mapAccumR)746 b(::)49 b(\(a)g(->)h(b)f(->)h(\(a,)f(c\)\))g(->)h(a)f
(->)h([b])f(->)h(\(a,)f([c]\))0 3333 y(mapAccumR)f(f)i(s)f([])399
b(=)99 b(\(s,)49 b([]\))0 3433 y(mapAccumR)f(f)i(s)f(\(x:xs\))199
b(=)99 b(\(s'',)49 b(y:ys\))1345 3532 y(where)g(\(s'',y)g(\))g(=)h(f)f
(s')h(x)1644 3632 y(\(s',)f(ys\))g(=)h(mapAccumR)e(f)i(s)f(xs)0
3800 y(unfoldr)846 b(::)49 b(\(b)g(->)h(Maybe)f(\(a,b\)\))f(->)i(b)f
(->)h([a])0 3899 y(unfoldr)f(f)g(b)648 b(=)49 b(case)g(f)h(b)f(of)1594
3999 y(Nothing)198 b(->)49 b([])1594 4099 y(Just)g(\(a,b\))g(->)g(a)h
(:)g(unfoldr)e(f)i(b)0 4266 y(sort)996 b(::)49 b(\(Ord)g(a\))g(=>)h
([a])f(->)h([a])0 4366 y(sort)996 b(=)99 b(sortBy)49
b(compare)0 4534 y(sortBy)896 b(::)49 b(\(a)g(->)h(a)f(->)h(Ordering\))
e(->)h([a])h(->)f([a])0 4633 y(sortBy)g(cmp)697 b(=)99
b(foldr)49 b(\(insertBy)f(cmp\))h([])0 4801 y(insert)896
b(::)49 b(\(Ord)g(a\))g(=>)h(a)g(->)f([a])g(->)h([a])0
4901 y(insert)896 b(=)49 b(insertBy)f(compare)p eop
%%Page: 189 203
189 202 bop 300 100 a FE(17.9.)52 b(LIBRAR)-6 b(Y)21
b FD(LIST)2595 b FI(189)300 334 y Fp(insertBy)796 b(::)49
b(\(a)g(->)h(a)f(->)h(Ordering\))e(->)h(a)h(->)g([a])f(->)g([a])300
434 y(insertBy)f(cmp)i(x)f([])349 b(=)99 b([x])300 534
y(insertBy)48 b(cmp)i(x)f(ys@\(y:ys'\))1496 633 y(=)99
b(case)49 b(cmp)g(x)h(y)g(of)1894 733 y(GT)f(->)h(y)g(:)f(insertBy)f
(cmp)i(x)f(ys')1894 832 y(_)99 b(->)50 b(x)g(:)f(ys)300
1000 y(maximumBy)746 b(::)49 b(\(a)g(->)h(a)f(->)h(Ordering\))e(->)h
([a])h(->)f(a)300 1100 y(maximumBy)f(cmp)h([])399 b(=)99
b(error)49 b("List.maximumBy:)e(empty)i(list")300 1199
y(maximumBy)f(cmp)h(xs)399 b(=)99 b(foldl1)49 b(max)g(xs)1496
1299 y(where)1645 1399 y(max)g(x)h(y)f(=)h(case)f(cmp)g(x)h(y)g(of)2293
1498 y(GT)f(->)g(x)2293 1598 y(_)99 b(->)49 b(y)300 1766
y(minimumBy)746 b(::)49 b(\(a)g(->)h(a)f(->)h(Ordering\))e(->)h([a])h
(->)f(a)300 1865 y(minimumBy)f(cmp)h([])399 b(=)99 b(error)49
b("List.minimumBy:)e(empty)i(list")300 1965 y(minimumBy)f(cmp)h(xs)399
b(=)99 b(foldl1)49 b(min)g(xs)1496 2065 y(where)1645
2164 y(min)g(x)h(y)f(=)h(case)f(cmp)g(x)h(y)g(of)2293
2264 y(GT)f(->)g(y)2293 2363 y(_)99 b(->)49 b(x)300 2531
y(genericLength)546 b(::)49 b(\(Integral)f(a\))i(=>)f([b])g(->)h(a)300
2631 y(genericLength)d([])399 b(=)99 b(0)300 2730 y(genericLength)47
b(\(x:xs\))199 b(=)99 b(1)50 b(+)f(genericLength)f(xs)300
2898 y(genericTake)646 b(::)49 b(\(Integral)f(a\))i(=>)f(a)h(->)f([b])g
(->)h([b])300 2998 y(genericTake)e(_)h([])399 b(=)99
b([])300 3097 y(genericTake)48 b(0)h(_)449 b(=)99 b([])300
3197 y(genericTake)48 b(n)h(\(x:xs\))449 3297 y(|)h(n)g(>)f(0)698
b(=)99 b(x)50 b(:)f(genericTake)f(\(n-1\))h(xs)449 3396
y(|)h(otherwise)497 b(=)99 b(error)49 b("List.genericTake:)d(negative)j
(argument")300 3564 y(genericDrop)646 b(::)49 b(\(Integral)f(a\))i(=>)f
(a)h(->)f([b])g(->)h([b])300 3664 y(genericDrop)e(0)h(xs)399
b(=)99 b(xs)300 3763 y(genericDrop)48 b(_)h([])399 b(=)99
b([])300 3863 y(genericDrop)48 b(n)h(\(_:xs\))449 3962
y(|)h(n)g(>)f(0)698 b(=)99 b(genericDrop)48 b(\(n-1\))h(xs)449
4062 y(|)h(otherwise)497 b(=)99 b(error)49 b("List.genericDrop:)d
(negative)j(argument")300 4230 y(genericSplitAt)496 b(::)49
b(\(Integral)f(a\))i(=>)f(a)h(->)f([b])g(->)h(\([b],[b]\))300
4329 y(genericSplitAt)d(0)j(xs)249 b(=)99 b(\([],xs\))300
4429 y(genericSplitAt)47 b(_)j([])249 b(=)99 b(\([],[]\))300
4529 y(genericSplitAt)47 b(n)j(\(x:xs\))449 4628 y(|)g(n)g(>)f(0)698
b(=)99 b(\(x:xs',xs''\))449 4728 y(|)50 b(otherwise)497
b(=)99 b(error)49 b("List.genericSplitAt:)d(negative)i(argument")649
4828 y(where)h(\(xs',xs''\))f(=)99 b(genericSplitAt)47
b(\(n-1\))i(xs)p eop
%%Page: 190 204
190 203 bop 0 100 a FI(190)2220 b FE(CHAPTER)20 b(17.)51
b(LIST)22 b(UTILITIES)0 334 y Fp(genericIndex)596 b(::)49
b(\(Integral)f(a\))i(=>)f([b])g(->)h(a)f(->)h(b)0 434
y(genericIndex)e(\(x:_\))98 b(0)150 b(=)99 b(x)0 534
y(genericIndex)48 b(\(_:xs\))g(n)399 633 y(|)h(n)h(>)f(0)449
b(=)99 b(genericIndex)48 b(xs)h(\(n-1\))399 733 y(|)g(otherwise)248
b(=)99 b(error)49 b("List.genericIndex:)d(negative)i(argument")0
832 y(genericIndex)g(_)h(_)399 b(=)99 b(error)49 b("List.genericIndex:)
d(index)j(too)g(large")0 1000 y(genericReplicate)396
b(::)49 b(\(Integral)f(a\))i(=>)f(a)h(->)f(b)h(->)f([b])0
1100 y(genericReplicate)e(n)i(x)200 b(=)99 b(genericTake)48
b(n)h(\(repeat)g(x\))0 1268 y(zip4)996 b(::)49 b([a])g(->)h([b])f(->)g
([c])h(->)f([d])g(->)h([\(a,b,c,d\)])0 1367 y(zip4)996
b(=)99 b(zipWith4)48 b(\(,,,\))0 1535 y(zip5)996 b(::)49
b([a])g(->)h([b])f(->)g([c])h(->)f([d])g(->)h([e])f(->)g
([\(a,b,c,d,e\)])0 1634 y(zip5)996 b(=)99 b(zipWith5)48
b(\(,,,,\))0 1802 y(zip6)996 b(::)49 b([a])g(->)h([b])f(->)g([c])h(->)f
([d])g(->)h([e])f(->)g([f])h(->)1494 1902 y([\(a,b,c,d,e,f\)])0
2001 y(zip6)996 b(=)99 b(zipWith6)48 b(\(,,,,,\))0 2169
y(zip7)996 b(::)49 b([a])g(->)h([b])f(->)g([c])h(->)f([d])g(->)h([e])f
(->)g([f])h(->)1494 2269 y([g])g(->)f([\(a,b,c,d,e,f,g\)])0
2368 y(zip7)996 b(=)99 b(zipWith7)48 b(\(,,,,,,\))0 2536
y(zipWith4)796 b(::)49 b(\(a->b->c->d->e\))e(->)i
([a]->[b]->[c]->[d]->[e])0 2636 y(zipWith4)f(z)i(\(a:as\))f(\(b:bs\))f
(\(c:cs\))h(\(d:ds\))1196 2735 y(=)99 b(z)50 b(a)f(b)h(c)f(d)h(:)g
(zipWith4)e(z)i(as)f(bs)h(cs)f(ds)0 2835 y(zipWith4)f(_)i(_)g(_)f(_)h
(_)299 b(=)99 b([])0 3003 y(zipWith5)796 b(::)49 b
(\(a->b->c->d->e->f\))d(->)1345 3102 y([a]->[b]->[c]->[d]->[e]->[f])0
3202 y(zipWith5)i(z)i(\(a:as\))f(\(b:bs\))f(\(c:cs\))h(\(d:ds\))g
(\(e:es\))1196 3302 y(=)99 b(z)50 b(a)f(b)h(c)f(d)h(e)g(:)f(zipWith5)g
(z)g(as)h(bs)f(cs)h(ds)f(es)0 3401 y(zipWith5)f(_)i(_)g(_)f(_)h(_)f(_)
200 b(=)99 b([])0 3569 y(zipWith6)796 b(::)49 b
(\(a->b->c->d->e->f->g\))d(->)1345 3669 y
([a]->[b]->[c]->[d]->[e]->[f]->[g])0 3768 y(zipWith6)i(z)i(\(a:as\))f
(\(b:bs\))f(\(c:cs\))h(\(d:ds\))g(\(e:es\))f(\(f:fs\))1196
3868 y(=)99 b(z)50 b(a)f(b)h(c)f(d)h(e)g(f)f(:)h(zipWith6)e(z)i(as)f
(bs)h(cs)f(ds)h(es)f(fs)0 3967 y(zipWith6)f(_)i(_)g(_)f(_)h(_)f(_)h(_)
100 b(=)f([])0 4135 y(zipWith7)796 b(::)49 b
(\(a->b->c->d->e->f->g->h\))c(->)1345 4235 y
([a]->[b]->[c]->[d]->[e]->[f]->[g]->)o([h])0 4334 y(zipWith7)j(z)i
(\(a:as\))f(\(b:bs\))f(\(c:cs\))h(\(d:ds\))g(\(e:es\))f(\(f:fs\))h
(\(g:gs\))946 4434 y(=)100 b(z)50 b(a)f(b)h(c)f(d)h(e)g(f)f(g)h(:)g
(zipWith7)e(z)h(as)h(bs)f(cs)h(ds)f(es)h(fs)f(gs)0 4534
y(zipWith7)f(_)i(_)g(_)f(_)h(_)f(_)h(_)g(_)f(=)h([])0
4701 y(unzip4)896 b(::)49 b([\(a,b,c,d\)])f(->)h(\([a],[b],[c],[d]\))0
4801 y(unzip4)896 b(=)99 b(foldr)49 b(\(\\\(a,b,c,d\))f
(\230\(as,bs,cs,ds\))f(->)1993 4901 y(\(a:as,b:bs,c:cs,d:ds\)\))1644
5000 y(\([],[],[],[]\))p eop
%%Page: 191 205
191 204 bop 300 100 a FE(17.9.)52 b(LIBRAR)-6 b(Y)21
b FD(LIST)2595 b FI(191)300 334 y Fp(unzip5)896 b(::)49
b([\(a,b,c,d,e\)])e(->)j(\([a],[b],[c],[d],[e]\))300
434 y(unzip5)896 b(=)99 b(foldr)49 b(\(\\\(a,b,c,d,e\))e
(\230\(as,bs,cs,ds,es\))g(->)2293 534 y(\(a:as,b:bs,c:cs,d:ds,e:es\)\))
1944 633 y(\([],[],[],[],[]\))300 801 y(unzip6)896 b(::)49
b([\(a,b,c,d,e,f\)])e(->)i(\([a],[b],[c],[d],[e],[f]\))300
901 y(unzip6)896 b(=)99 b(foldr)49 b(\(\\\(a,b,c,d,e,f\))e
(\230\(as,bs,cs,ds,es,fs\))f(->)2293 1000 y
(\(a:as,b:bs,c:cs,d:ds,e:es,f:fs\)\))1944 1100 y(\([],[],[],[],[],[]\))
300 1268 y(unzip7)497 b(::)49 b([\(a,b,c,d,e,f,g\)])e(->)j
(\([a],[b],[c],[d],[e],[f],[g]\))300 1367 y(unzip7)497
b(=)99 b(foldr)49 b(\(\\\(a,b,c,d,e,f,g\))e
(\230\(as,bs,cs,ds,es,fs,gs\))e(->)1894 1467 y
(\(a:as,b:bs,c:cs,d:ds,e:es,f:fs,g:gs)o(\)\))1545 1566
y(\([],[],[],[],[],[],[]\))p eop
%%Page: 192 206
192 205 bop 0 100 a FI(192)2220 b FE(CHAPTER)20 b(17.)51
b(LIST)22 b(UTILITIES)p eop
%%Page: 193 207
193 206 bop 300 1062 a Fw(Chapter)44 b(18)300 1560 y
FH(Maybe)52 b(Utilities)p 315 2029 3548 4 v 315 3783
4 1755 v 366 2164 a Fp(module)d(Maybe\()565 2264 y(isJust,)g
(isNothing,)565 2363 y(fromJust,)f(fromMaybe,)g(listToMaybe,)g
(maybeToList,)565 2463 y(catMaybes,)g(mapMaybe,)565 2596
y(--)i(...and)e(what)h(the)h(Prelude)e(exports)565 2695
y(Maybe\(Nothing,)f(Just\),)565 2795 y(maybe)466 2895
y(\))i(where)366 3062 y(isJust,)f(isNothing)198 b(::)49
b(Maybe)g(a)h(->)f(Bool)366 3162 y(fromJust)646 b(::)49
b(Maybe)g(a)h(->)f(a)366 3262 y(fromMaybe)596 b(::)49
b(a)h(->)g(Maybe)e(a)i(->)f(a)366 3361 y(listToMaybe)496
b(::)49 b([a])h(->)f(Maybe)g(a)366 3461 y(maybeToList)496
b(::)49 b(Maybe)g(a)h(->)f([a])366 3561 y(catMaybes)596
b(::)49 b([Maybe)g(a])h(->)f([a])366 3660 y(mapMaybe)646
b(::)49 b(\(a)h(->)f(Maybe)g(b\))h(->)f([a])g(->)h([b])p
3859 3783 V 315 3786 3548 4 v 300 4080 a FI(The)23 b(type)h
(constructor)j FD(Maybe)21 b FI(is)i(de\002ned)h(in)g
FD(Prelude)19 b FI(as)441 4276 y FD(data)53 b(Maybe)f(a)i(=)g(Nothing)e
(|)i(Just)e(a)300 4472 y FI(The)35 b(purpose)j(of)d(the)h
FD(Maybe)c FI(type)37 b(is)e(to)h(pro)o(vide)h(a)e(method)h(of)g
(dealing)h(with)f(ille)o(gal)g(or)f(optional)j(v)n(al-)300
4585 y(ues)d(without)g(terminating)i(the)d(program,)k(as)d(w)o(ould)g
(happen)h(if)e FD(error)d FI(were)j(used,)k(and)d(without)g(using)300
4698 y FD(IOError)24 b FI(from)k(the)g FD(IO)e FI(monad,)k(which)e(w)o
(ould)g(cause)h(the)g(e)o(xpression)h(to)e(become)h(monadic.)43
b(A)27 b(correct)300 4811 y(result)e(is)e(encapsulated)k(by)d(wrapping)
h(it)e(in)h FD(Just)n FI(;)f(an)h(incorrect)h(result)g(is)e(returned)j
(as)e FD(Nothing)l FI(.)300 5007 y(Other)g(operations)i(on)e
FD(Maybe)c FI(are)k(pro)o(vided)i(as)d(part)h(of)g(the)f(monadic)i
(classes)g(in)f(the)g(Prelude.)2032 5593 y(193)p eop
%%Page: 194 208
194 207 bop 0 100 a FI(194)2093 b FE(CHAPTER)20 b(18.)51
b(MA)-10 b(YBE)22 b(UTILITIES)0 356 y FC(18.1)119 b(Library)30
b Fa(Maybe)0 635 y Fp(module)49 b(Maybe\()199 735 y(isJust,)g
(isNothing,)199 835 y(fromJust,)f(fromMaybe,)g(listToMaybe,)g
(maybeToList,)199 934 y(catMaybes,)g(mapMaybe,)199 1067
y(--)i(...and)e(what)h(the)h(Prelude)e(exports)199 1167
y(Maybe\(Nothing,)f(Just\),)199 1266 y(maybe)100 1366
y(\))i(where)0 1534 y(isJust)846 b(::)49 b(Maybe)g(a)h(->)f(Bool)0
1633 y(isJust)g(\(Just)g(a\))398 b(=)99 b(True)0 1733
y(isJust)49 b(Nothing)447 b(=)99 b(False)0 1901 y(isNothing)696
b(::)49 b(Maybe)g(a)h(->)f(Bool)0 2000 y(isNothing)696
b(=)99 b(not)49 b(.)h(isJust)0 2168 y(fromJust)746 b(::)49
b(Maybe)g(a)h(->)f(a)0 2268 y(fromJust)f(\(Just)h(a\))299
b(=)99 b(a)0 2367 y(fromJust)48 b(Nothing)348 b(=)99
b(error)49 b("Maybe.fromJust:)e(Nothing")0 2535 y(fromMaybe)696
b(::)49 b(a)h(->)f(Maybe)g(a)h(->)f(a)0 2635 y(fromMaybe)f(d)i(Nothing)
198 b(=)99 b(d)0 2734 y(fromMaybe)48 b(d)i(\(Just)f(a\))149
b(=)99 b(a)0 2902 y(maybeToList)596 b(::)49 b(Maybe)g(a)h(->)f([a])0
3002 y(maybeToList)f(Nothing)198 b(=)99 b([])0 3101 y(maybeToList)48
b(\(Just)h(a\))149 b(=)99 b([a])0 3269 y(listToMaybe)596
b(::)49 b([a])g(->)h(Maybe)f(a)0 3369 y(listToMaybe)f([])448
b(=)99 b(Nothing)0 3468 y(listToMaybe)48 b(\(a:_\))298
b(=)99 b(Just)49 b(a)0 3636 y(catMaybes)696 b(::)49 b([Maybe)g(a])g(->)
h([a])0 3735 y(catMaybes)e(ms)548 b(=)99 b([)50 b(m)f(|)h(Just)f(m)h
(<-)f(ms)h(])0 3903 y(mapMaybe)746 b(::)49 b(\(a)h(->)f(Maybe)g(b\))g
(->)h([a])f(->)g([b])0 4003 y(mapMaybe)f(f)648 b(=)99
b(catMaybes)48 b(.)i(map)f(f)p eop
%%Page: 195 209
195 208 bop 300 1050 a Fw(Chapter)44 b(19)300 1536 y
FH(Character)51 b(Utilities)p 315 1955 3548 4 v 315 4479
4 2525 v 366 2090 a Fp(module)e(Char)g(\()565 2190 y(isAscii,)g
(isLatin1,)f(isControl,)g(isPrint,)g(isSpace,)g(isUpper,)h(isLower,)565
2289 y(isAlpha,)g(isDigit,)f(isOctDigit,)g(isHexDigit,)f(isAlphaNum,)
565 2389 y(digitToInt,)h(intToDigit,)565 2489 y(toUpper,)h(toLower,)565
2588 y(ord,)g(chr,)565 2688 y(readLitChar,)f(showLitChar,)f
(lexLitChar,)764 2821 y(--)j(...and)f(what)g(the)g(Prelude)f(exports)
565 2920 y(Char,)h(String)565 3020 y(\))h(where)366 3188
y(isAscii,)e(isLatin1,)g(isControl,)g(isPrint,)h(isSpace,)f(isUpper,)g
(isLower,)416 3287 y(isAlpha,)g(isDigit,)g(isOctDigit,)g(isHexDigit,)g
(isAlphaNum)g(::)h(Char)g(->)h(Bool)366 3455 y(toUpper,)e(toLower)397
b(::)50 b(Char)f(->)g(Char)366 3623 y(digitToInt)f(::)h(Char)g(->)h
(Int)366 3722 y(intToDigit)e(::)h(Int)h(->)f(Char)366
3890 y(ord)398 b(::)49 b(Char)g(->)h(Int)366 3990 y(chr)398
b(::)49 b(Int)99 b(->)50 b(Char)366 4157 y(lexLitChar)98
b(::)49 b(ReadS)g(String)366 4257 y(readLitChar)f(::)h(ReadS)g(Char)366
4357 y(showLitChar)f(::)h(Char)g(->)h(ShowS)p 3859 4479
V 315 4482 3548 4 v 300 4729 a FI(This)25 b(library)i(pro)o(vides)g(a)e
(limited)i(set)e(of)h(operations)i(on)d(the)h(Unicode)h(character)g
(set.)35 b(The)25 b(\002rst)g(128)h(entries)300 4842
y(of)d(this)g(character)i(set)e(are)g(identical)i(to)e(the)g(ASCII)e
(set;)i(with)g(the)g(ne)o(xt)g(128)g(entries)i(comes)e(the)g(remainder)
h(of)300 4955 y(the)i(Latin-1)g(character)i(set.)35 b(This)26
b(module)g(of)n(fers)h(only)f(a)f(limited)h(vie)n(w)g(of)f(the)h(full)g
(Unicode)h(character)h(set;)300 5068 y(the)c(full)g(set)g(of)f(Unicode)
i(character)h(attrib)n(utes)g(is)d(not)h(accessible)i(in)e(this)g
(library)-6 b(.)300 5252 y(Unicode)22 b(characters)g(may)f(be)f(di)n
(vided)i(into)f(\002)n(v)o(e)e(general)j(cate)o(gories:)30
b(non-printing,)24 b(lo)n(wer)d(case)g(alphabetic,)300
5365 y(other)31 b(alphabetic,)i(numeric)e(digits,)h(and)e(other)h
(printable)h(characters.)50 b(F)o(or)29 b(the)h(purposes)i(of)d(Hask)o
(ell,)j(an)o(y)2032 5593 y(195)p eop
%%Page: 196 210
196 209 bop 0 100 a FI(196)1865 b FE(CHAPTER)20 b(19.)51
b(CHARA)l(CTER)20 b(UTILITIES)0 356 y FI(alphabetic)34
b(character)g(which)d(is)g(not)h(lo)n(wer)f(case)h(is)f(treated)i(as)e
(upper)i(case)f(\(Unicode)g(actually)i(has)d(three)0
469 y(cases:)e(upper)l(,)23 b(lo)n(wer)l(,)e(and)g(title\).)29
b(Numeric)21 b(digits)i(may)d(be)h(part)h(of)e(identi\002ers)j(b)n(ut)f
(digits)g(outside)g(the)g(ASCII)0 582 y(range)j(are)e(not)h(used)h(by)e
(the)h(reader)h(to)e(represent)j(numbers.)0 778 y(F)o(or)d(each)h(sort)
g(of)f(Unicode)i(character)l(,)h(here)e(are)g(the)g(predicates)i(which)
e(return)h FD(True)n FI(:)p 277 967 3046 4 v 275 1080
4 113 v 327 1046 a(Character)g(T)-7 b(ype)p 1231 1080
V 401 w(Predicates)p 3321 1080 V 277 1083 3046 4 v 275
1196 4 113 v 327 1162 a(Lo)n(wer)23 b(Case)g(Alphabetic)p
1231 1196 V 103 w FD(isPrint)96 b(isAlphaNum)f(isAlpha)i(isLower)p
3321 1196 V 275 1309 V 327 1275 a FI(Other)24 b(Alphabetic)p
1231 1309 V 330 w FD(isPrint)96 b(isAlphaNum)f(isAlpha)i(isUpper)p
3321 1309 V 275 1422 V 327 1388 a FI(Digits)p 1231 1422
V 735 w FD(isPrint)f(isAlphaNum)p 3321 1422 V 275 1535
V 327 1501 a FI(Other)24 b(Printable)p 1231 1535 V 400
w FD(isPrint)p 3321 1535 V 275 1648 V 327 1614 a FI(Non-printing)p
1231 1648 V 3321 1648 V 277 1651 3046 4 v 0 1879 a(The)51
b FD(isDigit)m FI(,)58 b FD(isOctDigit)l FI(,)f(and)c
FD(isHexDigit)46 b FI(functions)55 b(select)e(only)f(ASCII)f
(characters.)0 1992 y FD(intToDigit)13 b FI(and)20 b
FD(digitToInt)13 b FI(con)l(v)o(ert)21 b(between)f(a)e(single)i(digit)g
FD(Char)c FI(and)j(the)h(corresponding)j FD(Int)n FI(.)0
2105 y FD(digitToInt)g FI(operates)30 b(f)o(ails)g(unless)f(its)g(ar)n
(gument)h(satis\002es)g FD(isHexDigit)-5 b FI(,)28 b(b)n(ut)h
(recognises)j(both)d(up-)0 2218 y(per)24 b(and)h(lo)n(wer)n(-case)g(he)
o(xadecimal)i(digits)e(\(i.e.)k FD('0')o FI(..)p FD('9')n
FI(,)23 b FD('a')o FI(..)p FD('f')n FI(,)g FD('A')n FI(..)p
FD('F')n FI(\).)30 b FD(intToDigit)18 b FI(f)o(ails)0
2331 y(unless)25 b(its)f(ar)n(gument)h(is)e(in)h(the)g(range)g
FD(0)p FI(..)p FD(15)n FI(,)f(and)h(generates)i(lo)n(wer)n(-case)f(he)o
(xadecimal)h(digits.)0 2526 y(The)d FD(isSpace)d FI(function)25
b(recognizes)i(only)d(white)g(characters)i(in)e(the)f(Latin-1)i(range.)
0 2722 y(The)e(function)i FD(showLitChar)18 b FI(con)l(v)o(erts)25
b(a)e(character)i(to)e(a)g(string)h(using)h(only)f(printable)h
(characters,)h(using)0 2835 y(Hask)o(ell)e(source-language)29
b(escape)c(con)l(v)o(entions.)32 b(The)23 b(function)i
FD(lexLitChar)19 b FI(does)24 b(the)f(re)n(v)o(erse,)i(return-)0
2948 y(ing)32 b(the)f(sequence)j(of)d(characters)j(that)e(encode)h(the)
f(character)-5 b(.)54 b(The)31 b(function)i FD(readLitChar)26
b FI(does)32 b(the)0 3061 y(same,)23 b(b)n(ut)h(in)g(addition)i(con)l
(v)o(erts)f(the)f(to)g(the)f(character)j(that)e(it)g(encodes.)30
b(F)o(or)23 b(e)o(xample:)250 3251 y FD(showLitChar)50
b('\\n')i(s)382 b(=)108 b("\\\\n")53 b(++)g(s)250 3364
y(lexLitChar)105 b("\\\\nHello")159 b(=)108 b([\("\\\\n",)51
b("Hello"\)])250 3477 y(readLitChar)f("\\\\nHello")159
b(=)108 b([\('\\n',)52 b("Hello"\)])0 3798 y FI(Function)25
b FD(toUpper)20 b FI(con)l(v)o(erts)26 b(a)d(letter)i(to)e(the)h
(corresponding)k(upper)n(-case)f(letter)l(,)e(lea)n(ving)h(an)o(y)d
(other)i(char)n(-)0 3911 y(acter)f(unchanged.)32 b(An)o(y)23
b(Unicode)i(letter)f(which)g(has)g(an)g(upper)n(-case)i(equi)n(v)n
(alent)g(is)e(transformed.)31 b(Similarly)-6 b(,)0 4024
y FD(toLower)24 b FI(con)l(v)o(erts)30 b(a)e(letter)h(to)e(the)i
(corresponding)j(lo)n(wer)n(-case)e(letter)l(,)g(lea)n(ving)g(an)o(y)e
(other)h(character)h(un-)0 4137 y(changed.)0 4333 y(The)23
b FD(ord)e FI(and)j FD(chr)e FI(functions)k(are)e FD(fromEnum)19
b FI(and)24 b FD(toEnum)c FI(restricted)26 b(to)d(the)h(type)g
FD(Char)n FI(.)p eop
%%Page: 197 211
197 210 bop 300 100 a FE(19.1.)52 b(LIBRAR)-6 b(Y)21
b FD(CHAR)2595 b FI(197)300 356 y FC(19.1)119 b(Library)30
b Fa(Char)300 635 y Fp(module)49 b(Char)g(\()499 735
y(isAscii,)g(isLatin1,)f(isControl,)g(isPrint,)g(isSpace,)g(isUpper,)h
(isLower,)499 835 y(isAlpha,)g(isDigit,)f(isOctDigit,)g(isHexDigit,)f
(isAlphaNum,)499 934 y(digitToInt,)h(intToDigit,)499
1034 y(toUpper,)h(toLower,)499 1134 y(ord,)g(chr,)499
1233 y(readLitChar,)f(showLitChar,)f(lexLitChar,)699
1366 y(--)i(...and)g(what)g(the)g(Prelude)f(exports)499
1466 y(Char,)h(String)499 1565 y(\))h(where)300 1733
y(import)f(Array)447 b(--)50 b(Used)f(for)g(character)f(name)h(table.)
300 1833 y(import)g(Numeric)f(\(readDec,)g(readOct,)h(lexDigits,)f
(readHex\))300 1932 y(import)h(UnicodePrims)97 b(--)50
b(Source)e(of)i(primitive)e(Unicode)g(functions.)300
2100 y(--)h(Character-testing)e(operations)300 2200 y(isAscii,)h
(isLatin1,)g(isControl,)g(isPrint,)h(isSpace,)f(isUpper,)g(isLower,)350
2299 y(isAlpha,)g(isDigit,)g(isOctDigit,)g(isHexDigit,)g(isAlphaNum)g
(::)h(Char)g(->)h(Bool)300 2467 y(isAscii)f(c)796 b(=)100
b(c)49 b(<)h('\\x80')300 2639 y(isLatin1)e(c)747 b(=)100
b(c)49 b(<=)h('\\xff')300 2812 y(isControl)e(c)697 b(=)100
b(c)49 b(<)h(')g(')f(||)h(c)f(>=)h('\\DEL')e(&&)i(c)g(<=)f('\\x9f')300
2985 y(isPrint)895 b(=)100 b(primUnicodeIsPrint)300 3153
y(isSpace)49 b(c)796 b(=)100 b(c)49 b(`elem`)g(")h
(\\t\\n\\r\\f\\v\\xA0")699 3252 y(--)f(Only)g(Latin-1)g(spaces)f
(recognized)300 3420 y(isUpper)895 b(=)100 b(primUnicodeIsUpper)c(--)49
b('A'..'Z')300 3593 y(isLower)895 b(=)100 b(primUnicodeIsLower)c(--)49
b('a'..'z')300 3765 y(isAlpha)g(c)796 b(=)100 b(isUpper)48
b(c)i(||)f(isLower)g(c)300 3938 y(isDigit)g(c)796 b(=)100
b(c)49 b(>=)h('0')f(&&)h(c)f(<=)h('9')300 4111 y(isOctDigit)e(c)647
b(=)100 b(c)49 b(>=)h('0')f(&&)h(c)f(<=)h('7')300 4278
y(isHexDigit)e(c)647 b(=)100 b(isDigit)48 b(c)i(||)f(c)h(>=)f('A')h(&&)
f(c)h(<=)f('F')g(||)2342 4378 y(c)h(>=)f('a')h(&&)f(c)h(<=)f('f')300
4546 y(isAlphaNum)745 b(=)100 b(primUnicodeIsAlphaNum)300
4713 y(--)49 b(Digit)g(conversion)f(operations)300 4813
y(digitToInt)g(::)h(Char)g(->)h(Int)300 4913 y(digitToInt)e(c)400
5012 y(|)h(isDigit)g(c)597 b(=)100 b(fromEnum)48 b(c)i(-)f(fromEnum)g
('0')400 5112 y(|)g(c)h(>=)f('a')h(&&)f(c)h(<=)f('f')g(=)100
b(fromEnum)48 b(c)i(-)f(fromEnum)g('a')g(+)h(10)400 5212
y(|)f(c)h(>=)f('A')h(&&)f(c)h(<=)f('F')g(=)100 b(fromEnum)48
b(c)i(-)f(fromEnum)g('A')g(+)h(10)400 5311 y(|)f(otherwise)596
b(=)100 b(error)49 b("Char.digitToInt:)d(not)k(a)f(digit")p
eop
%%Page: 198 212
198 211 bop 0 100 a FI(198)1865 b FE(CHAPTER)20 b(19.)51
b(CHARA)l(CTER)20 b(UTILITIES)0 334 y Fp(intToDigit)48
b(::)h(Int)h(->)f(Char)0 434 y(intToDigit)f(i)100 534
y(|)h(i)h(>=)f(0)100 b(&&)49 b(i)h(<=)99 b(9)149 b(=)100
b(toEnum)48 b(\(fromEnum)h('0')g(+)g(i\))100 633 y(|)g(i)h(>=)f(10)h
(&&)f(i)h(<=)f(15)149 b(=)100 b(toEnum)48 b(\(fromEnum)h('a')g(+)g(i)h
(-)g(10\))100 733 y(|)f(otherwise)596 b(=)100 b(error)49
b("Char.intToDigit:)d(not)k(a)f(digit")0 901 y(--)g(Case-changing)f
(operations)0 1000 y(toUpper)h(::)g(Char)g(->)g(Char)0
1100 y(toUpper)g(=)99 b(primUnicodeToUpper)0 1268 y(toLower)49
b(::)g(Char)g(->)g(Char)0 1367 y(toLower)g(=)99 b(primUnicodeToLower)0
1535 y(--)49 b(Character)g(code)g(functions)0 1634 y(ord)99
b(::)50 b(Char)f(->)g(Int)0 1734 y(ord)99 b(=)h(fromEnum)0
1902 y(chr)f(::)50 b(Int)99 b(->)49 b(Char)0 2001 y(chr)99
b(=)h(toEnum)0 2169 y(--)49 b(Text)h(functions)0 2269
y(readLitChar)496 b(::)50 b(ReadS)e(Char)0 2368 y(readLitChar)g
(\('\\\\':s\))g(=)100 b(readEsc)48 b(s)0 2468 y(readLitChar)g(\(c:s\))
198 b(=)100 b([\(c,s\)])0 2636 y(readEsc)497 b(::)49
b(ReadS)g(Char)0 2735 y(readEsc)g(\('a':s\))98 b(=)49
b([\('\\a',s\)])0 2835 y(readEsc)g(\('b':s\))98 b(=)49
b([\('\\b',s\)])0 2935 y(readEsc)g(\('f':s\))98 b(=)49
b([\('\\f',s\)])0 3034 y(readEsc)g(\('n':s\))98 b(=)49
b([\('\\n',s\)])0 3134 y(readEsc)g(\('r':s\))98 b(=)49
b([\('\\r',s\)])0 3233 y(readEsc)g(\('t':s\))98 b(=)49
b([\('\\t',s\)])0 3333 y(readEsc)g(\('v':s\))98 b(=)49
b([\('\\v',s\)])0 3433 y(readEsc)g(\('\\\\':s\))f(=)h([\('\\\\',s\)])0
3532 y(readEsc)g(\('"':s\))98 b(=)49 b([\('"',s\)])0
3632 y(readEsc)g(\('\\'':s\))f(=)h([\('\\'',s\)])0 3732
y(readEsc)g(\('\210':c:s\))f(|)h(c)h(>=)f('@')h(&&)f(c)h(<=)f('_')847
3831 y(=)g([\(chr)g(\(ord)g(c)h(-)g(ord)f('@'\),)g(s\)])0
3931 y(readEsc)g(s@\(d:_\))f(|)i(isDigit)e(d)847 4031
y(=)h([\(chr)g(n,)h(t\))f(|)h(\(n,t\))f(<-)g(readDec)g(s])0
4130 y(readEsc)g(\('o':s\))98 b(=)49 b([\(chr)g(n,)h(t\))f(|)h(\(n,t\))
f(<-)g(readOct)g(s])0 4230 y(readEsc)g(\('x':s\))98 b(=)49
b([\(chr)g(n,)h(t\))f(|)h(\(n,t\))f(<-)g(readHex)g(s])0
4329 y(readEsc)g(s@\(c:_\))f(|)i(isUpper)e(c)847 4429
y(=)h(let)h(table)f(=)g(\('\\DEL',)g("DEL"\))f(:)i(assocs)f(asciiTab)
946 4529 y(in)h(case)f([\(c,s'\))f(|)i(\(c,)f(mne\))g(<-)h(table,)1843
4628 y(\([],s'\))f(<-)g([match)g(mne)g(s]])1096 4728
y(of)g(\(pr:_\))g(->)g([pr])1245 4828 y([])249 b(->)49
b([])0 4927 y(readEsc)g(_)398 b(=)49 b([])0 5095 y(match)1244
b(::)50 b(\(Eq)f(a\))h(=>)f([a])g(->)h([a])f(->)g(\([a],[a]\))0
5194 y(match)g(\(x:xs\))g(\(y:ys\))f(|)i(x)g(==)f(y)99
b(=)h(match)49 b(xs)g(ys)0 5294 y(match)g(xs)249 b(ys)746
b(=)100 b(\(xs,ys\))p eop
%%Page: 199 213
199 212 bop 300 100 a FE(19.1.)52 b(LIBRAR)-6 b(Y)21
b FD(CHAR)2595 b FI(199)300 334 y Fp(showLitChar)745
b(::)50 b(Char)f(->)g(ShowS)300 434 y(showLitChar)f(c)h(|)h(c)g(>)f
('\\DEL')g(=)99 b(showChar)49 b('\\\\')g(.)1794 534 y(protectEsc)f
(isDigit)h(\(shows)g(\(ord)g(c\)\))300 633 y(showLitChar)f('\\DEL')447
b(=)99 b(showString)48 b("\\\\DEL")300 733 y(showLitChar)g('\\\\')547
b(=)99 b(showString)48 b("\\\\\\\\")300 832 y(showLitChar)g(c)h(|)h(c)g
(>=)f(')h(')149 b(=)99 b(showChar)49 b(c)300 932 y(showLitChar)f('\\a')
547 b(=)99 b(showString)48 b("\\\\a")300 1032 y(showLitChar)g('\\b')547
b(=)99 b(showString)48 b("\\\\b")300 1131 y(showLitChar)g('\\f')547
b(=)99 b(showString)48 b("\\\\f")300 1231 y(showLitChar)g('\\n')547
b(=)99 b(showString)48 b("\\\\n")300 1331 y(showLitChar)g('\\r')547
b(=)99 b(showString)48 b("\\\\r")300 1430 y(showLitChar)g('\\t')547
b(=)99 b(showString)48 b("\\\\t")300 1530 y(showLitChar)g('\\v')547
b(=)99 b(showString)48 b("\\\\v")300 1630 y(showLitChar)g('\\SO')497
b(=)99 b(protectEsc)48 b(\(==)i('H'\))f(\(showString)e("\\\\SO"\))300
1729 y(showLitChar)h(c)697 b(=)99 b(showString)48 b(\('\\\\')h(:)h
(asciiTab!c\))300 1897 y(protectEsc)e(p)i(f)647 b(=)50
b(f)f(.)h(cont)1745 1996 y(where)e(cont)i(s@\(c:_\))e(|)i(p)f(c)h(=)g
("\\\\&")e(++)i(s)2043 2096 y(cont)g(s)647 b(=)50 b(s)300
2196 y(asciiTab)e(=)i(listArray)e(\('\\NUL',)g(')i('\))848
2295 y(["NUL",)e("SOH",)h("STX",)g("ETX",)g("EOT",)f("ENQ",)h("ACK",)g
("BEL",)898 2395 y("BS",)98 b("HT",)h("LF",)g("VT",)g("FF",)f("CR",)h
("SO",)g("SI",)898 2495 y("DLE",)48 b("DC1",)h("DC2",)g("DC3",)g
("DC4",)f("NAK",)h("SYN",)g("ETB",)898 2594 y("CAN",)f("EM",)99
b("SUB",)49 b("ESC",)g("FS",)98 b("GS",)h("RS",)g("US",)898
2694 y("SP"])300 2862 y(lexLitChar)496 b(::)50 b(ReadS)f(String)300
2961 y(lexLitChar)f(\('\\\\':s\))g(=)100 b(map)49 b(\(prefix)f
('\\\\'\))h(\(lexEsc)g(s\))699 3061 y(where)798 3160
y(lexEsc)g(\(c:s\))248 b(|)50 b(c)f(`elem`)g("abfnrtv\\\\\\"'")e(=)j
([\([c],s\)])798 3260 y(lexEsc)f(\('\210':c:s\))f(|)i(c)f(>=)h('@')f
(&&)g(c)h(<=)f('_')199 b(=)50 b([\(['\210',c],s\)])798
3393 y(--)g(Numeric)e(escapes)798 3493 y(lexEsc)h(\('o':s\))746
b(=)49 b([prefix)g('o')g(\(span)g(isOctDigit)f(s\)])798
3592 y(lexEsc)h(\('x':s\))746 b(=)49 b([prefix)g('x')g(\(span)g
(isHexDigit)f(s\)])798 3692 y(lexEsc)h(s@\(d:_\))148
b(|)50 b(isDigit)e(d)i(=)f([span)g(isDigit)g(s])798 3825
y(--)h(Very)f(crude)g(approximation)e(to)i(\\XYZ.)798
3924 y(lexEsc)g(s@\(c:_\))148 b(|)50 b(isUpper)e(c)i(=)f([span)g
(isCharName)f(s])798 4024 y(lexEsc)h(_)1046 b(=)49 b([])798
4157 y(isCharName)f(c)149 b(=)50 b(isUpper)e(c)i(||)g(isDigit)e(c)798
4256 y(prefix)h(c)g(\(t,s\))g(=)h(\(c:t,)f(s\))300 4424
y(lexLitChar)f(\(c:s\))198 b(=)100 b([\([c],s\)])300
4524 y(lexLitChar)48 b("")348 b(=)100 b([])p eop
%%Page: 200 214
200 213 bop 0 100 a FI(200)1865 b FE(CHAPTER)20 b(19.)51
b(CHARA)l(CTER)20 b(UTILITIES)p eop
%%Page: 201 215
201 214 bop 2032 5593 a FI(201)p eop
%%Page: 202 216
202 215 bop 0 100 a FI(202)2071 b FE(CHAPTER)20 b(20.)52
b(MON)m(AD)21 b(UTILITIES)0 1045 y Fw(Chapter)44 b(20)0
1527 y FH(Monad)52 b(Utilities)p 15 1941 3548 4 v 15
5761 4 3821 v 66 2076 a Fp(module)d(Monad)g(\()265 2176
y(MonadPlus\(mzero,)e(mplus\),)265 2275 y(join,)i(guard,)g(when,)g
(unless,)f(ap,)265 2375 y(msum,)265 2475 y(filterM,)h(mapAndUnzipM,)e
(zipWithM,)h(zipWithM_,)g(foldM,)265 2574 y(liftM,)h(liftM2,)f(liftM3,)
h(liftM4,)f(liftM5,)265 2707 y(--)i(...and)e(what)h(the)h(Prelude)e
(exports)265 2807 y(Monad\(\(>>=\),)g(\(>>\),)h(return,)f(fail\),)265
2906 y(Functor\(fmap\),)265 3006 y(mapM,)h(mapM_,)g(sequence,)f
(sequence_,)g(\(=<<\),)265 3106 y(\))i(where)66 3273
y(class)99 b(Monad)49 b(m)g(=>)h(MonadPlus)e(m)99 b(where)265
3373 y(mzero)g(::)49 b(m)h(a)265 3472 y(mplus)99 b(::)49
b(m)h(a)g(->)f(m)h(a)f(->)h(m)f(a)66 3640 y(join)647
b(::)49 b(Monad)g(m)h(=>)f(m)h(\(m)f(a\))h(->)f(m)h(a)66
3740 y(guard)597 b(::)49 b(MonadPlus)f(m)i(=>)f(Bool)g(->)h(m)g(\(\))66
3839 y(when)647 b(::)49 b(Monad)g(m)h(=>)f(Bool)g(->)h(m)f(\(\))h(->)f
(m)h(\(\))66 3939 y(unless)547 b(::)49 b(Monad)g(m)h(=>)f(Bool)g(->)h
(m)f(\(\))h(->)f(m)h(\(\))66 4039 y(ap)747 b(::)49 b(Monad)g(m)h(=>)f
(m)h(\(a)f(->)h(b\))f(->)h(m)f(a)h(->)f(m)h(b)66 4206
y(mapAndUnzipM)247 b(::)49 b(Monad)g(m)h(=>)f(\(a)h(->)f(m)h(\(b,c\)\))
e(->)i([a])f(->)g(m)h(\([b],)f([c]\))66 4306 y(zipWithM)447
b(::)49 b(Monad)g(m)h(=>)f(\(a)h(->)f(b)h(->)f(m)h(c\))f(->)h([a])f(->)
g([b])h(->)f(m)h([c])66 4406 y(zipWithM_)397 b(::)49
b(Monad)g(m)h(=>)f(\(a)h(->)f(b)h(->)f(m)h(c\))f(->)h([a])f(->)g([b])h
(->)f(m)h(\(\))66 4505 y(foldM)597 b(::)49 b(Monad)g(m)h(=>)f(\(a)h(->)
f(b)h(->)f(m)h(a\))f(->)h(a)f(->)h([b])f(->)g(m)h(a)66
4605 y(filterM)497 b(::)49 b(Monad)g(m)h(=>)f(\(a)h(->)f(m)h(Bool\))f
(->)g([a])g(->)h(m)f([a])66 4772 y(msum)647 b(::)49 b(MonadPlus)f(m)i
(=>)f([m)h(a])f(->)h(m)f(a)66 4940 y(liftM)597 b(::)49
b(Monad)g(m)h(=>)f(\(a)h(->)f(b\))g(->)h(\(m)f(a)h(->)f(m)h(b\))66
5040 y(liftM2)547 b(::)49 b(Monad)g(m)h(=>)f(\(a)h(->)f(b)h(->)f(c\))h
(->)f(\(m)g(a)h(->)f(m)h(b)g(->)f(m)h(c\))66 5140 y(liftM3)547
b(::)49 b(Monad)g(m)h(=>)f(\(a)h(->)f(b)h(->)f(c)h(->)f(d\))h(->)1610
5239 y(\(m)g(a)f(->)h(m)f(b)h(->)f(m)h(c)g(->)f(m)h(d\))66
5339 y(liftM4)547 b(::)49 b(Monad)g(m)h(=>)f(\(a)h(->)f(b)h(->)f(c)h
(->)f(d)h(->)f(e\))h(->)1610 5438 y(\(m)g(a)f(->)h(m)f(b)h(->)f(m)h(c)g
(->)f(m)h(d)f(->)h(m)f(e\))66 5538 y(liftM5)547 b(::)49
b(Monad)g(m)h(=>)f(\(a)h(->)f(b)h(->)f(c)h(->)f(d)h(->)f(e)h(->)f(f\))h
(->)1610 5638 y(\(m)g(a)f(->)h(m)f(b)h(->)f(m)h(c)g(->)f(m)h(d)f(->)h
(m)f(e)h(->)f(m)h(f\))p 3559 5761 V 15 5764 3548 4 v
eop
%%Page: 203 217
203 216 bop 300 100 a FE(20.1.)52 b(N)m(AMING)21 b(CONVENTIONS)2188
b FI(203)300 356 y(The)20 b FD(Monad)d FI(library)22
b(de\002nes)e(the)h FD(MonadPlus)15 b FI(class,)22 b(and)e(pro)o(vides)
i(some)f(useful)g(operations)i(on)d(monads.)300 732 y
FC(20.1)119 b(Naming)30 b(con)-5 b(v)o(entions)300 1022
y FI(The)23 b(functions)j(in)e(this)g(library)h(use)f(the)g(follo)n
(wing)h(naming)f(con)l(v)o(entions:)436 1292 y FB(\017)46
b FI(A)32 b(post\002x)i(\223)p FD(M)p FI(\224)e(al)o(w)o(ays)i(stands)h
(for)e(a)f(function)j(in)e(the)h(Kleisli)f(cate)o(gory:)50
b FD(m)32 b FI(is)h(added)h(to)f(function)527 1405 y(results)25
b(\(modulo)g(currying\))h(and)e(no)n(where)h(else.)k(So,)22
b(for)i(e)o(xample,)778 1550 y FD(filter)106 b(::)654
b(\(a)53 b(->)163 b(Bool\))52 b(->)i([a])f(->)163 b([a])778
1662 y(filterM)51 b(::)j(Monad)e(m)i(=>)g(\(a)f(->)h(m)g(Bool\))e(->)i
([a])f(->)h(m)g([a])436 1944 y FB(\017)46 b FI(A)23 b(post\002x)h(\223)
p FD(_)p FI(\224)f(changes)i(the)f(result)h(type)f(from)g
FD(\(m)53 b(a\))22 b FI(to)i FD(\(m)53 b(\(\)\))o FI(.)28
b(Thus)23 b(\(in)h(the)g FD(Prelude)m FI(\):)668 2088
y FD(sequence)106 b(::)54 b(Monad)e(m)i(=>)g([m)f(a])h(->)f(m)h([a])668
2201 y(sequence_)d(::)j(Monad)e(m)i(=>)g([m)f(a])h(->)f(m)h(\(\))436
2483 y FB(\017)46 b FI(A)23 b(pre\002x)g(\223)p FD(m)p
FI(\224)g(generalises)k(an)d(e)o(xisting)h(function)h(to)d(a)g(monadic)
i(form.)k(Thus,)23 b(for)h(e)o(xample:)778 2627 y FD(sum)107
b(::)54 b(Num)f(a)381 b(=>)54 b([a])162 b(->)54 b(a)778
2740 y(msum)e(::)i(MonadPlus)c(m)k(=>)g([m)g(a])f(->)h(m)g(a)300
3210 y FC(20.2)119 b(Class)29 b Fa(MonadPlus)300 3500
y FI(The)23 b FD(MonadPlus)c FI(class)24 b(is)g(de\002ned)g(as)f(follo)
n(ws:)441 3671 y FD(class)107 b(Monad)52 b(m)i(=>)g(MonadPlus)c(m)109
b(where)659 3784 y(mzero)e(::)54 b(m)g(a)659 3897 y(mplus)107
b(::)54 b(m)g(a)g(->)g(m)g(a)g(->)f(m)h(a)300 4084 y
FI(The)23 b(class)i(methods)f FD(mzero)d FI(and)j FD(mplus)c
FI(are)k(the)g(zero)g(and)g(plus)g(of)g(the)g(monad.)300
4280 y(Lists)g(and)g(the)f FD(Maybe)e FI(type)j(are)g(instances)i(of)d
FD(MonadPlus)l FI(,)g(thus:)441 4470 y FD(instance)106
b(MonadPlus)50 b(Maybe)107 b(where)659 4583 y(mzero)925
b(=)54 b(Nothing)659 4696 y(Nothing)e(`mplus`)f(ys)217
b(=)54 b(ys)659 4809 y(xs)327 b(`mplus`)51 b(ys)217 b(=)54
b(xs)441 4969 y(instance)106 b(MonadPlus)50 b([])108
b(where)659 5082 y(mzero)53 b(=)h([])659 5194 y(mplus)f(=)h(\(++\))p
eop
%%Page: 204 218
204 217 bop 0 100 a FI(204)2071 b FE(CHAPTER)20 b(20.)52
b(MON)m(AD)21 b(UTILITIES)0 356 y FC(20.3)119 b(Functions)0
645 y FI(The)35 b FD(join)e FI(function)38 b(is)e(the)g(con)l(v)o
(entional)j(monad)e(join)f(operator)-5 b(.)67 b(It)36
b(is)f(used)i(to)e(remo)o(v)o(e)h(one)g(le)n(v)o(el)g(of)0
758 y(monadic)25 b(structure,)g(projecting)i(its)c(bound)i(ar)n(gument)
h(into)e(the)g(outer)g(le)n(v)o(el.)0 953 y(The)j FD(mapAndUnzipM)21
b FI(function)30 b(maps)d(its)h(\002rst)f(ar)n(gument)i(o)o(v)o(er)f(a)
f(list,)i(returning)g(the)f(result)h(as)e(a)g(pair)h(of)0
1066 y(lists.)h(This)24 b(function)i(is)d(mainly)h(used)h(with)e
(complicated)j(data)e(structures)i(or)e(a)f(state-transforming)28
b(monad.)0 1262 y(The)j FD(zipWithM)c FI(function)34
b(generalises)g FD(zipWith)28 b FI(to)j(arbitrary)j(monads.)54
b(F)o(or)30 b(instance)k(the)e(follo)n(wing)0 1374 y(function)26
b(displays)f(a)f(\002le,)e(pre\002xing)j(each)f(line)h(with)e(its)h
(line)g(number)l(,)141 1554 y Fp(listFile)48 b(::)i(String)f(->)g(IO)g
(\(\))141 1654 y(listFile)f(nm)i(=)241 1754 y(do)f(cts)g(<-)h(readFile)
e(nm)390 1853 y(zipWithM_)g(\(\\i)i(line)f(->)g(do)h(putStr)e(\(show)h
(i\);)g(putStr)g(":)g(";)h(putStrLn)e(line\))888 1953
y([1..])888 2053 y(\(lines)h(cts\))0 2235 y FI(The)21
b FD(foldM)e FI(function)k(is)f(analogous)i(to)e FD(foldl)m
FI(,)f(e)o(xcept)i(that)f(its)g(result)g(is)g(encapsulated)j(in)c(a)h
(monad.)28 b(Note)0 2348 y(that)h FD(foldM)c FI(w)o(orks)k(from)g
(left-to-right)j(o)o(v)o(er)c(the)h(list)g(ar)n(guments.)46
b(This)28 b(could)i(be)e(an)h(issue)g(where)g FD(\(>>\))0
2461 y FI(and)24 b(the)g(\223folded)h(function\224)h(are)e(not)g
(commutati)n(v)o(e.)359 2632 y FD(foldM)53 b(f)h(a1)f([x1,)g(x2,)g
(...,)g(xm)h(])141 2745 y(==)359 2858 y(do)468 2971 y(a2)g(<-)g(f)g(a1)
f(x1)468 3083 y(a3)h(<-)g(f)g(a2)f(x2)468 3196 y(...)468
3309 y(f)i(am)e(xm)0 3496 y FI(If)23 b(right-to-left)k(e)n(v)n
(aluation)f(is)d(required,)j(the)e(input)g(list)g(should)h(be)f(re)n(v)
o(ersed.)0 3691 y(The)j FD(when)e FI(and)j FD(unless)c
FI(functions)30 b(pro)o(vide)f(conditional)i(e)o(x)o(ecution)e(of)e
(monadic)i(e)o(xpressions.)44 b(F)o(or)26 b(e)o(x-)0
3804 y(ample,)141 3999 y FD(when)53 b(debug)f(\(putStr)f
("Debugging\\n"\))0 4194 y FI(will)28 b(output)i(the)e(string)i
FD("Debugging\\n")21 b FI(if)28 b(the)h(Boolean)g(v)n(alue)g
FD(debug)c FI(is)j FD(True)n FI(,)h(and)f(otherwise)i(do)0
4307 y(nothing.)0 4502 y(The)24 b(monadic)h(lifting)g(operators)i
(promote)e(a)f(function)i(to)e(a)g(monad.)31 b(The)23
b(function)k(ar)n(guments)f(are)e(scanned)0 4615 y(left)g(to)f(right.)
30 b(F)o(or)23 b(e)o(xample,)141 4805 y FD(liftM2)52
b(\(+\))h([0,1])f([0,2])h(=)h([0,2,1,3])141 4918 y(liftM2)e(\(+\))h
(\(Just)f(1\))i(Nothing)d(=)j(Nothing)0 5252 y FI(In)24
b(man)o(y)g(situations,)j(the)e FD(liftM)c FI(operations)27
b(can)d(be)h(replaced)h(by)e(uses)h(of)f FD(ap)o FI(,)g(which)g
(promotes)i(function)0 5365 y(application.)p eop
%%Page: 205 219
205 218 bop 300 100 a FE(20.3.)52 b(FUNCTIONS)2718 b
FI(205)441 356 y FD(return)52 b(f)i(`ap`)f(x1)g(`ap`)g(...)g(`ap`)g(xn)
300 552 y FI(is)23 b(equi)n(v)n(alent)j(to)441 748 y
FD(liftMn)52 b(f)i(x1)g(x2)f(...)g(xn)p eop
%%Page: 206 220
206 219 bop 0 100 a FI(206)2071 b FE(CHAPTER)20 b(20.)52
b(MON)m(AD)21 b(UTILITIES)0 356 y FC(20.4)119 b(Library)30
b Fa(Monad)0 635 y Fp(module)49 b(Monad)g(\()199 735
y(MonadPlus\(mzero,)e(mplus\),)199 835 y(join,)i(guard,)g(when,)g
(unless,)f(ap,)199 934 y(msum,)199 1034 y(filterM,)h(mapAndUnzipM,)e
(zipWithM,)h(zipWithM_,)g(foldM,)199 1134 y(liftM,)h(liftM2,)f(liftM3,)
h(liftM4,)f(liftM5,)199 1266 y(--)i(...and)e(what)h(the)h(Prelude)e
(exports)199 1366 y(Monad\(\(>>=\),)g(\(>>\),)h(return,)f(fail\),)199
1466 y(Functor\(fmap\),)199 1565 y(mapM,)h(mapM_,)g(sequence,)f
(sequence_,)g(\(=<<\),)199 1665 y(\))i(where)0 1833 y(--)f(The)h
(MonadPlus)e(class)h(definition)0 1965 y(class)99 b(\(Monad)48
b(m\))i(=>)f(MonadPlus)f(m)100 b(where)199 2065 y(mzero)f(::)49
b(m)h(a)199 2165 y(mplus)99 b(::)49 b(m)h(a)g(->)f(m)h(a)f(->)h(m)f(a)0
2332 y(--)g(Instances)g(of)g(MonadPlus)0 2465 y(instance)98
b(MonadPlus)48 b(Maybe)99 b(where)199 2565 y(mzero)846
b(=)50 b(Nothing)199 2698 y(Nothing)f(`mplus`)f(ys)199
b(=)100 b(ys)199 2797 y(xs)299 b(`mplus`)48 b(ys)199
b(=)100 b(xs)0 2965 y(instance)e(MonadPlus)48 b([])100
b(where)199 3065 y(mzero)49 b(=)100 b([])199 3164 y(mplus)49
b(=)h(\(++\))0 3332 y(--)f(Functions)0 3498 y(msum)647
b(::)49 b(MonadPlus)f(m)i(=>)f([m)h(a])f(->)h(m)f(a)0
3598 y(msum)g(xs)498 b(=)99 b(foldr)49 b(mplus)g(mzero)g(xs)0
3765 y(join)647 b(::)49 b(\(Monad)g(m\))g(=>)h(m)f(\(m)h(a\))f(->)h(m)f
(a)0 3865 y(join)g(x)548 b(=)99 b(x)50 b(>>=)f(id)0 4033
y(when)647 b(::)49 b(\(Monad)g(m\))g(=>)h(Bool)f(->)g(m)h(\(\))f(->)h
(m)f(\(\))0 4132 y(when)g(p)h(s)448 b(=)99 b(if)50 b(p)f(then)g(s)h
(else)f(return)g(\(\))0 4300 y(unless)547 b(::)49 b(\(Monad)g(m\))g(=>)
h(Bool)f(->)g(m)h(\(\))f(->)h(m)f(\(\))0 4400 y(unless)g(p)g(s)349
b(=)99 b(when)49 b(\(not)g(p\))h(s)0 4567 y(ap)747 b(::)49
b(\(Monad)g(m\))g(=>)h(m)f(\(a)h(->)f(b\))h(->)f(m)h(a)f(->)h(m)g(b)0
4667 y(ap)747 b(=)99 b(liftM2)49 b(\($\))0 4835 y(guard)597
b(::)49 b(MonadPlus)f(m)i(=>)f(Bool)h(->)f(m)h(\(\))0
4934 y(guard)f(p)498 b(=)99 b(if)50 b(p)f(then)g(return)g(\(\))h(else)f
(mzero)0 5102 y(mapAndUnzipM)247 b(::)49 b(\(Monad)g(m\))g(=>)h(\(a)f
(->)h(m)f(\(b,c\)\))g(->)g([a])h(->)f(m)h(\([b],)f([c]\))0
5202 y(mapAndUnzipM)f(f)h(xs)h(=)f(sequence)g(\(map)g(f)g(xs\))h(>>=)f
(return)f(.)i(unzip)p eop
%%Page: 207 221
207 220 bop 300 100 a FE(20.4.)52 b(LIBRAR)-6 b(Y)21
b FD(MONAD)2540 b FI(207)300 334 y Fp(zipWithM)447 b(::)49
b(\(Monad)g(m\))g(=>)h(\(a)f(->)h(b)f(->)h(m)f(c\))h(->)f([a])h(->)f
([b])g(->)h(m)f([c])300 434 y(zipWithM)f(f)i(xs)f(ys)h(=)99
b(sequence)49 b(\(zipWith)f(f)i(xs)f(ys\))300 602 y(zipWithM_)447
b(::)49 b(\(Monad)g(m\))g(=>)h(\(a)f(->)h(b)f(->)h(m)f(c\))h(->)f([a])g
(->)h([b])f(->)g(m)h(\(\))300 701 y(zipWithM_)e(f)i(xs)f(ys)h(=)99
b(sequence_)48 b(\(zipWith)h(f)g(xs)h(ys\))300 869 y(foldM)597
b(::)49 b(\(Monad)g(m\))g(=>)h(\(a)f(->)h(b)f(->)h(m)f(a\))h(->)f(a)h
(->)f([b])h(->)f(m)h(a)300 969 y(foldM)f(f)h(a)f([])249
b(=)99 b(return)49 b(a)300 1068 y(foldM)g(f)h(a)f(\(x:xs\))g(=)99
b(f)50 b(a)g(x)f(>>=)g(\\)h(y)g(->)f(foldM)g(f)h(y)f(xs)300
1236 y(filterM)g(::)g(Monad)g(m)g(=>)h(\(a)f(->)h(m)f(Bool\))g(->)h
([a])f(->)g(m)h([a])300 1336 y(filterM)f(p)g([])249 b(=)49
b(return)g([])300 1435 y(filterM)g(p)g(\(x:xs\))g(=)g(do)h({)g(b)99
b(<-)49 b(p)h(x;)1496 1535 y(ys)f(<-)g(filterM)g(p)h(xs;)1496
1634 y(return)e(\(if)h(b)h(then)f(\(x:ys\))g(else)g(ys\))1246
1734 y(})300 1902 y(liftM)597 b(::)49 b(\(Monad)g(m\))g(=>)h(\(a)f(->)h
(b\))f(->)h(\(m)f(a)h(->)f(m)h(b\))300 2001 y(liftM)f(f)498
b(=)99 b(\\a)50 b(->)f(do)h({)f(a')h(<-)f(a;)h(return)e(\(f)i(a'\))f(})
300 2169 y(liftM2)547 b(::)49 b(\(Monad)g(m\))g(=>)h(\(a)f(->)h(b)f(->)
h(c\))f(->)h(\(m)f(a)h(->)f(m)h(b)f(->)h(m)f(c\))300
2269 y(liftM2)g(f)448 b(=)99 b(\\a)50 b(b)f(->)h(do)f({)h(a')f(<-)h(a;)
f(b')h(<-)f(b;)g(return)g(\(f)h(a')f(b'\))g(})300 2436
y(liftM3)547 b(::)49 b(\(Monad)g(m\))g(=>)h(\(a)f(->)h(b)f(->)h(c)f(->)
h(d\))f(->)1944 2536 y(\(m)g(a)h(->)f(m)h(b)g(->)f(m)h(c)f(->)h(m)f
(d\))300 2636 y(liftM3)g(f)448 b(=)99 b(\\a)50 b(b)f(c)h(->)f(do)h({)f
(a')h(<-)f(a;)h(b')f(<-)h(b;)f(c')h(<-)f(c;)2043 2735
y(return)g(\(f)h(a')f(b')g(c'\))h(})300 2903 y(liftM4)547
b(::)49 b(\(Monad)g(m\))g(=>)h(\(a)f(->)h(b)f(->)h(c)f(->)h(d)f(->)h
(e\))f(->)1944 3003 y(\(m)g(a)h(->)f(m)h(b)g(->)f(m)h(c)f(->)h(m)f(d)h
(->)f(m)h(e\))300 3102 y(liftM4)f(f)448 b(=)99 b(\\a)50
b(b)f(c)h(d)g(->)f(do)g({)h(a')g(<-)f(a;)g(b')h(<-)f(b;)h(c')f(<-)h(c;)
f(d')g(<-)h(d;)2143 3202 y(return)f(\(f)g(a')h(b')f(c')h(d'\))f(})300
3370 y(liftM5)547 b(::)49 b(\(Monad)g(m\))g(=>)h(\(a)f(->)h(b)f(->)h(c)
f(->)h(d)f(->)h(e)g(->)f(f\))g(->)1944 3469 y(\(m)g(a)h(->)f(m)h(b)g
(->)f(m)h(c)f(->)h(m)f(d)h(->)f(m)h(e)g(->)f(m)h(f\))300
3569 y(liftM5)f(f)448 b(=)99 b(\\a)50 b(b)f(c)h(d)g(e)f(->)h(do)f({)h
(a')f(<-)h(a;)f(b')g(<-)h(b;)f(c')h(<-)f(c;)h(d')f(<-)h(d;)2243
3669 y(e')f(<-)h(e;)f(return)g(\(f)g(a')h(b')f(c')g(d')h(e'\))f(})p
eop
%%Page: 208 222
208 221 bop 0 100 a FI(208)2071 b FE(CHAPTER)20 b(20.)52
b(MON)m(AD)21 b(UTILITIES)p eop
%%Page: 209 223
209 222 bop 2032 5593 a FI(209)p eop
%%Page: 210 224
210 223 bop 0 100 a FI(210)2212 b FE(CHAPTER)20 b(21.)52
b(INPUT/OUTPUT)0 1045 y Fw(Chapter)44 b(21)0 1527 y FH(Input/Output)p
15 1979 3548 4 v 15 6490 4 4512 v 66 2114 a Fp(module)49
b(IO)g(\()265 2214 y(Handle,)g(HandlePosn,)265 2314 y
(IOMode\(ReadMode,WriteMode,AppendMode)o(,ReadW)o(riteM)o(ode\),)265
2413 y(BufferMode\(NoBuffering,LineBuffering)o(,Block)o(Buffe)o(ring\))
o(,)265 2513 y(SeekMode\(AbsoluteSeek,RelativeSeek,S)o(eekFro)o(mEnd\))
o(,)265 2612 y(stdin,)g(stdout,)f(stderr,)265 2712 y(openFile,)g
(hClose,)h(hFileSize,)f(hIsEOF,)g(isEOF,)265 2812 y(hSetBuffering,)f
(hGetBuffering,)h(hFlush,)265 2911 y(hGetPosn,)g(hSetPosn,)g(hSeek,)265
3011 y(hWaitForInput,)f(hReady,)i(hGetChar,)f(hGetLine,)g(hLookAhead,)g
(hGetContents,)265 3111 y(hPutChar,)g(hPutStr,)h(hPutStrLn,)f(hPrint,)
265 3210 y(hIsOpen,)h(hIsClosed,)e(hIsReadable,)h(hIsWritable,)g
(hIsSeekable,)265 3310 y(isAlreadyExistsError,)e(isDoesNotExistError,)g
(isAlreadyInUseError,)265 3409 y(isFullError,)i(isEOFError,)265
3509 y(isIllegalOperation,)e(isPermissionError,)h(isUserError,)265
3609 y(ioeGetErrorString,)g(ioeGetHandle,)g(ioeGetFileName,)265
3708 y(try,)i(bracket,)g(bracket_,)265 3841 y(--)h(...and)e(what)h(the)
h(Prelude)e(exports)265 3941 y(IO,)h(FilePath,)g(IOError,)f(ioError,)g
(userError,)g(catch,)h(interact,)265 4040 y(putChar,)g(putStr,)f
(putStrLn,)g(print,)h(getChar,)f(getLine,)g(getContents,)265
4140 y(readFile,)g(writeFile,)g(appendFile,)g(readIO,)h(readLn)265
4240 y(\))h(where)66 4407 y(import)f(Ix\(Ix\))66 4575
y(data)g(Handle)g(=)g(...)1145 b(--)50 b(implementation-dependent)66
4675 y(instance)e(Eq)i(Handle)e(where)h(...)66 4774 y(instance)f(Show)h
(Handle)g(where)g(..)547 b(--)50 b(implementation-dependent)66
4942 y(data)f(HandlePosn)f(=)i(...)945 b(--)50 b
(implementation-dependent)66 5042 y(instance)e(Eq)i(HandlePosn)e(where)
h(...)66 5141 y(instance)f(Show)h(HandlePosn)f(where)h(---)298
b(--)50 b(implementation-dependent)66 5309 y(data)f(IOMode)298
b(=)99 b(ReadMode)49 b(|)g(WriteMode)f(|)i(AppendMode)e(|)h
(ReadWriteMode)1062 5409 y(deriving)g(\(Eq,)g(Ord,)g(Ix,)g(Bounded,)f
(Enum,)h(Read,)g(Show\))66 5508 y(data)g(BufferMode)98
b(=)h(NoBuffering)48 b(|)i(LineBuffering)913 5608 y(|)99
b(BlockBuffering)47 b(\(Maybe)i(Int\))1062 5707 y(deriving)g(\(Eq,)g
(Ord,)g(Read,)g(Show\))66 5807 y(data)g(SeekMode)198
b(=)99 b(AbsoluteSeek)48 b(|)h(RelativeSeek)f(|)i(SeekFromEnd)1062
5907 y(deriving)f(\(Eq,)g(Ord,)g(Ix,)g(Bounded,)f(Enum,)h(Read,)g
(Show\))66 6074 y(stdin,)g(stdout,)f(stderr)h(::)g(Handle)66
6242 y(openFile)696 b(::)49 b(FilePath)g(->)g(IOMode)g(->)g(IO)h
(Handle)66 6342 y(hClose)796 b(::)49 b(Handle)g(->)g(IO)h(\(\))p
3559 6490 V 15 6493 3548 4 v eop
%%Page: 211 225
211 224 bop 3764 100 a FI(211)p 315 268 3548 4 v 315
4820 4 4553 v 366 403 a Fp(hFileSize)646 b(::)49 b(Handle)g(->)g(IO)h
(Integer)366 503 y(hIsEOF)796 b(::)49 b(Handle)g(->)g(IO)h(Bool)366
603 y(isEOF)846 b(::)49 b(IO)h(Bool)366 702 y(isEOF)846
b(=)99 b(hIsEOF)49 b(stdin)366 870 y(hSetBuffering)446
b(::)49 b(Handle)99 b(->)49 b(BufferMode)f(->)i(IO)f(\(\))366
970 y(hGetBuffering)446 b(::)49 b(Handle)99 b(->)49 b(IO)h(BufferMode)
366 1069 y(hFlush)796 b(::)49 b(Handle)g(->)g(IO)h(\(\))366
1169 y(hGetPosn)696 b(::)49 b(Handle)g(->)g(IO)h(HandlePosn)366
1269 y(hSetPosn)696 b(::)49 b(HandlePosn)f(->)i(IO)f(\(\))366
1368 y(hSeek)846 b(::)49 b(Handle)g(->)g(SeekMode)g(->)g(Integer)g(->)g
(IO)h(\(\))366 1536 y(hWaitForInput)446 b(::)49 b(Handle)g(->)g(Int)h
(->)f(IO)h(Bool)366 1636 y(hReady)796 b(::)49 b(Handle)g(->)g(IO)h
(Bool)366 1735 y(hReady)f(h)697 b(=)99 b(hWaitForInput)48
b(h)h(0)366 1835 y(hGetChar)696 b(::)49 b(Handle)g(->)g(IO)h(Char)366
1934 y(hGetLine)696 b(::)49 b(Handle)g(->)g(IO)h(String)366
2034 y(hLookAhead)596 b(::)49 b(Handle)g(->)g(IO)h(Char)366
2134 y(hGetContents)496 b(::)49 b(Handle)g(->)g(IO)h(String)366
2233 y(hPutChar)696 b(::)49 b(Handle)g(->)g(Char)g(->)h(IO)f(\(\))366
2333 y(hPutStr)746 b(::)49 b(Handle)g(->)g(String)g(->)h(IO)f(\(\))366
2433 y(hPutStrLn)646 b(::)49 b(Handle)g(->)g(String)g(->)h(IO)f(\(\))
366 2532 y(hPrint)796 b(::)49 b(Show)g(a)h(=>)f(Handle)g(->)h(a)f(->)h
(IO)f(\(\))366 2700 y(hIsOpen)746 b(::)49 b(Handle)g(->)g(IO)h(Bool)366
2800 y(hIsClosed)646 b(::)49 b(Handle)g(->)g(IO)h(Bool)366
2899 y(hIsReadable)546 b(::)49 b(Handle)g(->)g(IO)h(Bool)366
2999 y(hIsWritable)546 b(::)49 b(Handle)g(->)g(IO)h(Bool)366
3098 y(hIsSeekable)546 b(::)49 b(Handle)g(->)g(IO)h(Bool)366
3266 y(isAlreadyExistsError)96 b(::)49 b(IOError)g(->)g(Bool)366
3366 y(isDoesNotExistError)146 b(::)49 b(IOError)g(->)g(Bool)366
3465 y(isAlreadyInUseError)146 b(::)49 b(IOError)g(->)g(Bool)366
3565 y(isFullError)546 b(::)49 b(IOError)g(->)g(Bool)366
3665 y(isEOFError)596 b(::)49 b(IOError)g(->)g(Bool)366
3764 y(isIllegalOperation)196 b(::)49 b(IOError)g(->)g(Bool)366
3864 y(isPermissionError)246 b(::)49 b(IOError)g(->)g(Bool)366
3963 y(isUserError)546 b(::)49 b(IOError)g(->)g(Bool)366
4131 y(ioeGetErrorString)246 b(::)49 b(IOError)g(->)g(String)366
4231 y(ioeGetHandle)496 b(::)49 b(IOError)g(->)g(Maybe)g(Handle)366
4330 y(ioeGetFileName)396 b(::)49 b(IOError)g(->)g(Maybe)g(FilePath)366
4498 y(try)946 b(::)49 b(IO)h(a)f(->)h(IO)f(\(Either)g(IOError)f(a\))
366 4598 y(bracket)746 b(::)49 b(IO)h(a)f(->)h(\(a)f(->)h(IO)f(b\))h
(->)f(\(a)g(->)h(IO)f(c\))h(->)f(IO)h(c)366 4697 y(bracket_)696
b(::)49 b(IO)h(a)f(->)h(\(a)f(->)h(IO)f(b\))h(->)f(IO)g(c)h(->)f(IO)h
(c)p 3859 4820 V 315 4823 3548 4 v 300 5117 a FI(The)27
b(monadic)j(I/O)d(system)h(used)h(in)f(Hask)o(ell)h(is)e(described)k
(by)d(the)g(Hask)o(ell)h(language)h(report.)43 b(Commonly)300
5230 y(used)29 b(I/O)f(functions)i(such)f(as)f FD(print)e
FI(are)i(part)h(of)f(the)g(standard)j(prelude)f(and)e(need)h(not)g(be)f
(e)o(xplicitly)j(im-)300 5343 y(ported.)44 b(This)28
b(library)i(contain)g(more)e(adv)n(anced)j(I/O)c(features.)45
b(Some)27 b(related)j(operations)h(on)e(\002le)e(systems)p
eop
%%Page: 212 226
212 225 bop 0 100 a FI(212)2212 b FE(CHAPTER)20 b(21.)52
b(INPUT/OUTPUT)0 356 y FI(are)24 b(contained)i(in)d(the)h
FD(Directory)19 b FI(library)-6 b(.)0 716 y FC(21.1)119
b(I/O)29 b(Err)n(ors)0 995 y FI(Errors)e(of)f(type)i
FD(IOError)22 b FI(are)27 b(used)g(by)g(the)g(I/O)e(monad.)39
b(This)26 b(is)g(an)h(abstract)h(type;)h(the)e(library)h(pro)o(vides)0
1108 y(functions)e(to)e(interrogate)i(and)e(construct)i(v)n(alues)e(in)
g FD(IOError)m FI(:)136 1342 y FB(\017)46 b FD(isAlreadyExists)o(Err)o
(or)28 b FI(\226)36 b(the)g(operation)i(f)o(ailed)f(because)h(one)f(of)
e(its)h(ar)n(guments)i(already)227 1455 y(e)o(xists.)136
1632 y FB(\017)46 b FD(isDoesNotExistE)o(rro)o(r)29 b
FI(\226)36 b(the)g(operation)j(f)o(ailed)f(because)g(one)f(of)f(its)g
(ar)n(guments)j(does)e(not)227 1745 y(e)o(xist.)136 1922
y FB(\017)46 b FD(isAlreadyInUseE)o(rro)o(r)21 b FI(\226)27
b(the)h(operation)j(f)o(ailed)e(because)g(one)g(of)e(its)h(ar)n
(guments)j(is)c(a)h(single-)227 2035 y(use)19 b(resource,)i(which)e(is)
f(already)i(being)f(used)g(\(for)g(e)o(xample,)h(opening)g(the)f(same)f
(\002le)g(twice)g(for)g(writing)227 2148 y(might)24 b(gi)n(v)o(e)g
(this)g(error\).)136 2325 y FB(\017)46 b FD(isFullError)18
b FI(\226)23 b(the)h(operation)i(f)o(ailed)f(because)g(the)f(de)n(vice)
h(is)e(full.)136 2503 y FB(\017)46 b FD(isEOFError)18
b FI(\226)24 b(the)f(operation)k(f)o(ailed)d(because)i(the)e(end)g(of)f
(\002le)g(has)h(been)g(reached.)136 2680 y FB(\017)46
b FD(isIllegalOperat)o(ion)16 b FI(\226)23 b(the)h(operation)i(is)d
(not)h(possible.)136 2857 y FB(\017)46 b FD(isPermissionErr)o(or)17
b FI(\226)24 b(the)g(operation)j(f)o(ailed)e(because)i(the)d(user)h
(does)g(not)g(ha)n(v)o(e)f(suf)n(\002cient)i(op-)227
2970 y(erating)f(system)g(pri)n(vile)o(ge)g(to)e(perform)i(that)f
(operation.)136 3147 y FB(\017)46 b FD(isUserError)18
b FI(\226)23 b(a)g(programmer)n(-de\002ned)k(error)e(v)n(alue)f(has)g
(been)g(raised)h(using)g FD(fail)n FI(.)0 3381 y(All)c(these)h
(functions)i(return)f(a)e FD(Bool)n FI(,)g(which)h(is)f
FD(True)e FI(if)i(its)h(ar)n(gument)h(is)e(the)h(corresponding)k(kind)c
(of)f(error)l(,)0 3494 y(and)j FD(False)c FI(otherwise.)0
3679 y(An)o(y)25 b(computation)k(which)d(returns)i(an)e
FD(IO)e FI(result)j(may)f(f)o(ail)g(with)g FD(isIllegalOperat)o(io)o(n)
-6 b FI(.)35 b(Additional)0 3792 y(errors)27 b(which)g(could)g(be)f
(raised)i(by)e(an)g(implementation)j(are)e(listed)g(after)g(the)g
(corresponding)j(operation.)39 b(In)0 3905 y(some)24
b(cases,)g(an)g(implementation)i(will)e(not)g(be)f(able)h(to)g
(distinguish)j(between)e(the)f(possible)h(error)g(causes.)30
b(In)0 4018 y(this)24 b(case)g(it)g(should)h(return)g
FD(isIllegalOpera)o(ti)o(on)-7 b FI(.)0 4203 y(Three)38
b(additional)j(functions)f(are)e(pro)o(vided)i(to)e(obtain)h
(information)i(about)e(an)f(error)g(v)n(alue.)73 b(These)38
b(are)0 4316 y FD(ioeGetHandle)25 b FI(which)31 b(returns)h
FD(Just)d Fv(hd)5 b(l)40 b FI(if)31 b(the)g(error)h(v)n(alue)f(refers)h
(to)f(handle)i Fv(hd)5 b(l)40 b FI(and)31 b FD(Nothing)0
4429 y FI(otherwise;)j FD(ioeGetFileName)21 b FI(which)30
b(returns)g FD(Just)d Fv(name)36 b FI(if)28 b(the)i(error)f(v)n(alue)h
(refers)g(to)f(\002le)g Fv(name)7 b FI(,)0 4542 y(and)30
b FD(Nothing)25 b FI(otherwise;)35 b(and)30 b FD(ioeGetErrorStr)o(in)o
(g)23 b FI(which)30 b(returns)h(a)e(string.)48 b(F)o(or)28
b(\223user\224)j(errors)0 4655 y(\(those)f(which)e(are)h(raised)g
(using)h FD(fail)n FI(\),)f(the)f(string)i(returned)g(by)e
FD(ioeGetErrorStrin)o(g)21 b FI(is)28 b(the)h(ar)n(gu-)0
4768 y(ment)24 b(that)g(w)o(as)f(passed)i(to)e FD(fail)o
FI(;)g(for)g(all)h(other)g(errors,)h(the)f(string)h(is)e
(implementation-depende)q(nt)q(.)0 4953 y(The)g FD(try)e
FI(function)26 b(returns)f(an)f(error)g(in)g(a)f(computation)j(e)o
(xplicitly)g(using)f(the)e FD(Either)d FI(type.)0 5139
y(The)k FD(bracket)c FI(function)26 b(captures)h(a)c(common)i
(allocate,)h(compute,)g(deallocate)g(idiom)f(in)f(which)h(the)f(deal-)0
5252 y(location)34 b(step)e(must)g(occur)g(e)n(v)o(en)g(in)g(the)g
(case)g(of)g(an)f(error)i(during)g(computation.)56 b(This)31
b(is)h(similar)g(to)g(try-)0 5365 y(catch-\002nally)26
b(in)e(Ja)n(v)n(a.)p eop
%%Page: 213 227
213 226 bop 300 100 a FE(21.2.)52 b(FILES)21 b(AND)h(HANDLES)2319
b FI(213)300 356 y FC(21.2)119 b(Files)30 b(and)g(Handles)300
646 y FI(Hask)o(ell)h(interf)o(aces)i(to)d(the)g(e)o(xternal)i(w)o
(orld)e(through)i(an)e(abstract)i FJ(\002le)e(system)p
FI(.)49 b(This)30 b(\002le)f(system)i(is)f(a)g(col-)300
759 y(lection)d(of)f(named)g FJ(\002le)g(system)g(objects)p
FI(,)i(which)e(may)f(be)h(or)n(ganised)i(in)d FJ(dir)m(ectories)k
FI(\(see)d FD(Directory)l FI(\).)34 b(In)300 872 y(some)d
(implementations,)36 b(directories)d(may)e(themselv)o(es)i(be)d(\002le)
h(system)g(objects)i(and)e(could)h(be)f(entries)h(in)300
985 y(other)f(directories.)51 b(F)o(or)29 b(simplicity)-6
b(,)33 b(an)o(y)d(non-directory)k(\002le)c(system)g(object)i(is)d
(termed)i(a)f FJ(\002le)p FI(,)h(although)h(it)300 1098
y(could)26 b(in)f(f)o(act)h(be)f(a)g(communication)j(channel,)f(or)e
(an)o(y)g(other)i(object)f(recognised)i(by)e(the)f(operating)j(system.)
300 1211 y FJ(Physical)d(\002les)f FI(are)g(persistent,)i(ordered)f
(\002les,)e(and)h(normally)h(reside)g(on)e(disk.)300
1406 y(File)28 b(and)g(directory)j(names)e(are)f(v)n(alues)h(of)f(type)
h FD(String)n FI(,)f(whose)g(precise)i(meaning)g(is)e(operating)i
(system)300 1519 y(dependent.)h(Files)20 b(can)i(be)f(opened,)h
(yielding)h(a)e(handle)h(which)f(can)h(then)f(be)g(used)h(to)e(operate)
j(on)e(the)g(contents)300 1632 y(of)i(that)i(\002le.)300
1828 y(Hask)o(ell)k(de\002nes)f(operations)j(to)c(read)i(and)f(write)g
(characters)i(from)e(and)g(to)f(\002les,)i(represented)i(by)c(v)n
(alues)i(of)300 1941 y(type)c FD(Handle)m FI(.)j(Each)c(v)n(alue)h(of)f
(this)g(type)g(is)g(a)f FJ(handle)p FI(:)32 b(a)23 b(record)i(used)g
(by)f(the)g(Hask)o(ell)h(run-time)g(system)f(to)300 2054
y FJ(mana)o(g)o(e)h FI(I/O)e(with)g(\002le)g(system)h(objects.)31
b(A)22 b(handle)j(has)f(at)f(least)i(the)f(follo)n(wing)h(properties:)
436 2350 y FB(\017)46 b FI(whether)25 b(it)e(manages)i(input)g(or)e
(output)i(or)f(both;)436 2537 y FB(\017)46 b FI(whether)25
b(it)e(is)g FJ(open)p FI(,)i FJ(closed)g FI(or)e FJ(semi-closed)p
FI(;)436 2725 y FB(\017)46 b FI(whether)25 b(the)f(object)h(is)e
(seekable;)436 2912 y FB(\017)46 b FI(whether)25 b(b)n(uf)n(fering)h
(is)d(disabled,)j(or)d(enabled)i(on)f(a)f(line)h(or)g(block)g(basis;)
436 3100 y FB(\017)46 b FI(a)23 b(b)n(uf)n(fer)i(\(whose)f(length)h
(may)f(be)f(zero\).)300 3396 y(Most)18 b(handles)i(will)e(also)h(ha)n
(v)o(e)f(a)g(current)i(I/O)d(position)k(indicating)g(where)d(the)g(ne)o
(xt)h(input)g(or)f(output)i(operation)300 3509 y(will)29
b(occur)-5 b(.)46 b(A)28 b(handle)j(is)e FJ(r)m(eadable)i
FI(if)e(it)g(manages)h(only)g(input)h(or)e(both)h(input)g(and)f
(output;)34 b(lik)o(e)n(wise,)d(it)e(is)300 3621 y FJ(writable)e
FI(if)e(it)h(manages)h(only)f(output)i(or)d(both)i(input)g(and)f
(output.)37 b(A)24 b(handle)k(is)d FJ(open)i FI(when)f(\002rst)f
(allocated.)300 3734 y(Once)34 b(it)g(is)h(closed)g(it)f(can)h(no)g
(longer)g(be)g(used)g(for)f(either)i(input)f(or)g(output,)j(though)e
(an)e(implementation)300 3847 y(cannot)e(re-use)f(its)g(storage)h
(while)e(references)j(remain)e(to)f(it.)49 b(Handles)32
b(are)e(in)g(the)h FD(Show)c FI(and)k FD(Eq)e FI(classes.)300
3960 y(The)19 b(string)i(produced)h(by)e(sho)n(wing)g(a)f(handle)j(is)d
(system)h(dependent;)k(it)c(should)h(include)g(enough)h(information)300
4073 y(to)h(identify)j(the)e(handle)h(for)f(deb)n(ugging.)32
b(A)22 b(handle)j(is)e(equal)i(according)h(to)e FD(==)e
FI(only)i(to)f(itself;)i(no)f(attempt)g(is)300 4186 y(made)g(to)f
(compare)i(the)f(internal)h(state)f(of)g(dif)n(ferent)h(handles)h(for)e
(equality)-6 b(.)300 4518 y FG(21.2.1)99 b(Standard)26
b(Handles)300 4776 y FI(Three)35 b(handles)i(are)e(allocated)j(during)e
(program)g(initialisation.)67 b(The)35 b(\002rst)f(tw)o(o)h(\()p
FD(stdin)d FI(and)j FD(stdout)n FI(\))300 4888 y(manage)29
b(input)g(or)e(output)j(from)d(the)h(Hask)o(ell)h(program')-5
b(s)30 b(standard)g(input)f(or)e(output)j(channel)g(respecti)n(v)o(ely)
-6 b(.)300 5001 y(The)20 b(third)i(\()p FD(stderr)n FI(\))e(manages)i
(output)h(to)e(the)g(standard)i(error)f(channel.)29 b(These)22
b(handles)g(are)g(initially)h(open.)p eop
%%Page: 214 228
214 227 bop 0 100 a FI(214)2212 b FE(CHAPTER)20 b(21.)52
b(INPUT/OUTPUT)0 356 y FG(21.2.2)99 b(Semi-Closed)25
b(Handles)0 603 y FI(The)h(operation)k FD(hGetContents)17
b Fv(hd)5 b(l)36 b FI(\(Section)28 b(21.9.4\))g(puts)f(a)f(handle)j
Fv(hd)5 b(l)36 b FI(into)27 b(an)g(intermediate)j(state,)0
716 y FJ(semi-closed)p FI(.)57 b(In)32 b(this)g(state,)j
Fv(hd)5 b(l)42 b FI(is)32 b(ef)n(fecti)n(v)o(ely)i(closed,)h(b)n(ut)e
(items)f(are)g(read)h(from)f Fv(hd)5 b(l)41 b FI(on)33
b(demand)g(and)0 829 y(accumulated)26 b(in)e(a)f(special)i(list)f
(returned)h(by)f FD(hGetContents)17 b Fv(hd)5 b(l)11
b FI(.)0 1015 y(An)o(y)27 b(operation)i(that)f(f)o(ails)g(because)h(a)e
(handle)i(is)e(closed,)i(also)f(f)o(ails)g(if)f(a)g(handle)h(is)f
(semi-closed.)43 b(The)26 b(only)0 1128 y(e)o(xception)g(is)d
FD(hClose)m FI(.)28 b(A)23 b(semi-closed)j(handle)f(becomes)g(closed:)
136 1364 y FB(\017)46 b FI(if)24 b FD(hClose)c FI(is)j(applied)i(to)f
(it;)136 1542 y FB(\017)46 b FI(if)24 b(an)f(I/O)g(error)h(occurs)h
(when)f(reading)h(an)f(item)f(from)h(the)g(handle;)136
1719 y FB(\017)46 b FI(or)24 b(once)g(the)g(entire)h(contents)g(of)f
(the)g(handle)h(has)f(been)g(read.)0 1955 y(Once)i(a)g(semi-closed)j
(handle)f(becomes)g(closed,)g(the)f(contents)h(of)f(the)f(associated)j
(list)e(becomes)h(\002x)o(ed.)37 b(The)0 2068 y(contents)25
b(of)e(this)g(\002nal)g(list)g(is)f(only)i(partially)h(speci\002ed:)30
b(it)23 b(will)f(contain)j(at)d(least)i(all)f(the)g(items)g(of)g(the)g
(stream)0 2181 y(that)h(were)f(e)n(v)n(aluated)j(prior)e(to)g(the)g
(handle)h(becoming)g(closed.)0 2367 y(An)o(y)e(I/O)g(errors)i
(encountered)i(while)c(a)g(handle)i(is)f(semi-closed)i(are)e(simply)g
(discarded.)0 2685 y FG(21.2.3)99 b(File)24 b(locking)0
2932 y FI(Implementations)k(should)e(enforce)h(as)d(f)o(ar)h(as)g
(possible,)i(at)d(least)i(locally)g(to)e(the)h(Hask)o(ell)h(process,)h
(multiple-)0 3045 y(reader)32 b(single-writer)i(locking)f(on)f
(\002les.)51 b(That)31 b(is,)h FJ(ther)m(e)g(may)f(either)i(be)e(many)g
(handles)i(on)e(the)h(same)f(\002le)0 3158 y(whic)o(h)h(mana)o(g)o(e)g
(input,)j(or)d(just)g(one)g(handle)h(on)f(the)g(\002le)g(whic)o(h)f
(mana)o(g)o(es)i(output)p FI(.)55 b(If)31 b(an)o(y)h(open)g(or)g(semi-)
0 3271 y(closed)24 b(handle)g(is)e(managing)i(a)e(\002le)g(for)h
(output,)h(no)e(ne)n(w)g(handle)i(can)f(be)f(allocated)j(for)e(that)g
(\002le.)28 b(If)22 b(an)o(y)g(open)0 3384 y(or)32 b(semi-closed)i
(handle)f(is)e(managing)j(a)d(\002le)g(for)h(input,)i(ne)n(w)d(handles)
j(can)e(only)g(be)g(allocated)i(if)d(the)o(y)h(do)0 3497
y(not)c(manage)h(output.)43 b(Whether)29 b(tw)o(o)f(\002les)g(are)g
(the)g(same)g(is)f(implementation-depend)q(en)q(t,)34
b(b)n(ut)28 b(the)o(y)h(should)0 3609 y(normally)f(be)e(the)h(same)f
(if)h(the)o(y)f(ha)n(v)o(e)h(the)g(same)g(absolute)h(path)f(name)g(and)
g(neither)h(has)f(been)g(renamed,)h(for)0 3722 y(e)o(xample.)0
3908 y FJ(W)-8 b(arning)p FI(:)43 b(the)30 b FD(readFile)25
b FI(operation)32 b(\(Section)f(7.1\))f(holds)h(a)f(semi-closed)i
(handle)f(on)f(the)g(\002le)f(until)i(the)0 4021 y(entire)f(contents)h
(of)e(the)g(\002le)g(ha)n(v)o(e)g(been)h(consumed.)47
b(It)28 b(follo)n(ws)i(that)f(an)g(attempt)h(to)f(write)g(to)g(a)f
(\002le)h(\(using)0 4134 y FD(writeFile)l FI(,)20 b(for)g(e)o(xample\))
h(that)g(w)o(as)e(earlier)j(opened)f(by)f FD(readFile)c
FI(will)k(usually)i(result)f(in)f(f)o(ailure)h(with)0
4247 y FD(isAlreadyInUseE)o(rr)o(or)-7 b FI(.)0 4608
y FC(21.3)119 b(Opening)31 b(and)g(Closing)f(Files)0
4891 y FG(21.3.1)99 b(Opening)25 b(Files)0 5139 y FI(Computation)e
FD(openFile)16 b Fv(\014le)27 b(mo)-5 b(de)29 b FI(allocates)23
b(and)e(returns)h(a)f(ne)n(w)-6 b(,)20 b(open)i(handle)g(to)f(manage)h
(the)f(\002le)f Fv(\014le)7 b FI(.)0 5252 y(It)31 b(manages)h(input)g
(if)f Fv(mo)-5 b(de)39 b FI(is)30 b FD(ReadMode)m FI(,)i(output)g(if)f
Fv(mo)-5 b(de)38 b FI(is)31 b FD(WriteMode)26 b FI(or)31
b FD(AppendMode)l FI(,)h(and)0 5365 y(both)24 b(input)h(and)f(output)h
(if)e(mode)h(is)f FD(ReadWriteMode)-5 b FI(.)p eop
%%Page: 215 229
215 228 bop 300 100 a FE(21.4.)52 b(DETERMINING)20 b(THE)h(SIZE)h(OF)g
(A)g(FILE)1743 b FI(215)300 356 y(If)28 b(the)g(\002le)g(does)g(not)h
(e)o(xist)f(and)h(it)f(is)g(opened)h(for)g(output,)h(it)e(should)i(be)e
(created)h(as)f(a)g(ne)n(w)f(\002le.)42 b(If)28 b Fv(mo)-5
b(de)35 b FI(is)300 469 y FD(WriteMode)19 b FI(and)24
b(the)h(\002le)e(already)j(e)o(xists,)e(then)h(it)f(should)h(be)f
(truncated)j(to)c(zero)i(length.)31 b(Some)24 b(operating)300
582 y(systems)h(delete)h(empty)f(\002les,)f(so)g(there)i(is)e(no)g
(guarantee)j(that)e(the)g(\002le)f(will)g(e)o(xist)g(follo)n(wing)i(an)
f FD(openFile)300 695 y FI(with)f Fv(mo)-5 b(de)32 b
FD(WriteMode)19 b FI(unless)26 b(it)d(is)h(subsequently)29
b(written)24 b(to)g(successfully)-6 b(.)35 b(The)23 b(handle)j(is)e
(positioned)300 808 y(at)29 b(the)g(end)g(of)f(the)h(\002le)g(if)f
Fv(mo)-5 b(de)36 b FI(is)29 b FD(AppendMode)-5 b FI(,)29
b(and)g(otherwise)i(at)d(the)h(be)o(ginning)j(\(in)d(which)g(case)g
(its)300 920 y(internal)c(I/O)e(position)j(is)d(0\).)29
b(The)23 b(initial)i(b)n(uf)n(fer)g(mode)f(is)f(implementation-depende)
q(nt)q(.)300 1116 y(If)33 b FD(openFile)28 b FI(f)o(ails)34
b(on)f(a)g(\002le)f(opened)j(for)f(output,)i(the)e(\002le)e(may)h
(still)h(ha)n(v)o(e)f(been)h(created)h(if)e(it)f(did)i(not)300
1229 y(already)25 b(e)o(xist.)300 1425 y FJ(Err)l(or)g(r)m(eporting)p
FI(:)34 b(the)26 b FD(openFile)20 b FI(computation)28
b(may)c(f)o(ail)i(with)e FD(isAlreadyInUseEr)o(ro)o(r)18
b FI(if)25 b(the)g(\002le)300 1538 y(is)k(already)i(open)f(and)g
(cannot)h(be)e(reopened;)35 b FD(isDoesNotExist)o(Er)o(ror)22
b FI(if)29 b(the)g(\002le)g(does)h(not)f(e)o(xist;)k(or)300
1651 y FD(isPermissionErr)o(or)16 b FI(if)23 b(the)h(user)g(does)h(not)
f(ha)n(v)o(e)g(permission)h(to)f(open)g(the)g(\002le.)300
1983 y FG(21.3.2)99 b(Closing)24 b(Files)300 2240 y FI(Computation)35
b FD(hClose)30 b Fv(hd)5 b(l)43 b FI(mak)o(es)33 b(handle)i
Fv(hd)5 b(l)43 b FI(closed.)59 b(Before)34 b(the)f(computation)j
(\002nishes,)h(if)c Fv(hd)5 b(l)42 b FI(is)300 2353 y(writable)22
b(its)f(b)n(uf)n(fer)i(is)e(\003ushed)g(as)g(for)h FD(hFlush)m
FI(.)27 b(Performing)22 b FD(hClose)c FI(on)j(a)g(handle)h(that)g(has)g
(already)g(been)300 2466 y(closed)33 b(has)g(no)f(ef)n(fect;)37
b(doing)c(so)f(not)g(an)g(error)-5 b(.)55 b(All)31 b(other)i
(operations)i(on)d(a)g(closed)h(handle)h(will)d(f)o(ail.)54
b(If)300 2579 y FD(hClose)24 b FI(f)o(ails)k(for)f(an)o(y)g(reason,)j
(an)o(y)d(further)i(operations)h(\(apart)e(from)f FD(hClose)n
FI(\))f(on)h(the)h(handle)h(will)e(still)300 2691 y(f)o(ail)d(as)f(if)h
Fv(hd)5 b(l)33 b FI(had)24 b(been)g(successfully)j(closed.)300
3067 y FC(21.4)119 b(Determining)31 b(the)f(Size)h(of)e(a)h(File)300
3357 y FI(F)o(or)c(a)g(handle)j Fv(hd)5 b(l)36 b FI(which)27
b(is)g(attached)i(to)e(a)f(physical)j(\002le,)d FD(hFileSize)c
Fv(hd)5 b(l)37 b FI(returns)28 b(the)f(size)h(of)e(that)i(\002le)300
3470 y(in)23 b(8-bit)i(bytes)g(\()p FB(\025)d FI(0\).)300
3845 y FC(21.5)119 b(Detecting)30 b(the)h(End)f(of)g(Input)300
4135 y FI(F)o(or)22 b(a)h(readable)j(handle)f Fv(hd)5
b(l)10 b FI(,)22 b(computation)k FD(hIsEOF)20 b Fv(hd)5
b(l)33 b FI(returns)25 b FD(True)20 b FI(if)j(no)h(further)h(input)f
(can)g(be)f(tak)o(en)300 4248 y(from)29 b Fv(hd)5 b(l)10
b FI(;)31 b(for)e(a)f(handle)i(attached)h(to)e(a)f(physical)j(\002le)d
(this)h(means)h(that)f(the)g(current)h(I/O)f(position)h(is)f(equal)300
4361 y(to)24 b(the)h(length)h(of)e(the)h(\002le.)31 b(Otherwise,)25
b(it)f(returns)i FD(False)n FI(.)31 b(The)24 b(computation)j
FD(isEOF)21 b FI(is)j(identical,)j(e)o(xcept)300 4474
y(that)d(it)f(w)o(orks)h(only)h(on)e FD(stdin)n FI(.)300
4849 y FC(21.6)119 b(Buffering)30 b(Operations)300 5139
y FI(Three)38 b(kinds)h(of)e(b)n(uf)n(fering)j(are)e(supported:)60
b(line-b)n(uf)n(fering,)45 b(block-b)n(uf)n(fering)e(or)37
b(no-b)n(uf)n(fering.)75 b(These)300 5252 y(modes)31
b(ha)n(v)o(e)f(the)h(follo)n(wing)g(ef)n(fects.)50 b(F)o(or)29
b(output,)k(items)e(are)f(written)h(out,)h(or)e FJ(\003ushed)p
FI(,)j(from)d(the)g(internal)300 5365 y(b)n(uf)n(fer)25
b(according)h(to)d(the)h(b)n(uf)n(fer)h(mode:)p eop
%%Page: 216 230
216 229 bop 0 100 a FI(216)2212 b FE(CHAPTER)20 b(21.)52
b(INPUT/OUTPUT)136 356 y FB(\017)46 b FF(line-b)n(uffering:)28
b FI(the)20 b(entire)h(b)n(uf)n(fer)g(is)e(\003ushed)i(whene)n(v)o(er)f
(a)f(ne)n(wline)i(is)e(output,)j(the)e(b)n(uf)n(fer)h(o)o(v)o(er\003o)n
(ws,)227 469 y(a)i FD(hFlush)d FI(is)k(issued,)g(or)g(the)g(handle)h
(is)e(closed.)136 656 y FB(\017)46 b FF(block-b)n(uffering:)32
b FI(the)24 b(entire)i(b)n(uf)n(fer)f(is)g(written)g(out)g(whene)n(v)o
(er)g(it)f(o)o(v)o(er\003o)n(ws,)g(a)g FD(hFlush)d FI(is)j(issued,)227
769 y(or)g(the)g(handle)h(is)e(closed.)136 957 y FB(\017)46
b FF(no-b)n(uffering:)30 b FI(output)25 b(is)e(written)i(immediately)-6
b(,)25 b(and)f(ne)n(v)o(er)g(stored)h(in)e(the)h(b)n(uf)n(fer)-5
b(.)0 1228 y(An)22 b(implementation)j(is)d(free)h(to)g(\003ush)f(the)h
(b)n(uf)n(fer)h(more)e(frequently)-6 b(,)25 b(b)n(ut)e(not)g(less)g
(frequently)-6 b(,)26 b(than)d(speci\002ed)0 1341 y(abo)o(v)o(e.)29
b(The)23 b(b)n(uf)n(fer)i(is)e(emptied)i(as)f(soon)g(as)f(it)h(has)g
(been)g(written)g(out.)0 1537 y(Similarly)-6 b(,)24 b(input)h(occurs)g
(according)h(to)d(the)h(b)n(uf)n(fer)h(mode)f(for)f(handle)i
Fv(hd)5 b(l)11 b FI(.)136 1807 y FB(\017)46 b FF(line-b)n(uffering:)54
b FI(when)35 b(the)g(b)n(uf)n(fer)i(for)e Fv(hd)5 b(l)45
b FI(is)35 b(not)h(empty)-6 b(,)38 b(the)e(ne)o(xt)f(item)g(is)g
(obtained)j(from)d(the)227 1920 y(b)n(uf)n(fer;)29 b(otherwise,)f(when)
f(the)f(b)n(uf)n(fer)i(is)e(empty)-6 b(,)27 b(characters)h(are)f(read)g
(into)f(the)h(b)n(uf)n(fer)g(until)g(the)g(ne)o(xt)227
2033 y(ne)n(wline)32 b(character)h(is)e(encountered)j(or)d(the)g(b)n
(uf)n(fer)i(is)d(full.)52 b(No)30 b(characters)k(are)d(a)n(v)n(ailable)
i(until)f(the)227 2146 y(ne)n(wline)25 b(character)g(is)f(a)n(v)n
(ailable)i(or)d(the)h(b)n(uf)n(fer)h(is)e(full.)136 2334
y FB(\017)46 b FF(block-b)n(uffering:)32 b FI(when)24
b(the)h(b)n(uf)n(fer)g(for)g Fv(hd)5 b(l)34 b FI(becomes)25
b(empty)-6 b(,)25 b(the)g(ne)o(xt)g(block)g(of)f(data)h(is)g(read)g
(into)227 2446 y(the)f(b)n(uf)n(fer)-5 b(.)136 2634 y
FB(\017)46 b FF(no-b)n(uffering:)38 b FI(the)28 b(ne)o(xt)g(input)g
(item)g(is)f(read)h(and)g(returned.)43 b(The)27 b FD(hLookAhead)22
b FI(operation)30 b(\(Sec-)227 2747 y(tion)24 b(21.9.3\))h(implies)f
(that)g(e)n(v)o(en)g(a)f(no-b)n(uf)n(fered)k(handle)e(may)e(require)i
(a)e(one-character)28 b(b)n(uf)n(fer)-5 b(.)0 3018 y(F)o(or)30
b(most)h(implementations,)36 b(physical)c(\002les)f(will)g(normally)h
(be)f(block-b)n(uf)n(fered)k(and)c(terminals)i(will)d(nor)n(-)0
3131 y(mally)24 b(be)f(line-b)n(uf)n(fered.)0 3326 y(Computation)e
FD(hSetBuffering)13 b Fv(hd)5 b(l)29 b(mo)-5 b(de)27
b FI(sets)20 b(the)f(mode)h(of)f(b)n(uf)n(fering)j(for)e(handle)h
Fv(hd)5 b(l)28 b FI(on)20 b(subsequent)0 3439 y(reads)25
b(and)f(writes.)136 3710 y FB(\017)46 b FI(If)24 b Fv(mo)-5
b(de)31 b FI(is)23 b FD(LineBuffering)-6 b FI(,)22 b(line-b)n(uf)n
(fering)28 b(is)23 b(enabled)j(if)d(possible.)136 3898
y FB(\017)46 b FI(If)24 b Fv(mo)-5 b(de)31 b FI(is)23
b FD(BlockBuffering)17 b Fv(size)6 b FI(,)23 b(then)h(block-b)n(uf)n
(fering)29 b(is)23 b(enabled)j(if)d(possible.)31 b(The)23
b(size)h(of)227 4011 y(the)g(b)n(uf)n(fer)h(is)e Fv(n)30
b FI(items)24 b(if)f Fv(size)30 b FI(is)23 b FD(Just)53
b Fv(n)29 b FI(and)24 b(is)g(otherwise)h(implementation-depend)q(ent)q
(.)136 4198 y FB(\017)46 b FI(If)24 b Fv(mo)-5 b(de)31
b FI(is)23 b FD(NoBuffering)-5 b FI(,)22 b(then)j(b)n(uf)n(fering)h(is)
d(disabled)j(if)d(possible.)0 4469 y(If)e(the)h(b)n(uf)n(fer)g(mode)g
(is)f(changed)j(from)d FD(BlockBuffering)14 b FI(or)21
b FD(LineBuffering)15 b FI(to)21 b FD(NoBuffering)-5
b FI(,)0 4582 y(then)136 4852 y FB(\017)46 b FI(if)24
b Fv(hd)5 b(l)32 b FI(is)24 b(writable,)g(the)g(b)n(uf)n(fer)h(is)e
(\003ushed)h(as)g(for)g FD(hFlush)m FI(;)136 5040 y FB(\017)46
b FI(if)24 b Fv(hd)5 b(l)32 b FI(is)24 b(not)g(writable,)g(the)g
(contents)i(of)d(the)h(b)n(uf)n(fer)h(is)e(discarded.)p
eop
%%Page: 217 231
217 230 bop 300 100 a FE(21.7.)52 b(REPOSITIONING)19
b(HANDLES)2090 b FI(217)300 356 y FJ(Err)l(or)23 b(r)m(eporting)p
FI(:)31 b(the)23 b FD(hSetBuffering)16 b FI(computation)25
b(may)e(f)o(ail)g(with)f FD(isPermissionErro)o(r)15 b
FI(if)23 b(the)300 469 y(handle)36 b(has)f(already)h(been)g(used)f(for)
g(reading)i(or)d(writing)i(and)f(the)f(implementation)k(does)d(not)g
(allo)n(w)g(the)300 582 y(b)n(uf)n(fering)26 b(mode)e(to)f(be)h
(changed.)300 772 y(Computation)i FD(hGetBuffering)16
b Fv(hd)5 b(l)33 b FI(returns)25 b(the)f(current)h(b)n(uf)n(fering)h
(mode)e(for)g Fv(hd)5 b(l)10 b FI(.)300 963 y(The)22
b(def)o(ault)i(b)n(uf)n(fering)h(mode)e(when)g(a)f(handle)i(is)e
(opened)i(is)f(implementation-depende)q(nt)28 b(and)23
b(may)f(depend)300 1076 y(on)i(the)f(\002le)g(system)i(object)g(which)e
(is)h(attached)h(to)f(that)g(handle.)300 1400 y FG(21.6.1)99
b(Flushing)25 b(Buffers)300 1652 y FI(Computation)20
b FD(hFlush)15 b Fv(hd)5 b(l)27 b FI(causes)20 b(an)o(y)e(items)h(b)n
(uf)n(fered)h(for)e(output)i(in)e(handle)i Fv(hd)5 b(l)27
b FI(to)18 b(be)h(sent)f(immediately)300 1765 y(to)23
b(the)h(operating)i(system.)300 1955 y FJ(Err)l(or)34
b(r)m(eporting)p FI(:)52 b(the)34 b FD(hFlush)d FI(computation)36
b(may)e(f)o(ail)g(with:)50 b FD(isFullError)28 b FI(if)34
b(the)g(de)n(vice)h(is)e(full;)300 2068 y FD(isPermissionErr)o(or)21
b FI(if)28 b(a)h(system)g(resource)i(limit)d(w)o(ould)i(be)e(e)o
(xceeded.)46 b(It)29 b(is)f(unspeci\002ed)j(whether)300
2181 y(the)24 b(characters)i(in)d(the)h(b)n(uf)n(fer)h(are)f(discarded)
i(or)d(retained)j(under)f(these)f(circumstances.)300
2548 y FC(21.7)119 b(Repositioning)31 b(Handles)300 2836
y FG(21.7.1)99 b(Re)o(visiting)23 b(an)i(I/O)f(P)n(osition)300
3088 y FI(Computation)j FD(hGetPosn)20 b Fv(hd)5 b(l)34
b FI(returns)26 b(the)f(current)h(I/O)e(position)j(of)d
Fv(hd)5 b(l)34 b FI(as)25 b(a)f(v)n(alue)i(of)e(the)h(abstract)h(type)
300 3201 y FD(HandlePosn)-5 b FI(.)28 b(If)23 b(a)g(call)h(to)f
FD(hGetPosn)c Fv(h)30 b FI(returns)25 b(a)d(position)k
Fv(p)6 b FI(,)22 b(then)i(computation)i FD(hSetPosn)19
b Fv(p)29 b FI(sets)300 3314 y(the)24 b(position)i(of)d
Fv(h)30 b FI(to)24 b(the)f(position)j(it)d(held)i(at)e(the)h(time)f(of)
h(the)g(call)f(to)h FD(hGetPosn)l FI(.)300 3505 y FJ(Err)l(or)i(r)m
(eporting)p FI(:)36 b(the)26 b FD(hSetPosn)21 b FI(computation)29
b(may)c(f)o(ail)i(with:)33 b FD(isPermissionErro)o(r)19
b FI(if)25 b(a)g(system)300 3617 y(resource)h(limit)d(w)o(ould)h(be)g
(e)o(xceeded.)300 3942 y FG(21.7.2)99 b(Seeking)26 b(to)f(a)f(new)i(P)n
(osition)300 4193 y FI(Computation)g FD(hSeek)20 b Fv(hd)5
b(l)33 b(mo)-5 b(de)31 b(i)h FI(sets)24 b(the)g(position)h(of)f(handle)
h Fv(hd)5 b(l)33 b FI(depending)26 b(on)e Fv(mo)-5 b(de)8
b FI(.)28 b(If)23 b Fv(mo)-5 b(de)31 b FI(is:)436 4445
y FB(\017)46 b FD(AbsoluteSeek)-5 b FI(:)28 b(the)c(position)i(of)d
Fv(hd)5 b(l)33 b FI(is)24 b(set)f(to)h Fv(i)9 b FI(.)436
4627 y FB(\017)46 b FD(RelativeSeek)-5 b FI(:)28 b(the)c(position)i(of)
d Fv(hd)5 b(l)33 b FI(is)24 b(set)f(to)h(of)n(fset)g
Fv(i)32 b FI(from)24 b(the)f(current)j(position.)436
4810 y FB(\017)46 b FD(SeekFromEnd)-5 b FI(:)29 b(the)24
b(position)h(of)f Fv(hd)5 b(l)33 b FI(is)23 b(set)h(to)f(of)n(fset)i
Fv(i)32 b FI(from)23 b(the)h(end)g(of)f(the)h(\002le.)300
5061 y(The)f(of)n(fset)i(is)e(gi)n(v)o(en)h(in)f(terms)h(of)g(8-bit)g
(bytes.)300 5252 y(If)29 b Fv(hd)5 b(l)38 b FI(is)29
b(block-)i(or)e(line-b)n(uf)n(fered,)34 b(then)c(seeking)h(to)e(a)g
(position)i(which)e(is)g(not)h(in)f(the)g(current)i(b)n(uf)n(fer)g
(will)300 5365 y(\002rst)24 b(cause)g(an)o(y)g(items)h(in)e(the)h
(output)i(b)n(uf)n(fer)f(to)f(be)g(written)g(to)g(the)g(de)n(vice,)h
(and)f(then)h(cause)g(the)f(input)h(b)n(uf)n(fer)p eop
%%Page: 218 232
218 231 bop 0 100 a FI(218)2212 b FE(CHAPTER)20 b(21.)52
b(INPUT/OUTPUT)0 356 y FI(to)23 b(be)g(discarded.)31
b(Some)22 b(handles)j(may)e(not)g(be)g(seekable)j(\(see)d
FD(hIsSeekable)-5 b FI(\),)22 b(or)h(only)h(support)h(a)e(subset)0
469 y(of)j(the)g(possible)j(positioning)g(operations)g(\(for)e
(instance,)i(it)c(may)h(only)h(be)f(possible)j(to)d(seek)h(to)f(the)g
(end)h(of)f(a)0 582 y(tape,)21 b(or)f(to)g(a)g(positi)n(v)o(e)i(of)n
(fset)f(from)f(the)g(be)o(ginning)j(or)d(current)i(position\).)30
b(It)20 b(is)g(not)g(possible)i(to)e(set)h(a)e(ne)o(gati)n(v)o(e)0
695 y(I/O)k(position,)i(or)f(for)g(a)f(physical)i(\002le,)e(an)g(I/O)g
(position)j(be)o(yond)f(the)f(current)h(end-of-\002le.)0
879 y FJ(Err)l(or)k(r)m(eporting)p FI(:)41 b(the)29 b
FD(hSeek)c FI(computation)32 b(may)c(f)o(ail)h(with:)39
b FD(isPermissionEr)o(ro)o(r)22 b FI(if)28 b(a)g(system)h(re-)0
992 y(source)c(limit)f(w)o(ould)g(be)f(e)o(xceeded.)0
1350 y FC(21.8)119 b(Handle)31 b(Pr)n(operties)0 1628
y FI(The)k(functions)i FD(hIsOpen)m FI(,)g FD(hIsClosed)l
FI(,)f FD(hIsReadable)-5 b FI(,)37 b FD(hIsWritable)30
b FI(and)35 b FD(hIsSeekable)0 1741 y FI(return)29 b(information)i
(about)e(the)g(properties)h(of)e(a)g(handle.)44 b(Each)28
b(of)g(these)h(returns)h FD(True)25 b FI(if)j(the)g(handle)i(has)0
1854 y(the)24 b(speci\002ed)h(property)-6 b(,)25 b(and)f
FD(False)d FI(otherwise.)0 2212 y FC(21.9)119 b(T)-11
b(ext)29 b(Input)i(and)f(Output)0 2491 y FI(Here)25 b(we)g(de\002ne)h
(a)g(standard)h(set)f(of)g(input)h(operations)h(for)e(reading)i
(characters)g(and)e(strings)h(from)f(te)o(xt)g(\002les,)0
2604 y(using)f(handles.)32 b(Man)o(y)23 b(of)h(these)h(functions)h(are)
e(generalizations)29 b(of)23 b(Prelude)i(functions.)32
b(I/O)23 b(in)h(the)g(Prelude)0 2717 y(generally)i(uses)e
FD(stdin)d FI(and)j FD(stdout)m FI(;)f(here,)h(handles)h(are)f(e)o
(xplicitly)i(speci\002ed)f(by)e(the)h(I/O)f(operation.)0
3031 y FG(21.9.1)99 b(Checking)26 b(f)n(or)e(Input)0
3277 y FI(Computation)g FD(hWaitForInput)16 b Fv(hd)5
b(l)31 b(t)f FI(w)o(aits)23 b(until)g(input)g(is)f(a)n(v)n(ailable)i
(on)f(handle)g Fv(hd)5 b(l)11 b FI(.)27 b(It)22 b(returns)i
FD(True)0 3390 y FI(as)f(soon)i(as)e(input)i(is)e(a)n(v)n(ailable)j(on)
e Fv(hd)5 b(l)10 b FI(,)22 b(or)i FD(False)c FI(if)k(no)f(input)i(is)e
(a)n(v)n(ailable)j(within)e Fv(t)32 b FI(milliseconds.)0
3574 y(Computation)i FD(hReady)27 b Fv(hd)5 b(l)41 b
FI(indicates)34 b(whether)f(at)e(least)h(one)g(item)g(is)f(a)n(v)n
(ailable)j(for)e(input)g(from)g(handle)0 3687 y Fv(hd)5
b(l)10 b FI(.)0 3871 y FJ(Err)l(or)25 b(r)m(eporting)p
FI(:)34 b(the)25 b FD(hWaitForInput)18 b FI(and)25 b
FD(hReady)c FI(computations)28 b(f)o(ail)d(with)f FD(isEOFError)c
FI(if)k(the)0 3984 y(end)g(of)f(\002le)g(has)h(been)h(reached.)0
4299 y FG(21.9.2)99 b(Reading)25 b(Input)0 4544 y FI(Computation)h
FD(hGetChar)19 b Fv(hd)5 b(l)33 b FI(reads)24 b(a)f(character)j(from)d
(the)h(\002le)f(or)h(channel)h(managed)g(by)f Fv(hd)5
b(l)10 b FI(.)0 4729 y(Computation)27 b FD(hGetLine)21
b Fv(hd)5 b(l)35 b FI(reads)26 b(a)f(line)h(from)f(the)g(\002le)g(or)g
(channel)i(managed)g(by)e Fv(hd)5 b(l)11 b FI(.)33 b(The)25
b(Prelude')-5 b(s)0 4842 y FD(getLine)20 b FI(is)j(a)g(shorthand)j(for)
e FD(hGetLine)51 b(stdin)n FI(.)0 5026 y FJ(Err)l(or)28
b(r)m(eporting)p FI(:)39 b(the)28 b FD(hGetChar)23 b
FI(computation)31 b(f)o(ails)d(with)g FD(isEOFError)22
b FI(if)27 b(the)h(end)g(of)f(\002le)g(has)h(been)0 5139
y(reached.)51 b(The)30 b FD(hGetLine)c FI(computation)34
b(f)o(ails)d(with)f FD(isEOFError)25 b FI(if)31 b(the)f(end)h(of)g
(\002le)e(is)i(encountered)0 5252 y(when)24 b(reading)i(the)f
FJ(\002r)o(st)f FI(character)j(of)d(the)g(line.)31 b(If)24
b FD(hGetLine)c FI(encounters)27 b(end-of-\002le)f(at)e(an)o(y)g(other)
h(point)0 5365 y(while)f(reading)h(in)f(a)f(line,)g(it)h(is)f(treated)i
(as)f(a)f(line)h(terminator)h(and)f(the)g(\(partial\))i(line)e(is)f
(returned.)p eop
%%Page: 219 233
219 232 bop 300 100 a FE(21.10.)52 b(EXAMPLES)2703 b
FI(219)300 356 y FG(21.9.3)99 b(Reading)25 b(Ahead)300
613 y FI(Computation)34 b FD(hLookAhead)26 b Fv(hd)5
b(l)42 b FI(returns)33 b(the)f(ne)o(xt)h(character)h(from)e(handle)h
Fv(hd)5 b(l)41 b FI(without)33 b(remo)o(ving)g(it)300
726 y(from)23 b(the)h(input)h(b)n(uf)n(fer)l(,)g(blocking)h(until)e(a)f
(character)j(is)d(a)n(v)n(ailable.)300 922 y FJ(Err)l(or)f(r)m
(eporting)p FI(:)30 b(the)22 b FD(hLookAhead)16 b FI(computation)24
b(may)d(f)o(ail)g(with:)28 b FD(isEOFError)16 b FI(if)21
b(the)h(end)g(of)f(\002le)g(has)300 1035 y(been)j(reached.)300
1367 y FG(21.9.4)99 b(Reading)25 b(The)h(Entir)n(e)g(Input)300
1624 y FI(Computation)20 b FD(hGetContents)12 b Fv(hd)5
b(l)28 b FI(returns)20 b(the)e(list)h(of)f(characters)j(corresponding)i
(to)18 b(the)h(unread)g(portion)300 1737 y(of)k(the)h(channel)i(or)d
(\002le)g(managed)i(by)f Fv(hd)5 b(l)10 b FI(,)22 b(which)i(is)g(made)f
(semi-closed.)300 1933 y FJ(Err)l(or)h(r)m(eporting)p
FI(:)32 b(the)25 b FD(hGetContents)17 b FI(computation)27
b(may)d(f)o(ail)g(with:)30 b FD(isEOFError)19 b FI(if)k(the)i(end)f(of)
g(\002le)300 2046 y(has)g(been)g(reached.)300 2378 y
FG(21.9.5)99 b(T)-9 b(ext)25 b(Output)300 2636 y FI(Computation)g
FD(hPutChar)19 b Fv(hd)5 b(l)33 b(c)27 b FI(writes)d(the)f(character)j
Fv(c)h FI(to)c(the)h(\002le)e(or)i(channel)h(managed)f(by)g
Fv(hd)5 b(l)10 b FI(.)28 b(Char)n(-)300 2749 y(acters)d(may)e(be)h(b)n
(uf)n(fered)h(if)e(b)n(uf)n(fering)j(is)e(enabled)h(for)f
Fv(hd)5 b(l)10 b FI(.)300 2945 y(Computation)26 b FD(hPutStr)19
b Fv(hd)5 b(l)33 b(s)d FI(writes)24 b(the)g(string)h
Fv(s)30 b FI(to)24 b(the)g(\002le)e(or)i(channel)h(managed)g(by)f
Fv(hd)5 b(l)10 b FI(.)300 3141 y(Computation)30 b FD(hPrint)25
b Fv(hd)5 b(l)38 b(t)e FI(writes)29 b(the)f(string)i(representation)i
(of)c Fv(t)37 b FI(gi)n(v)o(en)29 b(by)f(the)h FD(shows)c
FI(function)30 b(to)300 3253 y(the)24 b(\002le)f(or)g(channel)j
(managed)f(by)e Fv(hd)5 b(l)33 b FI(and)24 b(appends)i(a)d(ne)n(wline.)
300 3449 y FJ(Err)l(or)k(r)m(eporting)p FI(:)39 b(the)28
b FD(hPutChar)l FI(,)f FD(hPutStr)d FI(and)j FD(hPrint)d
FI(computations)30 b(may)d(f)o(ail)h(with:)36 b FD(isFull)n
FI(-)300 3562 y FD(Error)22 b FI(if)i(the)i(de)n(vice)g(is)e(full;)j
(or)e FD(isPermissionEr)o(ro)o(r)18 b FI(if)25 b(another)h(system)g
(resource)h(limit)e(w)o(ould)g(be)300 3675 y(e)o(xceeded.)300
4051 y FC(21.10)119 b(Examples)300 4341 y FI(Here)23
b(are)h(some)g(simple)g(e)o(xamples)h(to)e(illustrate)j(Hask)o(ell)f
(I/O.)300 4673 y FG(21.10.1)99 b(Summing)25 b(T)-7 b(w)o(o)25
b(Numbers)300 4930 y FI(This)e(program)i(reads)g(and)f(sums)f(tw)o(o)g
FD(Integer)m FI(s.)p eop
%%Page: 220 234
220 233 bop 0 100 a FI(220)2212 b FE(CHAPTER)20 b(21.)52
b(INPUT/OUTPUT)141 344 y FD(import)g(IO)141 503 y(main)h(=)h(do)632
616 y(hSetBuffering)49 b(stdout)i(NoBuffering)632 729
y(putStr)161 b("Enter)52 b(an)h(integer:)e(")632 842
y(x1)j(<-)f(readNum)632 955 y(putStr)161 b("Enter)52
b(another)f(integer:)g(")632 1068 y(x2)j(<-)f(readNum)632
1181 y(putStr)106 b(\("Their)52 b(sum)h(is)h(")g(++)f(show)g(\(x1+x2\))
e(++)j("\\n"\))523 1293 y(where)e(readNum)g(::)h(IO)h(Integer)1014
1406 y(--)f(Providing)e(a)j(type)f(signature)d(avoids)i(reliance)f(on)
1014 1519 y(--)i(the)h(defaulting)c(rule)i(to)i(fix)f(the)g(type)g(of)h
(x1,x2)850 1632 y(readNum)e(=)i(readLn)0 2090 y FG(21.10.2)99
b(Copying)24 b(Files)0 2347 y FI(A)f(simple)i(program)g(to)g(create)g
(a)f(cop)o(y)h(of)f(a)g(\002le,)g(with)g(all)g(lo)n(wer)n(-case)i
(characters)h(translated)g(to)d(upper)n(-case.)0 2460
y(This)g(program)h(will)f(not)g(allo)n(w)g(a)g(\002le)g(to)g(be)g
(copied)h(to)f(itself.)32 b(This)24 b(v)o(ersion)h(uses)g(character)n
(-le)n(v)o(el)j(I/O.)23 b(Note)0 2573 y(that)h(e)o(xactly)h(tw)o(o)e
(ar)n(guments)j(must)e(be)f(supplied)j(to)d(the)h(program.)141
2763 y FD(import)52 b(IO)141 2876 y(import)g(System)141
2989 y(import)g(Char\()g(toUpper)g(\))141 3148 y(main)h(=)h(do)632
3261 y([f1,f2])d(<-)j(getArgs)632 3374 y(h1)g(<-)f(openFile)e(f1)j
(ReadMode)632 3487 y(h2)g(<-)f(openFile)e(f2)j(WriteMode)632
3600 y(copyFile)d(h1)j(h2)632 3712 y(hClose)e(h1)632
3825 y(hClose)g(h2)141 3985 y(copyFile)f(h1)j(h2)f(=)h(do)1177
4098 y(eof)g(<-)f(hIsEOF)f(h1)1177 4211 y(if)i(eof)f(then)g(return)f
(\(\))h(else)1341 4324 y(do)1450 4436 y(c)h(<-)g(hGetChar)d(h1)1450
4549 y(hPutChar)g(h2)j(\(toUpper)d(c\))1450 4662 y(copyFile)g(h1)j(h2)0
4983 y FI(An)23 b(equi)n(v)n(alent)j(b)n(ut)e(much)g(shorter)h(v)o
(ersion,)f(using)h(string)g(I/O)e(is:)p eop
%%Page: 221 235
221 234 bop 300 100 a FE(21.11.)52 b(LIBRAR)-6 b(Y)21
b FD(IO)2660 b FI(221)441 344 y FD(import)52 b(System)441
457 y(import)g(Char\()g(toUpper)g(\))441 616 y(main)h(=)h(do)932
729 y([f1,f2])d(<-)j(getArgs)932 842 y(s)g(<-)g(readFile)d(f1)932
955 y(writeFile)f(f2)k(\(map)f(toUpper)e(s\))300 1456
y FC(21.11)119 b(Library)30 b Fa(IO)300 1745 y Fp(module)49
b(IO)g({-)h(export)e(list)h(omitted)g(-})g(where)300
1912 y(--)g(Just)h(provide)e(an)h(implementation)f(of)h(the)g
(system-independent)300 2012 y(--)g(actions)g(that)g(IO)g(exports.)300
2145 y(try)597 b(::)50 b(IO)f(a)h(->)f(IO)h(\(Either)e(IOError)h(a\))
300 2245 y(try)g(f)498 b(=)100 b(catch)49 b(\(do)g(r)g(<-)h(f)1695
2344 y(return)e(\(Right)h(r\)\))1496 2444 y(\(return)f(.)i(Left\))300
2611 y(bracket)397 b(::)50 b(IO)f(a)h(->)f(\(a)h(->)f(IO)g(b\))h(->)f
(\(a)h(->)f(IO)h(c\))f(->)h(IO)f(c)300 2711 y(bracket)g(before)f(after)
h(m)h(=)f(do)699 2811 y(x)99 b(<-)49 b(before)699 2910
y(rs)g(<-)g(try)h(\(m)f(x\))699 3010 y(after)f(x)699
3110 y(case)h(rs)g(of)848 3209 y(Right)g(r)g(->)h(return)f(r)848
3309 y(Left)99 b(e)49 b(->)h(ioError)e(e)300 3477 y(--)h(variant)g(of)g
(the)h(above)f(where)f(middle)h(computation)f(doesn't)g(want)h(x)300
3576 y(bracket_)397 b(::)49 b(IO)h(a)g(->)f(\(a)g(->)h(IO)f(b\))h(->)f
(IO)h(c)f(->)h(IO)f(c)300 3676 y(bracket_)f(before)h(after)g(m)h(=)f
(do)748 3775 y(x)100 b(<-)49 b(before)748 3875 y(rs)h(<-)f(try)g(m)748
3975 y(after)g(x)748 4074 y(case)g(rs)h(of)898 4174 y(Right)f(r)g(->)h
(return)e(r)898 4274 y(Left)99 b(e)49 b(->)h(ioError)e(e)p
eop
%%Page: 222 236
222 235 bop 0 100 a FI(222)2212 b FE(CHAPTER)20 b(21.)52
b(INPUT/OUTPUT)p eop
%%Page: 223 237
223 236 bop 2032 5593 a FI(223)p eop
%%Page: 224 238
224 237 bop 0 100 a FI(224)1818 b FE(CHAPTER)20 b(22.)52
b(DIRECT)n(OR)-6 b(Y)20 b(FUNCTIONS)0 1045 y Fw(Chapter)44
b(22)0 1527 y FH(Dir)l(ectory)52 b(Functions)p 15 1979
3548 4 v 15 5746 4 3768 v 66 2114 a Fp(module)d(Directory)f(\()265
2214 y(Permissions\()g(Permissions,)f(readable,)h(writable,)h
(executable,)e(searchable)h(\),)265 2314 y(createDirectory,)f
(removeDirectory,)g(removeFile,)265 2413 y(renameDirectory,)g
(renameFile,)h(getDirectoryContents,)265 2513 y(getCurrentDirectory,)e
(setCurrentDirectory,)265 2612 y(doesFileExist,)h(doesDirectoryExist,)
265 2712 y(getPermissions,)g(setPermissions,)265 2812
y(getModificationTime)f(\))k(where)66 2979 y(import)f(Time)g(\()g
(ClockTime)f(\))66 3147 y(data)h(Permissions)f(=)h(Permissions)f({)1261
3247 y(readable,)148 b(writable,)1261 3346 y(executable,)48
b(searchable)g(::)i(Bool)1012 3446 y(})66 3614 y(instance)e(Eq)149
b(Permissions)48 b(where)h(...)66 3713 y(instance)f(Ord)99
b(Permissions)48 b(where)h(...)66 3813 y(instance)f(Read)h(Permissions)
f(where)h(...)66 3913 y(instance)f(Show)h(Permissions)f(where)h(...)66
4080 y(createDirectory)445 b(::)50 b(FilePath)e(->)i(IO)f(\(\))66
4180 y(removeDirectory)445 b(::)50 b(FilePath)e(->)i(IO)f(\(\))66
4279 y(removeFile)695 b(::)50 b(FilePath)e(->)i(IO)f(\(\))66
4379 y(renameDirectory)445 b(::)50 b(FilePath)e(->)i(FilePath)e(->)h
(IO)h(\(\))66 4479 y(renameFile)695 b(::)50 b(FilePath)e(->)i(FilePath)
e(->)h(IO)h(\(\))66 4646 y(getDirectoryContents)195 b(::)50
b(FilePath)e(->)i(IO)f([FilePath])66 4746 y(getCurrentDirectory)245
b(::)50 b(IO)f(FilePath)66 4846 y(setCurrentDirectory)245
b(::)50 b(FilePath)e(->)i(IO)f(\(\))66 5013 y(doesFileExist)545
b(::)50 b(FilePath)e(->)i(IO)f(Bool)66 5113 y(doesDirectoryExist)295
b(::)50 b(FilePath)e(->)i(IO)f(Bool)66 5281 y(getPermissions)495
b(::)50 b(FilePath)e(->)i(IO)f(Permissions)66 5380 y(setPermissions)495
b(::)50 b(FilePath)e(->)i(Permissions)d(->)j(IO)f(\(\))66
5548 y(getModificationTime)245 b(::)50 b(FilePath)e(->)i(IO)f
(ClockTime)p 3559 5746 V 15 5749 3548 4 v eop
%%Page: 225 239
225 238 bop 3764 100 a FI(225)300 356 y(These)24 b(functions)i(operate)
f(on)f(directories)i(in)e(the)g(\002le)e(system.)300
549 y(An)o(y)c FD(Directory)13 b FI(operation)21 b(could)f(raise)f(an)g
FD(isIllegalOpera)o(ti)o(on)-7 b FI(,)19 b(as)f(described)j(in)d
(Section)i(21.1;)300 662 y(all)25 b(other)g(permissible)i(errors)f(are)
f(described)i(belo)n(w)-6 b(.)33 b(Note)24 b(that,)i(in)e(particular)l
(,)k(if)c(an)h(implementation)i(does)300 774 y(not)22
b(support)i(an)e(operation)j(it)d(should)i(raise)f(an)f
FD(isIllegalOpera)o(ti)o(on)-7 b FI(.)28 b(A)21 b(directory)j(contains)
g(a)e(series)300 887 y(of)30 b(entries,)k(each)d(of)f(which)h(is)f(a)g
(named)h(reference)h(to)f(a)f(\002le)f(system)j(object)f(\(\002le,)h
(directory)g(etc.\).)50 b(Some)300 1000 y(entries)28
b(may)f(be)g(hidden,)i(inaccessible,)h(or)d(ha)n(v)o(e)g(some)g
(administrati)n(v)o(e)j(function)f(\(for)e(instance,)i(\223.)-6
b(\224)38 b(or)27 b(\223..)-6 b(\224)300 1113 y(under)26
b(POSIX\),)e(b)n(ut)h(all)h(such)g(entries)h(are)e(considered)j(to)e
(form)f(part)h(of)f(the)g(directory)j(contents.)36 b(Entries)26
b(in)300 1226 y(sub-directories)k(are)c(not,)h(ho)n(we)n(v)o(er)l(,)f
(considered)j(to)d(form)f(part)i(of)e(the)h(directory)i(contents.)38
b(Although)27 b(there)300 1339 y(may)c(be)h(\002le)f(system)h(objects)h
(other)g(than)f(\002les)f(and)h(directories,)i(this)e(library)h(does)f
(not)g(distinguish)j(between)300 1452 y(physical)d(\002les)d(and)h
(other)h(non-directory)j(objects.)k(All)21 b(such)i(objects)h(should)f
(therefore)h(be)e(treated)h(as)f(if)g(the)o(y)300 1565
y(are)i(\002les.)300 1758 y(Each)33 b(\002le)f(system)i(object)h(is)e
(referenced)i(by)e(a)g FJ(path)p FI(.)58 b(There)34 b(is)e(normally)j
(at)e(least)h(one)f(absolute)i(path)f(to)300 1870 y(each)25
b(\002le)e(system)h(object.)31 b(In)24 b(some)g(operating)i(systems,)f
(it)e(may)h(also)g(be)g(possible)i(to)e(ha)n(v)o(e)g(paths)h(which)f
(are)300 1983 y(relati)n(v)o(e)h(to)e(the)h(current)h(directory)-6
b(.)300 2176 y(Computation)28 b FD(createDirectory)19
b Fv(dir)36 b FI(creates)27 b(a)f(ne)n(w)g(directory)i
Fv(dir)36 b FI(which)27 b(is)f(initially)i(empty)-6 b(,)27
b(or)f(as)300 2289 y(near)e(to)g(empty)g(as)f(the)h(operating)i(system)
e(allo)n(ws.)300 2482 y FJ(Err)l(or)j(r)m(eporting)p
FI(.)41 b(The)26 b FD(createDirectory)20 b FI(computation)29
b(may)e(f)o(ail)g(with:)36 b FD(isPermissionEr)o(ro)o(r)300
2595 y FI(if)c(the)h(user)h(is)e(not)h(permitted)h(to)f(create)h(the)f
(directory;)40 b FD(isAlreadyExist)o(sE)o(rro)o(r)25
b FI(if)33 b(the)g(directory)300 2707 y(already)25 b(e)o(xists;)g(or)e
FD(isDoesNotExistEr)o(ro)o(r)17 b FI(if)23 b(the)h(ne)n(w)f(directory')
-5 b(s)26 b(parent)f(does)f(not)g(e)o(xist.)300 2900
y(Computation)36 b FD(removeDirector)o(y)27 b Fv(dir)43
b FI(remo)o(v)o(es)34 b(an)g(e)o(xisting)h(directory)h
Fv(dir)11 b FI(.)58 b(The)33 b(implementation)300 3013
y(may)27 b(specify)j(additional)g(constraints)h(which)d(must)g(be)g
(satis\002ed)g(before)h(a)f(directory)i(can)e(be)f(remo)o(v)o(ed)i
(\(for)300 3126 y(instance,)23 b(the)d(directory)i(has)f(to)f(be)g
(empty)-6 b(,)21 b(or)f(may)g(not)g(be)g(in)g(use)h(by)f(other)h
(processes\).)31 b(It)19 b(is)h(not)h(le)o(gal)f(for)g(an)300
3239 y(implementation)j(to)d(partially)j(remo)o(v)o(e)d(a)g(directory)i
(unless)g(the)f(entire)g(directory)i(is)d(remo)o(v)o(ed.)28
b(A)19 b(conformant)300 3352 y(implementation)j(need)d(not)g(support)i
(directory)g(remo)o(v)n(al)e(in)g(all)g(situations)i(\(for)e(instance,)
j(remo)o(v)n(al)d(of)g(the)g(root)300 3465 y(directory\).)300
3657 y(Computation)30 b FD(removeFile)22 b Fv(\014le)34
b FI(remo)o(v)o(es)29 b(the)f(directory)i(entry)f(for)f(an)g(e)o
(xisting)h(\002le)e Fv(\014le)7 b FI(,)28 b(where)g Fv(\014le)34
b FI(is)300 3770 y(not)19 b(itself)g(a)g(directory.)29
b(The)18 b(implementation)j(may)e(specify)h(additional)h(constraints)h
(which)d(must)f(be)h(satis\002ed)300 3883 y(before)25
b(a)e(\002le)g(can)h(be)f(remo)o(v)o(ed)h(\(for)g(instance,)i(the)e
(\002le)f(may)g(not)h(be)f(in)h(use)g(by)f(other)i(processes\).)300
4076 y FJ(Err)l(or)68 b(r)m(eporting)p FI(.)164 b(The)68
b FD(removeDirector)o(y)61 b FI(and)68 b FD(removeFile)63
b FI(computations)71 b(may)d(f)o(ail)300 4189 y(with:)80
b FD(isPermissionEr)o(ro)o(r)42 b FI(if)49 b(the)g(user)g(is)g(not)g
(permitted)i(to)e(remo)o(v)o(e)g(the)g(\002le/directory;)64
b(or)300 4302 y FD(isDoesNotExistE)o(rr)o(or)16 b FI(if)23
b(the)h(\002le/directory)j(does)d(not)g(e)o(xist.)300
4494 y(Computation)31 b FD(renameDirectory)21 b Fv(old)39
b(new)g FI(changes)31 b(the)e(name)g(of)g(an)g(e)o(xisting)i(directory)
g(from)e Fv(old)300 4607 y FI(to)h Fv(new)10 b FI(.)48
b(If)30 b(the)g Fv(new)40 b FI(directory)32 b(already)g(e)o(xists,)g
(it)e(is)g(atomically)i(replaced)h(by)d(the)g Fv(old)40
b FI(directory)-6 b(.)51 b(If)30 b(the)300 4720 y Fv(new)39
b FI(directory)32 b(is)e(neither)h(the)f Fv(old)40 b
FI(directory)32 b(nor)e(an)g(alias)g(of)g(the)g Fv(old)39
b FI(directory)-6 b(,)34 b(it)29 b(is)h(remo)o(v)o(ed)g(as)g(if)f(by)
300 4833 y FD(removeDirectory)-7 b FI(.)34 b(A)24 b(conformant)j
(implementation)i(need)d(not)f(support)j(renaming)f(directories)h(in)d
(all)300 4946 y(situations)i(\(for)e(instance,)i(renaming)f(to)e(an)h
(e)o(xisting)h(directory)-6 b(,)27 b(or)e(across)h(dif)n(ferent)g
(physical)g(de)n(vices\),)h(b)n(ut)300 5059 y(the)d(constraints)i(must)
e(be)g(documented.)300 5252 y(Computation)k FD(renameFile)20
b Fv(old)36 b(new)f FI(changes)27 b(the)f(name)g(of)g(an)g(e)o(xisting)
h(\002le)e(system)i(object)g(from)e Fv(old)300 5365 y
FI(to)j Fv(new)10 b FI(.)40 b(If)28 b(the)g Fv(new)37
b FI(object)29 b(already)g(e)o(xists,)h(it)d(is)h(atomically)h
(replaced)h(by)e(the)g Fv(old)37 b FI(object.)43 b(Neither)28
b(path)p eop
%%Page: 226 240
226 239 bop 0 100 a FI(226)1818 b FE(CHAPTER)20 b(22.)52
b(DIRECT)n(OR)-6 b(Y)20 b(FUNCTIONS)0 356 y FI(may)i(refer)g(to)g(an)g
(e)o(xisting)i(directory)-6 b(.)30 b(A)21 b(conformant)j
(implementation)h(need)e(not)f(support)i(renaming)g(\002les)d(in)0
469 y(all)k(situations)j(\(for)d(instance,)i(renaming)g(across)f(dif)n
(ferent)h(physical)g(de)n(vices\),)f(b)n(ut)g(the)f(constraints)j(must)
d(be)0 582 y(documented.)0 775 y FJ(Err)l(or)45 b(r)m(eporting)p
FI(.)95 b(The)44 b FD(renameDirectory)38 b FI(and)45
b FD(renameFile)39 b FI(computations)48 b(may)d(f)o(ail)g(with:)0
887 y FD(isPermissionErr)o(or)26 b FI(if)33 b(the)g(user)h(is)f(not)h
(permitted)h(to)e(rename)h(the)f(\002le/directory)-6
b(,)38 b(or)c(if)f(either)h(ar)n(-)0 1000 y(gument)e(to)g
FD(renameFile)26 b FI(is)31 b(a)g(directory;)39 b(or)31
b FD(isDoesNotExistE)o(rr)o(or)24 b FI(if)31 b(the)h(\002le/directory)i
(does)0 1113 y(not)24 b(e)o(xist.)0 1306 y(Computation)i
FD(getDirectoryCo)o(nte)o(nt)o(s)17 b Fv(dir)33 b FI(returns)26
b(a)d(list)h(of)g FJ(all)g FI(entries)h(in)f Fv(dir)10
b FI(.)29 b(Each)23 b(entry)i(in)f(the)0 1419 y(returned)i(list)e(is)f
(named)h(relati)n(v)o(e)h(to)e(the)h(directory)i Fv(dir)10
b FI(,)23 b(not)h(as)f(an)h(absolute)h(path.)0 1612 y(If)i(the)i
(operating)h(system)e(has)g(a)g(notion)h(of)f(current)h(directories,)i
FD(getCurrentDirect)o(or)o(y)21 b FI(returns)29 b(an)0
1725 y(absolute)d(path)e(to)f(the)h(current)h(directory)h(of)e(the)g
(calling)h(process.)0 1917 y FJ(Err)l(or)f(r)m(eporting)p
FI(.)32 b(The)23 b FD(getDirectoryCont)o(en)o(ts)16 b
FI(and)25 b FD(getCurrentDire)o(ct)o(ory)16 b FI(computations)0
2030 y(may)36 b(f)o(ail)h(with:)55 b FD(isPermissionEr)o(ro)o(r)30
b FI(if)36 b(the)g(user)h(is)f(not)h(permitted)h(to)e(access)i(the)f
(directory;)45 b(or)0 2143 y FD(isDoesNotExistE)o(rr)o(or)16
b FI(if)23 b(the)h(directory)i(does)e(not)g(e)o(xist.)0
2336 y(If)d(the)h(operating)i(system)e(has)g(a)f(notion)h(of)g(current)
h(directories,)h FD(setCurrentDirec)o(to)o(ry)14 b Fv(dir)31
b FI(changes)0 2449 y(the)24 b(current)h(directory)h(of)d(the)h
(calling)h(process)h(to)d Fv(dir)11 b FI(.)0 2642 y FJ(Err)l(or)23
b(r)m(eporting)p FI(.)30 b FD(setCurrentDirec)o(to)o(ry)15
b FI(may)22 b(f)o(ail)h(with:)29 b FD(isPermissionEr)o(ro)o(r)16
b FI(if)22 b(the)g(user)h(is)0 2755 y(not)k(permitted)i(to)e(change)i
(directory)g(to)e(that)h(speci\002ed;)i(or)d FD(isDoesNotExistE)o(rr)o
(or)20 b FI(if)26 b(the)i(directory)0 2868 y(does)c(not)g(e)o(xist.)0
3060 y(The)46 b FD(Permissions)40 b FI(type)47 b(is)g(used)g(to)f
(record)i(whether)f(certain)h(operations)h(are)e(permissible)h(on)f(a)0
3173 y(\002le/directory)-6 b(.)31 b FD(getPermissions)16
b FI(and)24 b FD(setPermissions)15 b FI(get)24 b(and)f(set)g(these)h
(permissions,)i(respec-)0 3286 y(ti)n(v)o(ely)-6 b(.)63
b(Permissions)37 b(apply)f(both)f(to)g(\002les)g(and)g(directories.)66
b(F)o(or)33 b(directories,)41 b(the)35 b FD(executable)29
b FI(\002eld)0 3399 y(will)c(be)h FD(False)n FI(,)f(and)h(for)g
(\002les)f(the)h FD(searchable)21 b FI(\002eld)k(will)h(be)f
FD(False)n FI(.)34 b(Note)26 b(that)g(directories)j(may)c(be)0
3512 y(searchable)31 b(without)d(being)h(readable,)i(if)c(permission)j
(has)e(been)h(gi)n(v)o(en)f(to)g(use)g(them)g(as)f(part)h(of)g(a)f
(path,)j(b)n(ut)0 3625 y(not)24 b(to)f(e)o(xamine)i(the)f(directory)h
(contents.)0 3818 y(Note)e(that)i(to)e(change)i(some,)f(b)n(ut)g(not)g
(all)f(permissions,)j(a)d(construct)j(on)e(the)g(follo)n(wing)h(lines)f
(must)g(be)f(used.)141 4005 y FD(makeReadable)49 b(f)54
b(=)g(do)1232 4118 y(p)g(<-)g(getPermissions)48 b(f)1232
4230 y(setPermissions)g(f)54 b(\(p)g({readable)c(=)k(True}\))0
4414 y FI(The)20 b(operation)j FD(doesDirectoryEx)o(is)o(t)13
b FI(returns)23 b FD(True)17 b FI(if)k(the)f(ar)n(gument)j(\002le)c(e)o
(xists)j(and)f(is)f(a)g(directory)-6 b(,)0 4527 y(and)27
b FD(False)d FI(otherwise.)41 b(The)26 b(operation)j
FD(doesFileExist)21 b FI(returns)28 b FD(True)c FI(if)j(the)g(ar)n
(gument)i(\002le)d(e)o(xists)0 4640 y(and)e(is)f(not)h(a)f(directory)-6
b(,)26 b(and)e FD(False)d FI(otherwise.)0 4833 y(The)32
b FD(getModification)o(Ti)o(me)25 b FI(operation)35 b(returns)f(the)f
(clock)g(time)g(at)f(which)h(the)f(\002le/directory)k(w)o(as)0
4946 y(last)24 b(modi\002ed.)0 5139 y FJ(Err)l(or)88
b(r)m(eporting)p FI(.)223 b FD(get\(set\)Permis)o(si)o(on)o(s)-6
b FI(,)102 b FD(doesFile\(Direct)o(ory)o(\)E)o(xi)o(st)-7
b FI(,)103 b(and)0 5252 y FD(getModification)o(Ti)o(me)43
b FI(may)51 b(f)o(ail)g(with:)84 b FD(isPermissionErr)o(or)43
b FI(if)51 b(the)g(user)h(is)e(not)h(per)n(-)0 5365 y(mitted)35
b(to)e(access)j(the)e(appropriate)j(information;)42 b(or)34
b FD(isDoesNotExistE)o(rr)o(or)26 b FI(if)34 b(the)g(\002le/directory)p
eop
%%Page: 227 241
227 240 bop 3764 100 a FI(227)300 356 y(does)23 b(not)g(e)o(xist.)29
b(The)21 b FD(setPermissions)16 b FI(computation)25 b(may)d(also)h(f)o
(ail)f(with:)29 b FD(isPermissionEr)o(ro)o(r)300 469
y FI(if)47 b(the)h(user)g(is)f(not)h(permitted)h(to)e(change)i(the)f
(permission)h(for)f(the)g(speci\002ed)g(\002le)f(or)g(directory;)62
b(or)300 582 y FD(isDoesNotExistE)o(rr)o(or)16 b FI(if)23
b(the)h(\002le/directory)j(does)d(not)g(e)o(xist.)p eop
%%Page: 228 242
228 241 bop 0 100 a FI(228)1818 b FE(CHAPTER)20 b(22.)52
b(DIRECT)n(OR)-6 b(Y)20 b(FUNCTIONS)p eop
%%Page: 229 243
229 242 bop 300 1062 a Fw(Chapter)44 b(23)300 1560 y
FH(System)52 b(Functions)p 315 2029 3548 4 v 315 3519
4 1491 v 366 2164 a Fp(module)d(System)f(\()565 2264
y(ExitCode\(ExitSuccess,ExitFailure\),)565 2363 y(getArgs,)h
(getProgName,)e(getEnv,)i(system,)f(exitWith,)g(exitFailure)466
2463 y(\))h(where)366 2631 y(data)g(ExitCode)f(=)i(ExitSuccess)e(|)h
(ExitFailure)f(Int)1163 2730 y(deriving)g(\(Eq,)h(Ord,)g(Read,)g
(Show\))366 2898 y(getArgs)845 b(::)50 b(IO)f([String])366
2998 y(getProgName)645 b(::)50 b(IO)f(String)366 3097
y(getEnv)895 b(::)50 b(String)f(->)g(IO)g(String)366
3197 y(system)895 b(::)50 b(String)f(->)g(IO)g(ExitCode)366
3297 y(exitWith)795 b(::)50 b(ExitCode)e(->)i(IO)f(a)366
3396 y(exitFailure)645 b(::)50 b(IO)f(a)p 3859 3519 V
315 3522 3548 4 v 300 3816 a FI(This)23 b(library)i(describes)h(the)e
(interaction)j(of)c(the)h(program)h(with)e(the)h(operating)i(system.)
300 4012 y(An)o(y)c FD(System)e FI(operation)26 b(could)e(raise)g(an)f
FD(isIllegalOpera)o(tio)o(n)-6 b FI(,)22 b(as)h(described)i(in)e
(Section)h(21.1;)g(all)300 4125 y(other)g(permissible)h(errors)g(are)e
(described)i(belo)n(w)-6 b(.)29 b(Note)23 b(that,)h(in)e(particular)l
(,)k(if)d(an)g(implementation)j(does)e(not)300 4238 y(support)h(an)f
(operation)i(it)d(must)h(raise)g(an)g FD(isIllegalOpera)o(tio)o(n)-6
b FI(.)300 4434 y(The)28 b FD(ExitCode)d FI(type)30 b(de\002nes)f(the)g
(e)o(xit)g(codes)h(that)g(a)e(program)i(can)g(return.)46
b FD(ExitSuccess)23 b FI(indicates)300 4547 y(successful)31
b(termination;)h(and)d FD(ExitFailure)22 b Fv(c)-5 b(o)g(de)35
b FI(indicates)30 b(program)g(f)o(ailure)f(with)f(v)n(alue)g
Fv(c)-5 b(o)g(de)9 b FI(.)41 b(The)300 4660 y(e)o(xact)25
b(interpretation)k(of)24 b Fv(c)-5 b(o)g(de)32 b FI(is)24
b(operating-system)29 b(dependent.)34 b(In)25 b(particular)l(,)i(some)e
(v)n(alues)g(of)g Fv(c)-5 b(o)g(de)31 b FI(may)300 4773
y(be)24 b(prohibited)i(\(for)e(instance,)h(0)f(on)f(a)g
(POSIX-compliant)i(system\).)300 4969 y(Computation)i
FD(getArgs)20 b FI(returns)27 b(a)d(list)h(of)g(the)g(program')-5
b(s)26 b(command)g(line)f(ar)n(guments)i(\(not)f(including)h(the)300
5081 y(program)g(name\).)36 b(Computation)28 b FD(getProgName)20
b FI(returns)28 b(the)e(name)g(of)g(the)g(program)h(as)f(it)f(w)o(as)h
(in)l(v)n(ok)o(ed.)300 5194 y(Computation)34 b FD(getEnv)29
b Fv(var)42 b FI(returns)34 b(the)e(v)n(alue)h(of)f(the)h(en)l
(vironment)i(v)n(ariable)f Fv(var)11 b FI(.)54 b(If)32
b(v)n(ariable)i Fv(var)41 b FI(is)300 5307 y(unde\002ned,)25
b(the)f FD(isDoesNotExist)o(Err)o(or)16 b FI(e)o(xception)26
b(is)d(raised.)2032 5593 y(229)p eop
%%Page: 230 244
230 243 bop 0 100 a FI(230)1972 b FE(CHAPTER)20 b(23.)52
b(SYSTEM)20 b(FUNCTIONS)0 356 y FI(Computation)33 b FD(system)28
b Fv(cmd)40 b FI(returns)33 b(the)f(e)o(xit)f(code)h(produced)i(when)d
(the)h(operating)i(system)e(processes)0 469 y(the)24
b(command)g Fv(cmd)10 b FI(.)0 665 y(Computation)26 b
FD(exitWith)19 b Fv(c)-5 b(o)g(de)31 b FI(terminates)26
b(the)e(program,)g(returning)i Fv(c)-5 b(o)g(de)31 b
FI(to)24 b(the)g(program')-5 b(s)25 b(caller.)31 b(Be-)0
778 y(fore)e(the)g(program)g(terminates,)j(an)o(y)c(open)h(or)g
(semi-closed)i(handles)f(are)f(\002rst)f(closed.)44 b(The)28
b(caller)i(may)e(in-)0 891 y(terpret)d(the)g(return)g(code)g(as)f(it)g
(wishes,)g(b)n(ut)h(the)f(program)h(should)h(return)f
FD(ExitSuccess)18 b FI(to)24 b(mean)g(normal)0 1004 y(completion,)g
(and)d FD(ExitFailure)50 b Fv(n)27 b FI(to)21 b(mean)g(that)h(the)f
(program)i(encountered)h(a)d(problem)h(from)f(which)g(it)0
1116 y(could)g(not)e(reco)o(v)o(er)-5 b(.)29 b(The)19
b(v)n(alue)h FD(exitFailure)14 b FI(is)19 b(equal)h(to)g
FD(exitWith)51 b(\(ExitFailure)e Fv(exitfail)10 b FD(\))o
FI(,)0 1229 y(where)33 b Fv(exitfail)42 b FI(is)32 b
(implementation-depend)q(en)q(t.)61 b FD(exitWith)29
b FI(bypasses)35 b(the)e(error)g(handling)i(in)e(the)g(I/O)0
1342 y(monad)24 b(and)g(cannot)h(be)f(intercepted)i(by)e
FD(catch)n FI(.)0 1538 y(If)e(a)f(program)j(terminates)f(as)f(a)g
(result)h(of)f(calling)i FD(error)19 b FI(or)j(because)i(its)e(v)n
(alue)h(is)e(otherwise)j(determined)g(to)0 1651 y(be)j
FB(?)o FI(,)f(then)i(it)e(is)g(treated)i(identically)i(to)c(the)h
(computation)i FD(exitFailure)-5 b FI(.)37 b(Otherwise,)28
b(if)e(an)o(y)h(program)0 1764 y Fv(p)i FI(terminates)c(without)g
(calling)g FD(exitWith)19 b FI(e)o(xplicitly)-6 b(,)26
b(it)d(is)g(treated)j(identically)g(to)e(the)f(computation)141
1960 y FD(\()p Fv(p)60 b FD(>>)54 b(exitWith)d(ExitSuccess\))e(`catch`)
i(\\)k(_)f(->)f(exitFailure)p eop
%%Page: 231 245
231 244 bop 2032 5593 a FI(231)p eop
%%Page: 232 246
232 245 bop 0 100 a FI(232)2069 b FE(CHAPTER)20 b(24.)52
b(D)l(A)-10 b(TES)21 b(AND)g(TIMES)0 1045 y Fw(Chapter)44
b(24)0 1527 y FH(Dates)52 b(and)g(T)l(imes)p 15 1940
3548 4 v 15 6392 4 4453 v 66 2075 a Fp(module)d(Time)g(\()464
2175 y(ClockTime,)464 2274 y(Month\(January,February,March,April,May)o
(,June)o(,)763 2374 y(July,August,September,October,Novembe)o(r,Dec)o
(ember\))o(,)464 2474 y(Day\(Sunday,Monday,Tuesday,Wednesday,Th)o
(ursda)o(y,Fri)o(day,Sa)o(turda)o(y\),)464 2573 y
(CalendarTime\(CalendarTime,)c(ctYear,)k(ctMonth,)f(ctDay,)h(ctHour,)f
(ctMin,)1112 2673 y(ctSec,)h(ctPicosec,)f(ctWDay,)g(ctYDay,)1112
2773 y(ctTZName,)g(ctTZ,)h(ctIsDST\),)464 2872 y(TimeDiff\(TimeDiff,)e
(tdYear,)h(tdMonth,)h(tdDay,)f(tdHour,)913 2972 y(tdMin,)g(tdSec,)h
(tdPicosec\),)464 3071 y(getClockTime,)f(addToClockTime,)f
(diffClockTimes,)464 3171 y(toCalendarTime,)g(toUTCTime,)h
(toClockTime,)464 3271 y(calendarTimeToString,)e(formatCalendarTime)h
(\))i(where)66 3438 y(import)g(Ix\(Ix\))66 3606 y(data)g(ClockTime)f(=)
i(...)995 b(--)50 b(Implementation-dependent)66 3706
y(instance)e(Ord)99 b(ClockTime)48 b(where)h(...)66 3805
y(instance)f(Eq)149 b(ClockTime)48 b(where)h(...)66 3973
y(data)g(Month)g(=)99 b(January)148 b(|)50 b(February)e(|)i(March)198
b(|)50 b(April)614 4073 y(|)99 b(May)348 b(|)50 b(June)248
b(|)50 b(July)248 b(|)50 b(August)614 4172 y(|)99 b(September)48
b(|)i(October)98 b(|)50 b(November)e(|)i(December)614
4272 y(deriving)e(\(Eq,)h(Ord,)g(Enum,)g(Bounded,)g(Ix,)g(Read,)g
(Show\))66 4440 y(data)g(Day)149 b(=)99 b(Sunday)49 b(|)h(Monday)98
b(|)50 b(Tuesday)98 b(|)50 b(Wednesday)e(|)h(Thursday)614
4539 y(|)99 b(Friday)49 b(|)h(Saturday)614 4639 y(deriving)e(\(Eq,)h
(Ord,)g(Enum,)g(Bounded,)g(Ix,)g(Read,)g(Show\))66 4807
y(data)g(CalendarTime)f(=)h(CalendarTime)f({)863 4906
y(ctYear)1294 b(::)49 b(Int,)863 5006 y(ctMonth)1244
b(::)49 b(Month,)863 5105 y(ctDay,)g(ctHour,)f(ctMin,)h(ctSec)248
b(::)49 b(Int,)863 5205 y(ctPicosec)1144 b(::)49 b(Integer,)863
5305 y(ctWDay)1294 b(::)49 b(Day,)863 5404 y(ctYDay)1294
b(::)49 b(Int,)863 5504 y(ctTZName)1194 b(::)49 b(String,)863
5604 y(ctTZ)1394 b(::)49 b(Int,)863 5703 y(ctIsDST)1244
b(::)49 b(Bool)464 5803 y(})h(deriving)e(\(Eq,)h(Ord,)h(Read,)e(Show\))
66 5971 y(data)h(TimeDiff)f(=)i(TimeDiff)e({)863 6070
y(tdYear,)g(tdMonth,)h(tdDay,)f(tdHour,)h(tdMin,)g(tdSec)g(::)g(Int,)
863 6170 y(tdPicosec)1792 b(::)49 b(Integer)464 6269
y(})h(deriving)e(\(Eq,)h(Ord,)h(Read,)e(Show\))p 3559
6392 V 15 6395 3548 4 v eop
%%Page: 233 247
233 246 bop 3764 100 a FI(233)p 315 268 3548 4 v 315
1460 4 1192 v 366 403 a Fp(--)49 b(Functions)g(on)g(times)366
503 y(getClockTime)446 b(::)49 b(IO)h(ClockTime)366 671
y(addToClockTime)346 b(::)49 b(TimeDiff)99 b(->)49 b(ClockTime)f(->)i
(ClockTime)366 770 y(diffClockTimes)346 b(::)49 b(ClockTime)g(->)g
(ClockTime)f(->)i(TimeDiff)366 938 y(toCalendarTime)346
b(::)49 b(ClockTime)198 b(->)49 b(IO)h(CalendarTime)366
1038 y(toUTCTime)596 b(::)49 b(ClockTime)198 b(->)49
b(CalendarTime)366 1137 y(toClockTime)496 b(::)49 b(CalendarTime)f(->)h
(ClockTime)366 1237 y(calendarTimeToString)d(::)j(CalendarTime)f(->)h
(String)366 1337 y(formatCalendarTime)146 b(::)49 b(TimeLocale)f(->)i
(String)f(->)g(CalendarTime)f(->)h(String)p 3859 1460
V 315 1463 3548 4 v 300 1757 a FI(The)24 b FD(Time)e
FI(library)k(pro)o(vides)h(standard)g(functionality)h(for)d(clock)h
(times,)f(including)i(timezone)f(information.)300 1870
y(It)d(follo)n(ws)h(RFC)e(1129)j(in)e(its)h(use)g(of)f(Coordinated)j
(Uni)n(v)o(ersal)f(T)m(ime)d(\(UTC\).)300 2066 y FD(ClockTime)27
b FI(is)k(an)h(abstract)i(type,)g(used)f(for)f(the)g(system')-5
b(s)33 b(internal)h(clock)e(time.)54 b(Clock)32 b(times)g(may)f(be)300
2178 y(compared)23 b(directly)h(or)e(con)l(v)o(erted)i(to)e(a)f
(calendar)j(time)d FD(CalendarTime)16 b FI(for)22 b(I/O)f(or)g(other)i
(manipulations.)300 2291 y FD(CalendarTime)i FI(is)31
b(a)g(user)n(-readable)36 b(and)31 b(manipulable)j(representation)i(of)
31 b(the)h(internal)h FD(ClockTime)300 2404 y FI(type.)c(The)24
b(numeric)g(\002elds)g(ha)n(v)o(e)g(the)g(follo)n(wing)h(ranges.)p
685 2593 2807 4 v 685 3816 4 1223 v 805 2738 a(V)-10
b(alue)p 805 2752 207 4 v 533 w(Range)p 1544 2771 233
4 v 408 w(Comments)p 2183 2753 394 4 v 805 2966 a(ctY)h(ear)174
b(-maxInt)47 b Fq(:)15 b(:)g(:)27 b FI(maxInt)251 b(Pre-Gre)o(gorian)25
b(dates)g(are)e(inaccurate)805 3079 y(ctDay)432 b(1)46
b Fq(:)15 b(:)g(:)27 b FI(31)805 3192 y(ctHour)397 b(0)46
b Fq(:)15 b(:)g(:)27 b FI(23)805 3305 y(ctMin)432 b(0)46
b Fq(:)15 b(:)g(:)27 b FI(59)805 3418 y(ctSec)452 b(0)46
b Fq(:)15 b(:)g(:)27 b FI(61)417 b(Allo)n(ws)23 b(for)g(tw)o(o)h(Leap)f
(Seconds)805 3531 y(ctPicosec)307 b(0)46 b Fq(:)15 b(:)g(:)27
b Ft(\(10)1801 3498 y FA(12)1877 3531 y Ft(\))21 b FB(\000)f
Ft(1)805 3644 y FI(ctYDay)366 b(0)46 b Fq(:)15 b(:)g(:)27
b FI(365)372 b(364)24 b(in)f(non-Leap)i(years)805 3757
y(ctTZ)259 b(-89999)48 b Fq(:)15 b(:)g(:)27 b FI(89999)282
b(V)-10 b(ariation)25 b(from)e(UTC)f(in)h(seconds)p 3488
3816 4 1223 v 685 3819 2807 4 v 300 4088 a(The)28 b Fv(ctTZName)35
b FI(\002eld)29 b(is)g(the)g(name)g(of)g(the)g(time)g(zone.)46
b(The)28 b Fv(ctIsDST)40 b FI(\002eld)29 b(is)g FD(True)d
FI(if)j(Daylight)h(Sa)n(v-)300 4201 y(ings)e(T)m(ime)f(w)o(ould)h(be)g
(in)f(ef)n(fect,)j(and)e FD(False)c FI(otherwise.)43
b(The)27 b FD(TimeDiff)c FI(type)29 b(records)g(the)f(dif)n(ference)300
4314 y(between)d(tw)o(o)e(clock)h(times)g(in)g(a)f(user)n(-readable)k
(w)o(ay)-6 b(.)300 4510 y(Function)31 b FD(getClockTime)24
b FI(returns)32 b(the)e(current)h(time)f(in)g(its)g(internal)i
(representation.)52 b(The)30 b(e)o(xpression)300 4623
y FD(addToClockTime)15 b Fv(d)32 b(t)e FI(adds)24 b(a)e(time)g(dif)n
(ference)j Fv(d)31 b FI(and)23 b(a)f(clock)i(time)e Fv(t)30
b FI(to)23 b(yield)g(a)f(ne)n(w)g(clock)h(time.)29 b(The)300
4736 y(dif)n(ference)e Fv(d)34 b FI(may)25 b(be)g(either)h(positi)n(v)o
(e)g(or)f(ne)o(gati)n(v)o(e.)33 b(The)24 b(e)o(xpression)k
FD(diffClockTimes)18 b Fv(t1)37 b(t2)g FI(returns)300
4848 y(the)24 b(dif)n(ference)i(between)e(tw)o(o)g(clock)g(times)g
Fv(t1)36 b FI(and)24 b Fv(t2)35 b FI(as)24 b(a)f FD(TimeDiff)l
FI(.)300 5044 y(Function)29 b FD(toCalendarTime)20 b
Fv(t)35 b FI(con)l(v)o(erts)30 b Fv(t)35 b FI(to)28 b(a)e(local)j
(time,)f(modi\002ed)f(by)h(the)f(timezone)i(and)f(daylight)300
5157 y(sa)n(vings)k(time)e(settings)i(in)d(force)i(at)f(the)g(time)g
(of)g(con)l(v)o(ersion.)51 b(Because)31 b(of)e(this)i(dependence)i(on)d
(the)g(local)300 5270 y(en)l(vironment,)c FD(toCalendarTime)17
b FI(is)23 b(in)h(the)f FD(IO)f FI(monad.)p eop
%%Page: 234 248
234 247 bop 0 100 a FI(234)2069 b FE(CHAPTER)20 b(24.)52
b(D)l(A)-10 b(TES)21 b(AND)g(TIMES)0 356 y FI(Function)70
b FD(toUTCTime)63 b Fv(t)77 b FI(con)l(v)o(erts)70 b
Fv(t)77 b FI(into)69 b(a)f FD(CalendarTime)62 b FI(in)68
b(standard)j(UTC)66 b(format.)0 469 y FD(toClockTime)28
b Fv(l)44 b FI(con)l(v)o(erts)36 b Fv(l)43 b FI(into)35
b(the)g(corresponding)j(internal)e FD(ClockTime)30 b
FI(ignoring)36 b(the)f(contents)0 582 y(of)23 b(the)h
Fv(ctWDay)8 b FI(,)23 b Fv(ctYDay)8 b FI(,)22 b Fv(ctTZName)7
b FI(,)22 b(and)i Fv(ctIsDST)35 b FI(\002elds.)0 778
y(Function)c FD(calendarTimeToS)o(tr)o(ing)22 b FI(formats)31
b(calendar)g(times)f(using)h(local)g(con)l(v)o(entions)i(and)d(a)g(for)
n(-)0 891 y(matting)25 b(string.)0 1266 y FC(24.1)119
b(Library)30 b Fa(Time)0 1546 y Fp(module)49 b(Time)g(\()399
1645 y(ClockTime,)399 1745 y(Month\(January,February,March,Apri)o
(l,May)o(,June)o(,)697 1845 y(July,August,September,October,Novembe)o
(r,Dece)o(mber\))o(,)399 1944 y(Day\(Sunday,Monday,Tuesday,Wednesd)o
(ay,Th)o(ursda)o(y,Frid)o(ay,Sa)o(turda)o(y\),)399 2044
y(CalendarTime\(CalendarTime,)44 b(ctYear,)49 b(ctMonth,)f(ctDay,)h
(ctHour,)f(ctMin,)1046 2143 y(ctSec,)h(ctPicosec,)f(ctWDay,)g(ctYDay,)
1046 2243 y(ctTZName,)g(ctTZ,)h(ctIsDST\),)399 2343 y
(TimeDiff\(TimeDiff,)d(tdYear,)i(tdMonth,)h(tdDay,)847
2442 y(tdHour,)f(tdMin,)h(tdSec,)g(tdPicosec\),)399 2542
y(getClockTime,)e(addToClockTime,)g(diffClockTimes,)399
2642 y(toCalendarTime,)g(toUTCTime,)g(toClockTime,)399
2741 y(calendarTimeToString,)e(formatCalendarTime)i(\))i(where)0
2909 y(import)g(Ix\(Ix\))0 3009 y(import)g
(Locale\(TimeLocale\(..\),defaultTimeL)o(ocale)o(\))0
3108 y(import)g(Char)g(\()g(intToDigit)f(\))0 3276 y(data)h(ClockTime)f
(=)i(...)996 b(--)49 b(Implementation-dependent)0 3376
y(instance)f(Ord)99 b(ClockTime)49 b(where)f(...)0 3475
y(instance)g(Eq)149 b(ClockTime)49 b(where)f(...)0 3643
y(data)h(Month)g(=)99 b(January)149 b(|)49 b(February)f(|)i(March)198
b(|)50 b(April)548 3742 y(|)99 b(May)349 b(|)49 b(June)248
b(|)50 b(July)248 b(|)50 b(August)548 3842 y(|)99 b(September)49
b(|)g(October)98 b(|)50 b(November)e(|)i(December)548
3942 y(deriving)e(\(Eq,)h(Ord,)g(Enum,)g(Bounded,)g(Ix,)g(Read,)g
(Show\))0 4109 y(data)g(Day)149 b(=)99 b(Sunday)49 b(|)h(Monday)98
b(|)50 b(Tuesday)98 b(|)50 b(Wednesday)e(|)i(Thursday)548
4209 y(|)99 b(Friday)49 b(|)h(Saturday)548 4309 y(deriving)e(\(Eq,)h
(Ord,)g(Enum,)g(Bounded,)g(Ix,)g(Read,)g(Show\))p eop
%%Page: 235 249
235 248 bop 300 100 a FE(24.1.)52 b(LIBRAR)-6 b(Y)21
b FD(TIME)2595 b FI(235)300 334 y Fp(data)49 b(CalendarTime)f(=)h
(CalendarTime)f({)1097 434 y(ctYear)1294 b(::)49 b(Int,)1097
534 y(ctMonth)1244 b(::)49 b(Month,)1097 633 y(ctDay,)g(ctHour,)f
(ctMin,)h(ctSec)248 b(::)49 b(Int,)1097 733 y(ctPicosec)1144
b(::)49 b(Integer,)1097 832 y(ctWDay)1294 b(::)49 b(Day,)1097
932 y(ctYDay)1294 b(::)49 b(Int,)1097 1032 y(ctTZName)1194
b(::)49 b(String,)1097 1131 y(ctTZ)1394 b(::)49 b(Int,)1097
1231 y(ctIsDST)1244 b(::)49 b(Bool)699 1331 y(})g(deriving)f(\(Eq,)i
(Ord,)f(Read,)f(Show\))300 1498 y(data)h(TimeDiff)f(=)i(TimeDiff)e({)
1097 1598 y(tdYear,)h(tdMonth,)f(tdDay,)h(tdHour,)f(tdMin,)h(tdSec)g
(::)g(Int,)1097 1698 y(tdPicosec)1792 b(::)49 b(Integer)699
1797 y(})g(deriving)f(\(Eq,)i(Ord,)f(Read,)f(Show\))300
1965 y(getClockTime)596 b(::)49 b(IO)g(ClockTime)300
2065 y(getClockTime)596 b(=)49 b(...)548 b(--)49 b
(Implementation-dependent)300 2232 y(addToClockTime)496
b(::)49 b(TimeDiff)248 b(->)49 b(ClockTime)f(->)i(ClockTime)300
2332 y(addToClockTime)d(td)j(ct)199 b(=)99 b(...)498
b(--)49 b(Implementation-dependent)300 2500 y(diffClockTimes)496
b(::)49 b(ClockTime)198 b(->)49 b(ClockTime)f(->)i(TimeDiff)300
2599 y(diffClockTimes)d(ct1)i(ct2)100 b(=)f(...)498 b(--)49
b(Implementation-dependent)300 2767 y(toCalendarTime)496
b(::)49 b(ClockTime)198 b(->)49 b(IO)g(CalendarTime)300
2867 y(toCalendarTime)e(ct)349 b(=)99 b(...)498 b(--)49
b(Implementation-dependent)300 3034 y(toUTCTime)746 b(::)49
b(ClockTime)198 b(->)49 b(CalendarTime)300 3134 y(toUTCTime)f(ct)598
b(=)99 b(...)498 b(--)49 b(Implementation-dependent)300
3302 y(toClockTime)646 b(::)49 b(CalendarTime)f(->)h(ClockTime)300
3401 y(toClockTime)f(cal)448 b(=)99 b(...)498 b(--)49
b(Implementation-dependent)300 3569 y(calendarTimeToString)196
b(::)49 b(CalendarTime)f(->)h(String)300 3669 y(calendarTimeToString)
196 b(=)99 b(formatCalendarTime)46 b(defaultTimeLocale)h("\045c")p
eop
%%Page: 236 250
236 249 bop 0 100 a FI(236)2069 b FE(CHAPTER)20 b(24.)52
b(D)l(A)-10 b(TES)21 b(AND)g(TIMES)0 334 y Fp(formatCalendarTime)46
b(::)k(TimeLocale)e(->)h(String)g(->)g(CalendarTime)f(->)h(String)0
434 y(formatCalendarTime)d(l)k(fmt)f(ct@\(CalendarTime)e(year)i(mon)g
(day)h(hour)f(min)g(sec)g(sdec)2142 534 y(wday)g(yday)g(tzname)g(_)g
(_\))h(=)399 633 y(doFmt)e(fmt)100 733 y(where)h(doFmt)f
(\('\045':c:cs\))g(=)i(decode)f(c)g(++)h(doFmt)f(cs)399
832 y(doFmt)f(\(c:cs\))h(=)h(c)f(:)h(doFmt)f(cs)399 932
y(doFmt)f("")i(=)f("")399 1065 y(to12)g(::)g(Int)g(->)h(Int)399
1165 y(to12)f(h)g(=)h(let)f(h')h(=)f(h)h(`mod`)f(12)g(in)h(if)f(h')g
(==)h(0)f(then)h(12)f(else)g(h')399 1297 y(decode)f('A')h(=)h(fst)f
(\(wDays)g(l)99 b(!!)50 b(fromEnum)e(wday\))399 1397
y(decode)g('a')h(=)h(snd)f(\(wDays)g(l)99 b(!!)50 b(fromEnum)e(wday\))
399 1497 y(decode)g('B')h(=)h(fst)f(\(months)g(l)g(!!)h(fromEnum)e
(mon\))399 1596 y(decode)g('b')h(=)h(snd)f(\(months)g(l)g(!!)h
(fromEnum)e(mon\))399 1696 y(decode)g('h')h(=)h(snd)f(\(months)g(l)g
(!!)h(fromEnum)e(mon\))399 1796 y(decode)g('C')h(=)h(show2)f(\(year)g
(`quot`)g(100\))399 1895 y(decode)f('c')h(=)h(doFmt)f(\(dateTimeFmt)f
(l\))399 1995 y(decode)g('D')h(=)h(doFmt)f("\045m/\045d/\045y")399
2094 y(decode)f('d')h(=)h(show2)f(day)399 2194 y(decode)f('e')h(=)h
(show2')f(day)399 2294 y(decode)f('H')h(=)h(show2)f(hour)399
2393 y(decode)f('I')h(=)h(show2)f(\(to12)g(hour\))399
2493 y(decode)f('j')h(=)h(show3)f(yday)399 2593 y(decode)f('k')h(=)h
(show2')f(hour)399 2692 y(decode)f('l')h(=)h(show2')f(\(to12)g(hour\))
399 2792 y(decode)f('M')h(=)h(show2)f(min)399 2891 y(decode)f('m')h(=)h
(show2)f(\(fromEnum)f(mon+1\))399 2991 y(decode)g('n')h(=)h("\\n")399
3091 y(decode)e('p')h(=)h(\(if)f(hour)g(<)h(12)f(then)h(fst)f(else)g
(snd\))g(\(amPm)g(l\))399 3190 y(decode)f('R')h(=)h(doFmt)f
("\045H:\045M")399 3290 y(decode)f('r')h(=)h(doFmt)f(\(time12Fmt)f(l\))
399 3390 y(decode)g('T')h(=)h(doFmt)f("\045H:\045M:\045S")399
3489 y(decode)f('t')h(=)h("\\t")399 3589 y(decode)e('S')h(=)h(show2)f
(sec)399 3688 y(decode)f('s')h(=)h(...)797 b(--)49 b
(Implementation-dependent)399 3788 y(decode)f('U')h(=)h(show2)f
(\(\(yday)g(+)g(7)h(-)g(fromEnum)e(wday\))h(`div`)g(7\))399
3888 y(decode)f('u')h(=)h(show)f(\(let)g(n)h(=)f(fromEnum)g(wday)g(in)
1345 3987 y(if)g(n)h(==)f(0)h(then)f(7)h(else)f(n\))399
4087 y(decode)f('V')h(=)598 4187 y(let)g(\(week,)g(days\))g(=)946
4286 y(\(yday)g(+)h(7)g(-)f(if)h(fromEnum)e(wday)h(>)h(0)f(then)1544
4386 y(fromEnum)g(wday)g(-)g(1)h(else)f(6\))g(`divMod`)g(7)598
4485 y(in)99 b(show2)49 b(\(if)g(days)g(>=)h(4)f(then)p
eop
%%Page: 237 251
237 250 bop 300 100 a FE(24.1.)52 b(LIBRAR)-6 b(Y)21
b FD(TIME)2595 b FI(237)1595 334 y Fp(week+1)1446 434
y(else)49 b(if)g(week)g(==)h(0)f(then)g(53)h(else)f(week\))699
567 y(decode)f('W')h(=)898 666 y(show2)g(\(\(yday)f(+)i(7)g(-)f(if)h
(fromEnum)e(wday)h(>)h(0)f(then)1844 766 y(fromEnum)g(wday)g(-)g(1)h
(else)f(6\))g(`div`)g(7\))699 866 y(decode)f('w')h(=)h(show)f
(\(fromEnum)f(wday\))699 965 y(decode)g('X')h(=)h(doFmt)f(\(timeFmt)f
(l\))699 1065 y(decode)g('x')h(=)h(doFmt)f(\(dateFmt)f(l\))699
1165 y(decode)g('Y')h(=)h(show)f(year)699 1264 y(decode)f('y')h(=)h
(show2)f(\(year)g(`rem`)g(100\))699 1364 y(decode)f('Z')h(=)h(tzname)
699 1463 y(decode)e('\045')h(=)h("\045")699 1563 y(decode)e(c)149
b(=)50 b([c])300 1731 y(show2,)f(show2',)f(show3)h(::)h(Int)f(->)g
(String)300 1830 y(show2)g(x)h(=)f([intToDigit)f(\(x)h(`quot`)g(10\),)g
(intToDigit)f(\(x)h(`rem`)g(10\)])300 1998 y(show2')g(x)g(=)h(if)f(x)h
(<)g(10)f(then)g([)h(')f(',)h(intToDigit)e(x])h(else)g(show2)g(x)300
2171 y(show3)g(x)h(=)f(intToDigit)f(\(x)i(`quot`)e(100\))h(:)h(show2)f
(\(x)g(`rem`)g(100\))p eop
%%Page: 238 252
238 251 bop 0 100 a FI(238)2069 b FE(CHAPTER)20 b(24.)52
b(D)l(A)-10 b(TES)21 b(AND)g(TIMES)p eop
%%Page: 239 253
239 252 bop 300 1062 a Fw(Chapter)44 b(25)300 1560 y
FH(Locale)p 315 1989 3548 4 v 315 3257 4 1268 v 366 2125
a Fp(module)49 b(Locale\(TimeLocale\(..\),)c(defaultTimeLocale\))i
(where)366 2293 y(data)i(TimeLocale)f(=)i(TimeLocale)e({)764
2392 y(wDays)99 b(::)50 b([\(String,)e(String\)],)147
b(--)50 b(full)f(and)g(abbreviated)f(week)h(days)764
2492 y(months)g(::)h([\(String,)e(String\)],)147 b(--)50
b(full)f(and)g(abbreviated)f(months)764 2592 y(amPm)149
b(::)50 b(\(String,)e(String\),)247 b(--)50 b(AM/PM)f(symbols)764
2691 y(dateTimeFmt,)f(dateFmt,)546 b(--)50 b(formatting)e(strings)864
2791 y(timeFmt,)g(time12Fmt)h(::)g(String)764 2890 y(})h(deriving)e
(\(Eq,)h(Ord,)h(Show\))366 3058 y(defaultTimeLocale)d(::)i(TimeLocale)p
3859 3257 V 315 3260 3548 4 v 300 3554 a FI(The)24 b
FD(Locale)d FI(library)26 b(pro)o(vides)h(the)e(ability)h(to)f(adapt)g
(to)g(local)g(con)l(v)o(entions.)36 b(At)24 b(present,)i(it)e(supports)
j(only)300 3667 y(time)c(and)h(date)h(information)h(as)d(used)h(by)g
FD(calendarTimeToS)o(tr)o(in)o(g)17 b FI(from)23 b(the)h
FD(Time)d FI(library)-6 b(.)2032 5593 y(239)p eop
%%Page: 240 254
240 253 bop 0 100 a FI(240)2505 b FE(CHAPTER)20 b(25.)51
b(LOCALE)0 356 y FC(25.1)119 b(Library)30 b Fa(Locale)0
645 y Fp(module)49 b(Locale\(TimeLocale\(..\),)c(defaultTimeLocale\))i
(where)0 813 y(data)i(TimeLocale)f(=)i(TimeLocale)e({)399
912 y(wDays)98 b(::)50 b([\(String,)e(String\)],)148
b(--)49 b(full)g(and)g(abbreviated)f(week)h(days)399
1012 y(months)f(::)i([\(String,)e(String\)],)148 b(--)49
b(full)g(and)g(abbreviated)f(months)399 1112 y(amPm)148
b(::)50 b(\(String,)e(String\),)248 b(--)49 b(AM/PM)g(symbols)399
1211 y(dateTimeFmt,)e(dateFmt,)547 b(--)49 b(formatting)f(strings)498
1311 y(timeFmt,)g(time12Fmt)h(::)g(String)399 1411 y(})g(deriving)f
(\(Eq,)i(Ord,)f(Show\))0 1578 y(defaultTimeLocale)e(::)i(TimeLocale)0
1678 y(defaultTimeLocale)e(=)99 b(TimeLocale)48 b({)399
1778 y(wDays)98 b(=)50 b([\("Sunday",)147 b("Sun"\),)99
b(\("Monday",)197 b("Mon"\),)897 1877 y(\("Tuesday",)97
b("Tue"\),)i(\("Wednesday",)47 b("Wed"\),)897 1977 y(\("Thursday",)g
("Thu"\),)99 b(\("Friday",)197 b("Fri"\),)897 2076 y(\("Saturday",)47
b("Sat"\)],)399 2209 y(months)h(=)i([\("January",)147
b("Jan"\),)49 b(\("February",)97 b("Feb"\),)897 2309
y(\("March",)247 b("Mar"\),)49 b(\("April",)247 b("Apr"\),)897
2409 y(\("May",)347 b("May"\),)49 b(\("June",)297 b("Jun"\),)897
2508 y(\("July",)g("Jul"\),)49 b(\("August",)197 b("Aug"\),)897
2608 y(\("September",)47 b("Sep"\),)i(\("October",)147
b("Oct"\),)897 2707 y(\("November",)97 b("Nov"\),)49
b(\("December",)97 b("Dec"\)],)399 2840 y(amPm)49 b(=)g(\("AM",)g
("PM"\),)399 2940 y(dateTimeFmt)e(=)j("\045a)f(\045b)h(\045e)f
(\045H:\045M:\045S)f(\045Z)i(\045Y",)399 3039 y(dateFmt)e(=)i
("\045m/\045d/\045y",)399 3139 y(timeFmt)e(=)i("\045H:\045M:\045S",)399
3239 y(time12Fmt)e(=)h("\045I:\045M:\045S)f(\045p")399
3338 y(})p eop
%%Page: 241 255
241 254 bop 300 1062 a Fw(Chapter)44 b(26)300 1560 y
FH(CPU)52 b(T)l(ime)p 315 1990 3548 4 v 315 2542 4 552
v 366 2126 a Fp(module)d(CPUTime)f(\()i(getCPUTime,)e(cpuTimePrecision)
e(\))k(where)366 2294 y(getCPUTime)397 b(::)49 b(IO)g(Integer)366
2393 y(cpuTimePrecision)97 b(::)49 b(Integer)p 3859 2542
V 315 2545 3548 4 v 300 2839 a FI(Computation)32 b FD(getCPUTime)24
b FI(returns)32 b(the)e(number)h(of)f(picoseconds)j(of)d(CPU)e(time)i
(used)g(by)g(the)h(current)300 2952 y(program.)66 b(The)35
b(precision)j(of)d(this)h(result)h(is)e(gi)n(v)o(en)h(by)f
FD(cpuTimePrecision)-7 b FI(.)64 b(This)35 b(is)g(the)h(smallest)300
3065 y(measurable)28 b(dif)n(ference)h(in)d(CPU)f(time)h(that)h(the)f
(implementation)k(can)c(record,)i(and)f(is)f(gi)n(v)o(en)h(as)f(an)h
(inte)o(gral)300 3178 y(number)d(of)g(picoseconds.)2032
5593 y(241)p eop
%%Page: 242 256
242 255 bop 0 100 a FI(242)2442 b FE(CHAPTER)20 b(26.)51
b(CPU)22 b(TIME)p eop
%%Page: 243 257
243 256 bop 2032 5593 a FI(243)p eop
%%Page: 244 258
244 257 bop 0 100 a FI(244)1997 b FE(CHAPTER)20 b(27.)52
b(RANDOM)21 b(NUMBERS)0 1045 y Fw(Chapter)44 b(27)0 1527
y FH(Random)52 b(Numbers)p 15 1941 3548 4 v 15 6461 4
4521 v 66 2076 a Fp(module)d(Random)f(\()464 2176 y(RandomGen\(next,)f
(split,)i(genRange\),)464 2275 y(StdGen,)g(mkStdGen,)464
2375 y(Random\()g(random,)148 b(randomR,)863 2475 y(randoms,)98
b(randomRs,)863 2574 y(randomIO,)48 b(randomRIO)g(\),)464
2674 y(getStdRandom,)g(getStdGen,)g(setStdGen,)g(newStdGen)166
2773 y(\))h(where)66 2941 y(----------------)e(The)i(RandomGen)f(class)
h(------------------------)66 3074 y(class)g(RandomGen)f(g)i(where)166
3174 y(genRange)e(::)h(g)h(->)f(\(Int,)g(Int\))166 3273
y(next)248 b(::)49 b(g)h(->)f(\(Int,)g(g\))166 3373 y(split)198
b(::)49 b(g)h(->)f(\(g,)h(g\))66 3541 y(----------------)d(A)i
(standard)g(instance)f(of)h(RandomGen)g(-----------)66
3640 y(data)g(StdGen)g(=)g(...)348 b(--)50 b(Abstract)66
3808 y(instance)e(RandomGen)g(StdGen)h(where)g(...)66
3908 y(instance)f(Read)298 b(StdGen)49 b(where)g(...)66
4007 y(instance)f(Show)298 b(StdGen)49 b(where)g(...)66
4175 y(mkStdGen)f(::)i(Int)f(->)g(StdGen)66 4343 y(----------------)e
(The)i(Random)g(class)g(---------------------------)66
4442 y(class)g(Random)g(a)g(where)215 4542 y(randomR)g(::)g(RandomGen)f
(g)i(=>)g(\(a,)f(a\))g(->)h(g)f(->)h(\(a,)f(g\))215 4641
y(random)99 b(::)49 b(RandomGen)f(g)i(=>)g(g)f(->)h(\(a,)f(g\))215
4774 y(randomRs)g(::)g(RandomGen)f(g)i(=>)f(\(a,)h(a\))f(->)g(g)h(->)g
([a])215 4874 y(randoms)99 b(::)49 b(RandomGen)f(g)i(=>)f(g)h(->)f([a])
215 5007 y(randomRIO)g(::)g(\(a,a\))g(->)g(IO)h(a)215
5106 y(randomIO)99 b(::)49 b(IO)g(a)66 5274 y(instance)f(Random)h(Int)
248 b(where)49 b(...)66 5374 y(instance)f(Random)h(Integer)f(where)h
(...)66 5473 y(instance)f(Random)h(Float)148 b(where)49
b(...)66 5573 y(instance)f(Random)h(Double)98 b(where)49
b(...)66 5673 y(instance)f(Random)h(Bool)198 b(where)49
b(...)66 5772 y(instance)f(Random)h(Char)198 b(where)49
b(...)66 5940 y(----------------)e(The)i(global)g(random)f(generator)h
(----------------)66 6040 y(newStdGen)198 b(::)49 b(IO)g(StdGen)66
6139 y(setStdGen)198 b(::)49 b(StdGen)g(->)g(IO)h(\(\))66
6239 y(getStdGen)198 b(::)49 b(IO)g(StdGen)66 6338 y(getStdRandom)f(::)
h(\(StdGen)f(->)i(\(a,)f(StdGen\)\))f(->)i(IO)f(a)p 3559
6461 V 15 6464 3548 4 v eop
%%Page: 245 259
245 258 bop 300 100 a FE(27.1.)52 b(THE)21 b FD(RANDOMGEN)e
FE(CLASS,)h(AND)i(THE)f FD(STDGEN)f FE(GENERA)-10 b(T)n(OR)879
b FI(245)300 356 y(The)19 b FD(Random)e FI(library)k(deals)g(with)f
(the)g(common)g(task)h(of)e(pseudo-random)24 b(number)d(generation.)30
b(The)20 b(library)300 469 y(mak)o(es)26 b(it)g(possible)i(to)e
(generate)i(repeatable)g(results,)g(by)e(starting)i(with)e(a)f
(speci\002ed)i(initial)g(random)g(number)300 582 y(generator;)39
b(or)32 b(to)h(get)f(dif)n(ferent)i(results)g(on)e(each)h(run)g(by)f
(using)i(the)e(system-initialised)37 b(generator)l(,)g(or)32
b(by)300 695 y(supplying)26 b(a)d(seed)i(from)e(some)h(other)g(source.)
300 883 y(The)f(library)i(is)f(split)g(into)g(tw)o(o)f(layers:)436
1129 y FB(\017)46 b FI(A)22 b(core)h FJ(r)o(andom)g(number)h(g)o(ener)o
(ator)h FI(pro)o(vides)g(a)d(supply)i(of)f(bits.)29 b(The)22
b(class)i FD(RandomGen)17 b FI(pro)o(vides)527 1242 y(a)23
b(common)h(interf)o(ace)i(to)e(such)g(generators.)436
1422 y FB(\017)46 b FI(The)24 b(class)h FD(Random)c FI(pro)o(vides)26
b(a)d(w)o(ay)h(to)g(e)o(xtract)i(particular)g(v)n(alues)g(from)e(a)g
(random)h(number)g(gener)n(-)527 1535 y(ator)-5 b(.)34
b(F)o(or)24 b(e)o(xample,)i(the)f FD(Float)d FI(instance)27
b(of)d FD(Random)e FI(allo)n(ws)j(one)g(to)g(generate)i(random)f(v)n
(alues)g(of)527 1648 y(type)f FD(Float)m FI(.)300 2013
y FC(27.1)119 b(The)30 b Fa(RandomGen)d FC(class,)i(and)i(the)f
Fa(StdGen)e FC(generator)300 2296 y FI(The)23 b(class)i
FD(RandomGen)18 b FI(pro)o(vides)26 b(a)d(common)h(interf)o(ace)h(to)f
(random)g(number)h(generators.)550 2479 y FD(class)53
b(RandomGen)d(g)k(where)659 2592 y(genRange)d(::)j(g)g(->)g
(\(Int,Int\))659 2705 y(next)271 b(::)54 b(g)108 b(->)54
b(\(Int,)e(g\))659 2818 y(split)216 b(::)54 b(g)g(->)g(\(g,)f(g\))659
2977 y(--)h(Default)d(method)659 3090 y(genRange)g(g)j(=)g
(\(minBound,maxBou)o(nd)o(\))436 3454 y FB(\017)46 b
FI(The)23 b FD(genRange)c FI(operation)27 b(yields)d(the)g(range)h(of)e
(v)n(alues)i(returned)h(by)d(the)h(generator)-5 b(.)527
3600 y(It)24 b(is)f(required)j(that:)636 3781 y FF(\226)46
b FI(If)24 b Ft(\()p Fq(a;)15 b(b)p Ft(\))49 b(=)e FD(genRange)19
b Fq(g)s FI(,)24 b(then)g Fq(a)h(<)g(b)p FI(.)636 3920
y FF(\226)46 b FD(genRange)19 b FB(?)48 b(6)p Ft(=)g
FB(?)p FI(.)527 4100 y(The)29 b(second)h(condition)h(ensures)g(that)e
FD(genRange)24 b FI(cannot)31 b(e)o(xamine)e(its)g(ar)n(gument,)j(and)d
(hence)h(the)527 4213 y(v)n(alue)20 b(it)f(returns)h(can)g(be)f
(determined)i(only)e(by)g(the)h(instance)h(of)e FD(RandomGen)-5
b FI(.)27 b(That)19 b(in)f(turn)i(allo)n(ws)f(an)527
4326 y(implementation)27 b(to)d(mak)o(e)h(a)e(single)j(call)f(to)f
FD(genRange)19 b FI(to)25 b(establish)h(a)e(generator')-5
b(s)27 b(range,)e(without)527 4439 y(being)31 b(concerned)i(that)e(the)
f(generator)i(returned)g(by)f(\(say\))f FD(next)e FI(might)i(ha)n(v)o
(e)h(a)e(dif)n(ferent)j(range)f(to)527 4552 y(the)24
b(generator)i(passed)f(to)f FD(next)n FI(.)436 4733 y
FB(\017)46 b FI(The)32 b FD(next)e FI(operation)35 b(returns)f(an)f
FD(Int)d FI(that)j(is)f(uniformly)i(distrib)n(uted)i(in)c(the)h(range)h
(returned)g(by)527 4845 y FD(genRange)19 b FI(\(including)27
b(both)d(end)g(points\),)h(and)f(a)f(ne)n(w)g(generator)-5
b(.)436 5026 y FB(\017)46 b FI(The)21 b FD(split)d FI(operation)24
b(allo)n(ws)e(one)f(to)h(obtain)g(tw)o(o)f(independent)k(random)d
(number)h(generators.)30 b(This)527 5139 y(is)22 b(v)o(ery)g(useful)h
(in)f(functional)i(programs)g(\(for)e(e)o(xample,)h(when)e(passing)j(a)
d(random)i(number)g(generator)527 5252 y(do)n(wn)i(to)f(recursi)n(v)o
(e)i(calls\),)g(b)n(ut)f(v)o(ery)g(little)g(w)o(ork)g(has)g(been)g
(done)g(on)g(statistically)j(rob)n(ust)e(implemen-)527
5365 y(tations)f(of)f FD(split)c FI(\([1,4])25 b(are)e(the)h(only)g(e)o
(xamples)h(we)e(kno)n(w)g(of\).)p eop
%%Page: 246 260
246 259 bop 0 100 a FI(246)1997 b FE(CHAPTER)20 b(27.)52
b(RANDOM)21 b(NUMBERS)0 356 y FI(The)i FD(Random)d FI(library)25
b(pro)o(vides)h(one)e(instance)h(of)f FD(RandomGen)l
FI(,)e(the)i(abstract)h(data)g(type)f FD(StdGen)m FI(:)250
544 y FD(data)53 b(StdGen)f(=)i(...)271 b(--)54 b(Abstract)250
704 y(instance)d(RandomGen)g(StdGen)g(where)i(...)250
817 y(instance)e(Read)326 b(StdGen)51 b(where)i(...)250
930 y(instance)e(Show)326 b(StdGen)51 b(where)i(...)250
1089 y(mkStdGen)e(::)j(Int)f(->)h(StdGen)23 1275 y FI(The)23
b FD(StgGen)d FI(instance)25 b(of)f FD(RandomGen)19 b
FI(has)k(a)h FD(genRange)19 b FI(of)k(at)g(least)i(30)e(bits.)0
1469 y(The)h(result)i(of)e(repeatedly)j(using)f FD(next)c
FI(should)k(be)f(at)f(least)h(as)g(statistically)j(rob)n(ust)e(as)e
(the)h(\223Minimal)g(Stan-)0 1582 y(dard)h(Random)g(Number)f
(Generator\224)j(described)g(by)d([2,3].)35 b(Until)26
b(more)f(is)g(kno)n(wn)h(about)h(implementations)0 1695
y(of)i FD(split)m FI(,)g(all)g(we)f(require)i(is)f(that)g
FD(split)d FI(deli)n(v)o(er)k(generators)h(that)e(are)g(\(a\))g(not)g
(identical)i(and)e(\(b\))g(inde-)0 1808 y(pendently)d(rob)n(ust)f(in)f
(the)g(sense)g(just)g(gi)n(v)o(en.)0 2002 y(The)18 b
FD(Show)n FI(/)p FD(Read)f FI(instances)k(of)d FD(StdGen)d
FI(pro)o(vide)21 b(a)d(primiti)n(v)o(e)h(w)o(ay)g(to)f(sa)n(v)o(e)i
(the)e(state)i(of)f(a)f(random)h(number)0 2115 y(generator)-5
b(.)31 b(It)23 b(is)h(required)h(that)g FD(read)52 b(\(show)h(g\))g(==)
h(g)o FI(.)0 2309 y(In)25 b(addition,)i FD(read)22 b
FI(may)i(be)h(used)h(to)f(map)f(an)h(arbitrary)i(string)f(\(not)f
(necessarily)j(one)d(produced)j(by)d FD(show)n FI(\))0
2422 y(onto)g(a)e(v)n(alue)i(of)f(type)g FD(StdGen)n
FI(.)29 b(In)23 b(general,)j(the)e FD(read)d FI(instance)26
b(of)e FD(StdGen)c FI(has)25 b(the)f(follo)n(wing)h(proper)n(-)0
2535 y(ties:)136 2800 y FB(\017)46 b FI(It)24 b(guarantees)i(to)d
(succeed)j(on)e(an)o(y)f(string.)136 2986 y FB(\017)46
b FI(It)24 b(guarantees)i(to)d(consume)i(only)g(a)e(\002nite)g(portion)
j(of)d(the)h(string.)136 3172 y FB(\017)46 b FI(Dif)n(ferent)25
b(ar)n(gument)g(strings)h(are)d(lik)o(ely)i(to)f(result)g(in)g(dif)n
(ferent)h(results.)0 3437 y(The)d(function)i FD(mkStdGen)18
b FI(pro)o(vides)24 b(an)e(alternati)n(v)o(e)i(w)o(ay)e(of)g(producing)
j(an)d(initial)i(generator)l(,)h(by)d(mapping)0 3550
y(an)i FD(Int)d FI(into)j(a)f(generator)-5 b(.)31 b(Again,)24
b(distinct)h(ar)n(guments)h(should)f(be)f(lik)o(ely)g(to)g(produce)h
(distinct)h(generators.)0 3745 y(Programmers)f(may)-6
b(,)23 b(of)g(course,)i(supply)g(their)f(o)n(wn)f(instances)j(of)e
FD(RandomGen)l FI(.)0 3939 y FJ(Implementation)i(warning)o(.)k
FI(A)22 b(super\002cially)27 b(attracti)n(v)o(e)e(implementation)h(of)e
FD(split)c FI(is)250 4127 y FD(instance)51 b(RandomGen)g(MyGen)h(where)
359 4240 y(...)359 4353 y(split)h(g)h(=)g(\(g,)f(variantOf)d(g\))0
4539 y FI(Here,)35 b FD(split)29 b FI(returns)34 b FD(g)e
FI(itself)i(and)f(a)f(ne)n(w)g(generator)j(deri)n(v)o(ed)f(from)f
FD(g)o FI(.)56 b(But)32 b(no)n(w)g(consider)j(these)f(tw)o(o)0
4652 y(apparently-indepen)q(de)q(nt)29 b(generators:)250
4840 y FD(g1)54 b(=)g(snd)f(\(split)f(g\))250 4953 y(g2)i(=)g(snd)f
(\(split)f(\(fst)h(\(split)e(g\)\)\))0 5139 y FI(If)22
b FD(split)d FI(genuinely)25 b(deli)n(v)o(ers)e(independent)j
(generators)e(\(as)f(speci\002ed\),)g(then)g FD(g1)e
FI(and)h FD(g2)e FI(should)k(be)e(inde-)0 5252 y(pendent,)27
b(b)n(ut)f(in)e(f)o(act)i(the)o(y)f(are)g(both)h(equal)g(to)f
FD(variantOf)51 b(g)o FI(.)32 b(Implementations)d(of)24
b(the)i(abo)o(v)o(e)f(form)g(do)0 5365 y(not)f(meet)f(the)h
(speci\002cation.)p eop
%%Page: 247 261
247 260 bop 300 100 a FE(27.2.)52 b(THE)21 b FD(RANDOM)f
FE(CLASS)2397 b FI(247)300 356 y FC(27.2)119 b(The)30
b Fa(Random)e FC(class)300 646 y FI(W)l(ith)36 b(a)e(source)j(of)e
(random)h(number)g(supply)h(in)e(hand,)k(the)d FD(Random)31
b FI(class)37 b(allo)n(ws)e(the)h(programmer)g(to)300
759 y(e)o(xtract)25 b(random)f(v)n(alues)h(of)e(a)g(v)n(ariety)i(of)f
(types:)441 949 y FD(class)52 b(Random)g(a)i(where)605
1062 y(randomR)d(::)j(RandomGen)c(g)k(=>)g(\(a,)f(a\))h(->)f(g)h(->)g
(\(a,)f(g\))605 1175 y(random)106 b(::)54 b(RandomGen)c(g)k(=>)g(g)g
(->)g(\(a,)f(g\))605 1334 y(randomRs)e(::)i(RandomGen)e(g)j(=>)f(\(a,)h
(a\))f(->)h(g)g(->)g([a])605 1447 y(randoms)106 b(::)53
b(RandomGen)e(g)j(=>)f(g)i(->)e([a])605 1606 y(randomRIO)d(::)k
(\(a,a\))e(->)i(IO)f(a)605 1719 y(randomIO)e(::)i(IO)h(a)714
1879 y(--)g(Default)d(methods)605 1992 y(randoms)g(g)j(=)g(x)g(:)g
(randoms)e(g')1477 2105 y(where)1587 2217 y(\(x,g'\))f(=)j(random)e(g)
605 2330 y(randomRs)f(=)j(...similar...)605 2490 y(randomIO)432
b(=)55 b(getStdRandom)49 b(random)605 2603 y(randomRIO)h(range)i(=)j
(getStdRandom)49 b(\(randomR)i(range\))441 2809 y(instance)g(Random)h
(Int)271 b(where)52 b(...)441 2922 y(instance)f(Random)h(Integer)f
(where)h(...)441 3034 y(instance)f(Random)h(Float)161
b(where)52 b(...)441 3147 y(instance)f(Random)h(Double)106
b(where)52 b(...)441 3260 y(instance)f(Random)h(Bool)216
b(where)52 b(...)441 3373 y(instance)f(Random)h(Char)216
b(where)52 b(...)436 3769 y FB(\017)46 b FD(randomR)29
b FI(tak)o(es)34 b(a)e(range)i Ft(\()p Fv(lo)6 b Fq(;)15
b Fv(hi)9 b Ft(\))34 b FI(and)f(a)f(random)h(number)h(generator)h
Fv(g)8 b FI(,)34 b(and)f(returns)h(a)e(random)527 3882
y(v)n(alue)26 b(uniformly)g(distrib)n(uted)i(in)c(the)h(closed)h
(interv)n(al)g Ft([)p Fv(lo)6 b Fq(;)15 b Fv(hi)9 b Ft(])r
FI(,)23 b(together)k(with)d(a)g(ne)n(w)g(generator)-5
b(.)34 b(It)24 b(is)527 3995 y(unspeci\002ed)32 b(what)d(happens)j(if)d
Fv(lo)j Fq(>)25 b Fv(hi)9 b FI(.)46 b(F)o(or)29 b(continuous)j(types)f
(there)f(is)f(no)h(requirement)i(that)e(the)527 4108
y(v)n(alues)f Fv(lo)34 b FI(and)29 b Fv(hi)36 b FI(are)29
b(e)n(v)o(er)f(produced,)j(b)n(ut)d(the)o(y)h(may)f(be,)g(depending)j
(on)e(the)f(implementation)j(and)527 4221 y(the)24 b(interv)n(al.)436
4408 y FB(\017)46 b FD(random)20 b FI(does)25 b(the)e(same)h(as)f
FD(randomR)m FI(,)g(b)n(ut)h(does)g(not)g(tak)o(e)g(a)f(range.)636
4596 y FF(\226)46 b FI(F)o(or)29 b(bounded)i(types)f(\(instances)i(of)e
FD(Bounded)l FI(,)g(such)g(as)f FD(Char)n FI(\),)h(the)g(range)g(is)f
(normally)i(the)727 4709 y(whole)24 b(type.)636 4855
y FF(\226)46 b FI(F)o(or)23 b(fractional)j(types,)e(the)g(range)h(is)e
(normally)i(the)f(semi-closed)i(interv)n(al)f Ft([)p
Fv(0)12 b Fq(;)j Fv(1)d Ft(\))s FI(.)636 5001 y FF(\226)46
b FI(F)o(or)23 b FD(Integer)m FI(,)f(the)i(range)h(is)e
(\(arbitrarily\))k(the)d(range)g(of)g FD(Int)n FI(.)436
5189 y FB(\017)46 b FI(The)31 b(plural)i(v)o(ersions,)h
FD(randomRs)27 b FI(and)32 b FD(randoms)m FI(,)g(produce)h(an)e
(in\002nite)h(list)g(of)f(random)h(v)n(alues,)527 5302
y(and)24 b(do)g(not)g(return)h(a)e(ne)n(w)g(generator)-5
b(.)p eop
%%Page: 248 262
248 261 bop 0 100 a FI(248)1997 b FE(CHAPTER)20 b(27.)52
b(RANDOM)21 b(NUMBERS)136 356 y FB(\017)46 b FI(The)33
b FD(IO)e FI(v)o(ersions,)37 b FD(randomRIO)28 b FI(and)33
b FD(randomIO)m FI(,)h(use)f(the)h(global)g(random)g(number)g
(generator)227 469 y(\(see)24 b(Section)h(27.3\).)0 844
y FC(27.3)119 b(The)30 b(global)g(random)g(number)h(generator)0
1135 y FI(There)c(is)f(a)g(single,)i(implicit,)g(global)g(random)f
(number)h(generator)h(of)d(type)h FD(StdGen)n FI(,)f(held)h(in)f(some)h
(global)0 1247 y(v)n(ariable)36 b(maintained)h(by)e(the)g
FD(IO)e FI(monad.)63 b(It)35 b(is)g(initialised)i(automatically)h(in)d
(some)g(system-dependent)0 1360 y(f)o(ashion,)27 b(for)d(e)o(xample,)i
(by)f(using)g(the)g(time)g(of)f(day)-6 b(,)26 b(or)e(Linux')-5
b(s)26 b(k)o(ernel)g(random)f(number)h(generator)-5 b(.)34
b(T)-7 b(o)24 b(get)0 1473 y(deterministic)i(beha)n(viour)l(,)h(use)d
FD(setStdGen)l FI(.)250 1656 y FD(setStdGen)214 b(::)54
b(StdGen)e(->)h(IO)h(\(\))250 1769 y(getStdGen)214 b(::)54
b(IO)g(StdGen)250 1882 y(newStdGen)214 b(::)54 b(IO)g(StdGen)250
1995 y(getStdRandom)49 b(::)54 b(\(StdGen)d(->)j(\(a,)f(StdGen\)\))e
(->)j(IO)f(a)136 2391 y FB(\017)46 b FD(getStdGen)15
b FI(and)20 b FD(setStdGen)15 b FI(get)20 b(and)g(set)g(the)f(global)j
(random)e(number)h(generator)l(,)i(respecti)n(v)o(ely)-6
b(.)136 2579 y FB(\017)46 b FD(newStdGen)23 b FI(applies)29
b FD(split)c FI(to)i(the)h(current)h(global)g(random)f(generator)l(,)j
(updates)f(it)d(with)g(one)h(of)227 2692 y(the)c(results,)h(and)f
(returns)h(the)f(other)-5 b(.)136 2879 y FB(\017)46 b
FD(getStdRandom)23 b FI(uses)31 b(the)e(supplied)j(function)g(to)d(get)
h(a)f(v)n(alue)h(from)g(the)f(current)i(global)g(random)227
2992 y(generator)l(,)e(and)d(updates)i(the)e(global)h(generator)h(with)
e(the)g(ne)n(w)f(generator)j(returned)g(by)d(the)h(function.)227
3105 y(F)o(or)d(e)o(xample,)h FD(rollDice)19 b FI(gets)24
b(a)f(random)i(inte)o(ger)g(between)f(1)f(and)h(6:)478
3249 y FD(rollDice)50 b(::)k(IO)g(Int)478 3362 y(rollDice)c(=)55
b(getStdRandom)49 b(\(randomR)h(\(1,6\)\))0 3788 y FG(Refer)n(ences)0
4000 y FF([1])c FI(FW)23 b(Burton)h(and)g(RL)f(P)o(age,)g(\223Distrib)n
(uted)j(random)f(number)g(generation\224,)h(Journal)g(of)e(Functional)h
(Pro-)227 4113 y(gramming,)f(2\(2\):203-212,)k(April)23
b(1992.)0 4301 y FF([2])46 b FI(SK)28 b(P)o(ark,)j(and)f(KW)e(Miller)l
(,)k(\223Random)e(number)g(generators)j(-)c(good)i(ones)f(are)g(hard)g
(to)g(\002nd\224,)g(Comm)227 4414 y(A)l(CM)22 b(31\(10\),)j(Oct)e
(1988,)i(pp1192-1201.)0 4601 y FF([3])46 b FI(DG)36 b(Carta,)k(\223T)-7
b(w)o(o)36 b(f)o(ast)i(implementations)i(of)e(the)f(minimal)g(standard)
j(random)e(number)g(generator\224,)227 4714 y(Comm)23
b(A)l(CM,)e(33\(1\),)k(Jan)f(1990,)g(pp87-88.)0 4902
y FF([4])46 b FI(P)18 b(Hellekalek,)j(\223Don')n(t)e(trust)g(parallel)i
(Monte)e(Carlo\224,)g(A)l(CM)e(SIGSIM)g(Simulation)j(Digest)f(28\(1\),)
h(pp82-)227 5015 y(89,)k(July)g(1998.)0 5310 y(The)f(W)-7
b(eb)23 b(site)h FD(http://random.m)o(at)o(.sb)o(g.)o(ac)o(.a)o(t/)16
b FI(is)24 b(a)f(great)h(source)h(of)f(information.)p
eop
%%Page: 249 263
249 262 bop 300 1103 a FH(Bibliograph)m(y)345 1586 y
FI([1])47 b(J.)29 b(Backus.)53 b(Can)30 b(programming)h(be)f(liberated)
i(from)d(the)h(v)n(on)h(Neumann)f(style?)48 b(A)29 b(functional)j
(style)497 1698 y(and)24 b(its)g(algebra)h(of)e(programs.)35
b FJ(CA)m(CM)p FI(,)21 b(21\(8\):613\226641,)28 b(August)d(1978.)345
1886 y([2])47 b(H.B.)21 b(Curry)j(and)g(R.)e(Fe)o(ys.)33
b FJ(Combinatory)26 b(Lo)o(gic)p FI(.)33 b(North-Holland)26
b(Pub)l(.)e(Co.,)e(Amsterdam,)h(1958.)345 2074 y([3])47
b(L.)17 b(Damas)g(and)i(R.)e(Milner)-5 b(.)22 b(Principal)e(type)f
(schemes)g(for)g(functional)i(programs.)i(In)18 b FJ(Pr)l(oceedings)j
(of)d(the)497 2187 y(9th)h(A)m(CM)e(Symposium)j(on)f(Principles)i(of)d
(Pr)l(o)o(gr)o(amming)i(Langua)o(g)o(es)p FI(,)i(pages)e(207\226212,)h
(Alb)n(uquerque,)497 2299 y(N.M.,)g(January)26 b(1982.)345
2487 y([4])47 b(K-F)-7 b(.)22 b(F)o(ax)5 b(\264)-35 b(en)33
b(A)22 b(static)j(semantics)g(for)f(Hask)o(ell)35 b FJ(J)n(ournal)25
b(of)e(Functional)j(Pr)l(o)o(gr)o(amming)p FI(,)e(2002.)345
2675 y([5])47 b(J.R.)27 b(Hindle)o(y)-6 b(.)50 b(The)28
b(principal)j(type)e(scheme)h(of)e(an)g(object)i(in)f(combinatory)i
(logic.)50 b FJ(T)-5 b(r)o(ansactions)31 b(of)497 2788
y(the)24 b(American)g(Mathematical)i(Society)p FI(,)f(146:29\22660,)h
(December)e(1969.)345 2975 y([6])47 b(P)-10 b(.)36 b(Hudak,)42
b(J.)c(F)o(asel,)j(and)e(J.)e(Peterson.)81 b(A)37 b(gentle)j
(introduction)h(to)d(Hask)o(ell.)81 b(T)-6 b(echnical)40
b(Report)497 3088 y(Y)-11 b(ALEU/DCS/RR-901,)21 b(Y)-9
b(ale)23 b(Uni)n(v)o(ersity)-6 b(,)25 b(May)e(1996.)345
3276 y([7])47 b(Mark)27 b(P)-10 b(.)26 b(Jones.)47 b(A)26
b(system)j(of)e(constructor)k(classes:)38 b(o)o(v)o(erloading)30
b(and)e(implicit)h(higher)n(-order)i(poly-)497 3389 y(morphism.)j
FJ(J)n(ournal)25 b(of)f(Functional)i(Pr)l(o)o(gr)o(amming)p
FI(,)e(5\(1\),)g(January)h(1995.)345 3576 y([8])47 b(Mark)24
b(P)-10 b(.)21 b(Jones.)35 b(T)-7 b(yping)24 b(Hask)o(ell)h(in)e(Hask)o
(ell.)34 b FJ(Hask)o(ell)25 b(W)-8 b(orkshop)p FI(,)25
b(P)o(aris,)d(October)j(1999.)345 3764 y([9])47 b(P)-10
b(.)31 b(Pen\002eld,)j(Jr)-5 b(.)61 b(Principal)34 b(v)n(alues)f(and)g
(branch)h(cuts)f(in)f(comple)o(x)h(APL.)59 b(In)33 b
FJ(APL)d('81)i(Confer)m(ence)497 3877 y(Pr)l(oceedings)p
FI(,)26 b(pages)e(248\226256,)i(San)d(Francisco,)i(September)g(1981.)
300 4065 y([10])47 b(S.L.)18 b(Pe)o(yton)j(Jones.)28
b FJ(The)20 b(Implementation)k(of)c(Functional)j(Pr)l(o)o(gr)o(amming)e
(Langua)o(g)o(es)p FI(.)29 b(Prentice-Hall)497 4177 y(International,)e
(Engle)n(w)o(ood)e(Clif)n(fs,)e(Ne)n(w)f(Jerse)o(y)-6
b(,)24 b(1987.)300 4365 y([11])47 b(Unicode)32 b(Consortium.)57
b FJ(The)30 b(Unicode)i(Standar)m(d,)i(V)-10 b(er)o(sion)32
b(3.0)p FI(.)55 b(Addison)32 b(W)-7 b(esle)o(y)h(,)33
b(Reading,)g(MA,)497 4478 y(2000.)300 4666 y([12])47
b(P)-10 b(.)21 b(W)-7 b(adler)23 b(and)g(S.)e(Blott.)31
b(Ho)n(w)21 b(to)i(mak)o(e)g FJ(ad)f(hoc)h FI(polymorphism)i(less)f
FJ(ad)e(hoc)p FI(.)32 b(In)22 b FJ(Pr)l(oceedings)j(of)e(the)497
4779 y(16th)f(A)m(CM)d(Symposium)k(on)e(Principles)i(of)e(Pr)l(o)o(gr)o
(amming)h(Langua)o(g)o(es)p FI(,)i(pages)e(60\22676,)h(Austin,)f(T)-6
b(e)o(xas,)497 4891 y(January)25 b(1989.)2032 5593 y(249)p
eop
%%Page: 250 264
250 263 bop 0 100 a FI(250)2788 b FE(BIBLIOGRAPHY)p eop
%%Page: 251 265
251 264 bop 300 488 a FC(Index)300 695 y FI(Inde)o(x)34
b(entries)g(that)f(refer)h(to)f(nonterminals)i(in)e(the)g(Hask)o(ell)h
(syntax)h(are)e(sho)n(wn)g(in)f(an)h Fv(italic)38 b FI(font.)57
b(Code)300 808 y(entities)25 b(are)f(sho)n(wn)g(in)f
FD(typewriter)c FI(font.)29 b(Ordinary)c(inde)o(x)f(entries)h(are)f
(sho)n(wn)g(in)f(a)g(roman)h(font.)300 1085 y FD(!)p
FI(,)e(45,)h(173,)h(174,)g(176,)g(177)300 1198 y FD(!!)p
FI(,)e(55,)h(115,)h(116)300 1311 y FD($)p FI(,)e(55,)h(81,)h(104,)g
(110)300 1424 y FD($!)p FI(,)e(81,)h(104,)h(110)300 1537
y FD(\045)p FI(,)e(151,)i(153)300 1650 y FD(&&)p FI(,)e(55,)h(79,)g
(104,)h(110)300 1763 y FD(\(,\))p FI(,)d(80)300 1876
y FD(\(,,\))p FI(,)g(80)300 1988 y FD(\(\))p FI(,)h FJ(see)h
FI(tri)n(vial)i(type)f(and)g(unit)g(e)o(xpression)300
2101 y FD(*)p FI(,)e(55,)h(90,)h(91,)f(104,)h(105)300
2214 y FD(**)p FI(,)e(55,)h(91,)g(104,)h(106)300 2327
y FD(+)p FI(,)e(55,)h(90,)h(91,)f(104,)h(105,)g FJ(see)g(also)g
Fv(n)7 b FD(+)o Fv(k)33 b FI(pattern)300 2440 y FD(++)p
FI(,)22 b(55,)h(115)300 2553 y FD(-)p FI(,)f(55,)h(90,)h(91,)f(104,)h
(105,)g FJ(see)g(also)g FI(ne)o(gation)300 2666 y FD(.)p
FI(,)e(55,)h(81,)h(104,)g(110)300 2779 y FD(/)p FI(,)e(55,)h(90,)h(91,)
f(104,)h(106)300 2892 y FD(//)p FI(,)e(173,)h(175\226177)300
3005 y FD(/=)p FI(,)f(55,)h(82,)g(104,)h(142)300 3118
y FD(:)p FI(,)e(55,)h(80)300 3230 y FD(:+)p FI(,)f(155,)h(156)300
3343 y FD(::)p FI(,)f(30)300 3456 y FD(<)p FI(,)g(55,)h(84,)h(104,)g
(142)300 3569 y FD(<=)p FI(,)e(55,)h(84,)g(104,)h(142)300
3682 y FD(=<<)p FI(,)d(88,)i(104,)h(109)300 3795 y FD(==)p
FI(,)e(55,)h(82,)g(104,)h(142)300 3908 y FD(>)p FI(,)e(55,)h(84,)h
(104,)g(142)300 4021 y FD(>=)p FI(,)e(55,)h(84,)g(104,)h(142)300
4134 y FD(>>)p FI(,)e(55,)h(88,)g(97,)h(104,)f(109)300
4247 y FD(>>=)p FI(,)e(55,)i(88,)h(97,)f(104,)h(109)300
4360 y FD(@)p FI(,)e FJ(see)i FI(as-pattern)300 4472
y FD([])e FI(\(nil\),)i(80)300 4585 y FD(\\\\)p FI(,)e(180,)h(186,)h
(187)300 4698 y FD(\\)p FI(,)e FJ(see)i FI(lambda)g(abstraction)300
4811 y FD(\\&)p FI(,)e(12)300 4924 y FD(\\\\)p FI(,)g(182)300
5037 y FD(\\a)p FI(,)g(12)300 5150 y FD(\\b)p FI(,)g(12)300
5263 y FD(\\f)p FI(,)g(12)2245 1085 y FD(\\n)p FI(,)g(12)2245
1198 y FD(\\r)p FI(,)g(12)2245 1311 y FD(\\t)p FI(,)g(12)2245
1424 y FD(\\v)p FI(,)g(12)2245 1537 y FB(?)p FI(,)g(17,)i(230)2245
1650 y FD(\210)p FI(,)e(55,)i(91,)f(92,)g(104,)h(109)2245
1763 y FD(\210\210)p FI(,)e(55,)h(91,)h(92,)f(104,)h(109)2245
1876 y FD(_)p FI(,)e FJ(see)i FI(wildcard)h(pattern)2245
1988 y FD(||)p FI(,)d(55,)h(79,)h(104,)f(110)2245 2101
y FD(\230)p FI(,)f FJ(see)i FI(irrefutable)i(pattern)2245
2297 y(abbre)n(viated)h(module,)d(66)2245 2410 y FD(abs)p
FI(,)d(91,)j(92,)f(105)2245 2523 y FD(AbsoluteSeek)p
FI(,)17 b(217)2245 2636 y(abstract)26 b(datatype,)f(44,)f(76)2245
2749 y FD(accum)p FI(,)c(173,)k(175,)g(177)2245 2862
y FD(accumArray)p FI(,)18 b(173,)24 b(174,)g(177)2245
2975 y FD(acos)p FI(,)d(91,)i(106)2245 3088 y FD(acosh)p
FI(,)d(91,)k(106)2245 3201 y FD(addToClockTime)p FI(,)16
b(233,)24 b(235)2245 3313 y FJ(ae)n(xp)p FI(,)h(16,)e(20\22623,)i(139)
2245 3426 y(algebraic)h(datatype,)g(43,)d(67,)g(141)2245
3539 y FD(all)p FI(,)e(119)2245 3652 y FJ(alt)p FI(,)j(25,)f(139)2245
3765 y FJ(alts)p FI(,)h(25,)f(139)2245 3878 y(ambiguous)j(type,)e(51,)f
(62)2245 3991 y FD(and)p FI(,)e(119)2245 4104 y FJ(ANY)p
FI(,)g(9,)i(129)2245 4217 y FJ(any)p FI(,)h(9,)f(129)2245
4330 y FD(any)p FI(,)e(119)2245 4443 y FJ(ANYseq)p FI(,)i(9,)g(129)2245
4555 y FD(ap)p FI(,)f(202,)i(206)2245 4668 y FJ(apat)p
FI(,)g(31,)g(140)2245 4781 y FD(appendFile)p FI(,)18
b(97,)24 b(126)2245 4894 y FD(AppendMode)p FI(,)18 b(214)2245
5007 y(application,)27 b(19)2411 5120 y(function,)f FJ(see)e
FI(function)h(application)2411 5233 y(operator)l(,)h
FJ(see)e FI(operator)i(application)2245 5346 y FD(approxRational)p
FI(,)16 b(92,)24 b(93,)f(151,)h(153)2032 5593 y(251)p
eop
%%Page: 252 266
252 265 bop 0 100 a FI(252)3182 b FE(INDEX)0 356 y FI(arithmetic)25
b(operator)l(,)h(90)0 469 y(arithmetic)f(sequence,)h(23,)d(80)0
582 y FD(Array)d FI(\(datatype\),)26 b(174)0 695 y FD(Array)20
b FI(\(module\),)25 b(161,)f(173,)g(176,)g(197)0 808
y(array)-6 b(,)24 b(173)166 920 y(accumulated,)i(174)166
1033 y(deri)n(v)o(ed,)e(176)0 1146 y FD(array)p FI(,)c(173,)k(174,)g
(177)0 1259 y(as-pattern)i(\()p FD(@)p FI(\),)d(31,)g(33)0
1372 y FJ(ascDigit)p FI(,)i(9,)d(129)0 1485 y FJ(ascii)p
FI(,)i(12,)g(130)0 1598 y(ASCII)e(character)k(set,)d(7)0
1711 y FJ(ascLar)m(g)o(e)p FI(,)i(9,)d(129)0 1824 y FJ(ascSmall)p
FI(,)j(9,)e(129)0 1937 y FJ(ascSymbol)p FI(,)i(9,)e(129)0
2050 y FD(asin)p FI(,)e(91,)i(106)0 2163 y FD(asinh)p
FI(,)d(91,)k(106)0 2275 y FD(assocs)p FI(,)c(173,)k(174,)f(177)0
2388 y FD(asTypeOf)p FI(,)c(114)0 2501 y FD(atan)p FI(,)i(91,)i(106)0
2614 y FD(atan2)p FI(,)d(92,)k(93,)f(108)0 2727 y FD(atanh)p
FI(,)d(91,)k(106)0 2840 y FJ(atype)p FI(,)g(40,)g(137)0
3030 y(basic)h(input/output,)i(95)0 3143 y(binding,)e(37)166
3255 y(function,)g FJ(see)f FI(function)i(binding)166
3368 y(pattern,)f FJ(see)f FI(pattern)h(binding)166 3481
y(simple)35 b(pattern,)i FJ(see)e FI(simple)f(pattern)i(bind-)332
3594 y(ing)0 3707 y FJ(body)p FI(,)24 b(66,)g(136)0 3820
y FD(Bool)d FI(\(datatype\),)26 b(79,)d(110)0 3933 y(boolean,)i(79)0
4046 y FD(Bounded)20 b FI(\(class\),)k(89,)g(105)166
4159 y(deri)n(v)o(ed)h(instance,)g(51,)e(143)166 4272
y(instance)j(for)d FD(Char)p FI(,)e(111)0 4385 y FD(bounds)p
FI(,)f(173,)k(174,)f(177)0 4497 y FD(bracket)p FI(,)c(211,)24
b(221)0 4610 y FD(bracket_)p FI(,)19 b(211,)24 b(221)0
4723 y FD(break)p FI(,)c(118)0 4836 y FJ(btype)p FI(,)k(40,)g(137)0
4949 y FD(BufferMode)18 b FI(\(datatype\),)26 b(210)0
5139 y FD(CalendarTime)17 b FI(\(datatype\),)26 b(232,)e(235)0
5252 y FD(calendarTimeToS)o(tr)o(in)o(g)p FI(,)16 b(233,)24
b(235)0 5365 y(case)g(e)o(xpression,)i(25)1945 356 y
FD(catch)p FI(,)20 b(98,)k(125,)g(230)1945 469 y FD(catMaybes)p
FI(,)19 b(193,)k(194)1945 582 y FJ(cdecl)p FI(,)i(38,)e(47,)g(137)1945
695 y FJ(cdecls)p FI(,)i(38,)e(47,)h(137)1945 808 y FD(ceiling)p
FI(,)c(92,)j(93,)g(107)1945 920 y(changing)j(the)e(directory)-6
b(,)26 b(226)1945 1033 y FD(Char)21 b FI(\(datatype\),)26
b(79,)e(110)1945 1146 y FD(Char)d FI(\(module\),)k(121,)f(161,)g(195,)f
(197,)h(234)1945 1259 y FJ(c)o(har)p FI(,)g(12,)f(130)1945
1372 y(character)l(,)j(79)2111 1485 y(literal)f(syntax,)g(12)1945
1598 y(character)h(set)2111 1711 y(ASCII,)c FJ(see)i
FI(ASCII)e(character)k(set)2111 1824 y(transparent,)h
FJ(see)d FI(transparent)i(character)g(set)1945 1937 y
FJ(c)o(har)m(esc)p FI(,)f(12,)e(130)1945 2050 y FD(chr)p
FI(,)e(195,)j(198)1945 2163 y FD(cis)p FI(,)d(155,)j(156)1945
2275 y(class,)g(38,)g(47)1945 2388 y FJ(class)p FI(,)h(41,)e(137)1945
2501 y(class)i(assertion,)g(41)1945 2614 y(class)g(declaration,)h(47,)d
(67)2111 2727 y(with)h(an)f(empty)h FD(where)d FI(part,)j(48)1945
2840 y(class)h(en)l(vironment,)h(42)1945 2953 y(class)f(method,)f(38,)f
(39,)h(48,)f(49)1945 3066 y(clock)i(time,)e(232)1945
3179 y FD(ClockTime)c FI(\(datatype\),)26 b(232,)e(234)1945
3292 y FJ(closecom)p FI(,)h(9,)e(129)1945 3405 y(closing)j(a)d(\002le,)
f(215)1945 3517 y(closure,)j(74)1945 3630 y FJ(cname)p
FI(,)f(69,)f(136)1945 3743 y FJ(cntrl)p FI(,)h(12,)g(130)1945
3856 y(coercion,)i(93)1945 3969 y(comment,)e(9)2111 4082
y(end-of-line,)j(9)2111 4195 y(nested,)e(9)1945 4308
y FJ(comment)p FI(,)f(9,)f(129)1945 4421 y FD(compare)p
FI(,)d(84,)j(104,)h(142)1945 4534 y FD(Complex)c FI(\(module\),)25
b(155,)e(156)1945 4647 y FJ(con)p FI(,)h(17,)f(18,)h(140)1945
4759 y FD(concat)p FI(,)c(115)1945 4872 y FD(concatMap)p
FI(,)f(115)1945 4985 y(conditional)27 b(e)o(xpression,)f(21)1945
5098 y FJ(conid)p FI(,)f(10,)e(11,)g(130)1945 5211 y
FD(conjugate)p FI(,)c(155,)k(156)1945 5324 y FJ(conop)p
FI(,)i(17,)e(18,)h(140)p eop
%%Page: 253 267
253 266 bop 300 100 a FE(INDEX)3180 b FI(253)300 356
y FD(const)p FI(,)20 b(81,)k(110)300 469 y FJ(constr)p
FI(,)h(43,)e(138)300 582 y FJ(constr)o(s)p FI(,)i(43,)f(138)300
695 y(constructor)j(class,)d(38)300 808 y(constructor)j(e)o(xpression,)
f(40)300 920 y FJ(consym)p FI(,)e(10,)f(130)300 1033
y(conte)o(xt,)i(41)300 1146 y FJ(conte)n(xt)p FI(,)g(41,)f(137)300
1259 y(conte)o(xt)h(reduction,)h(59)300 1372 y FD(cos)p
FI(,)21 b(91,)i(106)300 1485 y FD(cosh)p FI(,)e(91,)i(106)300
1598 y(cosine,)i(93)300 1711 y(CPU)d(time,)h(241)300
1824 y FD(CPUTime)d FI(\(module\),)k(241)300 1937 y FD(cpuTimePrecisio)
o(n)p FI(,)16 b(241)300 2050 y FD(createDirectory)o FI(,)h(224,)23
b(225)300 2163 y(creating)j(a)d(\002le,)f(214)300 2275
y FD(ctDay)p FI(,)e(232,)k(235)300 2388 y FD(ctHour)p
FI(,)c(232,)k(235)300 2501 y FD(ctIsDST)p FI(,)19 b(232,)24
b(235)300 2614 y FD(ctMin)p FI(,)c(232,)k(235)300 2727
y(current)h(directory)-6 b(,)26 b(226)300 2840 y FD(curry)p
FI(,)20 b(80,)k(114)300 2953 y(Curry)-6 b(,)24 b(Hask)o(ell)g(B.,)e
(vii)300 3066 y FD(cycle)p FI(,)e(117)300 3262 y FJ(dashes)p
FI(,)25 b(9,)e(129)300 3375 y(data)h(constructor)l(,)j(43)300
3488 y FD(data)21 b FI(declaration,)26 b(27,)e(43)300
3600 y(datatype,)h(43)466 3713 y(abstract,)g FJ(see)f
FI(abstract)h(datatype)466 3826 y(algebraic,)h FJ(see)d
FI(algebraic)j(datatype)466 3939 y(declaration,)g FJ(see)e
FD(data)d FI(declaration)466 4052 y(recursi)n(v)o(e,)k
FJ(see)f FI(recursi)n(v)o(e)h(datatype)466 4165 y(renaming,)g
FJ(see)f FD(newtype)19 b FI(declaration)300 4278 y FD(dateFmt)p
FI(,)g(239,)24 b(240)300 4391 y FD(dateTimeFmt)p FI(,)17
b(239,)24 b(240)300 4504 y FD(Day)d FI(\(datatype\),)26
b(232,)e(234)300 4617 y FJ(dclass)p FI(,)h(43,)e(138)300
4730 y FJ(decimal)p FI(,)h(11,)g(130)300 4842 y FJ(decl)p
FI(,)g(38,)f(56,)h(137)300 4955 y(declaration,)i(37)466
5068 y(class,)e FJ(see)g FI(class)g(declaration)466 5181
y(datatype,)h FJ(see)f FD(data)d FI(declaration)466 5294
y(def)o(ault,)k FJ(see)f FD(default)19 b FI(declaration)2411
356 y(\002xity)-6 b(,)24 b FJ(see)g FI(\002xity)f(declaration)2411
469 y(import,)h FJ(see)g FI(import)g(declaration)2411
582 y(instance,)i FJ(see)e FI(instance)h(declaration)2411
695 y(within)f(a)g FD(class)c FI(declaration,)26 b(47)2411
808 y(within)e(a)g FD(let)d FI(e)o(xpression,)26 b(24)2411
920 y(within)e(an)g FD(instance)19 b FI(declaration,)26
b(49)2245 1033 y(declaration)h(group,)d(58)2245 1146
y FJ(decls)p FI(,)h(38,)e(137)2245 1259 y FD(decodeFloat)p
FI(,)18 b(92,)23 b(93,)g(108)2245 1372 y(def)o(ault)j(class)e(method,)g
(48,)g(50,)f(145)2245 1485 y FD(default)d FI(declaration,)26
b(51)2245 1598 y FD(defaultTimeLoca)o(le)p FI(,)16 b(239,)24
b(240)2245 1711 y FD(delete)p FI(,)c(180,)k(182,)g(187)2245
1824 y FD(deleteBy)p FI(,)19 b(180,)24 b(184,)g(187)2245
1937 y FD(deleteFirstsBy)p FI(,)16 b(180,)24 b(184,)g(187)2245
2050 y(deleting)i(directories,)g(225)2245 2163 y(deleting)g(\002les,)d
(225)2245 2275 y FD(denominator)p FI(,)18 b(151,)24 b(153)2245
2388 y(dependenc)o(y)j(analysis,)e(58)2245 2501 y(deri)n(v)o(ed)38
b(instance,)43 b(51,)d(141,)g FJ(see)d(also)h FI(instance)2577
2614 y(declaration)2245 2727 y FJ(deriving)p FI(,)26
b(43,)d(138)2245 2840 y FD(diffClockTimes)p FI(,)16 b(233,)24
b(235)2245 2953 y FJ(digit)p FI(,)g(9,)f(129)2245 3066
y FD(digitToInt)p FI(,)18 b(195,)24 b(197)2245 3179 y(directories,)i
(213,)e(224)2245 3292 y FD(Directory)19 b FI(\(module\),)25
b(224)2245 3405 y FD(div)p FI(,)c(55,)j(90,)f(91,)g(104,)h(106)2245
3517 y FD(divMod)p FI(,)c(91,)j(106)2245 3630 y(do)h(e)o(xpression,)i
(26,)d(97)2245 3743 y FD(doDiv)p FI(,)d(163)2245 3856
y FD(doesDirectoryEx)o(ist)o FI(,)d(224)2245 3969 y FD(doesFileExist)p
FI(,)g(224)2245 4082 y FD(Double)j FI(\(datatype\),)26
b(89,)e(92,)f(112)2245 4195 y FD(drop)p FI(,)e(118)2245
4308 y FD(dropWhile)p FI(,)e(118)2245 4504 y FD(e)p FI(,)j(167)2245
4617 y FD(Either)e FI(\(datatype\),)26 b(81,)e(111)2245
4730 y FD(either)p FI(,)c(81,)j(111)2245 4842 y FD(elem)p
FI(,)e(55,)i(115,)h(119)2245 4955 y FD(elemIndex)p FI(,)19
b(180,)k(182,)h(186)2245 5068 y FD(elemIndices)p FI(,)18
b(180,)24 b(182,)f(186)2245 5181 y FD(elems)p FI(,)d(173,)k(174,)g(177)
2245 5294 y FD(encodeFloat)p FI(,)18 b(92,)23 b(93,)g(108)p
eop
%%Page: 254 268
254 267 bop 0 100 a FI(254)3182 b FE(INDEX)0 356 y FI(end)24
b(of)f(\002le,)g(215)0 469 y(entity)-6 b(,)25 b(65)0
582 y FD(Enum)c FI(\(class\),)k(51,)e(86,)g(105)166 695
y(deri)n(v)o(ed)i(instance,)g(51,)e(142)166 808 y(instance)j(for)d
FD(Char)p FI(,)e(111)166 920 y(instance)26 b(for)d FD(Double)p
FI(,)d(113)166 1033 y(instance)26 b(for)d FD(Float)p
FI(,)e(113)166 1146 y(instance)26 b(for)d FD(Ratio)p
FI(,)e(154)166 1259 y(superclass)26 b(of)e FD(Integral)p
FI(,)19 b(106)0 1372 y(enumeration,)26 b(170)0 1485 y
FD(enumFrom)p FI(,)19 b(86,)k(105)0 1598 y FD(enumFromThen)p
FI(,)17 b(86,)23 b(105)0 1711 y FD(enumFromThenTo)p FI(,)16
b(86,)23 b(105)0 1824 y FD(enumFromTo)p FI(,)18 b(86,)23
b(105)0 1937 y(en)l(vironment)166 2050 y(class,)h FJ(see)g
FI(class)g(en)l(vironment)166 2163 y(type,)g FJ(see)g
FI(type)g(en)l(vironment)0 2275 y(en)l(vironment)j(v)n(ariables,)e(229)
0 2388 y FD(EQ)p FI(,)d(81)0 2501 y FD(Eq)g FI(\(class\),)j(82,)e(89,)g
(104)166 2614 y(deri)n(v)o(ed)i(instance,)g(51,)e(142)166
2727 y(instance)j(for)d FD(Array)p FI(,)e(177)166 2840
y(instance)26 b(for)d FD(Char)p FI(,)e(110)166 2953 y(superclass)26
b(of)e FD(Num)p FI(,)d(105)166 3066 y(superclass)26 b(of)e
FD(Ord)p FI(,)d(104)0 3179 y(error)l(,)j(4,)f(17)0 3292
y FD(error)p FI(,)d(17,)k(114,)f(230)0 3405 y FJ(escape)p
FI(,)i(12,)e(130)0 3517 y FD(even)p FI(,)e(91,)i(108)0
3630 y(e)o(xception)j(handling,)f(98)0 3743 y FD(executable)p
FI(,)18 b(224)0 3856 y(e)o(x)o(ecution)25 b(time,)f(241)0
3969 y FD(ExitCode)19 b FI(\(datatype\),)26 b(229)0 4082
y FD(ExitFailure)p FI(,)17 b(229)0 4195 y FD(exitFailure)p
FI(,)g(229)0 4308 y FD(ExitSuccess)p FI(,)g(229)0 4421
y FD(exitWith)p FI(,)i(229)0 4534 y Fv(exp)136 4501 y
Fu(i)169 4534 y FI(,)j(16,)h(139)0 4647 y FJ(e)n(xp)p
FI(,)h(16,)f(19,)h(21,)f(24\22626,)i(30,)e(139)0 4759
y FD(exp)p FI(,)e(91,)i(106)0 4872 y FD(exponent)p FI(,)c(92,)k(94,)h
(108)0 4985 y(e)o(xponentiation,)j(91)0 5098 y FJ(e)n(xport)p
FI(,)e(67,)e(136)0 5211 y(e)o(xport)i(list,)e(66)0 5324
y FJ(e)n(xports)p FI(,)i(67,)f(136)1945 356 y(e)o(xpression,)i(4,)d(15)
2111 469 y(case,)h FJ(see)g FI(case)g(e)o(xpression)2111
582 y(conditional,)j FJ(see)d FI(conditional)j(e)o(xpression)2111
695 y(let,)d FJ(see)g FI(let)f(e)o(xpression)2111 808
y(simple)i(case,)e FJ(see)h FI(simple)g(case)h(e)o(xpression)2111
920 y(type,)f FJ(see)g FI(type)g(e)o(xpression)2111 1033
y(unit,)g FJ(see)g FI(unit)g(e)o(xpression)1945 1146
y(e)o(xpression)i(type-signature,)i(30,)23 b(52)1945
1259 y FD(expt)p FI(,)e(162)1945 1372 y FD(expts)p FI(,)f(163)1945
1568 y FD(f)p FI(,)i(167)1945 1681 y FD(fail)p FI(,)f(88,)i(99,)h(109,)
f(212)1945 1794 y FD(False)p FI(,)d(79)1945 1907 y FJ(fbind)p
FI(,)25 b(28,)e(139)1945 2020 y FJ(fe)n(xp)p FI(,)h(16,)g(19,)f(139)
1945 2133 y FD(FFFormat)c FI(\(datatype\),)26 b(164)1945
2246 y(\002eld)e(label,)g FJ(see)g FI(label,)g(44)2111
2358 y(construction,)j(28)2111 2471 y(selection,)f(27)2111
2584 y(update,)f(29)1945 2697 y FJ(\002elddecl)p FI(,)h(43,)d(138)1945
2810 y(\002le,)g(213)1945 2923 y(\002le)g(b)n(uf)n(fering,)j(215)1945
3036 y(\002le)d(system,)h(213)1945 3149 y FD(FilePath)19
b FI(\(type)25 b(synon)o(ym\),)g(97,)e(125)1945 3262
y FD(filter)p FI(,)d(115)1945 3375 y FD(filterM)p FI(,)g(202,)j(207)
1945 3488 y FD(find)p FI(,)e(180,)j(182,)g(186)1945 3600
y FD(findIndex)p FI(,)19 b(180,)k(186)1945 3713 y FD(findIndices)p
FI(,)18 b(180,)24 b(186)1945 3826 y(\002xity)-6 b(,)24
b(18)1945 3939 y FJ(\002xity)p FI(,)g(38,)g(54,)f(137)1945
4052 y(\002xity)h(declaration,)i(48,)e(49,)f(54)1945
4165 y FD(flip)p FI(,)e(81,)i(110)1945 4278 y FD(Float)e
FI(\(datatype\),)26 b(89,)d(92,)g(112)1945 4391 y FJ(\003oat)p
FI(,)h(12)1945 4504 y FD(floatDigits)p FI(,)18 b(92,)23
b(93,)g(108)1945 4617 y FD(Floating)c FI(\(class\),)25
b(89,)e(91,)h(106)2111 4730 y(instance)i(for)e FD(Complex)p
FI(,)19 b(158)2111 4842 y(superclass)27 b(of)c FD(RealFloat)p
FI(,)c(108)1945 4955 y(\003oating)25 b(literal)g(pattern,)g(33)1945
5068 y FD(floatRadix)p FI(,)18 b(92,)24 b(93,)f(108)1945
5181 y FD(floatRange)p FI(,)18 b(92,)24 b(93,)f(108)1945
5294 y FD(floatToDigits)p FI(,)17 b(159,)24 b(166)p eop
%%Page: 255 269
255 268 bop 300 100 a FE(INDEX)3180 b FI(255)300 356
y FD(floor)p FI(,)20 b(92,)k(93,)f(107)300 469 y(\003ushing)i(a)e
(\002le)g(b)n(uf)n(fer)l(,)i(217)300 582 y FD(fmap)p
FI(,)c(87,)i(109,)h(176)300 695 y FD(foldl)p FI(,)c(116)300
808 y FD(foldl1)p FI(,)g(116)300 920 y FD(foldM)p FI(,)g(202,)k(207)300
1033 y FD(foldr)p FI(,)c(117)300 1146 y FD(foldr1)p FI(,)g(117)300
1259 y(formal)k(semantics,)h(3)300 1372 y FD(formatCalendarT)o(im)o(e)p
FI(,)16 b(233,)24 b(236)300 1485 y FD(formatRealFloat)o
FI(,)17 b(165)300 1598 y FJ(formfeed)p FI(,)25 b(9,)e(129)300
1711 y FJ(fpat)p FI(,)h(31,)f(140)300 1824 y FJ(fpats)p
FI(,)h(31,)g(140)300 1937 y FD(Fractional)18 b FI(\(class\),)25
b(18,)e(89,)h(91,)f(106)466 2050 y(instance)j(for)d FD(Complex)p
FI(,)d(157)466 2163 y(instance)26 b(for)d FD(Ratio)p
FI(,)e(153)466 2275 y(superclass)26 b(of)e FD(Floating)p
FI(,)19 b(106)466 2388 y(superclass)26 b(of)e FD(RealFrac)p
FI(,)19 b(107)300 2501 y FD(fromEnum)p FI(,)g(86,)k(105)300
2614 y FD(fromInteger)p FI(,)17 b(18,)24 b(90,)f(91,)h(105)300
2727 y FD(fromIntegral)p FI(,)17 b(92,)23 b(94,)h(109)300
2840 y FD(fromJust)p FI(,)19 b(193,)24 b(194)300 2953
y FD(fromMaybe)p FI(,)18 b(193,)24 b(194)300 3066 y FD(fromRat)p
FI(,)19 b(159,)24 b(162)300 3179 y FD(fromRat')p FI(,)19
b(162)300 3292 y FD(fromRational)p FI(,)e(18,)23 b(90,)h(91,)f(106)300
3405 y FD(fst)p FI(,)e(80,)i(114)300 3517 y(function,)i(81)300
3630 y(function)h(binding,)f(55,)e(56)300 3743 y(function)j(type,)e
(40,)f(41)300 3856 y(functional)j(language,)g(vii)300
3969 y FD(Functor)20 b FI(\(class\),)k(87,)g(109)466
4082 y(instance)i(for)d FD([])p FI(,)f(113)466 4195 y(instance)k(for)d
FD(Array)p FI(,)e(177)466 4308 y(instance)26 b(for)d
FD(IO)p FI(,)f(111)466 4421 y(instance)k(for)d FD(Maybe)p
FI(,)e(111)300 4534 y(functor)l(,)k(87)300 4647 y FJ(funlhs)p
FI(,)g(138)300 4842 y FJ(gap)p FI(,)f(12,)f(130)300 4955
y FD(gcd)p FI(,)e(91,)i(92,)h(108)300 5068 y FJ(gcon)p
FI(,)g(18,)g(140)300 5181 y FJ(gconsym)p FI(,)h(18)300
5294 y FJ(gd)p FI(,)e(25,)h(56,)f(138)2245 356 y FJ(gdpat)p
FI(,)i(25,)e(139)2245 469 y FJ(gdrhs)p FI(,)i(56,)e(138)2245
582 y FJ(g)o(endecl)p FI(,)j(38,)d(47,)g(54,)h(137)2245
695 y(generalization,)k(59)2245 808 y(generalization)g(preorder)l(,)e
(42)2245 920 y(generator)l(,)g(23)2245 1033 y FD(genericDrop)p
FI(,)18 b(181,)24 b(189)2245 1146 y FD(genericIndex)p
FI(,)17 b(181,)24 b(190)2245 1259 y FD(genericLength)p
FI(,)17 b(181,)24 b(189)2245 1372 y FD(genericReplicat)o(e)p
FI(,)16 b(181,)24 b(190)2245 1485 y FD(genericSplitAt)p
FI(,)16 b(181,)24 b(189)2245 1598 y FD(genericTake)p
FI(,)18 b(181,)24 b(189)2245 1711 y FD(genRange)p FI(,)19
b(244,)24 b(245)2245 1824 y(get)g(the)g(contents)i(of)d(a)g(\002le,)g
(219)2245 1937 y FD(getArgs)p FI(,)d(229)2245 2050 y
FD(getChar)p FI(,)g(96,)j(125)2245 2163 y FD(getClockTime)p
FI(,)17 b(233,)24 b(235)2245 2275 y FD(getContents)p
FI(,)18 b(96,)23 b(125)2245 2388 y FD(getCPUTime)p FI(,)18
b(241)2245 2501 y FD(getCurrentDirec)o(tor)o(y)p FI(,)e(224,)24
b(225)2245 2614 y FD(getDirectoryCon)o(ten)o(ts)o FI(,)17
b(224,)23 b(225)2245 2727 y FD(getEnv)p FI(,)d(229)2245
2840 y FD(getLine)p FI(,)g(96,)j(125)2245 2953 y FD(getModification)o
(Tim)o(e)p FI(,)16 b(224)2245 3066 y FD(getPermissions)p
FI(,)g(224)2245 3179 y FD(getProgName)p FI(,)i(229)2245
3292 y FD(getStdGen)p FI(,)h(244,)k(248)2245 3405 y FD(getStdRandom)p
FI(,)17 b(244,)24 b(248)2245 3517 y FJ(gr)o(aphic)p FI(,)h(9,)e(129)
2245 3630 y FD(group)p FI(,)d(181,)k(183,)g(187)2245
3743 y FD(groupBy)p FI(,)c(181,)j(184,)h(188)2245 3856
y FD(GT)p FI(,)e(81)2245 3969 y FJ(gtycon)p FI(,)j(40,)e(49,)h(137)2245
4082 y(guard,)h(23,)e(25,)g(34)2245 4195 y FD(guard)p
FI(,)d(202,)k(206)2245 4391 y FD(Handle)c FI(\(datatype\),)26
b(210)2245 4504 y FD(HandlePosn)18 b FI(\(datatype\),)26
b(210)2245 4617 y(handles,)f(213)2245 4730 y(Hask)o(ell,)g(vii,)e(3)
2245 4842 y(Hask)o(ell)i(k)o(ernel,)g(4)2245 4955 y FD(hClose)p
FI(,)20 b(210,)k(215)2245 5068 y FD(head)p FI(,)d(115)2245
5181 y FJ(he)n(xadecimal)p FI(,)26 b(11,)e(130)2245 5294
y FJ(he)n(xit)p FI(,)h(9,)e(129)p eop
%%Page: 256 270
256 269 bop 0 100 a FI(256)3182 b FE(INDEX)0 356 y FD(hFileSize)p
FI(,)18 b(211,)24 b(215)0 469 y FD(hFlush)p FI(,)c(211,)k(217)0
582 y FD(hGetBuffering)p FI(,)17 b(211,)23 b(217)0 695
y FD(hGetChar)p FI(,)c(211,)24 b(218)0 808 y FD(hGetContents)p
FI(,)17 b(211,)24 b(214,)g(219)0 920 y FD(hGetLine)p
FI(,)19 b(211,)24 b(218)0 1033 y FD(hGetPosn)p FI(,)19
b(211,)24 b(217)0 1146 y(hiding,)h(70)0 1259 y(Hindle)o(y-Milner)h
(type)e(system,)g(4,)f(38,)h(58)0 1372 y FD(hIsClosed)p
FI(,)18 b(211,)24 b(218)0 1485 y FD(hIsEOF)p FI(,)c(211,)k(215)0
1598 y FD(hIsOpen)p FI(,)19 b(211,)24 b(218)0 1711 y
FD(hIsReadable)p FI(,)17 b(211,)24 b(218)0 1824 y FD(hIsSeekable)p
FI(,)17 b(211,)24 b(218)0 1937 y FD(hIsWritable)p FI(,)17
b(211,)24 b(218)0 2050 y FD(hLookAhead)p FI(,)18 b(211,)24
b(216,)g(219)0 2163 y FD(hPrint)p FI(,)c(211,)k(219)0
2275 y FD(hPutChar)p FI(,)19 b(211,)24 b(219)0 2388 y
FD(hPutStr)p FI(,)19 b(211,)24 b(219)0 2501 y FD(hPutStrLn)p
FI(,)18 b(211)0 2614 y FD(hReady)p FI(,)i(211,)k(218)0
2727 y FD(hSeek)p FI(,)c(211,)k(217)0 2840 y FD(hSetBuffering)p
FI(,)17 b(211,)23 b(216)0 2953 y FD(hSetPosn)p FI(,)c(211,)24
b(217)0 3066 y FD(hWaitForInput)p FI(,)17 b(211,)23 b(218)0
3262 y(I/O,)g(210)0 3375 y(I/O)g(errors,)h(212)0 3488
y FD(id)p FI(,)e(81,)h(110)0 3600 y FJ(idecl)p FI(,)h(38,)g(49,)f(137)0
3713 y FJ(idecls)p FI(,)i(38,)e(49,)g(137)0 3826 y(identi\002er)l(,)i
(9)0 3939 y(if-then-else)50 b(e)o(xpression,)55 b FJ(see)48
b FI(conditional)i(e)o(x-)332 4052 y(pression)0 4165
y FD(imagPart)p FI(,)19 b(155,)24 b(156)0 4278 y FJ(impdecl)p
FI(,)g(69,)g(136)0 4391 y FJ(impdecls)p FI(,)h(66,)e(136)0
4504 y FJ(import)p FI(,)h(69,)f(136)0 4617 y(import)h(declaration,)j
(69)0 4730 y FJ(impspec)p FI(,)d(69,)g(136)0 4842 y FD(index)p
FI(,)c(169,)k(171,)g(172)0 4955 y FD(indices)p FI(,)19
b(173,)24 b(174,)g(177)0 5068 y FD(init)p FI(,)d(116)0
5181 y FD(inits)p FI(,)f(181,)k(183,)g(188)0 5294 y(inlining,)h(147)
1945 356 y(input/output,)i(210)1945 469 y(input/output)h(e)o(xamples,)c
(219)1945 582 y FD(inRange)p FI(,)c(169,)j(171,)h(172)1945
695 y FD(insert)p FI(,)c(181,)k(183,)g(188)1945 808 y
FD(insertBy)p FI(,)19 b(181,)24 b(184,)g(189)1945 920
y FJ(inst)p FI(,)g(49,)f(138)1945 1033 y(instance)30
b(declaration,)i(49,)d(50,)g FJ(see)f(also)h FI(deri)n(v)o(ed)2277
1146 y(instance)2111 1259 y(importing)d(and)e(e)o(xporting,)h(71)2111
1372 y(with)f(an)f(empty)h FD(where)d FI(part,)j(49)1945
1485 y FD(Int)e FI(\(datatype\),)k(89,)d(92,)g(112)1945
1598 y FD(Integer)d FI(\(datatype\),)26 b(92,)d(112)1945
1711 y FJ(inte)l(g)o(er)p FI(,)j(12)1945 1824 y(inte)o(ger)f(literal)g
(pattern,)g(33)1945 1937 y FD(integerLogBase)p FI(,)16
b(163)1945 2050 y FD(Integral)j FI(\(class\),)25 b(89,)e(91,)h(106)1945
2163 y FD(interact)p FI(,)19 b(96,)k(126)1945 2275 y
FD(intersect)p FI(,)c(181,)k(182,)h(187)1945 2388 y FD(intersectBy)p
FI(,)18 b(181,)24 b(184,)f(187)1945 2501 y FD(intersperse)p
FI(,)18 b(181,)24 b(183,)f(187)1945 2614 y FD(intToDigit)p
FI(,)18 b(195,)24 b(198)1945 2727 y FD(IO)p FI(,)e(210)1945
2840 y FD(IO)g FI(\(datatype\),)k(81,)d(111)1945 2953
y FD(IO)f FI(\(module\),)j(210,)f(221)1945 3066 y FD(ioeGetErrorStri)o
(ng)p FI(,)16 b(211,)24 b(212)1945 3179 y FD(ioeGetFileName)p
FI(,)16 b(211,)24 b(212)1945 3292 y FD(ioeGetHandle)p
FI(,)17 b(211,)24 b(212)1945 3405 y FD(IOError)c FI(\(datatype\),)26
b(81,)d(125,)h(212)1945 3517 y FD(ioError)p FI(,)c(98,)j(125)1945
3630 y FD(IOMode)d FI(\(datatype\),)26 b(210,)e(214)1945
3743 y(irrefutable)j(pattern,)e(24,)e(33,)g(34,)h(57)1945
3856 y FD(isAlpha)p FI(,)c(195,)j(197)1945 3969 y FD(isAlphaNum)p
FI(,)18 b(195,)24 b(197)1945 4082 y FD(isAlreadyExists)o(Err)o(or)o
FI(,)17 b(211,)23 b(212)1945 4195 y FD(isAlreadyInUseE)o(rro)o(r)p
FI(,)16 b(211,)24 b(212,)g(215)1945 4308 y FD(isAscii)p
FI(,)c(195,)j(197)1945 4421 y FD(isControl)p FI(,)c(195,)k(197)1945
4534 y FD(isDigit)p FI(,)d(195,)j(197)1945 4647 y FD(isDoesNotExistE)o
(rro)o(r)p FI(,)16 b(211,)24 b(212,)g(215)1945 4759 y
FD(isEOF)p FI(,)c(211,)k(215)1945 4872 y FD(isEOFError)p
FI(,)18 b(211,)24 b(212)1945 4985 y FD(isFullError)p
FI(,)18 b(211,)24 b(212)1945 5098 y FD(isHexDigit)p FI(,)18
b(195,)24 b(197)1945 5211 y FD(isIllegalOperat)o(ion)o
FI(,)17 b(211,)23 b(212)1945 5324 y FD(isJust)p FI(,)d(193,)k(194)p
eop
%%Page: 257 271
257 270 bop 300 100 a FE(INDEX)3180 b FI(257)300 356
y FD(isLatin1)p FI(,)19 b(195,)24 b(197)300 469 y FD(isLower)p
FI(,)19 b(195,)24 b(197)300 582 y FD(isNothing)p FI(,)18
b(193,)24 b(194)300 695 y FD(isOctDigit)p FI(,)18 b(195,)24
b(197)300 808 y FD(isPermissionErr)o(or)o FI(,)17 b(211,)24
b(212,)f(215)300 920 y FD(isPrefixOf)p FI(,)18 b(181,)24
b(188)300 1033 y FD(isPrint)p FI(,)19 b(195,)24 b(197)300
1146 y FD(isSpace)p FI(,)19 b(195,)24 b(197)300 1259
y FD(isSuffixOf)p FI(,)18 b(181,)24 b(188)300 1372 y
FD(isUpper)p FI(,)19 b(195,)24 b(197)300 1485 y FD(isUserError)p
FI(,)17 b(211,)24 b(212)300 1598 y FD(iterate)p FI(,)19
b(117)300 1711 y FD(Ix)j FI(\(class\),)j(169,)e(171,)h(172)466
1824 y(deri)n(v)o(ed)h(instance,)g(170)466 1937 y(instance)h(for)d
FD(Char)p FI(,)e(172)466 2050 y(instance)26 b(for)d FD(Integer)p
FI(,)d(172)466 2163 y(instance)26 b(for)d FD(Int)p FI(,)e(172)300
2275 y FD(Ix)31 b FI(\(module\),)36 b(169,)f(172,)g(173,)g(176,)g(210,)
g(232,)632 2388 y(234)300 2501 y FD(ixmap)p FI(,)20 b(173,)k(176,)g
(177)300 2697 y FD(join)p FI(,)d(202,)i(206)300 2810
y FD(Just)p FI(,)e(81)300 3006 y(kind,)j(39,)f(40,)h(44,)f(45,)h(50,)f
(64)300 3119 y(kind)h(inference,)i(40,)d(44,)h(45,)f(50,)g(64)300
3315 y(label,)h(27)300 3428 y(lambda)g(abstraction,)j(19)300
3541 y FJ(lar)m(g)o(e)p FI(,)d(9,)f(129)300 3654 y FD(last)p
FI(,)e(116)300 3766 y(layout,)k(13,)e(130,)h FJ(see)g(also)g
FI(of)n(f-side)h(rule)300 3879 y FD(lcm)p FI(,)c(91,)i(92,)h(109)300
3992 y FD(Left)p FI(,)d(81)300 4105 y FD(length)p FI(,)f(116)300
4218 y(let)k(e)o(xpression,)i(24)466 4331 y(in)d(do)h(e)o(xpressions,)i
(26)466 4444 y(in)d(list)h(comprehensions,)k(23)300 4557
y FD(lex)p FI(,)21 b(86,)i(122)300 4670 y FD(lexDigits)p
FI(,)18 b(159,)24 b(168)300 4783 y FJ(le)n(xeme)p FI(,)g(9,)f(129)300
4896 y(le)o(xical)i(structure,)g(7)300 5009 y FD(lexLitChar)p
FI(,)18 b(195,)24 b(199)300 5121 y Fv(lexp)459 5088 y
Fu(i)492 5121 y FI(,)e(16,)i(139)300 5234 y(libraries,)h(74)300
5347 y FD(liftM)p FI(,)20 b(202,)k(207)2245 356 y FD(liftM2)p
FI(,)c(202,)k(207)2245 469 y FD(liftM3)p FI(,)c(202,)k(207)2245
582 y FD(liftM4)p FI(,)c(202,)k(207)2245 695 y FD(liftM5)p
FI(,)c(202,)k(207)2245 808 y(linear)h(pattern,)g(19,)e(31,)h(56)2245
920 y(linearity)-6 b(,)26 b(19,)d(31,)h(56)2245 1033
y FD(lines)p FI(,)c(118)2245 1146 y FD(List)h FI(\(module\),)k(176,)f
(180,)g(186)2245 1259 y(list,)g(21,)f(40,)h(80)2245 1372
y(list)g(comprehension,)j(23,)c(80)2245 1485 y(list)h(type,)g(41)2245
1598 y FD(listArray)p FI(,)19 b(173,)k(174,)h(177)2245
1711 y FD(listToMaybe)p FI(,)18 b(193,)24 b(194)2245
1824 y FJ(liter)o(al)p FI(,)h(9,)e(129)2245 1937 y(literal)i(pattern,)g
(32)2245 2050 y(literate)g(comments,)g(134)2245 2163
y FD(Locale)20 b FI(\(module\),)25 b(234,)f(239,)g(240)2245
2275 y(locale,)h(239)2245 2388 y FD(log)p FI(,)c(91,)j(106)2245
2501 y(logarithm,)h(91)2245 2614 y FD(logBase)p FI(,)20
b(91,)j(106)2245 2727 y(lookahead,)j(219)2245 2840 y
FD(lookup)p FI(,)20 b(119)2245 2953 y Fv(lp)-5 b(at)2394
2920 y Fu(i)2428 2953 y FI(,)22 b(31,)i(140)2245 3066
y FD(LT)p FI(,)e(81)2245 3262 y(magnitude,)k(92)2245
3375 y FD(magnitude)p FI(,)19 b(155,)k(156)2245 3488
y FD(Main)e FI(\(module\),)k(65)2245 3600 y FD(main)p
FI(,)c(65)2245 3713 y(making)k(directories,)h(225)2245
3826 y FD(map)p FI(,)21 b(115)2245 3939 y FD(mapAccumL)p
FI(,)e(181,)k(183,)h(188)2245 4052 y FD(mapAccumR)p FI(,)19
b(181,)k(183,)h(188)2245 4165 y FD(mapAndUnzipM)p FI(,)17
b(202,)24 b(206)2245 4278 y FD(mapM)p FI(,)d(88,)i(109)2245
4391 y FD(mapMaybe)p FI(,)c(193,)24 b(194)2245 4504 y
FD(mapM_)p FI(,)c(88,)k(109)2245 4617 y FD(match)p FI(,)c(198)2245
4730 y FD(max)p FI(,)h(84,)j(104,)g(142)2245 4842 y FD(maxBound)p
FI(,)19 b(89,)k(105,)h(143)2245 4955 y(maximal)g(munch)g(rule,)g(9,)f
(12,)g(127)2245 5068 y FD(maximum)p FI(,)d(119)2245 5181
y FD(maximumBy)p FI(,)f(181,)k(184,)h(189)2245 5294 y
FD(Maybe)d FI(\(datatype\),)26 b(81,)d(111)p eop
%%Page: 258 272
258 271 bop 0 100 a FI(258)3182 b FE(INDEX)0 356 y FD(Maybe)20
b FI(\(module\),)25 b(186,)f(193,)g(194)0 469 y FD(maybe)p
FI(,)c(81,)k(111)0 582 y FD(maybeToList)p FI(,)17 b(193,)24
b(194)0 695 y(method,)g FJ(see)g FI(class)g(method)0
808 y FD(min)p FI(,)d(84,)i(104,)h(142)0 920 y FD(minBound)p
FI(,)19 b(89,)k(105,)h(143)0 1033 y FD(minimum)p FI(,)19
b(119)0 1146 y FD(minimumBy)p FI(,)f(181,)24 b(184,)g(189)0
1259 y FD(mkPolar)p FI(,)19 b(155,)24 b(156)0 1372 y
FD(mkStdGen)p FI(,)19 b(244,)24 b(246)0 1485 y FD(mod)p
FI(,)d(55,)i(90,)h(91,)f(104,)h(106)0 1598 y FJ(modid)p
FI(,)g(11,)f(66,)g(130,)h(136)0 1711 y(module,)g(65)0
1824 y FJ(module)p FI(,)g(66,)f(136)0 1937 y FD(Monad)d
FI(\(class\),)25 b(27,)f(88,)f(109)166 2050 y(instance)j(for)d
FD([])p FI(,)f(113)166 2163 y(instance)k(for)d FD(IO)p
FI(,)f(111)166 2275 y(instance)k(for)d FD(Maybe)p FI(,)e(111)166
2388 y(superclass)26 b(of)e FD(MonadPlus)p FI(,)18 b(206)0
2501 y FD(Monad)i FI(\(module\),)25 b(202,)f(206)0 2614
y(monad,)g(26,)f(88,)h(95)0 2727 y FD(MonadPlus)19 b
FI(\(class\),)24 b(202,)g(206)166 2840 y(instance)i(for)d
FD([])p FI(,)f(206)166 2953 y(instance)k(for)d FD(Maybe)p
FI(,)e(206)0 3066 y(monomorphic)26 b(type)e(v)n(ariable,)h(34,)e(60,)h
(61)0 3179 y(monomorphism)i(restriction,)g(61)0 3292
y FD(Month)20 b FI(\(datatype\),)26 b(232,)e(234)0 3405
y(mo)o(ving)g(directories,)i(225)0 3517 y(mo)o(ving)e(\002les,)f(225)0
3630 y FD(mplus)p FI(,)d(202,)k(206)0 3743 y FD(msum)p
FI(,)d(202,)i(206)0 3856 y FD(mzero)p FI(,)d(202,)k(206)0
4052 y Fv(n)7 b FD(+)p Fv(k)32 b FI(pattern,)25 b(32,)e(33,)h(57)0
4165 y(name)166 4278 y(quali\002ed,)h FJ(see)e FI(quali\002ed)i(name)
166 4391 y(special,)g FJ(see)f FI(special)h(name)0 4504
y(namespaces,)h(5,)d(10)0 4617 y FJ(ncomment)p FI(,)h(9,)f(129)0
4730 y FD(negate)p FI(,)d(19,)j(90,)g(91,)h(105)0 4842
y(ne)o(gation,)h(16,)e(19,)g(20)0 4955 y FJ(ne)o(wconstr)p
FI(,)i(46,)e(138)0 5068 y FJ(ne)o(wline)p FI(,)h(9,)f(129)0
5181 y FD(newStdGen)p FI(,)18 b(244,)24 b(248)0 5294
y FD(newtype)c FI(declaration,)26 b(32\22634,)f(46)1945
356 y FD(next)p FI(,)c(244,)j(245)1945 469 y FD(nonnull)p
FI(,)c(168)1945 582 y FD(not)p FI(,)h(79,)j(110)1945
695 y FD(notElem)p FI(,)c(55,)j(115,)h(119)1945 808 y
FD(Nothing)p FI(,)c(81)1945 920 y FD(nub)p FI(,)h(180,)j(182,)g(186)
1945 1033 y FD(nubBy)p FI(,)c(180,)k(184,)g(187)1945
1146 y FD(null)p FI(,)d(116)1945 1259 y FD(Num)h FI(\(class\),)i(18,)g
(52,)f(89,)g(91,)h(105)2111 1372 y(instance)i(for)e FD(Complex)p
FI(,)19 b(157)2111 1485 y(instance)26 b(for)e FD(Ratio)p
FI(,)c(153)2111 1598 y(superclass)27 b(of)c FD(Fractional)p
FI(,)18 b(106)2111 1711 y(superclass)27 b(of)c FD(Real)p
FI(,)e(105)1945 1824 y(number)l(,)k(89)2111 1937 y(literal)g(syntax,)g
(11)2111 2050 y(translation)i(of)c(literals,)i(18)1945
2163 y FD(numerator)p FI(,)19 b(151,)k(153)1945 2275
y FD(Numeric)d FI(\(module\),)25 b(121,)e(159,)h(161,)g(197)1945
2388 y(numeric)h(type,)f(90)1945 2501 y FD(numericEnumFrom)o
FI(,)17 b(113)1945 2614 y FD(numericEnumFrom)o(The)o(n)p
FI(,)f(113)1945 2727 y FD(numericEnumFrom)o(The)o(nT)o(o)p
FI(,)g(113)1945 2840 y FD(numericEnumFrom)o(To)p FI(,)g(113)1945
3036 y FJ(octal)p FI(,)25 b(11,)e(130)1945 3149 y FJ(octit)p
FI(,)h(9,)f(129)1945 3262 y FD(odd)p FI(,)e(91,)j(108)1945
3375 y(of)n(f-side)h(rule,)f(13,)g FJ(see)f(also)i FI(layout)1945
3488 y FJ(op)p FI(,)f(17,)f(54,)g(140)1945 3600 y FJ(opencom)p
FI(,)i(9,)e(129)1945 3713 y FD(openFile)p FI(,)c(210,)24
b(214)1945 3826 y(opening)i(a)d(\002le,)g(214)1945 3939
y(operating)j(system)f(commands,)f(230)1945 4052 y(operator)l(,)i(9,)d
(10,)g(19)1945 4165 y(operator)j(application,)g(19)1945
4278 y FJ(ops)p FI(,)e(38,)f(54,)h(137)1945 4391 y FD(or)p
FI(,)e(119)1945 4504 y FD(Ord)g FI(\(class\),)i(84,)g(89,)f(104)2111
4617 y(deri)n(v)o(ed)i(instance,)g(51,)f(142)2111 4730
y(instance)i(for)e FD(Array)p FI(,)c(178)2111 4842 y(instance)26
b(for)e FD(Char)p FI(,)c(111)2111 4955 y(instance)26
b(for)e FD(Ratio)p FI(,)c(153)2111 5068 y(superclass)27
b(of)c FD(Real)p FI(,)e(105)1945 5181 y FD(ord)p FI(,)g(195,)j(198)1945
5294 y FD(Ordering)19 b FI(\(datatype\),)26 b(81,)e(112)p
eop
%%Page: 259 273
259 272 bop 300 100 a FE(INDEX)3180 b FI(259)300 356
y FD(otherwise)p FI(,)18 b(79,)24 b(110)300 469 y(o)o(v)o(erloaded)i
(functions,)g(38)300 582 y(o)o(v)o(erloaded)g(pattern,)f
FJ(see)f FI(pattern-matching)300 695 y(o)o(v)o(erloading,)i(47)466
808 y(def)o(aults,)f(51)300 1004 y FD(partition)p FI(,)18
b(181,)24 b(183,)g(187)300 1116 y Fv(p)-5 b(at)426 1083
y Fu(i)460 1116 y FI(,)22 b(31,)h(140)300 1229 y FJ(pat)p
FI(,)h(31,)f(140)300 1342 y(path,)h(225)300 1455 y(pattern,)h(25,)e(30)
466 1568 y FD(@)p FI(,)f FJ(see)i FI(as-pattern)466 1681
y FD(_)p FI(,)e FJ(see)i FI(wildcard)h(pattern)466 1794
y(constructed,)i FJ(see)c FI(constructed)k(pattern)466
1907 y(\003oating,)d FJ(see)g FI(\003oating)h(literal)f(pattern)466
2020 y(inte)o(ger)l(,)h FJ(see)f FI(inte)o(ger)h(literal)f(pattern)466
2133 y(irrefutable,)i FJ(see)e FI(irrefutable)i(pattern)466
2246 y(linear)l(,)f FJ(see)f FI(linear)g(pattern)466
2358 y Fv(n)7 b FD(+)p Fv(k)i FI(,)23 b FJ(see)h Fv(n)7
b FD(+)o Fv(k)33 b FI(pattern)466 2471 y(refutable,)26
b FJ(see)d FI(refutable)j(pattern)300 2584 y(pattern)f(binding,)g(55,)f
(57)300 2697 y(pattern-matching,)k(30)466 2810 y(o)o(v)o(erloaded)e
(constant,)f(34)300 2923 y FD(Permissions)18 b FI(\(datatype\),)26
b(224)300 3036 y FD(phase)p FI(,)20 b(155,)k(156)300
3149 y(physical)h(\002le,)e(213)300 3262 y FD(pi)p FI(,)f(91,)h(106)300
3375 y FD(polar)p FI(,)d(155,)k(156)300 3488 y(polling)h(a)e(handle)j
(for)d(input,)i(218)300 3600 y(polymorphic)h(recursion,)g(54)300
3713 y(polymorphism,)g(4)300 3826 y(pragmas,)e(147)300
3939 y(precedence,)i(43,)e FJ(see)f(also)i FI(\002xity)300
4052 y FD(pred)p FI(,)c(105)300 4165 y(Prelude)466 4278
y(implicit)k(import)f(of,)f(75)300 4391 y FD(Prelude)d
FI(\(module\),)k(75,)g(103)300 4504 y FD(PreludeBuiltin)16
b FI(\(module\),)25 b(103,)f(125)300 4617 y FD(PreludeIO)19
b FI(\(module\),)24 b(103,)g(125)300 4730 y FD(PreludeList)18
b FI(\(module\),)24 b(103,)g(115)300 4842 y FD(PreludeText)18
b FI(\(module\),)24 b(103,)g(121)300 4955 y(principal)i(type,)e(42,)f
(53)300 5068 y FD(print)p FI(,)d(96,)k(125)300 5181 y
FD(product)p FI(,)19 b(119)300 5294 y FJ(pr)l(o)o(gr)o(am)p
FI(,)24 b(9,)f(129)2245 356 y(program)i(ar)n(guments,)h(229)2245
469 y(program)f(name,)e(229)2245 582 y(program)i(structure,)h(3)2245
695 y FD(properFraction)p FI(,)16 b(92,)24 b(93,)f(107)2245
808 y FD(putChar)p FI(,)d(96,)j(125)2245 920 y FD(putStr)p
FI(,)d(96,)j(125)2245 1033 y FD(putStrLn)p FI(,)c(96,)k(125)2245
1223 y FJ(qcon)p FI(,)h(18,)g(140)2245 1336 y FJ(qconid)p
FI(,)h(11,)f(130)2245 1449 y FJ(qconop)p FI(,)h(18,)f(140)2245
1562 y FJ(qconsym)p FI(,)h(11,)e(130)2245 1675 y FJ(qop)p
FI(,)h(18,)f(19,)h(140)2245 1788 y FJ(qtycls)p FI(,)h(11,)e(130)2245
1901 y FJ(qtycon)p FI(,)i(11,)e(130)2245 2013 y FJ(qual)p
FI(,)h(23,)g(139)2245 2126 y(quali\002ed)h(name,)f(11,)f(70,)g(72)2245
2239 y(quali\002er)l(,)i(23)2245 2352 y(quanti\002cation,)i(41)2245
2465 y FD(quot)p FI(,)21 b(90,)i(91,)h(104,)f(106)2245
2578 y FD(quotRem)p FI(,)d(91,)j(106)2245 2691 y FJ(qvar)p
FI(,)h(18,)g(140)2245 2804 y FJ(qvarid)p FI(,)h(11,)e(130)2245
2917 y FJ(qvar)l(op)p FI(,)i(18,)f(140)2245 3030 y FJ(qvar)o(sym)p
FI(,)h(11,)e(130)2245 3219 y FD(Random)d FI(\(class\),)25
b(247)2245 3332 y FD(Random)20 b FI(\(module\),)25 b(244)2245
3445 y FD(random)p FI(,)20 b(244,)k(247)2245 3558 y(random)h(access)g
(\002les,)e(217)2245 3671 y FD(RandomGen)p FI(,)c(245)2245
3784 y FD(randomIO)p FI(,)g(244,)24 b(247)2245 3897 y
FD(randomR)p FI(,)c(244,)j(247)2245 4010 y FD(randomRIO)p
FI(,)c(244,)k(247)2245 4123 y FD(randomRs)p FI(,)c(244,)24
b(247)2245 4236 y FD(randoms)p FI(,)c(244,)j(247)2245
4348 y FD(range)p FI(,)d(169,)k(171,)g(172)2245 4461
y FD(rangeSize)p FI(,)19 b(169,)k(171,)h(172)2245 4574
y FD(Ratio)d FI(\(datatype\),)26 b(151)2245 4687 y FD(Ratio)21
b FI(\(module\),)j(103,)g(151,)g(153,)g(161)2245 4800
y FD(Rational)19 b FI(\(type)25 b(synon)o(ym\),)g(151,)e(153)2245
4913 y(rational)j(numbers,)e(151)2245 5026 y FD(Read)d
FI(\(class\),)k(85,)e(121)2411 5139 y(deri)n(v)o(ed)i(instance,)g(51,)f
(143)2411 5252 y(instance)i(for)e FD([a])p FI(,)d(124)2411
5365 y(instance)26 b(for)e FD(Array)p FI(,)c(178)p eop
%%Page: 260 274
260 273 bop 0 100 a FI(260)3182 b FE(INDEX)166 356 y
FI(instance)26 b(for)d FD(Char)p FI(,)e(124)166 469 y(instance)26
b(for)d FD(Double)p FI(,)d(123)166 582 y(instance)26
b(for)d FD(Float)p FI(,)e(123)166 695 y(instance)26 b(for)d
FD(Integer)p FI(,)d(123)166 808 y(instance)26 b(for)d
FD(Int)p FI(,)e(123)166 920 y(instance)26 b(for)d FD(Ratio)p
FI(,)e(154)0 1033 y FD(read)p FI(,)g(85,)i(86,)g(122)0
1146 y FD(readable)p FI(,)c(224)0 1259 y FD(readDec)p
FI(,)g(159,)24 b(164)0 1372 y FD(readEsc)p FI(,)19 b(198)0
1485 y FD(readFile)p FI(,)g(97,)k(126,)h(214)0 1598 y
FD(readFloat)p FI(,)18 b(159,)24 b(168)0 1711 y FD(readHex)p
FI(,)19 b(159,)24 b(164)0 1824 y(reading)h(a)e(directory)-6
b(,)26 b(226)0 1937 y(reading)f(from)f(a)f(\002le,)g(218)0
2050 y FD(readInt)p FI(,)c(159,)24 b(164)0 2163 y FD(readIO)p
FI(,)c(96,)j(126)0 2275 y FD(readList)p FI(,)c(85,)k(121,)h(143)0
2388 y FD(readLitChar)p FI(,)17 b(195,)24 b(198)0 2501
y FD(readLn)p FI(,)c(96,)j(126)0 2614 y FD(ReadMode)p
FI(,)c(214)0 2727 y FD(readOct)p FI(,)g(159,)24 b(164)0
2840 y FD(readParen)p FI(,)18 b(122)0 2953 y FD(ReadS)i
FI(\(type)25 b(synon)o(ym\),)g(85,)e(121)0 3066 y FD(reads)p
FI(,)d(85,)k(86,)f(122)0 3179 y FD(readSigned)p FI(,)18
b(159,)24 b(163)0 3292 y FD(readsPrec)p FI(,)18 b(85,)24
b(121,)g(143)0 3405 y FD(ReadWriteMode)p FI(,)17 b(214)0
3517 y FD(Real)k FI(\(class\),)k(89,)e(91,)g(105)166
3630 y(instance)j(for)d FD(Ratio)p FI(,)e(153)166 3743
y(superclass)26 b(of)e FD(Integral)p FI(,)19 b(106)166
3856 y(superclass)26 b(of)e FD(RealFrac)p FI(,)19 b(107)0
3969 y FD(RealFloat)g FI(\(class\),)24 b(92,)g(93,)f(108)0
4082 y FD(RealFrac)c FI(\(class\),)25 b(92,)e(107)166
4195 y(instance)j(for)d FD(Ratio)p FI(,)e(154)166 4308
y(superclass)26 b(of)e FD(RealFloat)p FI(,)18 b(108)0
4421 y FD(realPart)p FI(,)h(155,)24 b(156)0 4534 y FD(realToFrac)p
FI(,)18 b(92,)23 b(94,)h(109)0 4647 y FD(recip)p FI(,)c(91,)k(106)0
4759 y(recursi)n(v)o(e)h(datatype,)h(46)0 4872 y(refutable)g(pattern,)f
(33)0 4985 y FD(RelativeSeek)p FI(,)17 b(217)0 5098 y
FD(rem)p FI(,)k(55,)i(90,)h(91,)f(104,)h(106)0 5211 y
FD(removeDirectory)o FI(,)17 b(224,)23 b(225)0 5324 y
FD(removeFile)p FI(,)18 b(224,)24 b(225)1945 356 y(remo)o(ving)h
(directories,)h(225)1945 469 y(remo)o(ving)f(\002les,)e(225)1945
582 y FD(renameDirectory)o FI(,)17 b(224,)24 b(225)1945
695 y FD(renameFile)p FI(,)18 b(224,)24 b(225)1945 808
y(renaming)h(directories,)i(225)1945 920 y(renaming)e(\002les,)e(225)
1945 1033 y FD(repeat)p FI(,)d(117)1945 1146 y FD(replicate)p
FI(,)f(117)1945 1259 y FJ(r)m(eservedid)p FI(,)26 b(10,)d(130)1945
1372 y FJ(r)m(eservedop)p FI(,)j(10,)e(130)1945 1485
y FD(return)p FI(,)c(88,)j(109)1945 1598 y FD(reverse)p
FI(,)d(119)1945 1711 y Fv(r)-5 b(exp)2114 1678 y Fu(i)2148
1711 y FI(,)22 b(16,)h(139)1945 1824 y FJ(rhs)p FI(,)h(56,)f(138)1945
1937 y FD(Right)p FI(,)d(81)1945 2050 y FD(round)p FI(,)g(92,)k(93,)f
(107)1945 2163 y FD(roundTo)p FI(,)d(166)1945 2275 y
Fv(rp)-5 b(at)2109 2242 y Fu(i)2143 2275 y FI(,)23 b(31,)g(140)1945
2471 y FD(scaleFloat)p FI(,)18 b(92,)24 b(108)1945 2584
y FD(scaleRat)p FI(,)19 b(162)1945 2697 y FD(scanl)p
FI(,)h(116)1945 2810 y FD(scanl1)p FI(,)g(116)1945 2923
y FD(scanr)p FI(,)g(117)1945 3036 y FD(scanr1)p FI(,)g(117)1945
3149 y FJ(sconte)n(xt)p FI(,)26 b(137)1945 3262 y FD(searchable)p
FI(,)18 b(224)1945 3375 y(section,)25 b(10,)f(20,)f FJ(see)h(also)g
FI(operator)i(application)1945 3488 y FD(SeekFromEnd)p
FI(,)18 b(217)1945 3600 y(seeking)26 b(a)d(\002le,)f(217)1945
3713 y FD(SeekMode)d FI(\(datatype\),)26 b(210,)e(217)1945
3826 y(semantics)2111 3939 y(formal,)g FJ(see)g FI(formal)g(semantics)
1945 4052 y(semi-closed)i(handles,)f(214)1945 4165 y(separate)h
(compilation,)g(76)1945 4278 y FD(seq)p FI(,)21 b(81,)j(104,)g(110)1945
4391 y FD(sequence)p FI(,)19 b(88,)k(109)1945 4504 y
FD(sequence_)p FI(,)c(88,)k(109)1945 4617 y FD(setCurrentDirec)o(tor)o
(y)p FI(,)16 b(224,)24 b(225)1945 4730 y FD(setPermissions)p
FI(,)16 b(224)1945 4842 y FD(setStdGen)p FI(,)j(244,)k(248)1945
4955 y(setting)i(the)f(directory)-6 b(,)26 b(226)1945
5068 y FD(Show)21 b FI(\(class\),)k(85,)e(121)2111 5181
y(deri)n(v)o(ed)i(instance,)g(51,)f(143)2111 5294 y(instance)i(for)e
FD([a])p FI(,)d(124)p eop
%%Page: 261 275
261 274 bop 300 100 a FE(INDEX)3180 b FI(261)466 356
y(instance)26 b(for)d FD(Array)p FI(,)e(178)466 469 y(instance)26
b(for)d FD(Char)p FI(,)e(124)466 582 y(instance)26 b(for)d
FD(Double)p FI(,)d(123)466 695 y(instance)26 b(for)d
FD(Float)p FI(,)e(123)466 808 y(instance)26 b(for)d FD(HandlePosn)p
FI(,)18 b(210)466 920 y(instance)26 b(for)d FD(Integer)p
FI(,)d(123)466 1033 y(instance)26 b(for)d FD(Int)p FI(,)e(123)466
1146 y(instance)26 b(for)d FD(Ratio)p FI(,)e(154)466
1259 y(superclass)26 b(of)e FD(Num)p FI(,)d(105)300 1372
y FD(show)p FI(,)g(85,)i(86,)g(121)300 1485 y FD(show2)p
FI(,)d(237)300 1598 y FD(show2')p FI(,)g(237)300 1711
y FD(show3)p FI(,)g(237)300 1824 y FD(showChar)p FI(,)f(122)300
1937 y FD(showEFloat)p FI(,)f(159,)24 b(164)300 2050
y FD(showFFloat)p FI(,)18 b(159,)24 b(164)300 2163 y
FD(showFloat)p FI(,)18 b(159,)24 b(164)300 2275 y FD(showGFloat)p
FI(,)18 b(159,)24 b(164)300 2388 y FD(showHex)p FI(,)19
b(159,)24 b(163)300 2501 y FD(showInt)p FI(,)19 b(159,)24
b(163)300 2614 y FD(showIntAtBase)p FI(,)17 b(159,)23
b(163)300 2727 y FD(showList)p FI(,)c(85,)k(121,)h(143)300
2840 y FD(showLitChar)p FI(,)17 b(195,)24 b(199)300 2953
y FD(showOct)p FI(,)19 b(159,)24 b(163)300 3066 y FD(showParen)p
FI(,)18 b(122)300 3179 y FD(ShowS)i FI(\(type)25 b(synon)o(ym\),)g(85,)
e(121)300 3292 y FD(shows)p FI(,)d(85,)k(86,)f(122)300
3405 y FD(showSigned)p FI(,)18 b(159,)24 b(163)300 3517
y FD(showsPrec)p FI(,)18 b(85,)24 b(121,)g(143)300 3630
y FD(showString)p FI(,)18 b(122)300 3743 y(sign,)24 b(92)300
3856 y(signature,)i FJ(see)e FI(type)g(signature)300
3969 y FJ(signdecl)p FI(,)h(53)300 4082 y FD(significand)p
FI(,)17 b(92,)24 b(94,)f(108)300 4195 y FD(signum)p FI(,)d(91,)j(92,)g
(105)300 4308 y(simple)h(pattern)h(binding,)h(57,)d(62)300
4421 y FJ(simpleclass)p FI(,)j(41,)d(137)300 4534 y FJ(simpletype)p
FI(,)i(43,)f(45,)f(46,)g(138)300 4647 y FD(sin)p FI(,)e(91,)i(106)300
4759 y(sine,)h(93)300 4872 y FD(sinh)p FI(,)d(91,)i(106)300
4985 y(size)h(of)g(\002le,)e(215)300 5098 y FJ(small)p
FI(,)h(9,)g(129)300 5211 y FD(snd)p FI(,)e(80,)i(114)300
5324 y FD(sort)p FI(,)e(181,)i(183,)h(188)2245 356 y
FD(sortBy)p FI(,)c(181,)k(184,)g(188)2245 469 y FJ(space)p
FI(,)h(9,)e(129)2245 582 y FD(span)p FI(,)e(118)2245
695 y FJ(special)p FI(,)k(9,)e(129)2245 808 y FD(split)p
FI(,)d(244,)k(245)2245 920 y FD(splitAt)p FI(,)c(118)2245
1033 y FD(sqrt)p FI(,)h(91,)i(106)2245 1146 y(standard)j(handles,)f
(213)2245 1259 y(standard)h(prelude,)f(74,)e FJ(see)h(also)h
FD(Prelude)2245 1372 y(stderr)p FI(,)20 b(210,)k(213)2245
1485 y FD(StdGen)c FI(\(datatype\),)26 b(244,)e(246)2245
1598 y FD(stdin)p FI(,)c(210,)k(213)2245 1711 y FD(stdout)p
FI(,)c(210,)k(213)2245 1824 y FJ(stmt)p FI(,)f(26,)h(139)2245
1937 y FJ(stmts)p FI(,)g(26,)f(139)2245 2050 y(strictness)j(\003ag,)d
(45)2245 2163 y(strictness)j(\003ags,)e(82)2245 2275
y FD(String)c FI(\(type)25 b(synon)o(ym\),)g(80,)e(111)2245
2388 y(string,)i(79)2411 2501 y(literal)g(syntax,)g(12)2411
2614 y(transparent,)i FJ(see)d FI(transparent)i(string)2245
2727 y FJ(string)p FI(,)f(12,)e(130)2245 2840 y FD(subtract)p
FI(,)c(108)2245 2953 y FD(succ)p FI(,)i(105)2245 3066
y FD(sum)p FI(,)g(119)2245 3179 y(superclass,)26 b(48,)e(49)2245
3292 y FJ(symbol)p FI(,)g(9,)f(129,)h(130)2245 3405 y(synon)o(ym,)h
FJ(see)f FI(type)g(synon)o(ym)2245 3517 y(syntax,)h(127)2245
3630 y FD(System)20 b FI(\(module\),)25 b(229)2245 3743
y FD(system)p FI(,)20 b(229)2245 3939 y FJ(tab)p FI(,)k(9,)f(129)2245
4052 y FD(tail)p FI(,)e(115)2245 4165 y FD(tails)p FI(,)f(181,)k(183,)g
(188)2245 4278 y FD(take)p FI(,)d(117)2245 4391 y FD(takeWhile)p
FI(,)e(118)2245 4504 y FD(tan)p FI(,)i(91,)j(106)2245
4617 y(tangent,)h(93)2245 4730 y FD(tanh)p FI(,)c(91,)i(106)2245
4842 y FD(tdDay)p FI(,)d(232,)k(235)2245 4955 y FD(tdHour)p
FI(,)c(232,)k(235)2245 5068 y FD(tdMin)p FI(,)c(232,)k(235)2245
5181 y FD(tdMonth)p FI(,)c(232,)j(235)2245 5294 y FD(tdPicosec)p
FI(,)c(232,)k(235)p eop
%%Page: 262 276
262 275 bop 0 100 a FI(262)3182 b FE(INDEX)0 356 y FD(tdYear)p
FI(,)20 b(232,)k(235)0 469 y(terminating)i(a)d(program,)h(230)0
582 y(the)g(\002le)f(system,)h(224)0 695 y FD(Time)d
FI(\(module\),)k(224,)e(232,)h(234)0 808 y(time,)f(232)0
920 y(time)g(of)h(day)-6 b(,)24 b(232)0 1033 y FD(time12Fmt)p
FI(,)18 b(239,)24 b(240)0 1146 y FD(TimeDiff)19 b FI(\(datatype\),)26
b(232,)e(235)0 1259 y FD(timeFmt)p FI(,)19 b(239,)24
b(240)0 1372 y FD(TimeLocale)18 b FI(\(datatype\),)26
b(239,)e(240)0 1485 y FD(to12)p FI(,)d(236)0 1598 y FD(toCalendarTime)p
FI(,)16 b(233,)24 b(235)0 1711 y FD(toClockTime)p FI(,)17
b(233,)24 b(235)0 1824 y FD(toEnum)p FI(,)c(86,)j(105)0
1937 y FD(toInteger)p FI(,)18 b(106)0 2050 y FD(toLower)p
FI(,)h(195,)24 b(198)0 2163 y FJ(topdecl)h FI(\()p FD(class)n
FI(\),)e(47)0 2275 y FJ(topdecl)i FI(\()p FD(data)o FI(\),)e(43)0
2388 y FJ(topdecl)i FI(\()p FD(default)m FI(\),)e(51)0
2501 y FJ(topdecl)i FI(\()p FD(instance)m FI(\),)e(49)0
2614 y FJ(topdecl)i FI(\()p FD(newtype)m FI(\),)e(46)0
2727 y FJ(topdecl)i FI(\()p FD(type)o FI(\),)e(45)0 2840
y FJ(topdecl)p FI(,)i(38,)e(136)0 2953 y FJ(topdecls)p
FI(,)i(38,)f(66,)f(136)0 3066 y FD(toRational)p FI(,)18
b(91,)23 b(93,)h(105)0 3179 y FD(toUpper)p FI(,)19 b(195,)24
b(198)0 3292 y FD(toUTCTime)p FI(,)18 b(233,)24 b(235)0
3405 y FD(transpose)p FI(,)18 b(181,)24 b(183,)g(187)0
3517 y(trigonometric)j(function,)e(93)0 3630 y(tri)n(vial)g(type,)f
(22,)f(40,)g(81)0 3743 y FD(True)p FI(,)e(79)0 3856 y
FD(truncate)p FI(,)e(92,)k(93,)h(107)0 3969 y FD(try)p
FI(,)d(211,)j(221)0 4082 y(tuple,)g(22,)g(40,)f(80)0
4195 y(tuple)i(type,)f(41)0 4308 y FJ(tycls)p FI(,)g(11,)f(41,)h(130)0
4421 y FJ(tycon)p FI(,)g(11,)g(130)0 4534 y(type,)g(4,)f(39,)g(42)166
4647 y(ambiguous,)i FJ(see)f FI(ambiguous)i(type)166
4759 y(constructed,)h FJ(see)c FI(constructed)k(type)166
4872 y(function,)e FJ(see)f FI(function)i(type)166 4985
y(list,)e FJ(see)f FI(list)h(type)166 5098 y(monomorphic,)i
FJ(see)d FI(monomorphic)j(type)166 5211 y(numeric,)e
FJ(see)g FI(numeric)h(type)166 5324 y(principal,)h FJ(see)d
FI(principal)j(type)2111 356 y(tri)n(vial,)f FJ(see)f
FI(tri)n(vial)g(type)2111 469 y(tuple,)h FJ(see)e FI(tuple)i(type)1945
582 y FJ(type)p FI(,)f(40,)g(137)1945 695 y(type)h(class,)f(4,)f(38,)g
FJ(see)h FI(class)1945 808 y(type)h(constructor)l(,)h(43)1945
920 y(type)f(en)l(vironment,)h(42)1945 1033 y(type)f(e)o(xpression,)g
(40)1945 1146 y(type)g(renaming,)f FJ(see)g FD(newtype)c
FI(declaration)1945 1259 y(type)25 b(signature,)g(42,)f(49,)f(53)2111
1372 y(for)40 b(an)f(e)o(xpression,)46 b FJ(see)39 b
FI(e)o(xpression)j(type-)2277 1485 y(signature)1945 1598
y(type)25 b(synon)o(ym,)f(45,)f(49,)h(67,)f FJ(see)h(also)g
FI(datatype)2111 1711 y(recursi)n(v)o(e,)h(46)1945 1824
y FJ(tyvar)p FI(,)g(11,)e(41,)g(130)1945 2013 y FD(uncurry)p
FI(,)d(80,)j(114)1945 2126 y FD(undefined)p FI(,)c(17,)k(114)1945
2239 y FD(unfoldr)p FI(,)d(181,)j(188)1945 2352 y(Unicode)i(character)h
(set,)d(7,)g(12)1945 2465 y FD(UnicodePrims)18 b FI(\(module\),)24
b(103,)g(197)1945 2578 y FJ(uniDigit)p FI(,)h(9,)e(129)1945
2691 y FJ(uniLar)m(g)o(e)p FI(,)i(9,)e(129)1945 2804
y FD(union)p FI(,)d(180,)k(182,)g(187)1945 2917 y FD(unionBy)p
FI(,)c(180,)j(184,)h(187)1945 3030 y FJ(uniSmall)p FI(,)h(9,)e(129)1945
3143 y FJ(uniSymbol)p FI(,)j(9,)c(129)1945 3255 y(unit)i(datatype,)i
FJ(see)e FI(tri)n(vial)g(type)1945 3368 y(unit)g(e)o(xpression,)i(22)
1945 3481 y FJ(uniWhite)p FI(,)f(9,)e(129)1945 3594 y
FD(unless)p FI(,)d(202,)k(206)1945 3707 y FD(unlines)p
FI(,)c(119)1945 3820 y FD(until)p FI(,)g(81,)k(114)1945
3933 y FD(unwords)p FI(,)c(119)1945 4046 y FD(unzip)p
FI(,)g(120)1945 4159 y FD(unzip3)p FI(,)g(120)1945 4272
y FD(unzip4)p FI(,)g(181,)k(185,)g(190)1945 4385 y FD(unzip5)p
FI(,)c(181,)k(191)1945 4497 y FD(unzip6)p FI(,)c(181,)k(191)1945
4610 y FD(unzip7)p FI(,)c(181,)k(191)1945 4723 y FD(userError)p
FI(,)19 b(98,)k(125)1945 4913 y FJ(valdefs)p FI(,)i(49)1945
5026 y(v)n(alue,)f(4)1945 5139 y FJ(var)p FI(,)g(17,)f(18,)h(140)1945
5252 y FJ(varid)p FI(,)h(10,)e(11,)g(130)1945 5365 y
FJ(var)l(op)p FI(,)i(17,)e(18,)g(140)p eop
%%Page: 263 277
263 276 bop 300 100 a FE(INDEX)3180 b FI(263)300 356
y FJ(var)o(s)p FI(,)24 b(38,)f(53,)h(137)300 469 y FJ(var)o(sym)p
FI(,)g(10,)f(130)300 582 y FJ(vertab)p FI(,)i(9,)e(129)300
778 y FD(when)p FI(,)e(202,)i(206)300 891 y FJ(whitec)o(har)p
FI(,)i(9,)e(129)300 1004 y FJ(whitespace)p FI(,)i(9,)e(129)300
1116 y FJ(whitestuf)n(f)p FI(,)i(9,)e(129)300 1229 y(wildcard)i
(pattern)g(\()p FD(_)p FI(\),)e(31)300 1342 y FD(words)p
FI(,)d(118)300 1455 y FD(writable)p FI(,)f(224)300 1568
y FD(writeFile)p FI(,)f(97,)24 b(126,)g(214)300 1681
y FD(WriteMode)p FI(,)18 b(214)300 1877 y FD(zip)p FI(,)j(80,)i(120)300
1990 y FD(zip3)p FI(,)e(120)300 2103 y FD(zip4)p FI(,)g(181,)i(185,)h
(190)300 2216 y FD(zip5)p FI(,)d(181,)i(190)300 2329
y FD(zip6)p FI(,)e(181,)i(190)300 2441 y FD(zip7)p FI(,)e(181,)i(190)
300 2554 y FD(zipWith)p FI(,)c(120)300 2667 y FD(zipWith3)p
FI(,)g(120)300 2780 y FD(zipWith4)p FI(,)g(181,)24 b(185,)f(190)300
2893 y FD(zipWith5)p FI(,)c(181,)24 b(190)300 3006 y
FD(zipWith6)p FI(,)19 b(181,)24 b(190)300 3119 y FD(zipWith7)p
FI(,)19 b(181,)24 b(190)300 3232 y FD(zipWithM)p FI(,)19
b(202,)24 b(207)300 3345 y FD(zipWithM_)p FI(,)18 b(202,)24
b(207)p eop
%%Trailer
end
userdict /end-hook known{end-hook}if
%%EOF
